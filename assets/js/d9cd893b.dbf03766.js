"use strict";(self.webpackChunkzzydoc=self.webpackChunkzzydoc||[]).push([[9559],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>d});var s=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},l=Object.keys(e);for(s=0;s<l.length;s++)n=l[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)n=l[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var o=s.createContext({}),m=function(e){var t=s.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},c=function(e){var t=m(e.components);return s.createElement(o.Provider,{value:t},e.children)},i="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},y=s.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),i=m(n),y=r,d=i["".concat(o,".").concat(y)]||i[y]||p[y]||l;return n?s.createElement(d,a(a({ref:t},c),{},{components:n})):s.createElement(d,a({ref:t},c))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,a=new Array(l);a[0]=y;var u={};for(var o in t)hasOwnProperty.call(t,o)&&(u[o]=t[o]);u.originalType=e,u[i]="string"==typeof e?e:r,a[1]=u;for(var m=2;m<l;m++)a[m]=n[m];return s.createElement.apply(null,a)}return s.createElement.apply(null,n)}y.displayName="MDXCreateElement"},7855:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>u,toc:()=>m});var s=n(87462),r=(n(67294),n(3905));const l={displayed_sidebar:"MySQL"},a="MySQL\u5b50\u67e5\u8be2",u={unversionedId:"mysql/sub",id:"mysql/sub",title:"MySQL\u5b50\u67e5\u8be2",description:"\u8bed\u6cd5",source:"@site/docs/mysql/sub.md",sourceDirName:"mysql",slug:"/mysql/sub",permalink:"/zzydoc/docs/mysql/sub",draft:!1,tags:[],version:"current",frontMatter:{displayed_sidebar:"MySQL"},sidebar:"MySQL",previous:{title:"MySQL\u591a\u8868\u67e5\u8be2",permalink:"/zzydoc/docs/mysql/join"},next:{title:"MySQL\u7684\u89c6\u56fe",permalink:"/zzydoc/docs/mysql/view"}},o={},m=[{value:"\u57fa\u672c\u4f7f\u7528\u5b50\u67e5\u8be2",id:"\u57fa\u672c\u4f7f\u7528\u5b50\u67e5\u8be2",level:2},{value:"in|not in\u5b50\u67e5\u8be2",id:"innot-in\u5b50\u67e5\u8be2",level:2},{value:"exists\u548cnot exists\u5b50\u67e5\u8be2",id:"exists\u548cnot-exists\u5b50\u67e5\u8be2",level:2},{value:"\u5b50\u67e5\u8be2\u5206\u7c7b",id:"\u5b50\u67e5\u8be2\u5206\u7c7b",level:2}],c={toc:m},i="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(i,(0,s.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"mysql\u5b50\u67e5\u8be2"},"MySQL\u5b50\u67e5\u8be2"),(0,r.kt)("p",null,"\u8bed\u6cd5"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"\u8bed\u6cd5\uff1aselect \u8bed\u53e5 where \u6761\u4ef6 (select \u2026 from \u8868)\n")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5916\u9762\u7684\u67e5\u8be2\u79f0\u4e3a\u7236\u67e5\u8be2\uff0c\u62ec\u53f7\u4e2d\u7684\u67e5\u8be2\u79f0\u4e3a\u5b50\u67e5\u8be2"),(0,r.kt)("li",{parentName:"ol"},"\u5b50\u67e5\u8be2\u4e3a\u7236\u67e5\u8be2\u63d0\u4f9b\u67e5\u8be2\u6761\u4ef6")),(0,r.kt)("h2",{id:"\u57fa\u672c\u4f7f\u7528\u5b50\u67e5\u8be2"},"\u57fa\u672c\u4f7f\u7528\u5b50\u67e5\u8be2"),(0,r.kt)("p",null,"1\u3001\u67e5\u627e\u7b14\u8bd580\u5206\u7684\u5b66\u751f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"mysql> select * from stuinfo where stuno=(select stuno from stumarks where writtenexam=80);\n+--------+---------+--------+--------+---------+------------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress |\n+--------+---------+--------+--------+---------+------------+\n| s25303 | \u674e\u65af\u6587       | \u5973      |     22 |       2 | \u5317\u4eac           |\n+--------+---------+--------+--------+---------+------------+\n")),(0,r.kt)("p",null,"2\u3001\u67e5\u627e\u7b14\u8bd5\u6700\u9ad8\u5206\u7684\u5b66\u751f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"# \u65b9\u6cd5\u4e00\uff1a\nmysql> select * from stuinfo where stuno=(select stuno from stumarks order by writtenexam desc limit 1);\n+--------+---------+--------+--------+---------+------------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress |\n+--------+---------+--------+--------+---------+------------+\n| s25303 | \u674e\u65af\u6587       | \u5973      |     22 |       2 | \u5317\u4eac           |\n+--------+---------+--------+--------+---------+------------+\n1 row in set (0.00 sec)\n\n# \u65b9\u6cd5\u4e8c\uff1a\nmysql> select * from stuinfo where stuno=(select stuno from stumarks where writtenexam=(select max(writtenexam) from stumarks));\n+--------+---------+--------+--------+---------+------------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress |\n+--------+---------+--------+--------+---------+------------+\n| s25303 | \u674e\u65af\u6587       | \u5973      |     22 |       2 | \u5317\u4eac           |\n+--------+---------+--------+--------+---------+------------+\n1 row in set (0.00 sec)\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u811a\u4e0b\u7559\u5fc3\uff1a\u4e0a\u9762\u7684\u4f8b\u9898\uff0c\u5b50\u67e5\u8be2\u53ea\u80fd\u8fd4\u56de\u4e00\u4e2a\u503c\u3002\u5982\u679c\u5b50\u67e5\u8be2\u8fd4\u56de\u591a\u4e2a\u503c\u5c31\u4e0d\u80fd\u7528\u201c=\u201d\u4e86,\u9700\u8981\u7528 in\n")),(0,r.kt)("h2",{id:"innot-in\u5b50\u67e5\u8be2"},"in|not in\u5b50\u67e5\u8be2"),(0,r.kt)("p",null,"\u7528\u4e8e\u5b50\u67e5\u8be2\u7684\u8fd4\u56de\u7ed3\u679c\u591a\u4e2a\u503c\u3002"),(0,r.kt)("p",null,"1\u3001\u67e5\u627e\u7b14\u8bd5\u6210\u7ee9\u53ca\u683c\u7684\u540c\u5b66"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"mysql> select * from stuinfo where stuno in (select stuno from stumarks where writtenexam>=60);\n+--------+----------+--------+--------+---------+------------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+----------+--------+--------+---------+------------+\n| s25301 | \u5f20\u79cb\u4e3d         | \u7537       |     18 |       1 | \u5317\u4eac           |\n| s25303 | \u674e\u65af\u6587        | \u5973      |     22 |       2 | \u5317\u4eac           |\n| s25304 | \u6b27\u9633\u4fca\u96c4        | \u7537       |     28 |       4 | \u5929\u6d25           |\n+--------+----------+--------+--------+---------+------------+\n3 rows in set (0.00 sec)\n")),(0,r.kt)("p",null,"2\u3001\u67e5\u8be2\u4e0d\u53ca\u683c\u7684\u540c\u5b66"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"mysql> select * from stuinfo where stuno  in (select stuno from stumarks where writtenexam<=60);\n+--------+----------+--------+--------+---------+------------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+----------+--------+--------+---------+------------+\n| s25302 | \u674e\u6587\u624d        | \u7537       |     31 |       3 | \u4e0a\u6d77          |\n| s25318 | \u4e89\u9752\u5c0f\u5b50        | \u7537       |     26 |       6 | \u5929\u6d25           |\n+--------+----------+--------+--------+---------+------------+\n")),(0,r.kt)("p",null,"3\u3001\u67e5\u8be2\u6ca1\u6709\u901a\u8fc7\u7684\u540c\u5b66\uff08\u4e0d\u53ca\u683c\uff0c\u7f3a\u8003\uff09"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"mysql> select * from stuinfo where stuno  not in (select stuno from stumarks where writtenexam>=60);\n+--------+----------+--------+--------+---------+------------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+----------+--------+--------+---------+------------+\n| s25302 | \u674e\u6587\u624d        | \u7537       |     31 |       3 | \u4e0a\u6d77          |\n| s25305 | \u8bf8\u845b\u4e3d\u4e3d         | \u5973      |     23 |       7 | \u6cb3\u5357           |\n| s25318 | \u4e89\u9752\u5c0f\u5b50        | \u7537       |     26 |       6 | \u5929\u6d25           |\n| s25319 | \u6885\u8d85\u98ce        | \u5973      |     23 |       5 | \u6cb3\u5317          |\n+--------+----------+--------+--------+---------+------------+\n4 rows in set (0.00 sec)\n")),(0,r.kt)("h2",{id:"exists\u548cnot-exists\u5b50\u67e5\u8be2"},"exists\u548cnot exists\u5b50\u67e5\u8be2"),(0,r.kt)("p",null,"1\u3001\t\u5982\u679c\u6709\u4eba\u7b14\u8bd5\u8d85\u8fc780\u5206\u5c31\u663e\u793a\u6240\u6709\u7684\u5b66\u751f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"mysql> select * from stuinfo where exists (select * from stumarks where writtenexam>=80);\n+--------+----------+--------+--------+---------+------------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+----------+--------+--------+---------+------------+\n| s25301 | \u5f20\u79cb\u4e3d         | \u7537       |     18 |       1 | \u5317\u4eac           |\n| s25302 | \u674e\u6587\u624d        | \u7537       |     31 |       3 | \u4e0a\u6d77          |\n| s25303 | \u674e\u65af\u6587        | \u5973      |     22 |       2 | \u5317\u4eac           |\n| s25304 | \u6b27\u9633\u4fca\u96c4        | \u7537       |     28 |       4 | \u5929\u6d25           |\n| s25305 | \u8bf8\u845b\u4e3d\u4e3d         | \u5973      |     23 |       7 | \u6cb3\u5357           |\n| s25318 | \u4e89\u9752\u5c0f\u5b50        | \u7537       |     26 |       6 | \u5929\u6d25           |\n| s25319 | \u6885\u8d85\u98ce        | \u5973      |     23 |       5 | \u6cb3\u5317          |\n+--------+----------+--------+--------+---------+------------+\n")),(0,r.kt)("p",null,"2\u3001\t\u5982\u679c\u6ca1\u6709\u4eba\u8d85\u8fc780\u5206\u5c31\u663e\u793a\u6240\u6709\u7684\u5b66\u751f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"mysql> select * from stuinfo where not exists (select * from stumarks where writtenexam>=80);\nEmpty set (0.02 sec)\n")),(0,r.kt)("h2",{id:"\u5b50\u67e5\u8be2\u5206\u7c7b"},"\u5b50\u67e5\u8be2\u5206\u7c7b"),(0,r.kt)("p",null,"1\u3001\u6807\u91cf\u5b50\u67e5\u8be2\uff1a\u5b50\u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u5c31\u4e00\u4e2a"),(0,r.kt)("p",null,"2\u3001\u5217\u5b50\u67e5\u8be2\uff1a\u5b50\u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5217\u8868"),(0,r.kt)("p",null,"3\u3001\u884c\u5b50\u67e5\u8be2\uff1a\u5b50\u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u662f\u4e00\u884c"),(0,r.kt)("p",null,"\u4f8b\u9898\uff1a\u67e5\u8be2\u6210\u7ee9\u6700\u9ad8\u7684\u7537\u751f\u548c\u5973\u751f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"mysql> select stuname,stusex,ch from stu where (stusex,ch) in (select stusex,max(ch) from stu group by stusex);\n+----------+--------+------+\n| stuname  | stusex | ch   |\n+----------+--------+------+\n| \u4e89\u9752\u5c0f\u5b50        | \u7537       |   86 |\n| Tabm     | \u5973      |   88 |\n+----------+--------+------+\n")),(0,r.kt)("p",null,"4\u3001\u8868\u5b50\u67e5\u8be2\uff1a\u5b50\u67e5\u8be2\u8fd4\u56de\u7684\u7ed3\u679c\u5f53\u6210\u4e00\u4e2a\u8868"),(0,r.kt)("p",null,"\u4f8b\u9898\uff1a\u67e5\u8be2\u6210\u7ee9\u6700\u9ad8\u7684\u7537\u751f\u548c\u5973\u751f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-mysql"},"mysql> select stuname,stusex,ch from (select * from stu order by ch desc) as t group by stusex;\n+----------+--------+------+\n| stuname  | stusex | ch   |\n+----------+--------+------+\n| Tabm     | \u5973      |   88 |\n| \u4e89\u9752\u5c0f\u5b50        | \u7537       |   86 |\n+----------+--------+------+\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"\u811a\u4e0b\u7559\u5fc3\uff1afrom\u540e\u9762\u662f\u4e00\u4e2a\u8868\uff0c\u5982\u679c\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u5f53\u6210\u8868\u6765\u770b\uff0c\u5fc5\u987b\u5c06\u5b50\u67e5\u8be2\u7684\u7ed3\u679c\u53d6\u522b\u540d\u3002\n")))}p.isMDXComponent=!0}}]);