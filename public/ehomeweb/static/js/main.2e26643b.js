/*! For license information please see main.2e26643b.js.LICENSE.txt */
!function(){var e={490:function(){"object"===typeof window&&window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),"undefined"!==typeof window&&[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){Object.prototype.hasOwnProperty.call(e,"append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){for(var e=document.createDocumentFragment(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){var n=t instanceof Node;e.appendChild(n?t:document.createTextNode(String(t)))})),this.appendChild(e)}})}))},863:function(e,t,n){var r,i;!function(a,o){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],i={},a=null;function o(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function s(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?s:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}function u(){for(var n=this.getLevel(),i=0;i<r.length;i++){var a=r[i];this[a]=i<n?e:this.methodFactory(a,n,this.name)}if(this.log=this.debug,typeof console===t&&n<this.levels.SILENT)return"No console available for logging"}function c(e){return function(){typeof console!==t&&(u.call(this),this[e].apply(this,arguments))}}function h(e,t,n){return l(e)||c.apply(this,arguments)}function f(e,n){var o,s,l,c=this,f="loglevel";function d(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&f){try{return void(window.localStorage[f]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(f)+"="+n+";"}catch(i){}}}function p(){var e;if(typeof window!==t&&f){try{e=window.localStorage[f]}catch(a){}if(typeof e===t)try{var n=window.document.cookie,r=encodeURIComponent(f),i=n.indexOf(r+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i+r.length+1))[1])}catch(a){}return void 0===c.levels[e]&&(e=void 0),e}}function v(){if(typeof window!==t&&f){try{window.localStorage.removeItem(f)}catch(e){}try{window.document.cookie=encodeURIComponent(f)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}function g(e){var t=e;if("string"===typeof t&&void 0!==c.levels[t.toUpperCase()]&&(t=c.levels[t.toUpperCase()]),"number"===typeof t&&t>=0&&t<=c.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"===typeof e?f+=":"+e:"symbol"===typeof e&&(f=void 0),c.name=e,c.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},c.methodFactory=n||h,c.getLevel=function(){return null!=l?l:null!=s?s:o},c.setLevel=function(e,t){return l=g(e),!1!==t&&d(l),u.call(c)},c.setDefaultLevel=function(e){s=g(e),p()||c.setLevel(e,!1)},c.resetLevel=function(){l=null,v(),u.call(c)},c.enableAll=function(e){c.setLevel(c.levels.TRACE,e)},c.disableAll=function(e){c.setLevel(c.levels.SILENT,e)},c.rebuild=function(){if(a!==c&&(o=g(a.getLevel())),u.call(c),a===c)for(var e in i)i[e].rebuild()},o=g(a?a.getLevel():"WARN");var m=p();null!=m&&(l=g(m)),u.call(c)}(a=new f).getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=i[e];return t||(t=i[e]=new f(e,a.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return a.noConflict=function(){return typeof window!==t&&window.log===a&&(window.log=d),a},a.getLoggers=function(){return i},a.default=a,a},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},973:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case f:case d:return e;default:switch(e=e&&e.$$typeof){case c:case u:case h:case v:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=h,t.isMemo=function(e){return m(e)===p}},449:function(e,t,n){"use strict";e.exports=n(973)},713:function(e,t,n){"use strict";var r=n(198),i=n(356);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},v={};function g(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function x(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(v,e)||!f.call(p,e)&&(d.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var F,U=Object.assign;function B(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var z=!1;function H(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function G(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 1:return e=H(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case M:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function $(e,t){Q(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ne(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function oe(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,he,fe=(he=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return he(e,t)}))}:he);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,_e=null;function Me(e){if(e=xi(e)){if("function"!==typeof Se)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Te(e){Ee?_e?_e.push(e):_e=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=_e;if(_e=Ee=null,Me(e),t)for(e=0;e<t.length;e++)Me(t[e])}}function Ae(e,t){return e(t)}function Pe(){}var Oe=!1;function Re(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ae(e,t,n)}finally{Oe=!1,(null!==Ee||null!==_e)&&(Pe(),Ce())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(c)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(he){Ne=!1}function De(e,t,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Fe=!1,Ue=null,Be=!1,ze=null,He={onError:function(e){Fe=!0,Ue=e}};function Ge(e,t,n,r,i,a,o,s,l){Fe=!1,Ue=null,De.apply(He,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(je(e)!==e)throw Error(a(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Qe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,et=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,it=i.unstable_IdlePriority,at=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ut|0)|0},lt=Math.log,ut=Math.LN2;var ct=64,ht=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=ft(s):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var xt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,Et,_t,Mt,Tt=!1,Ct=[],At=null,Pt=null,Ot=null,Rt=new Map,Lt=new Map,Nt=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=bi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Mt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function zt(e,t,n){Bt(e)&&n.delete(t)}function Ht(){Tt=!1,null!==At&&Bt(At)&&(At=null),null!==Pt&&Bt(Pt)&&(Pt=null),null!==Ot&&Bt(Ot)&&(Ot=null),Rt.forEach(zt),Lt.forEach(zt)}function Gt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function jt(e){function t(t){return Gt(t,e)}if(0<Ct.length){Gt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Gt(At,e),null!==Pt&&Gt(Pt,e),null!==Ot&&Gt(Ot,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Nt.shift()}var Vt=k.ReactCurrentBatchConfig,Wt=!0;function Xt(e,t,n,r){var i=xt,a=Vt.transition;Vt.transition=null;try{xt=1,Yt(e,t,n,r)}finally{xt=i,Vt.transition=a}}function qt(e,t,n,r){var i=xt,a=Vt.transition;Vt.transition=null;try{xt=4,Yt(e,t,n,r)}finally{xt=i,Vt.transition=a}}function Yt(e,t,n,r){if(Wt){var i=Jt(e,t,n,r);if(null===i)Wr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Ft(At,e,t,n,r,i),!0;case"dragenter":return Pt=Ft(Pt,e,t,n,r,i),!0;case"mouseover":return Ot=Ft(Ot,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Ft(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Ft(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==i;){var a=xi(i);if(null!==a&&wt(a),null===(a=Jt(e,t,n,r))&&Wr(e,t,r,Kt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Jt(e,t,n,r){if(Kt=null,null!==(e=bi(e=we(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,en=null;function tn(){if(en)return en;var e,t,n=$t,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function an(){return!1}function on(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:an,this.isPropagationStopped=an,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var sn,ln,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=on(cn),fn=U({},cn,{view:0,detail:0}),dn=on(fn),pn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(sn=e.screenX-un.screenX,ln=e.screenY-un.screenY):ln=sn=0,un=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),vn=on(pn),gn=on(U({},pn,{dataTransfer:0})),mn=on(U({},fn,{relatedTarget:0})),yn=on(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(bn),kn=on(U({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function Mn(){return _n}var Tn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Tn),An=on(U({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=on(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mn})),On=on(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(Rn),Nn=[9,13,27,32],In=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Fn=c&&"TextEvent"in window&&!Dn,Un=c&&(!In||Dn&&8<Dn&&11>=Dn),Bn=String.fromCharCode(32),zn=!1;function Hn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Xn(e,t,n,r){Te(r),0<(t=qr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Yn=null;function Kn(e){Br(e,0)}function Jn(e){if(Y(ki(e)))return e}function Zn(e,t){if("change"===e)return t}var Qn=!1;if(c){var $n;if(c){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}$n=er}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function nr(){qn&&(qn.detachEvent("onpropertychange",rr),Yn=qn=null)}function rr(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];Xn(t,Yn,e,we(e)),Re(Kn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Yn=n,(qn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function or(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=hr(n,a);var o=hr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=c&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,br=null,xr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==mr||mr!==K(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&ur(br,r)||(br=r,0<(r=qr(yr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Er={},_r={};function Mr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Er[e]=n[t];return e}c&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Mr("animationend"),Cr=Mr("animationiteration"),Ar=Mr("animationstart"),Pr=Mr("transitionend"),Or=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Or.set(e,t),l(t,[e])}for(var Nr=0;Nr<Rr.length;Nr++){var Ir=Rr[Nr];Lr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Lr(Tr,"onAnimationEnd"),Lr(Cr,"onAnimationIteration"),Lr(Ar,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Pr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,u){if(Ge.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var c=Ue;Fe=!1,Ue=null,Be||(Be=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Ur(i,s,u),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Ur(i,s,u),a=l}}}if(Be)throw e=ze,Be=!1,ze=null,e}function zr(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Gr]){e[Gr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Hr(t,!1,e),Hr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Gr]||(t[Gr]=!0,Hr("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Zt(t)){case 1:var i=Xt;break;case 4:i=qt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=bi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var s=Or.get(e);if(void 0!==s){var l=hn,u=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=mn;break;case"focusout":u="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Tr:case Cr:case Ar:l=yn;break;case Pr:l=On;break;case"scroll":l=dn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Le(p,f))&&c.push(Xr(p,v,d)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,i),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(u=n.relatedTarget||n.fromElement)||!bi(u)&&!u[vi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?bi(u):null)&&(u!==(h=je(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=vn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?s:ki(l),d=null==u?s:ki(u),(s=new c(v,p+"leave",l,n,i)).target=h,s.relatedTarget=d,v=null,bi(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,v=c),h=v,l&&u)e:{for(f=u,p=0,d=c=l;d;d=Yr(d))p++;for(d=0,v=f;v;v=Yr(v))d++;for(;0<p-d;)c=Yr(c),p--;for(;0<d-p;)f=Yr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Yr(c),f=Yr(f)}c=null}else c=null;null!==l&&Kr(o,s,l,c,!1),null!==u&&null!==h&&Kr(o,h,u,c,!0)}if("select"===(l=(s=r?ki(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Zn;else if(Wn(s))if(Qn)g=sr;else{g=ar;var m=ir}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Xn(o,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&te(s,"number",s.value)),m=r?ki(r):window,e){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(mr=m,yr=r,br=null);break;case"focusout":br=yr=mr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,kr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Hn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=tn()):($t="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(m=qr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:m}),y?b.data=y:null!==(y=Gn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Gn(t);case"keypress":return 32!==t.which?null:(zn=!0,Bn);case"textInput":return(e=t.data)===Bn&&zn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!In&&Hn(e,t)?(e=tn(),en=$t=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Br(o,t)}))}function Xr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Xr(e,a,i)),null!=(a=Le(e,t))&&r.push(Xr(e,a,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Le(n,a))&&o.unshift(Xr(n,l,s)):i||null!=(l=Le(n,a))&&o.push(Xr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Zr,"")}function $r(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(a(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,ai="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function hi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,pi="__reactProps$"+fi,vi="__reactContainer$"+fi,gi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function bi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=hi(e);null!==e;){if(n=e[di])return n;e=hi(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[di]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[pi]||null}var Si=[],Ei=-1;function _i(e){return{current:e}}function Mi(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function Ti(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},Ai=_i(Ci),Pi=_i(!1),Oi=Ci;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){Mi(Pi),Mi(Ai)}function Ii(e,t,n){if(Ai.current!==Ci)throw Error(a(168));Ti(Ai,t),Ti(Pi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,V(e)||"Unknown",i));return U({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Oi=Ai.current,Ti(Ai,e),Ti(Pi,Pi.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Di(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Mi(Pi),Mi(Ai),Ti(Ai,e)):Mi(Pi),Ti(Pi,n)}var Bi=null,zi=!1,Hi=!1;function Gi(e){null===Bi?Bi=[e]:Bi.push(e)}function ji(){if(!Hi&&null!==Bi){Hi=!0;var e=0,t=xt;try{var n=Bi;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,zi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Ye(et,ji),i}finally{xt=t,Hi=!1}}return null}var Vi=[],Wi=0,Xi=null,qi=0,Yi=[],Ki=0,Ji=null,Zi=1,Qi="";function $i(e,t){Vi[Wi++]=qi,Vi[Wi++]=Xi,Xi=e,qi=t}function ea(e,t,n){Yi[Ki++]=Zi,Yi[Ki++]=Qi,Yi[Ki++]=Ji,Ji=e;var r=Zi;e=Qi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var a=32-st(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Zi=1<<32-st(t)+i|n<<i|r,Qi=a+e}else Zi=1<<a|n<<i|r,Qi=e}function ta(e){null!==e.return&&($i(e,1),ea(e,1,0))}function na(e){for(;e===Xi;)Xi=Vi[--Wi],Vi[Wi]=null,qi=Vi[--Wi],Vi[Wi]=null;for(;e===Ji;)Ji=Yi[--Ki],Yi[Ki]=null,Qi=Yi[--Ki],Yi[Ki]=null,Zi=Yi[--Ki],Yi[Ki]=null}var ra=null,ia=null,aa=!1,oa=null;function sa(e,t){var n=Lu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function la(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ra=e,ia=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ra=e,ia=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Zi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ra=e,ia=null,!0);default:return!1}}function ua(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(aa){var t=ia;if(t){var n=t;if(!la(e,t)){if(ua(e))throw Error(a(418));t=ci(n.nextSibling);var r=ra;t&&la(e,t)?sa(r,n):(e.flags=-4097&e.flags|2,aa=!1,ra=e)}}else{if(ua(e))throw Error(a(418));e.flags=-4097&e.flags|2,aa=!1,ra=e}}}function ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ra=e}function fa(e){if(e!==ra)return!1;if(!aa)return ha(e),aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=ia)){if(ua(e))throw da(),Error(a(418));for(;t;)sa(e,t),t=ci(t.nextSibling)}if(ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ia=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ia=null}}else ia=ra?ci(e.stateNode.nextSibling):null;return!0}function da(){for(var e=ia;e;)e=ci(e.nextSibling)}function pa(){ia=ra=null,aa=!1}function va(e){null===oa?oa=[e]:oa.push(e)}var ga=k.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=_i(null),ba=null,xa=null,ka=null;function wa(){ka=xa=ba=null}function Sa(e){var t=ya.current;Mi(ya),e._currentValue=t}function Ea(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){ba=e,ka=xa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(ka!==e)if(e={context:e,memoizedValue:t,next:null},null===xa){if(null===ba)throw Error(a(308));xa=e,ba.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var Ta=null;function Ca(e){null===Ta?Ta=[e]:Ta.push(e)}function Aa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ca(t)):(n.next=i.next,i.next=n),t.interleaved=n,Pa(e,r)}function Pa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Na(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Pl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Pa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ca(r)):(t.next=i.next,i.next=t),r.interleaved=t,Pa(e,n)}function Da(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Oa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===o?a=u:o.next=u,o=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var h=i.baseState;for(o=0,c=u=l=null,s=a;;){var f=s.lane,d=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=U({},h,f);break e;case 2:Oa=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else d={eventTime:d,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,o|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ul|=o,e.lanes=o,e.memoizedState=h}}function Ba(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var za=(new r.Component).refs;function Ha(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ga={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nu(),i=ru(e),a=Na(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(iu(t,e,i,r),Da(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nu(),i=ru(e),a=Na(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ia(e,a,i))&&(iu(t,e,i,r),Da(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nu(),r=ru(e),i=Na(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ia(e,i,r))&&(iu(t,e,r,n),Da(t,e,r))}};function ja(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function Va(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Ma(a):(i=Li(t)?Oi:Ai.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ga.enqueueReplaceState(t,t.state,null)}function Xa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=za,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ma(a):(a=Li(t)?Oi:Ai.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Ha(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ga.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===za&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ka(e){return(0,e._init)(e._payload)}function Ja(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Ka(a)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Du(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Fu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Du(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case S:return(t=zu(t,e.mode,n)).return=e,t;case L:return f(e,(0,t._init)(t._payload),n)}if(ne(t)||D(t))return(t=Fu(t,e.mode,n,null)).return=e,t;Ya(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?u(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case L:return d(e,t,(i=n._init)(n._payload),r)}if(ne(n)||D(n))return null!==i?null:h(e,t,n,r,null);Ya(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(ne(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);Ya(t,r)}return null}function v(i,a,s,l){for(var u=null,c=null,h=a,v=a=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var m=d(i,h,s[v],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),a=o(m,a,v),null===c?u=m:c.sibling=m,c=m,h=g}if(v===s.length)return n(i,h),aa&&$i(i,v),u;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],l))&&(a=o(h,a,v),null===c?u=h:c.sibling=h,c=h);return aa&&$i(i,v),u}for(h=r(i,h);v<s.length;v++)null!==(g=p(h,i,v,s[v],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),a=o(g,a,v),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),aa&&$i(i,v),u}function g(i,s,l,u){var c=D(l);if("function"!==typeof c)throw Error(a(150));if(null==(l=c.call(l)))throw Error(a(151));for(var h=c=null,v=s,g=s=0,m=null,y=l.next();null!==v&&!y.done;g++,y=l.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=d(i,v,y.value,u);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=o(b,s,g),null===h?c=b:h.sibling=b,h=b,v=m}if(y.done)return n(i,v),aa&&$i(i,g),c;if(null===v){for(;!y.done;g++,y=l.next())null!==(y=f(i,y.value,u))&&(s=o(y,s,g),null===h?c=y:h.sibling=y,h=y);return aa&&$i(i,g),c}for(v=r(i,v);!y.done;g++,y=l.next())null!==(y=p(v,i,g,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=o(y,s,g),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),aa&&$i(i,g),c}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var u=o.key,c=a;null!==c;){if(c.key===u){if((u=o.type)===E){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===L&&Ka(u)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=qa(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===E?((a=Fu(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Du(o.type,o.key,o.props,null,r.mode,l)).ref=qa(r,a,o),l.return=r,r=l)}return s(r);case S:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=zu(o,r.mode,l)).return=r,r=a}return s(r);case L:return e(r,a,(c=o._init)(o._payload),l)}if(ne(o))return v(r,a,o,l);if(D(o))return g(r,a,o,l);Ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Bu(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var Za=Ja(!0),Qa=Ja(!1),$a={},eo=_i($a),to=_i($a),no=_i($a);function ro(e){if(e===$a)throw Error(a(174));return e}function io(e,t){switch(Ti(no,t),Ti(to,e),Ti(eo,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Mi(eo),Ti(eo,t)}function ao(){Mi(eo),Mi(to),Mi(no)}function oo(e){ro(no.current);var t=ro(eo.current),n=ue(t,e.type);t!==n&&(Ti(to,e),Ti(eo,n))}function so(e){to.current===e&&(Mi(eo),Mi(to))}var lo=_i(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function ho(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=k.ReactCurrentDispatcher,po=k.ReactCurrentBatchConfig,vo=0,go=null,mo=null,yo=null,bo=!1,xo=!1,ko=0,wo=0;function So(){throw Error(a(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(vo=o,go=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ls:us,e=n(r,i),xo){o=0;do{if(xo=!1,ko=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cs,e=n(r,i)}while(xo)}if(fo.current=ss,t=null!==mo&&null!==mo.next,vo=0,yo=mo=go=null,bo=!1,t)throw Error(a(300));return e}function Mo(){var e=0!==ko;return ko=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?go.memoizedState=yo=e:yo=yo.next=e,yo}function Co(){if(null===mo){var e=go.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?go.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?go.memoizedState=yo=e:yo=yo.next=e}return yo}function Ao(e,t){return"function"===typeof t?t(e):t}function Po(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var h=c.lane;if((vo&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,s=r):u=u.next=f,go.lanes|=h,Ul|=h}c=c.next}while(null!==c&&c!==o);null===u?s=r:u.next=l,lr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,go.lanes|=o,Ul|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oo(e){var t=Co(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);lr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Lo(e,t){var n=go,r=Co(),i=t(),o=!lr(r.memoizedState,i);if(o&&(r.memoizedState=i,ks=!0),r=r.queue,Wo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,zo(9,Io.bind(null,n,r,i,t),void 0,null),null===Ol)throw Error(a(349));0!==(30&vo)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Io(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Uo(e)}function Do(e,t,n){return n((function(){Fo(t)&&Uo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Uo(e){var t=Pa(e,1);null!==t&&iu(t,e,1,-1)}function Bo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,go,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=go.updateQueue)?(t={lastEffect:null,stores:null},go.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ho(){return Co().memoizedState}function Go(e,t,n,r){var i=To();go.flags|=e,i.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var i=Co();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=zo(t,n,a,r))}go.flags|=e,i.memoizedState=zo(1|t,n,a,r)}function Vo(e,t){return Go(8390656,8,e,t)}function Wo(e,t){return jo(2048,8,e,t)}function Xo(e,t){return jo(4,2,e,t)}function qo(e,t){return jo(4,4,e,t)}function Yo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,Yo.bind(null,t,e),n)}function Jo(){}function Zo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(lr(n,t)||(n=gt(),go.lanes|=n,Ul|=n,e.baseState=!0),t)}function es(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{xt=n,po.transition=r}}function ts(){return Co().memoizedState}function ns(e,t,n){var r=ru(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},is(e))as(t,n);else if(null!==(n=Aa(e,t,n,r))){iu(n,e,r,nu()),os(n,t,r)}}function rs(e,t,n){var r=ru(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(is(e))as(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,lr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ca(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Aa(e,t,i,r))&&(iu(n,e,r,i=nu()),os(n,t,r))}}function is(e){var t=e.alternate;return e===go||null!==t&&t===go}function as(e,t){xo=bo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,bt(e,n)}}var ss={readContext:Ma,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ls={readContext:Ma,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ma,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Go(4194308,4,Yo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Go(4194308,4,e,t)},useInsertionEffect:function(e,t){return Go(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ns.bind(null,go,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Bo,useDebugValue:Jo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=es.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=go,i=To();if(aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ol)throw Error(a(349));0!==(30&vo)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Do.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Io.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ol.identifierPrefix;if(aa){var n=Qi;t=":"+t+"R"+(n=(Zi&~(1<<32-st(Zi)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ma,useCallback:Zo,useContext:Ma,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:Xo,useLayoutEffect:qo,useMemo:Qo,useReducer:Po,useRef:Ho,useState:function(){return Po(Ao)},useDebugValue:Jo,useDeferredValue:function(e){return $o(Co(),mo.memoizedState,e)},useTransition:function(){return[Po(Ao)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Lo,useId:ts,unstable_isNewReconciler:!1},cs={readContext:Ma,useCallback:Zo,useContext:Ma,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:Xo,useLayoutEffect:qo,useMemo:Qo,useReducer:Oo,useRef:Ho,useState:function(){return Oo(Ao)},useDebugValue:Jo,useDeferredValue:function(e){var t=Co();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Oo(Ao)[0],Co().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Lo,useId:ts,unstable_isNewReconciler:!1};function hs(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function vs(e,t,n){(n=Na(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Xl||(Xl=!0,ql=r),ds(0,t)},n}function gs(e,t,n){(n=Na(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Yl?Yl=new Set([this]):Yl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Na(-1,1)).tag=2,Ia(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Qa(t,null,n,r):Za(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=_o(e,t,n,r,a,i),n=Mo(),null===e||ks?(aa&&n&&ta(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xs(e,t,i))}function Es(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Nu(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Du(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,_s(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Xs(e,t,i)}return t.flags|=1,(e=Iu(a,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(ur(a,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Xs(e,t,i);0!==(131072&e.flags)&&(ks=!0)}}return Cs(e,t,n,r,i)}function Ms(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Il,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Il,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Il,Nl),Nl|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Il,Nl),Nl|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,n,r,i){var a=Li(n)?Oi:Ai.current;return a=Ri(t,a),_a(t,i),n=_o(e,t,n,r,a,i),r=Mo(),null===e||ks?(aa&&r&&ta(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Xs(e,t,i))}function As(e,t,n,r,i){if(Li(n)){var a=!0;Fi(t)}else a=!1;if(_a(t,i),null===t.stateNode)Ws(e,t),Va(t,n,r),Xa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ma(u):u=Ri(t,u=Li(n)?Oi:Ai.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==u)&&Wa(t,o,r,u),Oa=!1;var f=t.memoizedState;o.state=f,Ua(t,r,o,i),l=t.memoizedState,s!==r||f!==l||Pi.current||Oa?("function"===typeof c&&(Ha(t,n,c,r),l=t.memoizedState),(s=Oa||ja(t,n,s,r,f,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ma(t.type,s),o.props=u,h=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ma(l):l=Ri(t,l=Li(n)?Oi:Ai.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==l)&&Wa(t,o,r,l),Oa=!1,f=t.memoizedState,o.state=f,Ua(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||Pi.current||Oa?("function"===typeof d&&(Ha(t,n,d,r),p=t.memoizedState),(u=Oa||ja(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ps(e,t,n,r,a,i)}function Ps(e,t,n,r,i,a){Ts(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Xs(e,t,a);r=t.stateNode,xs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Za(t,e.child,null,a),t.child=Za(t,null,s,a)):ws(e,t,s,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Ii(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ii(0,t.context,!1),io(e,t.containerInfo)}function Rs(e,t,n,r,i){return pa(),va(i),t.flags|=256,ws(e,t,n,r),t.child}var Ls,Ns,Is,Ds,Fs={dehydrated:null,treeContext:null,retryLane:0};function Us(e){return{baseLanes:e,cachePool:null,transitions:null}}function Bs(e,t,n){var r,i=t.pendingProps,o=lo.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(lo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Uu(l,i,0,null),e=Fu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Us(n),t.memoizedState=Fs,e):zs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Hs(e,t,s,r=fs(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Uu({mode:"visible",children:r.children},i,0,null),(o=Fu(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Za(t,e.child,null,s),t.child.memoizedState=Us(s),t.memoizedState=Fs,o);if(0===(1&t.mode))return Hs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Hs(e,t,s,r=fs(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),ks||l){if(null!==(r=Ol)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Pa(e,i),iu(r,e,i,-1))}return mu(),Hs(e,t,s,r=fs(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Au.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ia=ci(i.nextSibling),ra=t,aa=!0,oa=null,null!==e&&(Yi[Ki++]=Zi,Yi[Ki++]=Qi,Yi[Ki++]=Ji,Zi=e.id,Qi=e.overflow,Ji=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Iu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Iu(r,s):(s=Fu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Us(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Fs,i}return e=(s=e.child).sibling,i=Iu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Uu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Hs(e,t,n,r){return null!==r&&va(r),Za(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ea(e.return,t,n)}function js(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=lo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(lo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),js(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===uo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}js(t,!0,n,null,a);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ys(t),null;case 1:case 17:return Li(t.type)&&Ni(),Ys(t),null;case 3:return r=t.stateNode,ao(),Mi(Pi),Mi(Ai),ho(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oa&&(lu(oa),oa=null))),Ns(e,t),Ys(t),null;case 5:so(t);var i=ro(no.current);if(n=t.type,null!==e&&null!=t.stateNode)Is(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ys(t),null}if(e=ro(eo.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Z(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ae(r,o),zr("invalid",r)}for(var l in be(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),ee(r,o,!0);break;case"textarea":q(r),se(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[pi]=r,Ls(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)zr(Dr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Z(e,r),i=J(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),i=ie(e,r),zr("invalid",e)}for(o in be(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&x(e,o,c,l))}switch(n){case"input":q(e),ee(e,r,!1);break;case"textarea":q(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?re(e,!!r.multiple,o,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ys(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=ro(no.current),ro(eo.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ra))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ys(t),null;case 13:if(Mi(lo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(aa&&null!==ia&&0!==(1&t.mode)&&0===(128&t.flags))da(),pa(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[di]=t}else pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ys(t),o=!1}else null!==oa&&(lu(oa),oa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&lo.current)?0===Dl&&(Dl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Ys(t),null);case 4:return ao(),Ns(e,t),null===e&&jr(t.stateNode.containerInfo),Ys(t),null;case 10:return Sa(t.type._context),Ys(t),null;case 19:if(Mi(lo),null===(o=t.memoizedState))return Ys(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)qs(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=uo(e))){for(t.flags|=128,qs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(lo,1&lo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Vl&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!aa)return Ys(t),null}else 2*Qe()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=lo.current,Ti(lo,r?1&n|2:1&n),t):(Ys(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ys(t),6&t.subtreeFlags&&(t.flags|=8192)):Ys(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Js(e,t){switch(na(t),t.tag){case 1:return Li(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Mi(Pi),Mi(Ai),ho(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return so(t),null;case 13:if(Mi(lo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Mi(lo),null;case 4:return ao(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ns=function(){},Is=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ro(eo.current);var a,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=ie(e,i),r=ie(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(c in be(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&zr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zs=!1,Qs=!1,$s="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Mu(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Mu(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&nl(t,n,a)}i=i.next}while(i!==r)}}function al(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[gi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function ul(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function hl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(hl(e,t,n),e=e.sibling;null!==e;)hl(e,t,n),e=e.sibling}var fl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)vl(e,t,n),n=n.sibling}function vl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(h){}switch(n.tag){case 5:Qs||tl(n,t);case 6:var r=fl,i=dl;fl=null,pl(e,t,n),dl=i,null!==(fl=r)&&(dl?(e=fl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fl.removeChild(n.stateNode));break;case 18:null!==fl&&(dl?(e=fl,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),jt(e)):ui(fl,n.stateNode));break;case 4:r=fl,i=dl,fl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),fl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&nl(n,t,o),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Qs&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Mu(n,t,h)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,pl(e,t,n),Qs=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=Pu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:fl=l.stateNode,dl=!1;break e;case 3:case 4:fl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===fl)throw Error(a(160));vl(o,s,i),fl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Mu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&r){try{il(3,e,e.return),al(3,e)}catch(g){Mu(e,e.return,g)}try{il(5,e,e.return)}catch(g){Mu(e,e.return,g)}}break;case 1:ml(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(ml(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Mu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Q(i,o),xe(l,s);var c=xe(l,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?fe(i,f):"children"===h?de(i,f):x(i,h,f,c)}switch(l){case"input":$(i,o);break;case"textarea":oe(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?re(i,!!o.multiple,o.defaultValue,!0):re(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){Mu(e,e.return,g)}}break;case 6:if(ml(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Mu(e,e.return,g)}}break;case 3:if(ml(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(g){Mu(e,e.return,g)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(jl=Qe())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(c=Qs)||h,ml(t,e),Qs=c):ml(t,e),bl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(el=e,h=e.child;null!==h;){for(f=el=h;null!==el;){switch(p=(d=el).child,d.tag){case 0:case 11:case 14:case 15:il(4,d,d.return);break;case 1:tl(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Mu(r,n,g)}}break;case 5:tl(d,d.return);break;case 22:if(null!==d.memoizedState){Sl(f);continue}}null!==p?(p.return=d,el=p):Sl(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,s=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ge("display",s))}catch(g){Mu(e,e.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Mu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),hl(e,ul(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ul(e),o);break;default:throw Error(a(161))}}catch(s){Mu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){el=e,kl(e,t,n)}function kl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Zs;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Zs;var u=Qs;if(Zs=o,(Qs=l)&&!u)for(el=i;null!==el;)l=(o=el).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,el=l):El(i);for(;null!==a;)el=a,kl(a,t,n),a=a.sibling;el=i,Zs=s,Qs=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,el=a):wl(e)}}function wl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||al(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Ba(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ba(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&jt(f)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&ol(t)}catch(d){Mu(t,t.return,d)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function Sl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function El(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{al(4,t)}catch(l){Mu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Mu(t,i,l)}}var a=t.return;try{ol(t)}catch(l){Mu(t,a,l)}break;case 5:var o=t.return;try{ol(t)}catch(l){Mu(t,o,l)}}}catch(l){Mu(t,t.return,l)}if(t===e){el=null;break}var s=t.sibling;if(null!==s){s.return=t.return,el=s;break}el=t.return}}var _l,Ml=Math.ceil,Tl=k.ReactCurrentDispatcher,Cl=k.ReactCurrentOwner,Al=k.ReactCurrentBatchConfig,Pl=0,Ol=null,Rl=null,Ll=0,Nl=0,Il=_i(0),Dl=0,Fl=null,Ul=0,Bl=0,zl=0,Hl=null,Gl=null,jl=0,Vl=1/0,Wl=null,Xl=!1,ql=null,Yl=null,Kl=!1,Jl=null,Zl=0,Ql=0,$l=null,eu=-1,tu=0;function nu(){return 0!==(6&Pl)?Qe():-1!==eu?eu:eu=Qe()}function ru(e){return 0===(1&e.mode)?1:0!==(2&Pl)&&0!==Ll?Ll&-Ll:null!==ga.transition?(0===tu&&(tu=gt()),tu):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function iu(e,t,n,r){if(50<Ql)throw Ql=0,$l=null,Error(a(185));yt(e,n,r),0!==(2&Pl)&&e===Ol||(e===Ol&&(0===(2&Pl)&&(Bl|=n),4===Dl&&uu(e,Ll)),au(e,r),1===n&&0===Pl&&0===(1&t.mode)&&(Vl=Qe()+500,zi&&ji()))}function au(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-st(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=pt(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=dt(e,e===Ol?Ll:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){zi=!0,Gi(e)}(cu.bind(null,e)):Gi(cu.bind(null,e)),si((function(){0===(6&Pl)&&ji()})),n=null;else{switch(kt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Ou(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(eu=-1,tu=0,0!==(6&Pl))throw Error(a(327));var n=e.callbackNode;if(Eu()&&e.callbackNode!==n)return null;var r=dt(e,e===Ol?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yu(e,r);else{t=r;var i=Pl;Pl|=2;var o=gu();for(Ol===e&&Ll===t||(Wl=null,Vl=Qe()+500,pu(e,t));;)try{xu();break}catch(h){vu(e,h)}wa(),Tl.current=o,Pl=i,null!==Rl?t=0:(Ol=null,Ll=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(r=i,t=su(e,i))),1===t)throw n=Fl,pu(e,0),uu(e,r),au(e,Qe()),n;if(6===t)uu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!lr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yu(e,r))&&(0!==(o=vt(e))&&(r=o,t=su(e,o))),1===t))throw n=Fl,pu(e,0),uu(e,r),au(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:Su(e,Gl,Wl);break;case 3:if(uu(e,r),(130023424&r)===r&&10<(t=jl+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(Su.bind(null,e,Gl,Wl),t);break}Su(e,Gl,Wl);break;case 4:if(uu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-st(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ml(r/1960))-r)){e.timeoutHandle=ii(Su.bind(null,e,Gl,Wl),r);break}Su(e,Gl,Wl);break;default:throw Error(a(329))}}}return au(e,Qe()),e.callbackNode===n?ou.bind(null,e):null}function su(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=yu(e,t))&&(t=Gl,Gl=n,null!==t&&lu(t)),e}function lu(e){null===Gl?Gl=e:Gl.push.apply(Gl,e)}function uu(e,t){for(t&=~zl,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cu(e){if(0!==(6&Pl))throw Error(a(327));Eu();var t=dt(e,0);if(0===(1&t))return au(e,Qe()),null;var n=yu(e,t);if(0!==e.tag&&2===n){var r=vt(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Fl,pu(e,0),uu(e,t),au(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,Gl,Wl),au(e,Qe()),null}function hu(e,t){var n=Pl;Pl|=1;try{return e(t)}finally{0===(Pl=n)&&(Vl=Qe()+500,zi&&ji())}}function fu(e){null!==Jl&&0===Jl.tag&&0===(6&Pl)&&Eu();var t=Pl;Pl|=1;var n=Al.transition,r=xt;try{if(Al.transition=null,xt=1,e)return e()}finally{xt=r,Al.transition=n,0===(6&(Pl=t))&&ji()}}function du(){Nl=Il.current,Mi(Il)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ai(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:ao(),Mi(Pi),Mi(Ai),ho();break;case 5:so(r);break;case 4:ao();break;case 13:case 19:Mi(lo);break;case 10:Sa(r.type._context);break;case 22:case 23:du()}n=n.return}if(Ol=e,Rl=e=Iu(e.current,null),Ll=Nl=t,Dl=0,Fl=null,zl=Bl=Ul=0,Gl=Hl=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function vu(e,t){for(;;){var n=Rl;try{if(wa(),fo.current=ss,bo){for(var r=go.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}bo=!1}if(vo=0,yo=mo=go=null,xo=!1,ko=0,Cl.current=null,null===n||null===n.return){Dl=1,Fl=t,Rl=null;break}e:{var o=e,s=n.return,l=n,u=t;if(t=Ll,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,bs(p,s,l,0,t),1&p.mode&&ms(o,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(u),t.updateQueue=g}else v.add(u);break e}if(0===(1&t)){ms(o,c,t),mu();break e}u=Error(a(426))}else if(aa&&1&l.mode){var m=ys(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),bs(m,s,l,0,t),va(hs(u,l));break e}}o=u=hs(u,l),4!==Dl&&(Dl=2),null===Hl?Hl=[o]:Hl.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vs(0,u,t));break e;case 1:l=u;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,gs(o,l,t));break e}}o=o.return}while(null!==o)}wu(n)}catch(x){t=x,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function gu(){var e=Tl.current;return Tl.current=ss,null===e?ss:e}function mu(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ol||0===(268435455&Ul)&&0===(268435455&Bl)||uu(Ol,Ll)}function yu(e,t){var n=Pl;Pl|=2;var r=gu();for(Ol===e&&Ll===t||(Wl=null,pu(e,t));;)try{bu();break}catch(i){vu(e,i)}if(wa(),Pl=n,Tl.current=r,null!==Rl)throw Error(a(261));return Ol=null,Ll=0,Dl}function bu(){for(;null!==Rl;)ku(Rl)}function xu(){for(;null!==Rl&&!Je();)ku(Rl)}function ku(e){var t=_l(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?wu(e):Rl=t,Cl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Nl)))return void(Rl=n)}else{if(null!==(n=Js(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Dl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Dl&&(Dl=5)}function Su(e,t,n){var r=xt,i=Al.transition;try{Al.transition=null,xt=1,function(e,t,n,r){do{Eu()}while(null!==Jl);if(0!==(6&Pl))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ol&&(Rl=Ol=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,Ou(nt,(function(){return Eu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Al.transition,Al.transition=null;var s=xt;xt=1;var l=Pl;Pl|=4,Cl.current=null,function(e,t){if(ti=Wt,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=s+i),f!==o||0!==r&&3!==f.nodeType||(u=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(l=s),d===o&&++h===r&&(u=s),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Wt=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ma(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(k){Mu(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}v=rl,rl=!1}(e,n),yl(n,e),vr(ni),Wt=!!ti,ni=ti=null,e.current=n,xl(n,e,i),Ze(),Pl=l,xt=s,Al.transition=o}else e.current=n;if(Kl&&(Kl=!1,Jl=e,Zl=i),o=e.pendingLanes,0===o&&(Yl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),au(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xl)throw Xl=!1,e=ql,ql=null,e;0!==(1&Zl)&&0!==e.tag&&Eu(),o=e.pendingLanes,0!==(1&o)?e===$l?Ql++:(Ql=0,$l=e):Ql=0,ji()}(e,t,n,r)}finally{Al.transition=i,xt=r}return null}function Eu(){if(null!==Jl){var e=kt(Zl),t=Al.transition,n=xt;try{if(Al.transition=null,xt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Zl=0,0!==(6&Pl))throw Error(a(331));var i=Pl;for(Pl|=4,el=e.current;null!==el;){var o=el,s=o.child;if(0!==(16&el.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(el=c;null!==el;){var h=el;switch(h.tag){case 0:case 11:case 15:il(8,h,o)}var f=h.child;if(null!==f)f.return=h,el=f;else for(;null!==el;){var d=(h=el).sibling,p=h.return;if(sl(h),h===c){el=null;break}if(null!==d){d.return=p,el=d;break}el=p}}}var v=o.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}el=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,el=s;else e:for(;null!==el;){if(0!==(2048&(o=el).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,el=y;break e}el=o.return}}var b=e.current;for(el=b;null!==el;){var x=(s=el).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,el=x;else e:for(s=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:al(9,l)}}catch(w){Mu(l,l.return,w)}if(l===s){el=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,el=k;break e}el=l.return}}if(Pl=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(w){}r=!0}return r}finally{xt=n,Al.transition=t}}return!1}function _u(e,t,n){e=Ia(e,t=vs(0,t=hs(n,t),1),1),t=nu(),null!==e&&(yt(e,1,t),au(e,t))}function Mu(e,t,n){if(3===e.tag)_u(e,e,n);else for(;null!==t;){if(3===t.tag){_u(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Yl||!Yl.has(r))){t=Ia(t,e=gs(t,e=hs(n,e),1),1),e=nu(),null!==t&&(yt(t,1,e),au(t,e));break}}t=t.return}}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nu(),e.pingedLanes|=e.suspendedLanes&n,Ol===e&&(Ll&n)===n&&(4===Dl||3===Dl&&(130023424&Ll)===Ll&&500>Qe()-jl?pu(e,0):zl|=n),au(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=nu();null!==(e=Pa(e,t))&&(yt(e,t,n),au(e,n))}function Au(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Pu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cu(e,n)}function Ou(e,t){return Ye(e,t)}function Ru(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lu(e,t,n,r){return new Ru(e,t,n,r)}function Nu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=Lu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Du(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Nu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Fu(n.children,i,o,t);case _:s=8,i|=8;break;case M:return(e=Lu(12,n,t,2|i)).elementType=M,e.lanes=o,e;case P:return(e=Lu(13,n,t,i)).elementType=P,e.lanes=o,e;case O:return(e=Lu(19,n,t,i)).elementType=O,e.lanes=o,e;case N:return Uu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case A:s=11;break e;case R:s=14;break e;case L:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Lu(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fu(e,t,n,r){return(e=Lu(7,e,r,t)).lanes=n,e}function Uu(e,t,n,r){return(e=Lu(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Lu(6,e,null,t)).lanes=n,e}function zu(e,t,n){return(t=Lu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gu(e,t,n,r,i,a,o,s,l){return e=new Hu(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Lu(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function ju(e){if(!e)return Ci;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return Di(e,n,t)}return t}function Vu(e,t,n,r,i,a,o,s,l){return(e=Gu(n,r,!0,e,0,a,0,s,l)).context=ju(null),n=e.current,(a=Na(r=nu(),i=ru(n))).callback=void 0!==t&&null!==t?t:null,Ia(n,a,i),e.current.lanes=i,yt(e,i,r),au(e,r),e}function Wu(e,t,n,r){var i=t.current,a=nu(),o=ru(i);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Na(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ia(i,t,o))&&(iu(e,i,o,a),Da(e,i,o)),o}function Xu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Yu(e,t){qu(e,t),(e=e.alternate)&&qu(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pi.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Os(t),pa();break;case 5:oo(t);break;case 1:Li(t.type)&&Fi(t);break;case 4:io(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(lo,1&lo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Bs(e,t,n):(Ti(lo,1&lo.current),null!==(e=Xs(e,t,n))?e.sibling:null);Ti(lo,1&lo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(lo,lo.current),r)break;return null;case 22:case 23:return t.lanes=0,Ms(e,t,n)}return Xs(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,aa&&0!==(1048576&t.flags)&&ea(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ri(t,Ai.current);_a(t,n),i=_o(null,t,r,e,i,n);var o=Mo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=Ga,t.stateNode=i,i._reactInternals=t,Xa(t,r,e,n),t=Ps(null,t,r,!0,o,n)):(t.tag=0,aa&&o&&ta(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===R)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Cs(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),Ua(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Rs(e,t,r,n,i=hs(Error(a(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=hs(Error(a(424)),t));break e}for(ia=ci(t.stateNode.containerInfo.firstChild),ra=t,aa=!0,oa=null,n=Qa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pa(),r===i){t=Xs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return oo(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ri(r,i)?s=null:null!==o&&ri(r,o)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Bs(e,t,n);case 4:return io(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Za(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ya,r._currentValue),r._currentValue=s,null!==o)if(lr(o.value,s)){if(o.children===i.children&&!Pi.current){t=Xs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Na(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Ea(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ea(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Ma(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),Es(e,t,r,i=ma(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Ws(e,t),t.tag=1,Li(r)?(e=!0,Fi(t)):e=!1,_a(t,n),Va(t,r,i),Xa(t,r,i,n),Ps(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Ms(e,t,n)}throw Error(a(156,t.tag))};var Ku="function"===typeof reportError?reportError:function(e){console.error(e)};function Ju(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ec(){}function tc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=Xu(o);s.call(e)}}Wu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Xu(o);a.call(e)}}var o=Vu(t,r,e,0,null,!1,0,"",ec);return e._reactRootContainer=o,e[vi]=o.current,jr(8===e.nodeType?e.parentNode:e),fu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Xu(l);s.call(e)}}var l=Gu(e,0,!1,null,0,!1,0,"",ec);return e._reactRootContainer=l,e[vi]=l.current,jr(8===e.nodeType?e.parentNode:e),fu((function(){Wu(t,l,n,r)})),l}(n,t,e,i,r);return Xu(o)}Zu.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wu(e,t,null,null)},Zu.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fu((function(){Wu(null,e,null,null)})),t[vi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(bt(t,1|n),au(t,Qe()),0===(6&Pl)&&(Vl=Qe()+500,ji()))}break;case 13:fu((function(){var t=Pa(e,1);if(null!==t){var n=nu();iu(t,e,1,n)}})),Yu(e,1)}},St=function(e){if(13===e.tag){var t=Pa(e,134217728);if(null!==t)iu(t,e,134217728,nu());Yu(e,134217728)}},Et=function(e){if(13===e.tag){var t=ru(e),n=Pa(e,t);if(null!==n)iu(n,e,t,nu());Yu(e,t)}},_t=function(){return xt},Mt=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},Se=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));Y(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Ae=hu,Pe=fu;var nc={usingClientEntryPoint:!1,Events:[xi,ki,wi,Te,Ce,hu]},rc={findFiberByHostInstance:bi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ic={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(ic),ot=ac}catch(he){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qu(e))throw Error(a(299));var n=!1,r="",i=Ku;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Gu(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Ju(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return fu(e)},t.hydrate=function(e,t,n){if(!$u(t))throw Error(a(200));return tc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qu(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Ku;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vu(t,null,e,1,null!=n?n:null,i,0,o,s),e[vi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Zu(t)},t.render=function(e,t,n){if(!$u(t))throw Error(a(200));return tc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$u(e))throw Error(a(40));return!!e._reactRootContainer&&(fu((function(){tc(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=hu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$u(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return tc(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},296:function(e,t,n){"use strict";var r=n(879);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},879:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(713)},286:function(e,t,n){"use strict";var r=n(198),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,a={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:a,_owner:s.current}}t.Fragment=a,t.jsx=u,t.jsxs=u},649:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var x=b.prototype=new y;x.constructor=b,v(x,m.prototype),x.isPureReactComponent=!0;var k=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!E.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+C(l,0):a,k(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(M(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",k(e))for(var u=0;u<e.length;u++){var c=a+C(s=e[u],u);l+=A(s,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=A(s=s.value,t,i,c=a+C(s,u++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},N={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!E.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},198:function(e,t,n){"use strict";e.exports=n(649)},582:function(e,t,n){"use strict";e.exports=n(286)},361:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<i&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function k(e){if(g=!1,x(e),!v)if(null!==r(u))v=!0,L(w);else{var t=r(c);null!==t&&N(k,t.startTime-e)}}function w(e,n){v=!1,g&&(g=!1,y(M),M=-1),p=!0;var a=d;try{for(x(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!A());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(u)&&i(u),x(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var h=r(c);null!==h&&N(k,h.startTime-n),l=!1}return l}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,_=null,M=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function P(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?S():(E=!1,_=null)}}else E=!1}if("function"===typeof b)S=function(){b(P)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,R=O.port2;O.port1.onmessage=P,S=function(){R.postMessage(null)}}else S=function(){m(P,0)};function L(e){_=e,E||(E=!0,S())}function N(e,n){M=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(g?(y(M),M=-1):g=!0,N(k,a-o))):(e.sortIndex=s,n(u,e),v||p||(v=!0,L(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},356:function(e,t,n){"use strict";e.exports=n(361)},256:function(){},580:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,a(n)))}return e}function a(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="./",function(){"use strict";var e={};n.r(e),n.d(e,{ArcCurve:function(){return pf},CatmullRomCurve3:function(){return xf},CubicBezierCurve:function(){return Ef},CubicBezierCurve3:function(){return _f},EllipseCurve:function(){return df},LineCurve:function(){return Mf},LineCurve3:function(){return Tf},QuadraticBezierCurve:function(){return Cf},QuadraticBezierCurve3:function(){return Af},SplineCurve:function(){return Pf}});var t={};n.r(t),n.d(t,{dot:function(){return WA},doubleMesh:function(){return YA},fixedDot:function(){return XA},mesh:function(){return qA}});var r={};n.r(r),n.d(r,{flipX:function(){return QA},flipXY:function(){return eP},flipY:function(){return $A},watermark:function(){return tP}});var i={};n.r(i),n.d(i,{blur:function(){return oP},brightness:function(){return dP},contrast:function(){return pP},dropShadow:function(){return sP},grayScale:function(){return lP},highlight:function(){return aP},hueRotate:function(){return hP},invert:function(){return fP},outline:function(){return iP},saturate:function(){return cP},sepia:function(){return uP}});var a={};n.r(a),n.d(a,{async:function(){return EO},block:function(){return dO},circle:function(){return MO},circlePlus:function(){return TO},classic:function(){return pO},cross:function(){return wO},diamond:function(){return yO},ellipse:function(){return AO},path:function(){return xO}});var o={};n.r(o),n.d(o,{annotations:function(){return $P},atConnectionLength:function(){return jO},atConnectionLengthIgnoreGradient:function(){return zO},atConnectionLengthKeepGradient:function(){return BO},atConnectionRatio:function(){return VO},atConnectionRatioIgnoreGradient:function(){return GO},atConnectionRatioKeepGradient:function(){return HO},connection:function(){return UO},displayEmpty:function(){return tO},eol:function(){return eO},fill:function(){return WP},filter:function(){return uO},html:function(){return lO},lineHeight:function(){return JP},port:function(){return cO},ref:function(){return gP},refCx:function(){return TP},refCy:function(){return CP},refD:function(){return NP},refDKeepOffset:function(){return PP},refDResetOffset:function(){return AP},refDx:function(){return bP},refDy:function(){return xP},refHeight:function(){return wP},refHeight2:function(){return BP},refPoints:function(){return IP},refPointsKeepOffset:function(){return RP},refPointsResetOffset:function(){return OP},refR:function(){return LP},refRCircumscribed:function(){return MP},refRInscribed:function(){return _P},refRx:function(){return SP},refRy:function(){return EP},refWidth:function(){return kP},refWidth2:function(){return UP},refX:function(){return mP},refX2:function(){return DP},refY:function(){return yP},refY2:function(){return FP},resetOffset:function(){return aO},sourceMarker:function(){return RO},stroke:function(){return XP},style:function(){return sO},targetMarker:function(){return LO},text:function(){return qP},textPath:function(){return QP},textVerticalAnchor:function(){return ZP},textWrap:function(){return YP},title:function(){return nO},vertexMarker:function(){return NO},xAlign:function(){return rO},yAlign:function(){return iO}});var s={};n.r(s),n.d(s,{className:function(){return KO},opacity:function(){return ZO},stroke:function(){return tR}});var l={};n.r(l),n.d(l,{absolute:function(){return iR},bottom:function(){return pR},ellipse:function(){return aR},ellipseSpread:function(){return oR},left:function(){return hR},line:function(){return cR},right:function(){return fR},top:function(){return dR}});var u={};n.r(u),n.d(u,{bottom:function(){return wR},inside:function(){return _R},insideOriented:function(){return MR},left:function(){return bR},manual:function(){return yR},outside:function(){return SR},outsideOriented:function(){return ER},radial:function(){return OR},radialOriented:function(){return RR},right:function(){return xR},top:function(){return kR}});var c={};n.r(c),n.d(c,{noop:function(){return WR},pinAbsolute:function(){return JR},pinRelative:function(){return KR}});var f={};n.r(f),n.d(f,{bottom:function(){return mL},bottomLeft:function(){return wL},bottomRight:function(){return SL},center:function(){return vL},left:function(){return yL},midSide:function(){return PL},nodeCenter:function(){return AL},orth:function(){return CL},right:function(){return bL},top:function(){return gL},topLeft:function(){return xL},topRight:function(){return kL}});var d={};n.r(d),n.d(d,{closest:function(){return IL},length:function(){return LL},orth:function(){return DL},ratio:function(){return RL}});var p={};n.r(p),n.d(p,{anchor:function(){return jL},bbox:function(){return BL},boundary:function(){return HL},rect:function(){return zL}});var v={};n.r(v),n.d(v,{er:function(){return xN},loop:function(){return SN},manhattan:function(){return mN},metro:function(){return bN},normal:function(){return VL},oneSide:function(){return WL},orth:function(){return ZL}});var g={};n.r(g),n.d(g,{jumpover:function(){return DN},loop:function(){return TN},normal:function(){return MN},rounded:function(){return CN},smooth:function(){return AN}});var m=n(198),y=n.t(m,2),b=n(296);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function k(){k=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),s=new R(r||[]);return i(o,"_invoke",{value:C(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",g={};function m(){}function y(){}function b(){}var w={};u(w,o,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(L([])));E&&E!==n&&r.call(E,o)&&(w=E);var _=b.prototype=m.prototype=Object.create(w);function M(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,a,o,s){var l=h(e[i],e,a);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==x(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(c).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,s)}))}s(l.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function C(t,n,r){var i=f;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var l=A(s,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var u=h(t,n,r);if("normal"===u.type){if(i=r.done?v:d,u.arg===g)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(i=v,r.method="throw",r.arg=u.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(x(t)+" is not iterable")}return y.prototype=b,i(_,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:y,configurable:!0}),y.displayName=u(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,l,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},M(T.prototype),u(T.prototype,s,(function(){return this})),t.AsyncIterator=T,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new T(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},M(_),u(_,l,"Generator"),u(_,o,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=L,R.prototype={constructor:R,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(l&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function w(e,t,n,r,i,a,o){try{var s=e[a](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){w(a,r,i,o,s,"next",e)}function s(e){w(a,r,i,o,s,"throw",e)}o(void 0)}))}}function E(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E(r.key),r)}}function M(e,t,n){return t&&_(e.prototype,t),n&&_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e){if(Array.isArray(e))return e}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if(e){if("string"==typeof e)return A(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function R(e,t){return C(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||P(e,t)||O()}var L,N=n(879),I=n.t(N,2);function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}function F(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F=function(){return!!e})()}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}function z(e,t,n){return t=D(t),B(e,F()?Reflect.construct(t,n||[],D(e).constructor):t.apply(e,n))}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function G(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H(e,t)}function j(e,t,n){return(t=E(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t="function"==typeof Map?new Map:void 0;return V=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(F())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&H(i,n.prototype),i}(e,arguments,D(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),H(n,e)},V(e)}function W(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function X(e){return C(e)||W(e)||P(e)||O()}function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function Y(e){return function(e){if(Array.isArray(e))return A(e)}(e)||W(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(L||(L={}));var J,Z="popstate";function Q(e){return void 0===e&&(e={}),ae((function(e,t){var n=ie(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash,l=void 0===s?"":s;return i.startsWith("/")||i.startsWith(".")||(i="/"+i),ne("",{pathname:i,search:o,hash:l},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:re(t))}),(function(e,t){ee("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}function $(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ee(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function te(e,t){return{usr:e.state,key:e.key,idx:t}}function ne(e,t,n,r){return void 0===n&&(n=null),K({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ie(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function re(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function ie(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function ae(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,l=void 0!==s&&s,u=o.history,c=L.Pop,h=null,f=d();function d(){return(u.state||{idx:null}).idx}function p(){c=L.Pop;var e=d(),t=null==e?null:e-f;f=e,h&&h({action:c,location:g.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:re(e);return $(t,"No window.location.(origin|href) available to create URL for href: "+(n=n.replace(/ $/,"%20"))),new URL(n,t)}null==f&&(f=0,u.replaceState(K({},u.state,{idx:f}),""));var g={get action(){return c},get location(){return e(o,u)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Z,p),h=e,function(){o.removeEventListener(Z,p),h=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){c=L.Push;var r=ne(g.location,e,t);n&&n(r,e);var i=te(r,f=d()+1),a=g.createHref(r);try{u.pushState(i,"",a)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;o.location.assign(a)}l&&h&&h({action:c,location:g.location,delta:1})},replace:function(e,t){c=L.Replace;var r=ne(g.location,e,t);n&&n(r,e);var i=te(r,f=d()),a=g.createHref(r);u.replaceState(i,"",a),l&&h&&h({action:c,location:g.location,delta:0})},go:function(e){return u.go(e)}};return g}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(J||(J={}));var oe=new Set(["lazy","caseSensitive","path","id","index","children"]);function se(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map((function(e,i){var a=[].concat(Y(n),[i]),o="string"===typeof e.id?e.id:a.join("-");if($(!0!==e.index||!e.children,"Cannot specify children on an index route"),$(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),function(e){return!0===e.index}(e)){var s=K({},e,t(e),{id:o});return r[o]=s,s}var l=K({},e,t(e),{id:o,children:void 0});return r[o]=l,e.children&&(l.children=se(e.children,t,a,r)),l}))}function le(e,t,n){void 0===n&&(n="/");var r=we(("string"===typeof t?ie(t):t).pathname||"/",n);if(null==r)return null;var i=ue(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o){var s=ke(r);a=be(i[o],s)}return a}function ue(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&($(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=Me([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&($(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),ue(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:ye(s,e.index),routesMeta:l})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=q(ce(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function ce(e){var t=e.split("/");if(0===t.length)return[];var n=X(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var s=ce(i.join("/")),l=[];return l.push.apply(l,Y(s.map((function(e){return""===e?o:[o,e].join("/")})))),a&&l.push.apply(l,Y(s)),l.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var he=/^:[\w-]+$/,fe=3,de=2,pe=1,ve=10,ge=-2,me=function(e){return"*"===e};function ye(e,t){var n=e.split("/"),r=n.length;return n.some(me)&&(r+=ge),t&&(r+=de),n.filter((function(e){return!me(e)})).reduce((function(e,t){return e+(he.test(t)?fe:""===t?pe:ve)}),r)}function be(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],l=o===n.length-1,u="/"===i?t:t.slice(i.length)||"/",c=xe({path:s.relativePath,caseSensitive:s.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);var h=s.route;a.push({params:r,pathname:Me([i,c.pathname]),pathnameBase:Te(Me([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=Me([i,c.pathnameBase]))}return a}function xe(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ee("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(function(e,t,n){return r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"}));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=R(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),u=o.slice(1),c=a.reduce((function(e,t,n){var r=t.paramName,i=t.isOptional;if("*"===r){var a=u[n]||"";l=s.slice(0,s.length-a.length).replace(/(.)\/+$/,"$1")}var o=u[n];return e[r]=i&&!o?void 0:(o||"").replace(/%2F/g,"/"),e}),{});return{params:c,pathname:s,pathnameBase:l,pattern:e}}function ke(e){try{return e.split("/").map((function(e){return decodeURIComponent(e).replace(/\//g,"%2F")})).join("/")}catch(t){return ee(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function we(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Se(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Ee(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function _e(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=ie(e):($(!(i=K({},e)).pathname||!i.pathname.includes("?"),Se("?","pathname","search",i)),$(!i.pathname||!i.pathname.includes("#"),Se("#","pathname","hash",i)),$(!i.search||!i.search.includes("#"),Se("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(null==s)a=n;else{var l=t.length-1;if(!r&&s.startsWith("..")){for(var u=s.split("/");".."===u[0];)u.shift(),l-=1;i.pathname=u.join("/")}a=l>=0?t[l]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?ie(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,l=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:l,search:Ce(a),hash:Ae(s)}}(i,a),h=s&&"/"!==s&&s.endsWith("/"),f=(o||"."===s)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!f||(c.pathname+="/"),c}var Me=function(e){return e.join("/").replace(/\/\/+/g,"/")},Te=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Ce=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Ae=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},Pe=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(V(Error));var Oe=M((function e(t,n,r,i){T(this,e),void 0===i&&(i=!1),this.status=t,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}));function Re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Le=["post","put","patch","delete"],Ne=new Set(Le),Ie=["get"].concat(Le),De=new Set(Ie),Fe=new Set([301,302,303,307,308]),Ue=new Set([307,308]),Be={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ze={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},He={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ge=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,je=function(e){return{hasErrorBoundary:Boolean(e.hasErrorBoundary)}},Ve="remix-router-transitions";function We(e){var t,n=e.window?e.window:"undefined"!==typeof window?window:void 0,r="undefined"!==typeof n&&"undefined"!==typeof n.document&&"undefined"!==typeof n.document.createElement,i=!r;if($(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)t=e.mapRouteProperties;else if(e.detectErrorBoundary){var a=e.detectErrorBoundary;t=function(e){return{hasErrorBoundary:a(e)}}}else t=je;var o,s,l={},u=se(e.routes,t,void 0,l),c=e.basename||"/",h=K({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),f=null,d=new Set,p=null,v=null,g=null,m=null!=e.hydrationData,y=le(u,e.history.location,c),b=null;if(null==y){var x=ct(404,{pathname:e.history.location.pathname}),w=ut(u);y=w.matches,b=j({},w.route.id,x)}var E,_=y.some((function(e){return e.route.lazy})),M=y.some((function(e){return e.route.loader}));if(_)s=!1;else if(M)if(h.v7_partialHydration){var T=e.hydrationData?e.hydrationData.loaderData:null,C=e.hydrationData?e.hydrationData.errors:null,A=function(e){return!e.route.loader||!0!==e.route.loader.hydrate&&(T&&void 0!==T[e.route.id]||C&&void 0!==C[e.route.id])};if(C){var P=y.findIndex((function(e){return void 0!==C[e.route.id]}));s=y.slice(0,P+1).every(A)}else s=y.every(A)}else s=null!=e.hydrationData;else s=!0;var O,N={historyAction:e.history.action,location:e.history.location,matches:y,initialized:s,navigation:Be,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||b,fetchers:new Map,blockers:new Map},I=L.Pop,D=!1,F=!1,U=new Map,B=null,z=!1,H=!1,G=[],V=[],W=new Map,X=0,Z=-1,Q=new Map,te=new Set,re=new Map,ie=new Map,ae=new Set,oe=new Map,ue=new Map,ce=!1;function he(e,t){void 0===t&&(t={}),N=K({},N,e);var n=[],r=[];h.v7_fetcherPersist&&N.fetchers.forEach((function(e,t){"idle"===e.state&&(ae.has(t)?r.push(t):n.push(t))})),Y(d).forEach((function(e){return e(N,{deletedFetchers:r,unstable_viewTransitionOpts:t.viewTransitionOpts,unstable_flushSync:!0===t.flushSync})})),h.v7_fetcherPersist&&(n.forEach((function(e){return N.fetchers.delete(e)})),r.forEach((function(e){return Re(e)})))}function fe(t,n,r){var i,a,s,l=(void 0===r?{}:r).flushSync,c=null!=N.actionData&&null!=N.navigation.formMethod&&xt(N.navigation.formMethod)&&"loading"===N.navigation.state&&!0!==(null==(i=t.state)?void 0:i._isRedirect);s=n.actionData?Object.keys(n.actionData).length>0?n.actionData:null:c?N.actionData:null;var h=n.loaderData?st(N.loaderData,n.loaderData,n.matches||[],n.errors):N.loaderData,f=N.blockers;f.size>0&&(f=new Map(f)).forEach((function(e,t){return f.set(t,He)}));var d,p=!0===D||null!=N.navigation.formMethod&&xt(N.navigation.formMethod)&&!0!==(null==(a=t.state)?void 0:a._isRedirect);if(o&&(u=o,o=void 0),z||I===L.Pop||(I===L.Push?e.history.push(t,t.state):I===L.Replace&&e.history.replace(t,t.state)),I===L.Pop){var v=U.get(N.location.pathname);v&&v.has(t.pathname)?d={currentLocation:N.location,nextLocation:t}:U.has(t.pathname)&&(d={currentLocation:t,nextLocation:N.location})}else if(F){var g=U.get(N.location.pathname);g?g.add(t.pathname):(g=new Set([t.pathname]),U.set(N.location.pathname,g)),d={currentLocation:N.location,nextLocation:t}}he(K({},n,{actionData:s,loaderData:h,historyAction:I,location:t,initialized:!0,navigation:Be,revalidation:"idle",restoreScrollPosition:$e(t,n.matches||N.matches),preventScrollReset:p,blockers:f}),{viewTransitionOpts:d,flushSync:!0===l}),I=L.Pop,D=!1,F=!1,z=!1,H=!1,G=[],V=[]}function de(e,t){return pe.apply(this,arguments)}function pe(){return pe=S(k().mark((function t(n,r){var i,a,o,s,l,u,f,d,p,v,g,m;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(i=Xe(N.location,N.matches,c,h.v7_prependBasename,n,h.v7_relativeSplatPath,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),a=qe(h.v7_normalizeFormMethod,!1,i,r),o=a.path,s=a.submission,l=a.error,u=N.location,f=K({},f=ne(N.location,o,r&&r.state),e.history.encodeLocation(f)),d=r&&null!=r.replace?r.replace:void 0,p=L.Push,!0===d?p=L.Replace:!1===d||null!=s&&xt(s.formMethod)&&s.formAction===N.location.pathname+N.location.search&&(p=L.Replace),v=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,g=!0===(r&&r.unstable_flushSync),!(m=Ye({currentLocation:u,nextLocation:f,historyAction:p}))){t.next=17;break}return We(m,{state:"blocked",location:f,proceed:function(){We(m,{state:"proceeding",proceed:void 0,reset:void 0,location:f}),de(n,r)},reset:function(){var e=new Map(N.blockers);e.set(m,He),he({blockers:e})}}),t.abrupt("return");case 17:return t.next=19,ve(p,f,{submission:s,pendingError:l,preventScrollReset:v,replace:r&&r.replace,enableViewTransition:r&&r.unstable_viewTransition,flushSync:g});case 19:return t.abrupt("return",t.sent);case 20:case"end":return t.stop()}}),t)}))),pe.apply(this,arguments)}function ve(e,t,n){return ge.apply(this,arguments)}function ge(){return ge=S(k().mark((function t(n,r,i){var a,s,l,h,f,d,p,v,g,m,y,b,x,w,S,E;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O&&O.abort(),O=null,I=n,z=!0===(i&&i.startUninterruptedRevalidation),Qe(N.location,N.matches),D=!0===(i&&i.preventScrollReset),F=!0===(i&&i.enableViewTransition),a=o||u,s=i&&i.overrideNavigation,l=le(a,r,c),h=!0===(i&&i.flushSync),l){t.next=17;break}return f=ct(404,{pathname:r.pathname}),d=ut(a),p=d.matches,v=d.route,Je(),fe(r,{matches:p,loaderData:{},errors:j({},v.id,f)},{flushSync:h}),t.abrupt("return");case 17:if(!N.initialized||H||!dt(N.location,r)||i&&i.submission&&xt(i.submission.formMethod)){t.next=20;break}return fe(r,{matches:l},{flushSync:h}),t.abrupt("return");case 20:if(O=new AbortController,g=nt(e.history,r,O.signal,i&&i.submission),!i||!i.pendingError){t.next=26;break}y=j({},lt(l).route.id,i.pendingError),t.next=37;break;case 26:if(!(i&&i.submission&&xt(i.submission.formMethod))){t.next=37;break}return t.next=29,me(g,r,i.submission,l,{replace:i.replace,flushSync:h});case 29:if(!(b=t.sent).shortCircuited){t.next=32;break}return t.abrupt("return");case 32:m=b.pendingActionData,y=b.pendingActionError,s=Ct(r,i.submission),h=!1,g=new Request(g.url,{signal:g.signal});case 37:return t.next=39,be(g,r,l,s,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,i&&!0===i.initialHydration,h,m,y);case 39:if(x=t.sent,w=x.shortCircuited,S=x.loaderData,E=x.errors,!w){t.next=45;break}return t.abrupt("return");case 45:O=null,fe(r,K({matches:l},m?{actionData:m}:{},{loaderData:S,errors:E}));case 47:case"end":return t.stop()}}),t)}))),ge.apply(this,arguments)}function me(e,t,n,r,i){return ye.apply(this,arguments)}function ye(){return ye=S(k().mark((function e(n,r,i,a,o){var s,u,f,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o={}),Ce(),he({navigation:At(r,i)},{flushSync:!0===o.flushSync}),(u=Mt(a,r)).route.action||u.route.lazy){e.next=9;break}s={type:J.error,error:ct(405,{method:n.method,pathname:r.pathname,routeId:u.route.id})},e.next=14;break;case 9:return e.next=11,et("action",n,u,a,l,t,c,h.v7_relativeSplatPath);case 11:if(s=e.sent,!n.signal.aborted){e.next=14;break}return e.abrupt("return",{shortCircuited:!0});case 14:if(!gt(s)){e.next=19;break}return f=o&&null!=o.replace?o.replace:s.location===N.location.pathname+N.location.search,e.next=18,Ee(N,s,{submission:i,replace:f});case 18:return e.abrupt("return",{shortCircuited:!0});case 19:if(!vt(s)){e.next=23;break}return d=lt(a,u.route.id),!0!==(o&&o.replace)&&(I=L.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:j({},d.route.id,s.error)});case 23:if(!pt(s)){e.next=25;break}throw ct(400,{type:"defer-action"});case 25:return e.abrupt("return",{pendingActionData:j({},u.route.id,s.data)});case 26:case"end":return e.stop()}}),e)}))),ye.apply(this,arguments)}function be(e,t,n,r,i,a,o,s,l,u,c){return xe.apply(this,arguments)}function xe(){return xe=S(k().mark((function t(n,r,i,a,s,l,f,d,p,v,g){var m,y,b,x,w,S,E,_,M,T,C,A,P,L,I,D,F,U,B,q,Y,J;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(m=a||Ct(r,s),y=s||l||Tt(m),b=o||u,x=Ke(e.history,N,i,y,r,h.v7_partialHydration&&!0===d,H,G,V,ae,re,te,b,c,v,g),w=R(x,2),S=w[0],E=w[1],Je((function(e){return!(i&&i.some((function(t){return t.route.id===e})))||S&&S.some((function(t){return t.route.id===e}))})),Z=++X,0!==S.length||0!==E.length){t.next=10;break}return _=Ie(),fe(r,K({matches:i,loaderData:{},errors:g||null},v?{actionData:v}:{},_?{fetchers:new Map(N.fetchers)}:{}),{flushSync:p}),t.abrupt("return",{shortCircuited:!0});case 10:return z||h.v7_partialHydration&&d||(E.forEach((function(e){var t=N.fetchers.get(e.key),n=Pt(void 0,t?t.data:void 0);N.fetchers.set(e.key,n)})),M=v||N.actionData,he(K({navigation:m},M?0===Object.keys(M).length?{actionData:null}:{actionData:M}:{},E.length>0?{fetchers:new Map(N.fetchers)}:{}),{flushSync:p})),E.forEach((function(e){W.has(e.key)&&Le(e.key),e.controller&&W.set(e.key,e.controller)})),T=function(){return E.forEach((function(e){return Le(e.key)}))},O&&O.signal.addEventListener("abort",T),t.next=16,Me(N.matches,i,S,E,n);case 16:if(C=t.sent,A=C.results,P=C.loaderResults,L=C.fetcherResults,!n.signal.aborted){t.next=22;break}return t.abrupt("return",{shortCircuited:!0});case 22:if(O&&O.signal.removeEventListener("abort",T),E.forEach((function(e){return W.delete(e.key)})),!(I=ht(A))){t.next=30;break}return I.idx>=S.length&&(D=E[I.idx-S.length].key,te.add(D)),t.next=29,Ee(N,I.result,{replace:f});case 29:return t.abrupt("return",{shortCircuited:!0});case 30:return F=ot(N,i,S,P,g,E,L,oe),U=F.loaderData,B=F.errors,oe.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&oe.delete(t)}))})),h.v7_partialHydration&&d&&N.errors&&Object.entries(N.errors).filter((function(e){var t=R(e,1)[0];return!S.some((function(e){return e.route.id===t}))})).forEach((function(e){var t=R(e,2),n=t[0],r=t[1];B=Object.assign(B||{},j({},n,r))})),q=Ie(),Y=De(Z),J=q||Y||E.length>0,t.abrupt("return",K({loaderData:U,errors:B},J?{fetchers:new Map(N.fetchers)}:{}));case 37:case"end":return t.stop()}}),t)}))),xe.apply(this,arguments)}function ke(){return ke=S(k().mark((function n(r,i,a,s,f,d,p){var v,g,m,y,b,x,w,S,E,_,M,T,C,A,P,L,D,F,U,B,z,q,Y,K,J,ee,ne;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Ce(),re.delete(r),s.route.action||s.route.lazy){n.next=6;break}return v=ct(405,{method:p.formMethod,pathname:a,routeId:i}),Pe(r,i,v,{flushSync:d}),n.abrupt("return");case 6:return g=N.fetchers.get(r),Ae(r,Ot(p,g),{flushSync:d}),m=new AbortController,y=nt(e.history,a,m.signal,p),W.set(r,m),b=X,n.next=14,et("action",y,s,f,l,t,c,h.v7_relativeSplatPath);case 14:if(x=n.sent,!y.signal.aborted){n.next=18;break}return W.get(r)===m&&W.delete(r),n.abrupt("return");case 18:if(!h.v7_fetcherPersist||!ae.has(r)){n.next=24;break}if(!gt(x)&&!vt(x)){n.next=22;break}return Ae(r,Rt(void 0)),n.abrupt("return");case 22:n.next=37;break;case 24:if(!gt(x)){n.next=34;break}if(W.delete(r),!(Z>b)){n.next=31;break}return Ae(r,Rt(void 0)),n.abrupt("return");case 31:return te.add(r),Ae(r,Pt(p)),n.abrupt("return",Ee(N,x,{fetcherSubmission:p}));case 34:if(!vt(x)){n.next=37;break}return Pe(r,i,x.error),n.abrupt("return");case 37:if(!pt(x)){n.next=39;break}throw ct(400,{type:"defer-action"});case 39:return w=N.navigation.location||N.location,S=nt(e.history,w,m.signal),E=o||u,$(_="idle"!==N.navigation.state?le(E,N.navigation.location,c):N.matches,"Didn't find any matches after fetcher action"),M=++X,Q.set(r,M),T=Pt(p,x.data),N.fetchers.set(r,T),C=Ke(e.history,N,_,p,w,!1,H,G,V,ae,re,te,E,c,j({},s.route.id,x.data),void 0),A=R(C,2),P=A[0],(L=A[1]).filter((function(e){return e.key!==r})).forEach((function(e){var t=e.key,n=N.fetchers.get(t),r=Pt(void 0,n?n.data:void 0);N.fetchers.set(t,r),W.has(t)&&Le(t),e.controller&&W.set(t,e.controller)})),he({fetchers:new Map(N.fetchers)}),D=function(){return L.forEach((function(e){return Le(e.key)}))},m.signal.addEventListener("abort",D),n.next=55,Me(N.matches,_,P,L,S);case 55:if(F=n.sent,U=F.results,B=F.loaderResults,z=F.fetcherResults,!m.signal.aborted){n.next=61;break}return n.abrupt("return");case 61:if(m.signal.removeEventListener("abort",D),Q.delete(r),W.delete(r),L.forEach((function(e){return W.delete(e.key)})),!(q=ht(U))){n.next=69;break}return q.idx>=P.length&&(Y=L[q.idx-P.length].key,te.add(Y)),n.abrupt("return",Ee(N,q.result));case 69:K=ot(N,N.matches,P,B,void 0,L,z,oe),J=K.loaderData,ee=K.errors,N.fetchers.has(r)&&(ne=Rt(x.data),N.fetchers.set(r,ne)),De(M),"loading"===N.navigation.state&&M>Z?($(I,"Expected pending action"),O&&O.abort(),fe(N.navigation.location,{matches:_,loaderData:J,errors:ee,fetchers:new Map(N.fetchers)})):(he({errors:ee,loaderData:st(N.loaderData,J,_,ee),fetchers:new Map(N.fetchers)}),H=!1);case 73:case"end":return n.stop()}}),n)}))),ke.apply(this,arguments)}function Se(){return Se=S(k().mark((function n(r,i,a,o,s,u,f){var d,p,v,g,m;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d=N.fetchers.get(r),Ae(r,Pt(f,d?d.data:void 0),{flushSync:u}),p=new AbortController,v=nt(e.history,a,p.signal),W.set(r,p),g=X,n.next=8,et("loader",v,o,s,l,t,c,h.v7_relativeSplatPath);case 8:if(!pt(m=n.sent)){n.next=16;break}return n.next=12,St(m,v.signal,!0);case 12:if(n.t0=n.sent,n.t0){n.next=15;break}n.t0=m;case 15:m=n.t0;case 16:if(W.get(r)===p&&W.delete(r),!v.signal.aborted){n.next=19;break}return n.abrupt("return");case 19:if(!ae.has(r)){n.next=22;break}return Ae(r,Rt(void 0)),n.abrupt("return");case 22:if(!gt(m)){n.next=32;break}if(!(Z>g)){n.next=28;break}return Ae(r,Rt(void 0)),n.abrupt("return");case 28:return te.add(r),n.next=31,Ee(N,m);case 31:return n.abrupt("return");case 32:if(!vt(m)){n.next=35;break}return Pe(r,i,m.error),n.abrupt("return");case 35:$(!pt(m),"Unhandled fetcher deferred data"),Ae(r,Rt(m.data));case 37:case"end":return n.stop()}}),n)}))),Se.apply(this,arguments)}function Ee(e,t,n){return _e.apply(this,arguments)}function _e(){return _e=S(k().mark((function t(i,a,o){var s,l,u,h,f,d,p,v,g,m,y,b,x,w;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=(s=void 0===o?{}:o).submission,u=s.fetcherSubmission,h=s.replace,a.revalidate&&(H=!0),$(f=ne(i.location,a.location,{_isRedirect:!0}),"Expected a location on the redirect navigation"),!r){t.next=10;break}if(d=!1,a.reloadDocument?d=!0:Ge.test(a.location)&&(p=e.history.createURL(a.location),d=p.origin!==n.location.origin||null==we(p.pathname,c)),!d){t.next=10;break}return h?n.location.replace(a.location):n.location.assign(a.location),t.abrupt("return");case 10:if(O=null,v=!0===h?L.Replace:L.Push,g=i.navigation,m=g.formMethod,y=g.formAction,b=g.formEncType,!l&&!u&&m&&y&&b&&(l=Tt(i.navigation)),x=l||u,!(Ue.has(a.status)&&x&&xt(x.formMethod))){t.next=20;break}return t.next=18,ve(v,f,{submission:K({},x,{formAction:a.location}),preventScrollReset:D});case 18:t.next=23;break;case 20:return w=Ct(f,l),t.next=23,ve(v,f,{overrideNavigation:w,fetcherSubmission:u,preventScrollReset:D});case 23:case"end":return t.stop()}}),t)}))),_e.apply(this,arguments)}function Me(e,t,n,r,i){return Te.apply(this,arguments)}function Te(){return Te=S(k().mark((function n(r,i,a,o,s){var u,f,d;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([].concat(Y(a.map((function(e){return et("loader",s,e,i,l,t,c,h.v7_relativeSplatPath)}))),Y(o.map((function(n){return n.matches&&n.match&&n.controller?et("loader",nt(e.history,n.path,n.controller.signal),n.match,n.matches,l,t,c,h.v7_relativeSplatPath):{type:J.error,error:ct(404,{pathname:n.path})}})))));case 2:return u=n.sent,f=u.slice(0,a.length),d=u.slice(a.length),n.next=7,Promise.all([kt(r,a,f,f.map((function(){return s.signal})),!1,N.loaderData),kt(r,o.map((function(e){return e.match})),d,o.map((function(e){return e.controller?e.controller.signal:null})),!0)]);case 7:return n.abrupt("return",{results:u,loaderResults:f,fetcherResults:d});case 8:case"end":return n.stop()}}),n)}))),Te.apply(this,arguments)}function Ce(){var e;H=!0,(e=G).push.apply(e,Y(Je())),re.forEach((function(e,t){W.has(t)&&(V.push(t),Le(t))}))}function Ae(e,t,n){void 0===n&&(n={}),N.fetchers.set(e,t),he({fetchers:new Map(N.fetchers)},{flushSync:!0===(n&&n.flushSync)})}function Pe(e,t,n,r){void 0===r&&(r={});var i=lt(N.matches,t);Re(e),he({errors:j({},i.route.id,n),fetchers:new Map(N.fetchers)},{flushSync:!0===(r&&r.flushSync)})}function Oe(e){return h.v7_fetcherPersist&&(ie.set(e,(ie.get(e)||0)+1),ae.has(e)&&ae.delete(e)),N.fetchers.get(e)||ze}function Re(e){var t=N.fetchers.get(e);!W.has(e)||t&&"loading"===t.state&&Q.has(e)||Le(e),re.delete(e),Q.delete(e),te.delete(e),ae.delete(e),N.fetchers.delete(e)}function Le(e){var t=W.get(e);$(t,"Expected fetch controller: "+e),t.abort(),W.delete(e)}function Ne(e){var t,n=q(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=Rt(Oe(r).data);N.fetchers.set(r,i)}}catch(a){n.e(a)}finally{n.f()}}function Ie(){var e,t=[],n=!1,r=q(te);try{for(r.s();!(e=r.n()).done;){var i=e.value,a=N.fetchers.get(i);$(a,"Expected fetcher: "+i),"loading"===a.state&&(te.delete(i),t.push(i),n=!0)}}catch(o){r.e(o)}finally{r.f()}return Ne(t),n}function De(e){var t,n=[],r=q(Q);try{for(r.s();!(t=r.n()).done;){var i=R(t.value,2),a=i[0];if(i[1]<e){var o=N.fetchers.get(a);$(o,"Expected fetcher: "+a),"loading"===o.state&&(Le(a),Q.delete(a),n.push(a))}}}catch(s){r.e(s)}finally{r.f()}return Ne(n),n.length>0}function Fe(e){N.blockers.delete(e),ue.delete(e)}function We(e,t){var n=N.blockers.get(e)||He;$("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state);var r=new Map(N.blockers);r.set(e,t),he({blockers:r})}function Ye(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(0!==ue.size){ue.size>1&&ee(!1,"A router only supports one blocker at a time");var i=Array.from(ue.entries()),a=R(i[i.length-1],2),o=a[0],s=a[1],l=N.blockers.get(o);if(!l||"proceeding"!==l.state)return s({currentLocation:t,nextLocation:n,historyAction:r})?o:void 0}}function Je(e){var t=[];return oe.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),oe.delete(r))})),t}function Ze(e,t){if(v){var n=v(e,t.map((function(e){return function(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}(e,N.loaderData)})));return n||e.key}return e.key}function Qe(e,t){if(p&&g){var n=Ze(e,t);p[n]=g()}}function $e(e,t){if(p){var n=Ze(e,t),r=p[n];if("number"===typeof r)return r}return null}return E={get basename(){return c},get future(){return h},get state(){return N},get routes(){return u},get window(){return n},initialize:function(){if(f=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!ce){ee(0===ue.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var a=Ye({currentLocation:N.location,nextLocation:r,historyAction:n});return a&&null!=i?(ce=!0,e.history.go(-1*i),void We(a,{state:"blocked",location:r,proceed:function(){We(a,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){var e=new Map(N.blockers);e.set(a,He),he({blockers:e})}})):ve(n,r)}ce=!1})),r){!function(e,t){try{var n=e.sessionStorage.getItem(Ve);if(n)for(var r=JSON.parse(n),i=0,a=Object.entries(r||{});i<a.length;i++){var o=R(a[i],2),s=o[0],l=o[1];l&&Array.isArray(l)&&t.set(s,new Set(l||[]))}}catch(u){}}(n,U);var t=function(){return function(e,t){if(t.size>0){var n,r={},i=q(t);try{for(i.s();!(n=i.n()).done;){var a=R(n.value,2),o=a[0],s=a[1];r[o]=Y(s)}}catch(l){i.e(l)}finally{i.f()}try{e.sessionStorage.setItem(Ve,JSON.stringify(r))}catch(x){ee(!1,"Failed to save applied view transitions in sessionStorage ("+x+").")}}}(n,U)};n.addEventListener("pagehide",t),B=function(){return n.removeEventListener("pagehide",t)}}return N.initialized||ve(L.Pop,N.location,{initialHydration:!0}),E},subscribe:function(e){return d.add(e),function(){return d.delete(e)}},enableScrollRestoration:function(e,t,n){if(p=e,g=t,v=n||null,!m&&N.navigation===Be){m=!0;var r=$e(N.location,N.matches);null!=r&&he({restoreScrollPosition:r})}return function(){p=null,g=null,v=null}},navigate:de,fetch:function(e,t,n,r){if(i)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");W.has(e)&&Le(e);var a=!0===(r&&r.unstable_flushSync),s=o||u,l=Xe(N.location,N.matches,c,h.v7_prependBasename,n,h.v7_relativeSplatPath,t,null==r?void 0:r.relative),f=le(s,l,c);if(f){var d=qe(h.v7_normalizeFormMethod,!0,l,r),p=d.path,v=d.submission,g=d.error;if(g)Pe(e,t,g,{flushSync:a});else{var m=Mt(f,p);D=!0===(r&&r.preventScrollReset),v&&xt(v.formMethod)?function(e,t,n,r,i,a,o){ke.apply(this,arguments)}(e,t,p,m,f,a,v):(re.set(e,{routeId:t,path:p}),function(e,t,n,r,i,a,o){Se.apply(this,arguments)}(e,t,p,m,f,a,v))}}else Pe(e,t,ct(404,{pathname:l}),{flushSync:a})},revalidate:function(){Ce(),he({revalidation:"loading"}),"submitting"!==N.navigation.state&&("idle"!==N.navigation.state?ve(I||N.historyAction,N.navigation.location,{overrideNavigation:N.navigation}):ve(N.historyAction,N.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:Oe,deleteFetcher:function(e){if(h.v7_fetcherPersist){var t=(ie.get(e)||0)-1;t<=0?(ie.delete(e),ae.add(e)):ie.set(e,t)}else Re(e);he({fetchers:new Map(N.fetchers)})},dispose:function(){f&&f(),B&&B(),d.clear(),O&&O.abort(),N.fetchers.forEach((function(e,t){return Re(t)})),N.blockers.forEach((function(e,t){return Fe(t)}))},getBlocker:function(e,t){var n=N.blockers.get(e)||He;return ue.get(e)!==t&&ue.set(e,t),n},deleteBlocker:Fe,_internalFetchControllers:W,_internalActiveDeferreds:oe,_internalSetRoutes:function(e){o=se(e,t,void 0,l={})}},E}Symbol("deferred");function Xe(e,t,n,r,i,a,o,s){var l,u;if(o){l=[];var c,h=q(t);try{for(h.s();!(c=h.n()).done;){var f=c.value;if(l.push(f),f.route.id===o){u=f;break}}}catch(p){h.e(p)}finally{h.f()}}else l=t,u=t[t.length-1];var d=_e(i||".",function(e,t){var n=Ee(e);return t?n.map((function(t,n){return n===e.length-1?t.pathname:t.pathnameBase})):n.map((function(e){return e.pathnameBase}))}(l,a),we(e.pathname,n)||e.pathname,"path"===s);return null==i&&(d.search=e.search,d.hash=e.hash),null!=i&&""!==i&&"."!==i||!u||!u.route.index||_t(d.search)||(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&"/"!==n&&(d.pathname="/"===d.pathname?n:Me([n,d.pathname])),re(d)}function qe(e,t,n,r){if(!r||!function(e){return null!=e&&("formData"in e&&null!=e.formData||"body"in e&&void 0!==e.body)}(r))return{path:n};if(r.formMethod&&!bt(r.formMethod))return{path:n,error:ct(405,{method:r.formMethod})};var i,a,o=function(){return{path:n,error:ct(400,{type:"invalid-body"})}},s=r.formMethod||"get",l=e?s.toUpperCase():s.toLowerCase(),u=ft(n);if(void 0!==r.body){if("text/plain"===r.formEncType){if(!xt(l))return o();var c="string"===typeof r.body?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((function(e,t){var n=R(t,2);return""+e+n[0]+"="+n[1]+"\n"}),""):String(r.body);return{path:n,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:c}}}if("application/json"===r.formEncType){if(!xt(l))return o();try{var h="string"===typeof r.body?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch(p){return o()}}}if($("function"===typeof FormData,"FormData is not available in this environment"),r.formData)i=rt(r.formData),a=r.formData;else if(r.body instanceof FormData)i=rt(r.body),a=r.body;else if(r.body instanceof URLSearchParams)a=it(i=r.body);else if(null==r.body)i=new URLSearchParams,a=new FormData;else try{a=it(i=new URLSearchParams(r.body))}catch(p){return o()}var f={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:a,json:void 0,text:void 0};if(xt(f.formMethod))return{path:n,submission:f};var d=ie(n);return t&&d.search&&_t(d.search)&&i.append("index",""),d.search="?"+i,{path:re(d),submission:f}}function Ye(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function Ke(e,t,n,r,i,a,o,s,l,u,c,h,f,d,p,v){var g=v?Object.values(v)[0]:p?Object.values(p)[0]:void 0,m=e.createURL(t.location),y=e.createURL(i),b=v?Object.keys(v)[0]:void 0,x=Ye(n,b).filter((function(e,n){var i=e.route;if(i.lazy)return!0;if(null==i.loader)return!1;if(a)return!!i.loader.hydrate||void 0===t.loaderData[i.id]&&(!t.errors||void 0===t.errors[i.id]);if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||s.some((function(t){return t===e.route.id})))return!0;var l=t.matches[n],u=e;return Ze(e,K({currentUrl:m,currentParams:l.params,nextUrl:y,nextParams:u.params},r,{actionResult:g,defaultShouldRevalidate:o||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||Je(l,u)}))})),k=[];return c.forEach((function(e,i){if(!a&&n.some((function(t){return t.route.id===e.routeId}))&&!u.has(i)){var s=le(f,e.path,d);if(s){var c=t.fetchers.get(i),p=Mt(s,e.path);!h.has(i)&&(!!l.includes(i)||(c&&"idle"!==c.state&&void 0===c.data?o:Ze(p,K({currentUrl:m,currentParams:t.matches[t.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:g,defaultShouldRevalidate:o}))))&&k.push({key:i,routeId:e.routeId,path:e.path,matches:s,match:p,controller:new AbortController})}else k.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null})}})),[x,k]}function Je(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ze(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Qe(e,t,n){return $e.apply(this,arguments)}function $e(){return $e=S(k().mark((function e(t,n,r){var i,a,o,s,l,u;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.lazy){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.lazy();case 4:if(i=e.sent,t.lazy){e.next=7;break}return e.abrupt("return");case 7:for(s in $(a=r[t.id],"No route found in manifest"),o={},i)l=a[s],ee(!(u=void 0!==l&&"hasErrorBoundary"!==s),'Route "'+a.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+s+'" will be ignored.'),u||oe.has(s)||(o[s]=i[s]);Object.assign(a,o),Object.assign(a,K({},n(a),{lazy:void 0}));case 13:case"end":return e.stop()}}),e)}))),$e.apply(this,arguments)}function et(e,t,n,r,i,a,o,s,l){return tt.apply(this,arguments)}function tt(){return tt=S(k().mark((function e(t,n,r,i,a,o,s,l,u){var c,h,f,d,p,v,g,m,y,b,x,w,S,E,_,M,T,C,A;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===u&&(u={}),d=function(e){var t,i=new Promise((function(e,n){return t=n}));return f=function(){return t()},n.signal.addEventListener("abort",f),Promise.race([e({request:n,params:r.params,context:u.requestContext}),i])},e.prev=2,p=r.route[t],!r.route.lazy){e.next=32;break}if(!p){e.next=14;break}return e.next=8,Promise.all([d(p).catch((function(e){v=e})),Qe(r.route,o,a)]);case 8:if(g=e.sent,!v){e.next=11;break}throw v;case 11:h=g[0],e.next=30;break;case 14:return e.next=16,Qe(r.route,o,a);case 16:if(!(p=r.route[t])){e.next=23;break}return e.next=20,d(p);case 20:h=e.sent,e.next=30;break;case 23:if("action"!==t){e.next=29;break}throw m=new URL(n.url),y=m.pathname+m.search,ct(405,{method:n.method,pathname:y,routeId:r.route.id});case 29:return e.abrupt("return",{type:J.data,data:void 0});case 30:e.next=41;break;case 32:if(p){e.next=38;break}throw b=new URL(n.url),ct(404,{pathname:b.pathname+b.search});case 38:return e.next=40,d(p);case 40:h=e.sent;case 41:$(void 0!==h,"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=48;break;case 44:e.prev=44,e.t0=e.catch(2),c=J.error,h=e.t0;case 48:return e.prev=48,f&&n.signal.removeEventListener("abort",f),e.finish(48);case 51:if(!yt(h)){e.next=87;break}if(x=h.status,!Fe.has(x)){e.next=61;break}if($(w=h.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),Ge.test(w)?u.isStaticRequest||(S=new URL(n.url),E=w.startsWith("//")?new URL(S.protocol+w):new URL(w),_=null!=we(E.pathname,s),E.origin===S.origin&&_&&(w=E.pathname+E.search+E.hash)):w=Xe(new URL(n.url),i.slice(0,i.indexOf(r)+1),s,!0,w,l),!u.isStaticRequest){e.next=60;break}throw h.headers.set("Location",w),h;case 60:return e.abrupt("return",{type:J.redirect,status:x,location:w,revalidate:null!==h.headers.get("X-Remix-Revalidate"),reloadDocument:null!==h.headers.get("X-Remix-Reload-Document")});case 61:if(!u.isRouteRequest){e.next=64;break}throw{type:c===J.error?J.error:J.data,response:h};case 64:if(e.prev=64,!(T=h.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(T)){e.next=76;break}if(null!=h.body){e.next=71;break}M=null,e.next=74;break;case 71:return e.next=73,h.json();case 73:M=e.sent;case 74:e.next=79;break;case 76:return e.next=78,h.text();case 78:M=e.sent;case 79:e.next=84;break;case 81:return e.prev=81,e.t1=e.catch(64),e.abrupt("return",{type:J.error,error:e.t1});case 84:if(c!==J.error){e.next=86;break}return e.abrupt("return",{type:c,error:new Oe(x,h.statusText,M),headers:h.headers});case 86:return e.abrupt("return",{type:J.data,data:M,statusCode:h.status,headers:h.headers});case 87:if(c!==J.error){e.next=89;break}return e.abrupt("return",{type:c,error:h});case 89:if(!mt(h)){e.next=91;break}return e.abrupt("return",{type:J.deferred,deferredData:h,statusCode:null==(C=h.init)?void 0:C.status,headers:(null==(A=h.init)?void 0:A.headers)&&new Headers(h.init.headers)});case 91:return e.abrupt("return",{type:J.data,data:h});case 92:case"end":return e.stop()}}),e,null,[[2,44,48,51],[64,81]])}))),tt.apply(this,arguments)}function nt(e,t,n,r){var i=e.createURL(ft(t)).toString(),a={signal:n};if(r&&xt(r.formMethod)){var o=r.formMethod,s=r.formEncType;a.method=o.toUpperCase(),"application/json"===s?(a.headers=new Headers({"Content-Type":s}),a.body=JSON.stringify(r.json)):"text/plain"===s?a.body=r.text:"application/x-www-form-urlencoded"===s&&r.formData?a.body=rt(r.formData):a.body=r.formData}return new Request(i,a)}function rt(e){var t,n=new URLSearchParams,r=q(e.entries());try{for(r.s();!(t=r.n()).done;){var i=R(t.value,2),a=i[0],o=i[1];n.append(a,"string"===typeof o?o:o.name)}}catch(s){r.e(s)}finally{r.f()}return n}function it(e){var t,n=new FormData,r=q(e.entries());try{for(r.s();!(t=r.n()).done;){var i=R(t.value,2),a=i[0],o=i[1];n.append(a,o)}}catch(s){r.e(s)}finally{r.f()}return n}function at(e,t,n,r,i){var a,o={},s=null,l=!1,u={};return n.forEach((function(n,c){var h=t[c].route.id;if($(!gt(n),"Cannot handle redirect results in processLoaderData"),vt(n)){var f=lt(e,h),d=n.error;r&&(d=Object.values(r)[0],r=void 0),null==(s=s||{})[f.route.id]&&(s[f.route.id]=d),o[h]=void 0,l||(l=!0,a=Re(n.error)?n.error.status:500),n.headers&&(u[h]=n.headers)}else pt(n)?(i.set(h,n.deferredData),o[h]=n.deferredData.data):o[h]=n.data,null==n.statusCode||200===n.statusCode||l||(a=n.statusCode),n.headers&&(u[h]=n.headers)})),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function ot(e,t,n,r,i,a,o,s){for(var l=at(t,n,r,i,s),u=l.loaderData,c=l.errors,h=0;h<a.length;h++){var f=a[h],d=f.key,p=f.match,v=f.controller;$(void 0!==o&&void 0!==o[h],"Did not find corresponding fetcher result");var g=o[h];if(!v||!v.signal.aborted)if(vt(g)){var m=lt(e.matches,null==p?void 0:p.route.id);c&&c[m.route.id]||(c=K({},c,j({},m.route.id,g.error))),e.fetchers.delete(d)}else if(gt(g))$(!1,"Unhandled fetcher revalidation redirect");else if(pt(g))$(!1,"Unhandled fetcher deferred data");else{var y=Rt(g.data);e.fetchers.set(d,y)}}return{loaderData:u,errors:c}}function st(e,t,n,r){var i,a=K({},t),o=q(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.route.id;if(t.hasOwnProperty(l)?void 0!==t[l]&&(a[l]=t[l]):void 0!==e[l]&&s.route.loader&&(a[l]=e[l]),r&&r.hasOwnProperty(l))break}}catch(u){o.e(u)}finally{o.f()}return a}function lt(e,t){return(t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):Y(e)).reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function ut(e){var t=1===e.length?e[0]:e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function ct(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,a=n.method,o=n.type,s="Unknown Server Error",l="Unknown @remix-run/router error";return 400===e?(s="Bad Request",a&&r&&i?l="You made a "+a+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===o?l="defer() is not supported in actions":"invalid-body"===o&&(l="Unable to encode submission body")):403===e?(s="Forbidden",l='Route "'+i+'" does not match URL "'+r+'"'):404===e?(s="Not Found",l='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",a&&r&&i?l="You made a "+a.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':a&&(l='Invalid request method "'+a.toUpperCase()+'"')),new Oe(e||500,s,new Error(l),!0)}function ht(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(gt(n))return{result:n,idx:t}}}function ft(e){return re(K({},"string"===typeof e?ie(e):e,{hash:""}))}function dt(e,t){return e.pathname===t.pathname&&e.search===t.search&&(""===e.hash?""!==t.hash:e.hash===t.hash||""!==t.hash)}function pt(e){return e.type===J.deferred}function vt(e){return e.type===J.error}function gt(e){return(e&&e.type)===J.redirect}function mt(e){var t=e;return t&&"object"===typeof t&&"object"===typeof t.data&&"function"===typeof t.subscribe&&"function"===typeof t.cancel&&"function"===typeof t.resolveData}function yt(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function bt(e){return De.has(e.toLowerCase())}function xt(e){return Ne.has(e.toLowerCase())}function kt(e,t,n,r,i,a){return wt.apply(this,arguments)}function wt(){return wt=S(k().mark((function e(t,n,r,i,a,o){var s,l;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=k().mark((function e(s){var l,u,c,h,f;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=r[s],u=n[s]){e.next=4;break}return e.abrupt("return",1);case 4:if(c=t.find((function(e){return e.route.id===u.route.id})),h=null!=c&&!Je(c,u)&&void 0!==(o&&o[u.route.id]),!pt(l)||!a&&!h){e.next=11;break}return $(f=i[s],"Expected an AbortSignal for revalidating fetcher deferred result"),e.next=11,St(l,f,a).then((function(e){e&&(r[s]=e||r[s])}));case 11:case"end":return e.stop()}}),e)})),l=0;case 2:if(!(l<r.length)){e.next=9;break}return e.delegateYield(s(l),"t0",4);case 4:if(!e.t0){e.next=6;break}return e.abrupt("continue",6);case 6:l++,e.next=2;break;case 9:case"end":return e.stop()}}),e)}))),wt.apply(this,arguments)}function St(e,t,n){return Et.apply(this,arguments)}function Et(){return(Et=S(k().mark((function e(t,n,r){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:J.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:J.error,error:e.t0});case 14:return e.abrupt("return",{type:J.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])})))).apply(this,arguments)}function _t(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function Mt(e,t){var n="string"===typeof t?ie(t).search:t.search;if(e[e.length-1].route.index&&_t(n||""))return e[e.length-1];var r=Ee(e);return r[r.length-1]}function Tt(e){var t=e.formMethod,n=e.formAction,r=e.formEncType,i=e.text,a=e.formData,o=e.json;if(t&&n&&r)return null!=i?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i}:null!=a?{formMethod:t,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0}:void 0!==o?{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}:void 0}function Ct(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function At(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Pt(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ot(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Rt(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Lt(){return Lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(this,arguments)}var Nt=m.createContext(null);var It=m.createContext(null);var Dt=m.createContext(null);var Ft=m.createContext(null);var Ut=m.createContext(null);var Bt=m.createContext({outlet:null,matches:[],isDataRoute:!1});var zt=m.createContext(null);function Ht(){return null!=m.useContext(Ut)}function Gt(){return Ht()||$(!1),m.useContext(Ut).location}function jt(e,t,n,r){Ht()||$(!1);var i,a=m.useContext(Ft).navigator,o=m.useContext(Bt).matches,s=o[o.length-1],l=s?s.params:{},u=(s&&s.pathname,s?s.pathnameBase:"/"),c=(s&&s.route,Gt());if(t){var h,f="string"===typeof t?ie(t):t;"/"===u||(null==(h=f.pathname)?void 0:h.startsWith(u))||$(!1),i=f}else i=c;var d=i.pathname||"/",p=d;if("/"!==u){var v=u.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(v.length).join("/")}var g=le(e,{pathname:p});var y=Yt(g&&g.map((function(e){return Object.assign({},e,{params:Object.assign({},l,e.params),pathname:Me([u,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Me([u,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,n,r);return t&&y?m.createElement(Ut.Provider,{value:{location:Lt({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:L.Pop}},y):y}function Vt(){var e=function(){var e,t=m.useContext(zt),n=Jt(Kt.UseRouteError),r=Zt(Kt.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=Re(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,null)}var Wt=m.createElement(Vt,null),Xt=function(e){function t(e){var n;return T(this,t),(n=z(this,t,[e])).state={location:e.location,revalidation:e.revalidation,error:e.error},n}return G(t,e),M(t,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return void 0!==this.state.error?m.createElement(Bt.Provider,{value:this.props.routeContext},m.createElement(zt.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}])}(m.Component);function qt(e){var t=e.routeContext,n=e.match,r=e.children,i=m.useContext(Nt);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(Bt.Provider,{value:t},r)}function Yt(e,t,n,r){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,s=null==(i=n)?void 0:i.errors;if(null!=s){var l=o.findIndex((function(e){return e.route.id&&(null==s?void 0:s[e.route.id])}));l>=0||$(!1),o=o.slice(0,Math.min(o.length,l+1))}var u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(var h=0;h<o.length;h++){var f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){var d=n,p=d.loaderData,v=d.errors,g=f.route.loader&&void 0===p[f.route.id]&&(!v||void 0===v[f.route.id]);if(f.route.lazy||g){u=!0,o=c>=0?o.slice(0,c+1):[o[0]];break}}}return o.reduceRight((function(e,r,i){var a,l,h=!1,f=null,d=null;n&&(a=s&&r.route.id?s[r.route.id]:void 0,f=r.route.errorElement||Wt,u&&(c<0&&0===i?(l="route-fallback",!1||Qt[l]||(Qt[l]=!0),h=!0,d=null):c===i&&(h=!0,d=r.route.hydrateFallbackElement||null)));var p=t.concat(o.slice(0,i+1)),v=function(){var t;return t=a?f:h?d:r.route.Component?m.createElement(r.route.Component,null):r.route.element?r.route.element:e,m.createElement(qt,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?m.createElement(Xt,{location:n.location,revalidation:n.revalidation,component:f,error:a,children:v(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):v()}),null)}var Kt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Kt||{});function Jt(e){var t=m.useContext(It);return t||$(!1),t}function Zt(e){var t=function(e){var t=m.useContext(Bt);return t||$(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||$(!1),n.route.id}var Qt={};y.startTransition;function $t(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,a=e.location,o=e.navigationType,s=void 0===o?L.Pop:o,l=e.navigator,u=e.static,c=void 0!==u&&u,h=e.future;Ht()&&$(!1);var f=n.replace(/^\/*/,"/"),d=m.useMemo((function(){return{basename:f,navigator:l,static:c,future:Lt({v7_relativeSplatPath:!1},h)}}),[f,h,l,c]);"string"===typeof a&&(a=ie(a));var p=a,v=p.pathname,g=void 0===v?"/":v,y=p.search,b=void 0===y?"":y,x=p.hash,k=void 0===x?"":x,w=p.state,S=void 0===w?null:w,E=p.key,_=void 0===E?"default":E,M=m.useMemo((function(){var e=we(g,f);return null==e?null:{location:{pathname:e,search:b,hash:k,state:S,key:_},navigationType:s}}),[f,g,b,k,S,_,s]);return null==M?null:m.createElement(Ft.Provider,{value:d},m.createElement(Ut.Provider,{children:i,value:M}))}var en=function(e){return e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error",e}(en||{}),tn=new Promise((function(){}));m.Component;function nn(e){var t={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(t,{element:m.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:m.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:m.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(cQ){}function an(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=rn({},t,{errors:on(t.errors)})),t}function on(e){if(!e)return null;for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=R(r[n],2),a=i[0],o=i[1];if(o&&"RouteErrorResponse"===o.__type)t[a]=new Oe(o.status,o.statusText,o.data,!0===o.internal);else if(o&&"Error"===o.__type){if(o.__subType){var s=window[o.__subType];if("function"===typeof s)try{var l=new s(o.message);l.stack="",t[a]=l}catch(cQ){}}if(null==t[a]){var u=new Error(o.message);u.stack="",t[a]=u}}else t[a]=o}return t}var sn=m.createContext({isTransitioning:!1});var ln=m.createContext(new Map);var un=y.startTransition,cn=I.flushSync;y.useId;function hn(e){cn?cn(e):e()}var fn=M((function e(){var t=this;T(this,e),this.status="pending",this.promise=new Promise((function(e,n){t.resolve=function(n){"pending"===t.status&&(t.status="resolved",e(n))},t.reject=function(e){"pending"===t.status&&(t.status="rejected",n(e))}}))}));function dn(e){var t=e.fallbackElement,n=e.router,r=e.future,i=R(m.useState(n.state),2),a=i[0],o=i[1],s=R(m.useState(),2),l=s[0],u=s[1],c=R(m.useState({isTransitioning:!1}),2),h=c[0],f=c[1],d=R(m.useState(),2),p=d[0],v=d[1],g=R(m.useState(),2),y=g[0],b=g[1],x=R(m.useState(),2),w=x[0],E=x[1],_=m.useRef(new Map),M=(r||{}).v7_startTransition,T=m.useCallback((function(e){M?function(e){un?un(e):e()}(e):e()}),[M]),C=m.useCallback((function(e,t){var r=t.deletedFetchers,i=t.unstable_flushSync,a=t.unstable_viewTransitionOpts;r.forEach((function(e){return _.current.delete(e)})),e.fetchers.forEach((function(e,t){void 0!==e.data&&_.current.set(t,e.data)}));var s=null==n.window||"function"!==typeof n.window.document.startViewTransition;if(a&&!s){if(i){hn((function(){y&&(p&&p.resolve(),y.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:a.currentLocation,nextLocation:a.nextLocation})}));var l=n.window.document.startViewTransition((function(){hn((function(){return o(e)}))}));return l.finished.finally((function(){hn((function(){v(void 0),b(void 0),u(void 0),f({isTransitioning:!1})}))})),void hn((function(){return b(l)}))}y?(p&&p.resolve(),y.skipTransition(),E({state:e,currentLocation:a.currentLocation,nextLocation:a.nextLocation})):(u(e),f({isTransitioning:!0,flushSync:!1,currentLocation:a.currentLocation,nextLocation:a.nextLocation}))}else i?hn((function(){return o(e)})):T((function(){return o(e)}))}),[n.window,y,p,_,T]);m.useLayoutEffect((function(){return n.subscribe(C)}),[n,C]),m.useEffect((function(){h.isTransitioning&&!h.flushSync&&v(new fn)}),[h]),m.useEffect((function(){if(p&&l&&n.window){var e=l,t=p.promise,r=n.window.document.startViewTransition(S(k().mark((function n(){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return T((function(){return o(e)})),n.next=3,t;case 3:case"end":return n.stop()}}),n)}))));r.finished.finally((function(){v(void 0),b(void 0),u(void 0),f({isTransitioning:!1})})),b(r)}}),[T,l,p,n.window]),m.useEffect((function(){p&&l&&a.location.key===l.location.key&&p.resolve()}),[p,y,a.location,l]),m.useEffect((function(){!h.isTransitioning&&w&&(u(w.state),f({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))}),[h.isTransitioning,w]),m.useEffect((function(){}),[]);var A=m.useMemo((function(){return{createHref:n.createHref,encodeLocation:n.encodeLocation,go:function(e){return n.navigate(e)},push:function(e,t,r){return n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})},replace:function(e,t,r){return n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}}}),[n]),P=n.basename||"/",O=m.useMemo((function(){return{router:n,navigator:A,static:!1,basename:P}}),[n,A,P]);return m.createElement(m.Fragment,null,m.createElement(Nt.Provider,{value:O},m.createElement(It.Provider,{value:a},m.createElement(ln.Provider,{value:_.current},m.createElement(sn.Provider,{value:h},m.createElement($t,{basename:P,location:a.location,navigationType:a.historyAction,navigator:A,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},a.initialized||n.future.v7_partialHydration?m.createElement(pn,{routes:n.routes,future:n.future,state:a}):t))))),null)}function pn(e){var t=e.routes,n=e.future;return jt(t,void 0,e.state,n)}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var vn,gn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(vn||(vn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(gn||(gn={}));function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bn="dxfView_dxfBox__mzH3v";function xn(e){this._pointer=0,this._data=e,this._eof=!1}function kn(e,t){return e<=9?t:e>=10&&e<=59?parseFloat(t.trim()):e>=60&&e<=99?parseInt(t.trim()):e>=100&&e<=109?t:e>=110&&e<=149?parseFloat(t.trim()):e>=160&&e<=179?parseInt(t.trim()):e>=210&&e<=239?parseFloat(t.trim()):e>=270&&e<=289?parseInt(t.trim()):e>=290&&e<=299?function(e){if("0"===e)return!1;if("1"===e)return!0;throw TypeError("String '"+e+"' cannot be cast to Boolean type")}(t.trim()):e>=300&&e<=369?t:e>=370&&e<=389?parseInt(t.trim()):e>=390&&e<=399?t:e>=400&&e<=409?parseInt(t.trim()):e>=410&&e<=419?t:e>=420&&e<=429?parseInt(t.trim()):e>=430&&e<=439?t:e>=440&&e<=459?parseInt(t.trim()):e>=460&&e<=469?parseFloat(t.trim()):e>=470&&e<=481||999===e||e>=1e3&&e<=1009?t:e>=1010&&e<=1059?parseFloat(t.trim()):e>=1060&&e<=1071?parseInt(t.trim()):(console.log("WARNING: Group code does not have a defined type: %j",{code:e,value:t}),t)}xn.prototype.next=function(){var e;if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);return e={code:parseInt(this._data[this._pointer])},this._pointer++,e.value=kn(e.code,this._data[this._pointer]),this._pointer++,0===e.code&&"EOF"===e.value&&(this._eof=!0),this.lastReadGroup=e,e},xn.prototype.peek=function(){if(!this.hasNext())throw this._eof?new Error("Cannot call 'next' after EOF group has been read"):new Error("Unexpected end of input: EOF group not read before end of file. Ended on code "+this._data[this._pointer]);var e={code:parseInt(this._data[this._pointer])};return e.value=kn(e.code,this._data[this._pointer+1]),e},xn.prototype.rewind=function(e){e=e||1,this._pointer=this._pointer-2*e},xn.prototype.hasNext=function(){return!this._eof&&!(this._pointer>this._data.length-2)},xn.prototype.isEOF=function(){return this._eof};var wn=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215],Sn=n(863),En=n.n(Sn),_n=function(){return M((function e(){T(this,e),this.appName=null,this.appNameWarningShown=!1,this.lastString=null,this.sectionStack=[this._CreateSection()],this.failure=!1}),[{key:"Feed",value:function(e){if(!this.appName)return 1001==e.code?(this.appName=e.value,!1):(this.appNameWarningShown||(this.appNameWarningShown=!0,En().warn("XDATA section does not start with application name")),!1);if(1001==e.code)return!0;if(this.failure)return!1;if(1e3==e.code)return this.lastString&&En().warn("XDATA section unused string: "+this.lastString),this.lastString=e.value,!1;var t=this._currentSection;if(1002==e.code){if("{"==e.value){if(!this.lastString)return En().warn("Unnamed XDATA section encountered"),this.failure=!0,!1;var n=this._CreateSection();return t[this.lastString]=n,this.lastString=null,this.sectionStack.push(n),!1}return"}"==e.value?this.sectionStack.length<2?(En().warn("Unmatched XDATA section closing"),this.failure=!0,!1):(this.sectionStack.length=this.sectionStack.length-1,!1):(En().warn("Bad XDATA section control string encountered: "+e.value),this.failure=!0,!1)}return null!==this.lastString&&(t.values.push(this._CreateValue(1e3,this.lastString)),this.lastString=null),t.values.push(this._CreateValue(e.code,e.value)),!1}},{key:"Finish",value:function(e){var t;this.failure||this.appName&&(e.hasOwnProperty("xdata")?t=e.xdata:(t={},e.xdata=t),t[this.appName]=this.sectionStack[0])}},{key:"_currentSection",get:function(){return this.sectionStack[this.sectionStack.length-1]}},{key:"_CreateSection",value:function(){return{values:[]}}},{key:"_CreateValue",value:function(e,t){return{code:e,value:t}}}])}();function Mn(e){var t={};e.rewind();var n=e.next(),r=n.code;if(t.x=n.value,r+=10,(n=e.next()).code!==r)throw new Error("Expected code for point value to be "+r+" but got "+n.code+".");return t.y=n.value,r+=10,(n=e.next()).code!==r?(e.rewind(),t):(t.z=n.value,t)}function Tn(e){e.rewind();var t=e.next();if(101!==t.code)throw new Error("Bad call for skipEmbeddedObject()");do{t=e.next()}while(0!==t.code);e.rewind()}function Cn(e,t,n){for(var r=null;t.code>=1e3;)null==r&&(r=new _n),r.Feed(t)?(r.Finish(e),r=null):t=n.next();if(r)return r.Finish(e),n.rewind(),!0;switch(t.code){case 0:e.type=t.value;break;case 5:e.handle=t.value;break;case 6:e.lineType=t.value;break;case 8:e.layer=t.value;break;case 48:e.lineTypeScale=t.value;break;case 60:e.visible=0===t.value;break;case 62:e.colorIndex=t.value,e.color=function(e){return wn[e]}(Math.abs(t.value));break;case 67:e.inPaperSpace=0!==t.value;break;case 100:break;case 330:e.ownerHandle=t.value;break;case 347:e.materialObjectHandle=t.value;break;case 370:e.lineweight=t.value;break;case 420:e.color=t.value;break;default:return!1}return!0}function An(){}function Pn(e,t){var n,r=[],i=!1,a=!1;for(n=0;n<=4;n++){for(var o={};"EOF"!==t&&0!==t.code&&!a;){switch(t.code){case 10:case 11:case 12:case 13:if(i){a=!0;continue}o.x=t.value,i=!0;break;case 20:case 21:case 22:case 23:o.y=t.value;break;case 30:case 31:case 32:case 33:o.z=t.value;break;default:return r}t=e.next()}r.push(o),i=!1,a=!1}return e.rewind(),r}function On(){}function Rn(){}function Ln(){}function Nn(){}function In(){}function Dn(){}function Fn(){}function Un(){}function Bn(){}function zn(e,t){if(!e||e<=0)throw Error("n must be greater than 0 vertices");var n,r=[],i=!1,a=!1,o=t.lastReadGroup;for(n=0;n<e;n++){for(var s={};"EOF"!==o&&0!==o.code&&!a;){switch(o.code){case 10:if(i){a=!0;continue}s.x=o.value,i=!0;break;case 20:s.y=o.value;break;case 30:s.z=o.value;break;case 40:s.startWidth=o.value;break;case 41:s.endWidth=o.value;break;case 42:0!=o.value&&(s.bulge=o.value);break;case 91:s.id=o.value;break;default:return i&&r.push(s),t.rewind(),r}o=t.next()}r.push(s),i=!1,a=!1}return t.rewind(),r}function Hn(){}function Gn(){}function jn(){}function Vn(){}function Wn(e,t){var n={type:t.value};for(t=e.next();"EOF"!=t&&0!=t.code;)Cn(n,t,e),t=e.next();return n}function Xn(){}function qn(){}function Yn(){}function Kn(){}function Jn(e,t){for(var n=null,r=function(){for(var n={vertices:[],isClosed:!1},r=0;;){if(r>0){for(var i=0;i<r&&10==e.code;i++){var a=Mn(t);42==(e=t.next()).code&&(a.bulge=e.value,e=t.next()),n.vertices.push(a)}return n}switch(e.code){case 72:e.value;break;case 73:n.isClosed=e.value;break;case 93:r=e.value;break;default:return n}e=t.next()}},i=function(){if(72!=e.code)return null;var n={type:e.value};e=t.next();for(var r=4==n.type;;){switch(e.code){case 10:r?(n.controlPoints||(n.controlPoints=[]),n.controlPoints.push(Mn(t))):n.start=Mn(t);break;case 11:r?(n.fitPoints||(n.fitPoints=[]),n.fitPoints.push(Mn(t))):n.end=Mn(t);break;case 40:r?(n.knotValues||(n.knotValues=[]),n.knotValues.push(e.value)):n.radius=e.value;break;case 50:n.startAngle=e.value*Math.PI/180;break;case 51:n.endAngle=e.value*Math.PI/180;break;case 73:r?n.rational=e.value:n.isCcw=e.value;break;case 74:n.periodic=e.value;break;case 94:n.degreeOfSplineCurve=e.value;break;case 95:case 96:case 40:case 42:case 97:break;default:return n}e=t.next()}},a=!1,o=0,s=0;;){if(!n){if(92!=e.code)return null;n={type:e.value},e=t.next()}for(2&n.type&&!a&&(n.polyline=r(),a=!0);o;){var l=i();l?(n.edges.push(l),o--):o=0}for(;s;)330==e.code?(n.sourceRefs.push(e.value),s--,e=t.next()):s=0;switch(e.code){case 93:(o=e.value)>0&&(n.edges=[]);break;case 97:(s=e.value)>0&&(n.sourceRefs=[]);break;default:return t.rewind(),n}e=t.next()}}function Zn(e,t){if(53!=e.code)return null;var n={angle:e.value*Math.PI/180,base:{x:0,y:0},offset:{x:0,y:0}};e=t.next();for(var r=0;;){switch(e.code){case 43:n.base.x=e.value;break;case 44:n.base.y=e.value;break;case 45:n.offset.x=e.value;break;case 46:n.offset.y=e.value;break;case 49:r>0&&(n.dashes.push(e.value),r--);break;case 79:r=e.value,e.value&&(n.dashes=[]);break;default:return t.rewind(),n}e=t.next()}}function Qn(e,t){return 10!=e.code?null:Mn(t)}An.ForEntityName="3DFACE",An.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 70:n.shape=1===(1&t.value),n.hasContinuousLinetypePattern=128===(128&t.value);break;case 10:n.vertices=Pn(e,t),t=e.lastReadGroup;break;default:Cn(n,t,e)}t=e.next()}return n},On.ForEntityName="ARC",On.prototype.parseEntity=function(e,t){var n;for(n={type:t.value},t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.center=Mn(e);break;case 40:n.radius=t.value;break;case 50:n.startAngle=Math.PI/180*t.value;break;case 51:n.endAngle=Math.PI/180*t.value;break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n},Rn.ForEntityName="ATTDEF",Rn.prototype.parseEntity=function(e,t){var n={type:t.value,scale:1,textStyle:"STANDARD"};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 1:n.text=t.value;break;case 2:n.tag=t.value;break;case 3:n.prompt=t.value;break;case 7:n.textStyle=t.value;break;case 10:n.startPoint=Mn(e);break;case 11:n.endPoint=Mn(e);break;case 39:n.thickness=t.value;break;case 40:n.textHeight=t.value;break;case 41:n.scale=t.value;break;case 50:n.rotation=t.value;break;case 51:n.obliqueAngle=t.value;break;case 70:n.invisible=!!(1&t.value),n.constant=!!(2&t.value),n.verificationRequired=!!(4&t.value),n.preset=!!(8&t.value);break;case 71:n.backwards=!!(2&t.value),n.mirrored=!!(4&t.value);break;case 72:n.horizontalJustification=t.value;break;case 73:n.fieldLength=t.value;break;case 74:n.verticalJustification=t.value;break;case 100:break;case 101:Tn(e);break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n},Ln.ForEntityName="ATTRIB",Ln.prototype.parseEntity=function(e,t){var n={type:t.value,scale:1,textStyle:"STANDARD"};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 1:n.text=t.value;break;case 2:n.tag=t.value;break;case 3:n.prompt=t.value;break;case 7:n.textStyle=t.value;break;case 10:n.startPoint=Mn(e);break;case 11:n.endPoint=Mn(e);break;case 39:n.thickness=t.value;break;case 40:n.textHeight=t.value;break;case 41:n.scale=t.value;break;case 44:n.lineSpacingFactor=t.value;break;case 45:n.fillBoxScale=t.value;break;case 46:n.annotationHeight=t.value;break;case 50:n.rotation=t.value;break;case 51:n.obliqueAngle=t.value;break;case 63:n.backgroundFillColor=t.value;break;case 70:n.invisible=!!(1&t.value),n.constant=!!(2&t.value),n.verificationRequired=!!(4&t.value),n.preset=!!(8&t.value);break;case 71:n.attachmentPoint=t.value;break;case 72:n.horizontalJustification=t.value;break;case 73:n.lineSpacing=t.value;break;case 74:n.verticalJustification=t.value;break;case 90:n.backgroundFillSetting=t.value;break;case 100:break;case 210:n.extrusionDirection=Mn(e);break;case 280:n.lockPositionFlag=t.value;break;case 340:n.hardPointerId=t.value;break;default:Cn(n,t,e)}t=e.next()}return n},Nn.ForEntityName="CIRCLE",Nn.prototype.parseEntity=function(e,t){var n,r;for(n={type:t.value},t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.center=Mn(e);break;case 40:n.radius=t.value;break;case 50:n.startAngle=Math.PI/180*t.value;break;case 51:(r=Math.PI/180*t.value)<n.startAngle?n.angleLength=r+2*Math.PI-n.startAngle:n.angleLength=r-n.startAngle,n.endAngle=r;break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n},In.ForEntityName="DIMENSION",In.prototype.parseEntity=function(e,t){var n;for(n={type:t.value},t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 2:n.block=t.value;break;case 3:n.styleName=t.value;break;case 10:n.anchorPoint=Mn(e);break;case 11:n.middleOfText=Mn(e);break;case 12:n.insertionPoint=Mn(e);break;case 13:n.linearOrAngularPoint1=Mn(e);break;case 14:n.linearOrAngularPoint2=Mn(e);break;case 15:n.diameterOrRadiusPoint=Mn(e);break;case 16:n.arcPoint=Mn(e);break;case 70:n.dimensionType=t.value;break;case 71:n.attachmentPoint=t.value;break;case 42:n.actualMeasurement=t.value;break;case 1:n.text=t.value;break;case 50:n.angle=t.value;break;case 53:n.textRotation=t.value;break;default:Cn(n,t,e)}t=e.next()}return n},Dn.ForEntityName="ELLIPSE",Dn.prototype.parseEntity=function(e,t){var n;for(n={type:t.value},t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.center=Mn(e);break;case 11:n.majorAxisEndPoint=Mn(e);break;case 40:n.axisRatio=t.value;break;case 41:n.startAngle=t.value;break;case 42:n.endAngle=t.value;break;case 2:n.name=t.value;break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n},Fn.ForEntityName="INSERT",Fn.prototype.parseEntity=function(e,t){var n;for(n={type:t.value},t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 2:n.name=t.value;break;case 41:n.xScale=t.value;break;case 42:n.yScale=t.value;break;case 43:n.zScale=t.value;break;case 10:n.position=Mn(e);break;case 50:n.rotation=t.value;break;case 70:n.columnCount=t.value;break;case 71:n.rowCount=t.value;break;case 44:n.columnSpacing=t.value;break;case 45:n.rowSpacing=t.value;break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n},Un.ForEntityName="LINE",Un.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.vertices.unshift(Mn(e));break;case 11:n.vertices.push(Mn(e));break;case 210:n.extrusionDirection=Mn(e);break;case 100:break;default:Cn(n,t,e)}t=e.next()}return n},Bn.ForEntityName="LWPOLYLINE",Bn.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]},r=0;for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 38:n.elevation=t.value;break;case 39:n.depth=t.value;break;case 70:n.shape=1===(1&t.value),n.hasContinuousLinetypePattern=128===(128&t.value);break;case 90:r=t.value;break;case 10:n.vertices=zn(r,e);break;case 43:0!==t.value&&(n.width=t.value);break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n},Hn.ForEntityName="MTEXT",Hn.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 3:case 1:n.text?n.text+=t.value:n.text=t.value;break;case 10:n.position=Mn(e);break;case 11:n.direction=Mn(e);break;case 40:n.height=t.value;break;case 41:n.width=t.value;break;case 44:n.lineSpacing=t.value;break;case 50:n.rotation=t.value;break;case 71:n.attachmentPoint=t.value;break;case 72:n.drawingDirection=t.value;break;case 101:Tn(e);break;default:Cn(n,t,e)}t=e.next()}return n},Gn.ForEntityName="POINT",Gn.prototype.parseEntity=function(e,t){var n;for(n={type:t.value},t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.position=Mn(e);break;case 39:n.thickness=t.value;break;case 210:n.extrusionDirection=Mn(e);break;case 100:break;default:Cn(n,t,e)}t=e.next()}return n},jn.ForEntityName="VERTEX",jn.prototype.parseEntity=function(e,t){var n={type:t.value};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.x=t.value;break;case 20:n.y=t.value;break;case 30:n.z=t.value;break;case 40:case 41:case 50:break;case 42:0!=t.value&&(n.bulge=t.value);break;case 70:n.curveFittingVertex=0!==(1&t.value),n.curveFitTangent=0!==(2&t.value),n.splineVertex=0!==(8&t.value),n.splineControlPoint=0!==(16&t.value),n.threeDPolylineVertex=0!==(32&t.value),n.threeDPolylineMesh=0!==(64&t.value),n.polyfaceMeshVertex=0!==(128&t.value);break;case 71:n.faces=[t.value];break;case 72:n.faces[1]=t.value;break;case 73:n.faces[2]=t.value;break;case 74:n.faces[3]=t.value;break;default:Cn(n,t,e)}t=e.next()}return n},Vn.ForEntityName="POLYLINE",Vn.prototype.parseEntity=function(e,t){var n={type:t.value,vertices:[]};for(t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:case 20:case 30:case 40:case 41:case 71:case 72:case 73:case 74:case 75:break;case 39:n.thickness=t.value;break;case 70:n.shape=0!==(1&t.value),n.includesCurveFitVertices=0!==(2&t.value),n.includesSplineFitVertices=0!==(4&t.value),n.is3dPolyline=0!==(8&t.value),n.is3dPolygonMesh=0!==(16&t.value),n.is3dPolygonMeshClosed=0!==(32&t.value),n.isPolyfaceMesh=0!==(64&t.value),n.hasContinuousLinetypePattern=0!==(128&t.value);break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n.vertices=function(e,t){var n=new jn,r=[];for(;!e.isEOF();)if(0===t.code)if("VERTEX"===t.value)r.push(n.parseEntity(e,t)),t=e.lastReadGroup;else if("SEQEND"===t.value){Wn(e,t);break}return r}(e,t),n},Xn.ForEntityName="SOLID",Xn.prototype.parseEntity=function(e,t){var n;for((n={type:t.value}).points=[],t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.points[0]=Mn(e);break;case 11:n.points[1]=Mn(e);break;case 12:n.points[2]=Mn(e);break;case 13:n.points[3]=Mn(e);break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n},qn.ForEntityName="SPLINE",qn.prototype.parseEntity=function(e,t){var n;for(n={type:t.value},t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.controlPoints||(n.controlPoints=[]),n.controlPoints.push(Mn(e));break;case 11:n.fitPoints||(n.fitPoints=[]),n.fitPoints.push(Mn(e));break;case 12:n.startTangent=Mn(e);break;case 13:n.endTangent=Mn(e);break;case 40:n.knotValues||(n.knotValues=[]),n.knotValues.push(t.value);break;case 70:0!=(1&t.value)&&(n.closed=!0),0!=(2&t.value)&&(n.periodic=!0),0!=(4&t.value)&&(n.rational=!0),0!=(8&t.value)&&(n.planar=!0),0!=(16&t.value)&&(n.planar=!0,n.linear=!0);break;case 71:n.degreeOfSplineCurve=t.value;break;case 72:n.numberOfKnots=t.value;break;case 73:n.numberOfControlPoints=t.value;break;case 74:n.numberOfFitPoints=t.value;break;case 210:n.extrusionDirection=Mn(e);break;default:Cn(n,t,e)}t=e.next()}return n},Yn.ForEntityName="TEXT",Yn.prototype.parseEntity=function(e,t){var n;for(n={type:t.value},t=e.next();"EOF"!==t&&0!==t.code;){switch(t.code){case 10:n.startPoint=Mn(e);break;case 11:n.endPoint=Mn(e);break;case 40:n.textHeight=t.value;break;case 41:n.xScale=t.value;break;case 50:n.rotation=t.value;break;case 1:n.text=t.value;break;case 72:n.halign=t.value;break;case 73:n.valign=t.value;break;default:Cn(n,t,e)}t=e.next()}return n},Kn.ForEntityName="HATCH",Kn.prototype.parseEntity=function(e,t){var n;n={type:t.value};var r=0,i=0,a=0;for(t=e.next();"EOF"!==t&&0!==t.code;){for(;r>0;){var o=Jn(t,e);o?(n.boundaryLoops.push(o),r--,t=e.next()):r=0}for(;i>0;){var s=Zn(t,e);s?(n.definitionLines.push(s),i--,t=e.next()):i=0}for(;a>0;){var l=Qn(t,e);l?(n.seedPoints.push(l),a--,t=e.next()):a=0}if(0===t.code)break;switch(t.code){case 2:n.patternName=t.value;break;case 70:n.isSolid=0!=t.value;break;case 91:(r=t.value)>0&&(n.boundaryLoops=[]);break;case 75:n.hatchStyle=t.value;break;case 76:n.patternType=t.value;break;case 52:n.patternAngle=t.value*Math.PI/180;break;case 41:n.patternScale=t.value;break;case 78:(i=t.value)>0&&(n.definitionLines=[]);break;case 98:(a=t.value)>0&&(n.seedPoints=[]);break;default:Cn(n,t,e)}t=e.next()}return n};var $n=new Map([[140,"DIMTXT"],[142,"DIMTSZ"],[144,"DIMLFAC"],[147,"DIMGAP"],[173,"DIMSAH"],[175,"DIMSOXD"],[176,"DIMCLRD"],[177,"DIMCLRE"],[178,"DIMCLRT"],[271,"DIMDEC"],[278,"DIMDSEP"],[281,"DIMSD1"],[282,"DIMSD2"],[3,"DIMPOST"],[40,"DIMSCALE"],[41,"DIMASZ"],[42,"DIMEXO"],[44,"DIMEXE"],[45,"DIMRND"],[46,"DIMDLE"],[5,"DIMBLK"],[6,"DIMBLK1"],[7,"DIMBLK2"],[75,"DIMSE1"],[76,"DIMSE2"],[78,"DIMZIN"]]);function er(){var e;this._entityHandlers={},(e=this).registerEntityHandler(An),e.registerEntityHandler(On),e.registerEntityHandler(Rn),e.registerEntityHandler(Ln),e.registerEntityHandler(Nn),e.registerEntityHandler(In),e.registerEntityHandler(Dn),e.registerEntityHandler(Fn),e.registerEntityHandler(Un),e.registerEntityHandler(Bn),e.registerEntityHandler(Hn),e.registerEntityHandler(Gn),e.registerEntityHandler(Vn),e.registerEntityHandler(Xn),e.registerEntityHandler(qn),e.registerEntityHandler(Yn),e.registerEntityHandler(Kn)}function tr(e){En().debug("unhandled group "+nr(e))}function nr(e){return e.code+":"+e.value}function rr(e){return wn[e]}En().setLevel("error"),er.prototype.parse=function(e,t){throw new Error("read() not implemented. Use readSync()")},er.prototype.registerEntityHandler=function(e){var t=new e;this._entityHandlers[e.ForEntityName]=t},er.prototype.parseSync=function(e){return"string"===typeof e?this._parse(e):(console.error("Cannot read DXF source of type `"+typeof e),null)},er.prototype.parseStream=function(e,t){var n="",r=this;e.on("data",(function(e){n+=e})),e.on("end",(function(){try{var e=r._parse(n)}catch(i){return t(i)}t(null,e)})),e.on("error",(function(e){t(e)}))},er.prototype._parse=function(e){var t,n,r={},i=0,a=e.split(/\r\n|\r|\n/g);if(!(t=new xn(a)).hasNext())throw Error("Empty file");var o=this,s=function(e,t){return n.code===e&&n.value===t},l=function(){var e=null,r=null,i={};for(n=t.next();;){if(s(0,"ENDSEC")){e&&(i[e]=r);break}9===n.code?(e&&(i[e]=r),e=n.value):10===n.code?r={x:n.value}:20===n.code?r.y=n.value:30===n.code?r.z=n.value:r=n.value,n=t.next()}return n=t.next(),i},u=function(){var e,r={};for(n=t.next();"EOF"!==n.value&&!s(0,"ENDSEC");)s(0,"BLOCK")?(En().debug("block {"),e=c(),En().debug("}"),m(e),e.name?r[e.name]=e:En().error('block with handle "'+e.handle+'" is missing a name.')):(tr(n),n=t.next());return r},c=function(){var e={};for(n=t.next();"EOF"!==n.value;){switch(n.code){case 1:e.xrefPath=n.value,n=t.next();break;case 2:e.name=n.value,n=t.next();break;case 3:e.name2=n.value,n=t.next();break;case 5:e.handle=n.value,n=t.next();break;case 8:e.layer=n.value,n=t.next();break;case 10:e.position=g(),n=t.next();break;case 67:e.paperSpace=!(!n.value||1!=n.value),n=t.next();break;case 70:0!=n.value&&(e.type=n.value),n=t.next();break;case 100:n=t.next();break;case 330:e.ownerHandle=n.value,n=t.next();break;case 0:if("ENDBLK"==n.value)break;e.entities=v(!0);break;default:tr(n),n=t.next()}if(s(0,"ENDBLK")){n=t.next();break}}return e},h=function(){var e={};for(n=t.next();"EOF"!==n.value&&!s(0,"ENDSEC");){s(0,"TABLE")?(n=t.next(),p[n.value]?(En().debug(n.value+" Table {"),e[p[n.value].tableName]=d(),En().debug("}")):En().debug("Unhandled Table "+n.value)):n=t.next()}return n=t.next(),e},f="ENDTAB",d=function(){var e,r=p[n.value],i={},a=0;for(n=t.next();!s(0,f);)switch(n.code){case 5:i.handle=n.value,n=t.next();break;case 330:i.ownerHandle=n.value,n=t.next();break;case 100:"AcDbSymbolTable"===n.value||tr(n),n=t.next();break;case 70:a=n.value,n=t.next();break;case 0:n.value===r.dxfSymbolName?i[r.tableRecordsProperty]=r.parseTableRecords():(tr(n),n=t.next());break;default:tr(n),n=t.next()}var o=i[r.tableRecordsProperty];return o?(o.constructor===Array?e=o.length:"object"===typeof o&&(e=Object.keys(o).length),a!==e&&En().warn("Parsed ".concat(e," ").concat(r.dxfSymbolName,"'s but expected ").concat(a))):i[r.tableRecordsProperty]=[],n=t.next(),i},p={VPORT:{tableRecordsProperty:"viewPorts",tableName:"viewPort",dxfSymbolName:"VPORT",parseTableRecords:function(){var e=[],r={};for(En().debug("ViewPort {"),n=t.next();!s(0,f);)switch(n.code){case 2:r.name=n.value,n=t.next();break;case 10:r.lowerLeftCorner=g(),n=t.next();break;case 11:r.upperRightCorner=g(),n=t.next();break;case 12:r.center=g(),n=t.next();break;case 13:r.snapBasePoint=g(),n=t.next();break;case 14:r.snapSpacing=g(),n=t.next();break;case 15:r.gridSpacing=g(),n=t.next();break;case 16:r.viewDirectionFromTarget=g(),n=t.next();break;case 17:r.viewTarget=g(),n=t.next();break;case 42:r.lensLength=n.value,n=t.next();break;case 43:r.frontClippingPlane=n.value,n=t.next();break;case 44:r.backClippingPlane=n.value,n=t.next();break;case 45:r.viewHeight=n.value,n=t.next();break;case 50:r.snapRotationAngle=n.value,n=t.next();break;case 51:r.viewTwistAngle=n.value,n=t.next();break;case 79:r.orthographicType=n.value,n=t.next();break;case 110:case 110:r.ucsOrigin=g(),n=t.next();break;case 111:r.ucsXAxis=g(),n=t.next();break;case 112:r.ucsYAxis=g(),n=t.next();break;case 281:r.renderMode=n.value,n=t.next();break;case 281:r.defaultLightingType=n.value,n=t.next();break;case 292:r.defaultLightingOn=n.value,n=t.next();break;case 330:r.ownerHandle=n.value,n=t.next();break;case 63:case 421:case 431:r.ambientColor=n.value,n=t.next();break;case 0:"VPORT"===n.value&&(En().debug("}"),e.push(r),En().debug("ViewPort {"),r={},n=t.next());break;default:tr(n),n=t.next()}return En().debug("}"),e.push(r),e}},LTYPE:{tableRecordsProperty:"lineTypes",tableName:"lineType",dxfSymbolName:"LTYPE",parseTableRecords:function(){var e,r,i={},a={};for(En().debug("LType {"),n=t.next();!s(0,"ENDTAB");)switch(n.code){case 2:a.name=n.value,e=n.value,n=t.next();break;case 3:a.description=n.value,n=t.next();break;case 73:(r=n.value)>0&&(a.pattern=[]),n=t.next();break;case 40:a.patternLength=n.value,n=t.next();break;case 49:a.pattern.push(n.value),n=t.next();break;case 0:En().debug("}"),r>0&&r!==a.pattern.length&&En().warn("lengths do not match on LTYPE pattern"),i[e]=a,a={},En().debug("LType {"),n=t.next();break;default:n=t.next()}return En().debug("}"),i[e]=a,i}},LAYER:{tableRecordsProperty:"layers",tableName:"layer",dxfSymbolName:"LAYER",parseTableRecords:function(){var e,r={},i={};for(En().debug("Layer {"),n=t.next();!s(0,"ENDTAB");)switch(n.code){case 2:i.name=n.value,e=n.value,n=t.next();break;case 62:i.visible=n.value>=0,i.colorIndex=Math.abs(n.value),i.color=rr(i.colorIndex),n=t.next();break;case 70:i.frozen=0!==(1&n.value)||0!==(2&n.value),n=t.next();break;case 420:i.color=n.value,n=t.next();break;case 0:"LAYER"===n.value&&(En().debug("}"),r[e]=i,En().debug("Layer {"),i={},e=void 0,n=t.next());break;default:tr(n),n=t.next()}return En().debug("}"),r[e]=i,r}},DIMSTYLE:{tableRecordsProperty:"dimStyles",tableName:"dimstyle",dxfSymbolName:"DIMSTYLE",parseTableRecords:function(){var e,r={},i={};for(En().debug("DimStyle {"),n=t.next();!s(0,"ENDTAB");)if($n.has(n.code))i[$n.get(n.code)]=n.value,n=t.next();else switch(n.code){case 2:i.name=n.value,e=n.value,n=t.next();break;case 0:"DIMSTYLE"===n.value&&(En().debug("}"),r[e]=i,En().debug("DimStyle {"),i={},e=void 0,n=t.next());break;default:tr(n),n=t.next()}return En().debug("}"),r[e]=i,r}},STYLE:{tableRecordsProperty:"styles",tableName:"style",dxfSymbolName:"STYLE",parseTableRecords:function(){var e,r={},i={};for(En().debug("Style {"),n=t.next();!s(0,f);)switch(n.code){case 100:i.subClassMarker=n.value,n=t.next();break;case 2:i.styleName=n.value,e=n.value,n=t.next();break;case 70:i.standardFlag=n.value,n=t.next();break;case 40:i.fixedTextHeight=n.value,n=t.next();break;case 41:i.widthFactor=n.value,n=t.next();break;case 50:i.obliqueAngle=n.value,n=t.next();break;case 71:i.textGenerationFlag=n.value,n=t.next();break;case 42:i.lastHeight=n.value,n=t.next();break;case 3:i.font=n.value,n=t.next();break;case 4:i.bigFont=n.value,n=t.next();break;case 1071:i.extendedFont=n.value,n=t.next();break;case 0:"STYLE"===n.value&&(En().debug("}"),r[e]=i,En().debug("Style {"),i={},e=void 0,n=t.next());break;default:tr(n),n=t.next()}return En().debug("}"),r[e]=i,r}}},v=function(e){var r=[],i=e?"ENDBLK":"ENDSEC";for(e||(n=t.next());;)if(0===n.code){if(n.value===i)break;var a,s=o._entityHandlers[n.value];if(null==s){En().warn("Unhandled entity "+n.value),n=t.next();continue}En().debug(n.value+" {"),a=s.parseEntity(t,n),n=t.lastReadGroup,En().debug("}"),m(a),r.push(a)}else n=t.next();return"ENDSEC"==i&&(n=t.next()),r},g=function(){var e={},r=n.code;if(e.x=n.value,r+=10,(n=t.next()).code!=r)throw new Error("Expected code for point value to be "+r+" but got "+n.code+".");return e.y=n.value,r+=10,(n=t.next()).code!=r?(t.rewind(),e):(e.z=n.value,e)},m=function(e){if(!e)throw new TypeError("entity cannot be undefined or null");e.handle||(e.handle=i++)};return function(){for(n=t.next();!t.isEOF();)if(0===n.code&&"SECTION"===n.value){if(2!==(n=t.next()).code){console.error("Unexpected code %s after 0:SECTION",nr(n)),n=t.next();continue}"HEADER"===n.value?(En().debug("> HEADER"),r.header=l(),En().debug("<")):"BLOCKS"===n.value?(En().debug("> BLOCKS"),r.blocks=u(),En().debug("<")):"ENTITIES"===n.value?(En().debug("> ENTITIES"),r.entities=v(!1),En().debug("<")):"TABLES"===n.value?(En().debug("> TABLES"),r.tables=h(),En().debug("<")):"EOF"===n.value?En().debug("EOF"):En().warn("Skipping section '%s'",n.value)}else n=t.next()}(),r};var ir=function(){return M((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";T(this,e),this.url=t,this.encoding=n}),[{key:"Fetch",value:function(){var e=S(k().mark((function e(){var t,n,r,i,a,o,s,l,u,c,h,f=arguments;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.length>0&&void 0!==f[0]?f[0]:null,e.next=3,fetch(this.url);case 3:n=e.sent,r=+n.headers.get("Content-Length"),i=n.body.getReader(),a=0,o="",s=new TextDecoder(this.encoding);case 9:return e.next=12,i.read();case 12:if(l=e.sent,u=l.done,c=l.value,!u){e.next=18;break}return o+=s.decode(new ArrayBuffer(0),{stream:!1}),e.abrupt("break",23);case 18:o+=s.decode(c,{stream:!0}),a+=c.length,null!==t&&t("fetch",a,r),e.next=9;break;case 23:return null!==t&&t("parse",0,null),h=new er,e.abrupt("return",h.parseSync(o));case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}])}();function ar(){return ar="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ar.apply(null,arguments)}var or="161",sr=0,lr=1,ur=2,cr=0,hr=1,fr=2,dr=3,pr=1,vr=2,gr=3,mr=0,yr=1,br=100,xr=0,kr=1,wr=2,Sr=0,Er=1,_r=2,Mr=3,Tr=4,Cr=5,Ar=6,Pr=301,Or=302,Rr=303,Lr=304,Nr=306,Ir=1e3,Dr=1001,Fr=1002,Ur=1003,Br=1004,zr=1005,Hr=1006,Gr=1007,jr=1008,Vr=1009,Wr=1012,Xr=1013,qr=1014,Yr=1015,Kr=1016,Jr=1020,Zr=1023,Qr=1026,$r=1027,ei=33776,ti=33777,ni=33778,ri=33779,ii=36492,ai=2300,oi=2301,si=2302,li=2400,ui=2401,ci=2402,hi=3001,fi="",di="srgb",pi="srgb-linear",vi="display-p3",gi="display-p3-linear",mi="linear",yi="srgb",bi="rec709",xi="p3",ki=7680,wi=35044,Si="300 es",Ei=1035,_i=2e3,Mi=2001,Ti=function(){return M((function e(){T(this,e)}),[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}])}(),Ci=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Ai=Math.PI/180,Pi=180/Math.PI;function Oi(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Ci[255&e]+Ci[e>>8&255]+Ci[e>>16&255]+Ci[e>>24&255]+"-"+Ci[255&t]+Ci[t>>8&255]+"-"+Ci[t>>16&15|64]+Ci[t>>24&255]+"-"+Ci[63&n|128]+Ci[n>>8&255]+"-"+Ci[n>>16&255]+Ci[n>>24&255]+Ci[255&r]+Ci[r>>8&255]+Ci[r>>16&255]+Ci[r>>24&255]).toLowerCase()}function Ri(e,t,n){return Math.max(t,Math.min(n,e))}function Li(e,t){return(e%t+t)%t}function Ni(e,t,n){return(1-n)*e+n*t}function Ii(e){return 0===(e&e-1)&&0!==e}function Di(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Fi(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Ui(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}var Bi=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(this,e),e.prototype.isVector2=!0,this.x=t,this.y=n}),[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Ri(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}])}(),zi=function(){return M((function e(t,n,r,i,a,o,s,l,u){T(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u)}),[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],f=n[5],d=n[8],p=r[0],v=r[3],g=r[6],m=r[1],y=r[4],b=r[7],x=r[2],k=r[5],w=r[8];return i[0]=a*p+o*m+s*x,i[3]=a*v+o*y+s*k,i[6]=a*g+o*b+s*w,i[1]=l*p+u*m+c*x,i[4]=l*v+u*y+c*k,i[7]=l*g+u*b+c*w,i[2]=h*p+f*m+d*x,i[5]=h*v+f*y+d*k,i[8]=h*g+f*b+d*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*i,f=l*i-a*s,d=t*c+n*h+r*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Hi.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Hi.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Hi.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}])}(),Hi=new zi;function Gi(e){for(var t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;function ji(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}var Vi={};function Wi(e){e in Vi||(Vi[e]=!0,console.warn(e))}var Xi,qi=(new zi).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),Yi=(new zi).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Ki=j(j(j(j({},pi,{transfer:mi,primaries:bi,toReference:function(e){return e},fromReference:function(e){return e}}),di,{transfer:yi,primaries:bi,toReference:function(e){return e.convertSRGBToLinear()},fromReference:function(e){return e.convertLinearToSRGB()}}),gi,{transfer:mi,primaries:xi,toReference:function(e){return e.applyMatrix3(Yi)},fromReference:function(e){return e.applyMatrix3(qi)}}),vi,{transfer:yi,primaries:xi,toReference:function(e){return e.convertSRGBToLinear().applyMatrix3(Yi)},fromReference:function(e){return e.applyMatrix3(qi).convertLinearToSRGB()}}),Ji=new Set([pi,gi]),Zi={enabled:!0,_workingColorSpace:pi,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!Ji.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=Ki[t].toReference;return(0,Ki[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Ki[e].primaries},getTransfer:function(e){return e===fi?mi:Ki[e].transfer}};function Qi(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function $i(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var ea=function(){return M((function e(){T(this,e)}),null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"===typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Xi&&(Xi=ji("canvas")),Xi.width=e.width,Xi.height=e.height;var n=Xi.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Xi}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=ji("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*Qi(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),s=0;s<o.length;s++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[s]=Math.floor(255*Qi(o[s]/255)):o[s]=Qi(o[s]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}])}(),ta=0,na=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;T(this,e),this.isSource=!0,Object.defineProperty(this,"id",{value:ta++}),this.uuid=Oi(),this.data=t,this.dataReady=!0,this.version=0}),[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(ra(r[a].image)):i.push(ra(r[a]))}else i=ra(r);n.url=i}return t||(e.images[this.uuid]=n),n}}])}();function ra(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?ea.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var ia=0,aa=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.DEFAULT_IMAGE,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.DEFAULT_MAPPING,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Dr,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Dr,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Hr,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:jr,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Zr,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Vr,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:t.DEFAULT_ANISOTROPY,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:fi;return T(this,t),(e=z(this,t)).isTexture=!0,Object.defineProperty(e,"id",{value:ia++}),e.uuid=Oi(),e.name="",e.source=new na(n),e.mipmaps=[],e.mapping=r,e.channel=0,e.wrapS=i,e.wrapT=a,e.magFilter=o,e.minFilter=s,e.anisotropy=c,e.format=l,e.internalFormat=null,e.type=u,e.offset=new Bi(0,0),e.repeat=new Bi(1,1),e.center=new Bi(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new zi,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,"string"===typeof h?e.colorSpace=h:(Wi("THREE.Texture: Property .encoding has been replaced by .colorSpace."),e.colorSpace=h===hi?di:fi),e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return G(t,e),M(t,[{key:"image",get:function(){return this.source.data},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ir:e.x=e.x-Math.floor(e.x);break;case Dr:e.x=e.x<0?0:1;break;case Fr:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ir:e.y=e.y-Math.floor(e.y);break;case Dr:e.y=e.y<0?0:1;break;case Fr:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}},{key:"encoding",get:function(){return Wi("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===di?hi:3e3},set:function(e){Wi("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===hi?di:fi}}])}(Ti);aa.DEFAULT_IMAGE=null,aa.DEFAULT_MAPPING=300,aa.DEFAULT_ANISOTROPY=1;var oa=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;T(this,e),e.prototype.isVector4=!0,this.x=t,this.y=n,this.z=r,this.w=i}),[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,s=e.elements,l=s[0],u=s[4],c=s[8],h=s[1],f=s[5],d=s[9],p=s[2],v=s[6],g=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(d-v)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(d+v)<o&&Math.abs(l+f+g-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var m=(l+1)/2,y=(f+1)/2,b=(g+1)/2,x=(u+h)/4,k=(c+p)/4,w=(d+v)/4;return m>y&&m>b?m<a?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(m)),i=k/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=w/r):b<a?(n=.707106781,r=.707106781,i=0):(n=k/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(S)<.001&&(S=1),this.x=(v-d)/S,this.y=(c-p)/S,this.z=(h-u)/S,this.w=Math.acos((l+f+g-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}])}(),sa=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T(this,t),(e=z(this,t)).isRenderTarget=!0,e.width=n,e.height=r,e.depth=1,e.scissor=new oa(0,0,n,r),e.scissorTest=!1,e.viewport=new oa(0,0,n,r);var a={width:n,height:r,depth:1};return void 0!==i.encoding&&(Wi("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===hi?di:fi),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Hr,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),e.texture=new aa(a,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.flipY=!1,e.texture.generateMipmaps=i.generateMipmaps,e.texture.internalFormat=i.internalFormat,e.depthBuffer=i.depthBuffer,e.stencilBuffer=i.stencilBuffer,e.depthTexture=i.depthTexture,e.samples=i.samples,e}return G(t,e),M(t,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;var t=Object.assign({},e.texture.image);return this.texture.source=new na(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}])}(Ti),la=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return T(this,t),(e=z(this,t,[n,r,i])).isWebGLRenderTarget=!0,e}return G(t,e),M(t)}(sa),ua=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return T(this,t),(e=z(this,t,[null])).isDataArrayTexture=!0,e.image={data:n,width:r,height:i,depth:a},e.magFilter=Ur,e.minFilter=Ur,e.wrapR=Dr,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return G(t,e),M(t)}(aa),ca=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return T(this,t),(e=z(this,t,[null])).isData3DTexture=!0,e.image={data:n,width:r,height:i,depth:a},e.magFilter=Ur,e.minFilter=Ur,e.wrapR=Dr,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return G(t,e),M(t)}(aa),ha=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;T(this,e),this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=i}),[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),f=s(r/2),d=s(i/2);switch(a){case"XYZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"YXZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"ZXY":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"ZYX":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"YZX":this._x=h*u*c+l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c-h*f*d;break;case"XZY":this._x=h*u*c-l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-s)*f,this._y=(i-l)*f,this._z=(a-r)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(u-s)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(i+l)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Ri(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=a*h+this._w*f,this._x=n*h+this._x*f,this._y=r*h+this._y*f,this._z=i*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],f=i[a+1],d=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==h||l!==f||u!==d){var v=1-o,g=s*h+l*f+u*d+c*p,m=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*m);v=Math.sin(v*x)/b,o=Math.sin(o*x)/b}var k=o*m;if(s=s*v+h*k,l=l*v+f*k,u=u*v+d*k,c=c*v+p*k,v===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],f=i[a+2],d=i[a+3];return e[t]=o*d+u*c+s*f-l*h,e[t+1]=s*d+u*h+l*c-o*f,e[t+2]=l*d+u*f+o*h-s*c,e[t+3]=u*d-o*c-s*h-l*f,e}}])}(),fa=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;T(this,e),e.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}),[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(pa.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(pa.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*r-o*n),u=2*(o*t-i*r),c=2*(i*n-a*t);return this.x=t+s*l+a*c-o*u,this.y=n+s*u+o*l-i*c,this.z=r+s*c+i*u-a*l,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return da.copy(this).projectOnVector(e),this.sub(da)}},{key:"reflect",value:function(e){return this.sub(da.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Ri(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}])}(),da=new fa,pa=new ha,va=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fa(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fa(-1/0,-1/0,-1/0);T(this,e),this.isBox3=!0,this.min=t,this.max=n}),[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t+=3)this.expandByPoint(ma.fromArray(e,t));return this}},{key:"setFromBufferAttribute",value:function(e){this.makeEmpty();for(var t=0,n=e.count;t<n;t++)this.expandByPoint(ma.fromBufferAttribute(e,t));return this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=ma.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n){var r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(var i=0,a=r.count;i<a;i++)!0===e.isMesh?e.getVertexPosition(i,ma):ma.fromBufferAttribute(r,i),ma.applyMatrix4(e.matrixWorld),this.expandByPoint(ma);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),ya.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),ya.copy(n.boundingBox)),ya.applyMatrix4(e.matrixWorld),this.union(ya)}for(var o=e.children,s=0,l=o.length;s<l;s++)this.expandByObject(o[s],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,ma),ma.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(_a),Ma.subVectors(this.max,_a),ba.subVectors(e.a,_a),xa.subVectors(e.b,_a),ka.subVectors(e.c,_a),wa.subVectors(xa,ba),Sa.subVectors(ka,xa),Ea.subVectors(ba,ka);var t=[0,-wa.z,wa.y,0,-Sa.z,Sa.y,0,-Ea.z,Ea.y,wa.z,0,-wa.x,Sa.z,0,-Sa.x,Ea.z,0,-Ea.x,-wa.y,wa.x,0,-Sa.y,Sa.x,0,-Ea.y,Ea.x,0];return!!Aa(t,ba,xa,ka,Ma)&&(!!Aa(t=[1,0,0,0,1,0,0,0,1],ba,xa,ka,Ma)&&(Ta.crossVectors(wa,Sa),Aa(t=[Ta.x,Ta.y,Ta.z],ba,xa,ka,Ma)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,ma).distanceTo(e)}},{key:"getBoundingSphere",value:function(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(ma).length()),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(ga[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ga[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ga[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ga[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ga[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ga[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ga[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ga[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ga)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}])}(),ga=[new fa,new fa,new fa,new fa,new fa,new fa,new fa,new fa],ma=new fa,ya=new va,ba=new fa,xa=new fa,ka=new fa,wa=new fa,Sa=new fa,Ea=new fa,_a=new fa,Ma=new fa,Ta=new fa,Ca=new fa;function Aa(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){Ca.fromArray(e,a);var s=i.x*Math.abs(Ca.x)+i.y*Math.abs(Ca.y)+i.z*Math.abs(Ca.z),l=t.dot(Ca),u=n.dot(Ca),c=r.dot(Ca);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Pa=new va,Oa=new fa,Ra=new fa,La=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fa,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;T(this,e),this.isSphere=!0,this.center=t,this.radius=n}),[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):Pa.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Oa.subVectors(e,this.center);var t=Oa.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.addScaledVector(Oa,r/n),this.radius+=r}return this}},{key:"union",value:function(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Ra.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Oa.copy(e.center).add(Ra)),this.expandByPoint(Oa.copy(e.center).sub(Ra))),this)}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])}(),Na=new fa,Ia=new fa,Da=new fa,Fa=new fa,Ua=new fa,Ba=new fa,za=new fa,Ha=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fa,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fa(0,0,-1);T(this,e),this.origin=t,this.direction=n}),[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,Na)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=Na.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Na.copy(this.origin).addScaledVector(this.direction,t),Na.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){Ia.copy(e).add(t).multiplyScalar(.5),Da.copy(t).sub(e).normalize(),Fa.copy(this.origin).sub(Ia);var i,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Da),c=Fa.dot(this.direction),h=-Fa.dot(Da),f=Fa.lengthSq(),d=Math.abs(1-u*u);if(d>0)if(a=u*c-h,s=l*d,(i=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/d;o=(i*=p)*(i+u*(a*=p)+2*c)+a*(u*i+a+2*h)+f}else a=l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+f;else a=-l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+f;else a<=-s?o=-(i=Math.max(0,-(-u*l+c)))*i+(a=i>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f:a<=s?(i=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+f):o=-(i=Math.max(0,-(u*l+c)))*i+(a=i>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+f;else a=u>0?-l:l,o=-(i=Math.max(0,-(u*a+c)))*i+a*(a+2*h)+f;return n&&n.copy(this.origin).addScaledVector(this.direction,i),r&&r.copy(Ia).addScaledVector(Da,a),o}},{key:"intersectSphere",value:function(e,t){Na.subVectors(e.center,this.origin);var n=Na.dot(this.direction),r=Na.dot(Na)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,s=n+a;return s<0?null:o<0?this.at(s,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),u>=0?(i=(e.min.y-h.y)*u,a=(e.max.y-h.y)*u):(i=(e.max.y-h.y)*u,a=(e.min.y-h.y)*u),n>a||i>r?null:((i>n||isNaN(n))&&(n=i),(a<r||isNaN(r))&&(r=a),c>=0?(o=(e.min.z-h.z)*c,s=(e.max.z-h.z)*c):(o=(e.max.z-h.z)*c,s=(e.min.z-h.z)*c),n>s||o>r?null:((o>n||n!==n)&&(n=o),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,Na)}},{key:"intersectTriangle",value:function(e,t,n,r,i){Ua.subVectors(t,e),Ba.subVectors(n,e),za.crossVectors(Ua,Ba);var a,o=this.direction.dot(za);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Fa.subVectors(this.origin,e);var s=a*this.direction.dot(Ba.crossVectors(Fa,Ba));if(s<0)return null;var l=a*this.direction.dot(Ua.cross(Fa));if(l<0)return null;if(s+l>o)return null;var u=-a*Fa.dot(za);return u<0?null:this.at(u/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])}(),Ga=function(){function e(t,n,r,i,a,o,s,l,u,c,h,f,d,p,v,g){T(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u,c,h,f,d,p,v,g)}return M(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,h,f,d,p,v){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/ja.setFromMatrixColumn(e,0).length(),i=1/ja.setFromMatrixColumn(e,1).length(),a=1/ja.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*u,f=a*c,d=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+d*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=d+f*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*u,g=s*c,m=l*u,y=l*c;t[0]=v+y*o,t[4]=m*o-g,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=g*o-m,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*u,x=s*c,k=l*u,w=l*c;t[0]=b-w*o,t[4]=-a*c,t[8]=k+x*o,t[1]=x+k*o,t[5]=a*u,t[9]=w-b*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*u,E=a*c,_=o*u,M=o*c;t[0]=s*u,t[4]=_*l-E,t[8]=S*l+M,t[1]=s*c,t[5]=M*l+S,t[9]=E*l-_,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var T=a*s,C=a*l,A=o*s,P=o*l;t[0]=s*u,t[4]=P-T*c,t[8]=A*c+C,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=C*c+A,t[10]=T-P*c}else if("XZY"===e.order){var O=a*s,R=a*l,L=o*s,N=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=O*c+N,t[5]=a*u,t[9]=R*c-L,t[2]=L*c-R,t[6]=o*u,t[10]=N*c+O}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Wa,e,Xa)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Ka.subVectors(e,t),0===Ka.lengthSq()&&(Ka.z=1),Ka.normalize(),qa.crossVectors(n,Ka),0===qa.lengthSq()&&(1===Math.abs(n.z)?Ka.x+=1e-4:Ka.z+=1e-4,Ka.normalize(),qa.crossVectors(n,Ka)),qa.normalize(),Ya.crossVectors(Ka,qa),r[0]=qa.x,r[4]=Ya.x,r[8]=Ka.x,r[1]=qa.y,r[5]=Ya.y,r[9]=Ka.y,r[2]=qa.z,r[6]=Ya.z,r[10]=Ka.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],v=n[10],g=n[14],m=n[3],y=n[7],b=n[11],x=n[15],k=r[0],w=r[4],S=r[8],E=r[12],_=r[1],M=r[5],T=r[9],C=r[13],A=r[2],P=r[6],O=r[10],R=r[14],L=r[3],N=r[7],I=r[11],D=r[15];return i[0]=a*k+o*_+s*A+l*L,i[4]=a*w+o*M+s*P+l*N,i[8]=a*S+o*T+s*O+l*I,i[12]=a*E+o*C+s*R+l*D,i[1]=u*k+c*_+h*A+f*L,i[5]=u*w+c*M+h*P+f*N,i[9]=u*S+c*T+h*O+f*I,i[13]=u*E+c*C+h*R+f*D,i[2]=d*k+p*_+v*A+g*L,i[6]=d*w+p*M+v*P+g*N,i[10]=d*S+p*T+v*O+g*I,i[14]=d*E+p*C+v*R+g*D,i[3]=m*k+y*_+b*A+x*L,i[7]=m*w+y*M+b*P+x*N,i[11]=m*S+y*T+b*O+x*I,i[15]=m*E+y*C+b*R+x*D,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*f-n*s*f)+e[7]*(+t*s*f-t*l*h+i*a*h-r*a*f+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*f-i*a*c+n*a*f+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],g=e[15],m=c*v*l-p*h*l+p*s*f-o*v*f-c*s*g+o*h*g,y=d*h*l-u*v*l-d*s*f+a*v*f+u*s*g-a*h*g,b=u*p*l-d*c*l+d*o*f-a*p*f-u*o*g+a*c*g,x=d*c*s-u*p*s-d*o*h+a*p*h+u*o*v-a*c*v,k=t*m+n*y+r*b+i*x;if(0===k)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/k;return e[0]=m*w,e[1]=(p*h*i-c*v*i-p*r*f+n*v*f+c*r*g-n*h*g)*w,e[2]=(o*v*i-p*s*i+p*r*l-n*v*l-o*r*g+n*s*g)*w,e[3]=(c*s*i-o*h*i-c*r*l+n*h*l+o*r*f-n*s*f)*w,e[4]=y*w,e[5]=(u*v*i-d*h*i+d*r*f-t*v*f-u*r*g+t*h*g)*w,e[6]=(d*s*i-a*v*i-d*r*l+t*v*l+a*r*g-t*s*g)*w,e[7]=(a*h*i-u*s*i+u*r*l-t*h*l-a*r*f+t*s*f)*w,e[8]=b*w,e[9]=(d*c*i-u*p*i-d*n*f+t*p*f+u*n*g-t*c*g)*w,e[10]=(a*p*i-d*o*i+d*n*l-t*p*l-a*n*g+t*o*g)*w,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*f-t*o*f)*w,e[12]=x*w,e[13]=(u*p*r-d*c*r+d*n*h-t*p*h-u*n*v+t*c*v)*w,e[14]=(d*o*r-a*p*r-d*n*s+t*p*s+a*n*v-t*o*v)*w,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,h=i*l,f=i*u,d=i*c,p=a*u,v=a*c,g=o*c,m=s*l,y=s*u,b=s*c,x=n.x,k=n.y,w=n.z;return r[0]=(1-(p+g))*x,r[1]=(f+b)*x,r[2]=(d-y)*x,r[3]=0,r[4]=(f-b)*k,r[5]=(1-(h+g))*k,r[6]=(v+m)*k,r[7]=0,r[8]=(d+y)*w,r[9]=(v-m)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=ja.set(r[0],r[1],r[2]).length(),a=ja.set(r[4],r[5],r[6]).length(),o=ja.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],Va.copy(this);var s=1/i,l=1/a,u=1/o;return Va.elements[0]*=s,Va.elements[1]*=s,Va.elements[2]*=s,Va.elements[4]*=l,Va.elements[5]*=l,Va.elements[6]*=l,Va.elements[8]*=u,Va.elements[9]*=u,Va.elements[10]*=u,t.setFromRotationMatrix(Va),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_i,u=this.elements,c=2*i/(t-e),h=2*i/(n-r),f=(t+e)/(t-e),d=(n+r)/(n-r);if(l===_i)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(l!==Mi)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);o=-a/(a-i),s=-a*i/(a-i)}return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=h,u[9]=d,u[13]=0,u[2]=0,u[6]=0,u[10]=o,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:_i,u=this.elements,c=1/(t-e),h=1/(n-r),f=1/(a-i),d=(t+e)*c,p=(n+r)*h;if(l===_i)o=(a+i)*f,s=-2*f;else{if(l!==Mi)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);o=i*f,s=-1*f}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-d,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=s,u[14]=-o,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}])}(),ja=new fa,Va=new Ga,Wa=new fa(0,0,0),Xa=new fa(1,1,1),qa=new fa,Ya=new fa,Ka=new fa,Ja=new Ga,Za=new ha,Qa=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DEFAULT_ORDER;T(this,e),this.isEuler=!0,this._x=t,this._y=n,this._z=r,this._order=i}),[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],s=r[1],l=r[5],u=r[9],c=r[2],h=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(Ri(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Ri(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(Ri(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,f),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-Ri(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Ri(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Ri(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Ja.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ja,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Za.setFromEuler(this),this.setFromQuaternion(Za,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._order;case 8:case"end":return e.stop()}}),e,this)}))}])}();Qa.DEFAULT_ORDER="XYZ";var $a=function(){return M((function e(){T(this,e),this.mask=1}),[{key:"set",value:function(e){this.mask=1<<e>>>0}},{key:"enable",value:function(e){this.mask|=1<<e}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e}},{key:"disable",value:function(e){this.mask&=~(1<<e)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&1<<e)}}])}(),eo=0,to=new fa,no=new ha,ro=new Ga,io=new fa,ao=new fa,oo=new fa,so=new ha,lo=new fa(1,0,0),uo=new fa(0,1,0),co=new fa(0,0,1),ho={type:"added"},fo={type:"removed"},po=function(e){function t(){var e;T(this,t),(e=z(this,t)).isObject3D=!0,Object.defineProperty(e,"id",{value:eo++}),e.uuid=Oi(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=t.DEFAULT_UP.clone();var n=new fa,r=new Qa,i=new ha,a=new fa(1,1,1);return r._onChange((function(){i.setFromEuler(r,!1)})),i._onChange((function(){r.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(e,{position:{configurable:!0,enumerable:!0,value:n},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Ga},normalMatrix:{value:new zi}}),e.matrix=new Ga,e.matrixWorld=new Ga,e.matrixAutoUpdate=t.DEFAULT_MATRIX_AUTO_UPDATE,e.matrixWorldAutoUpdate=t.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,e.matrixWorldNeedsUpdate=!1,e.layers=new $a,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return G(t,e),M(t,[{key:"onBeforeShadow",value:function(){}},{key:"onAfterShadow",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return no.setFromAxisAngle(e,t),this.quaternion.multiply(no),this}},{key:"rotateOnWorldAxis",value:function(e,t){return no.setFromAxisAngle(e,t),this.quaternion.premultiply(no),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(lo,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(uo,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(co,e)}},{key:"translateOnAxis",value:function(e,t){return to.copy(e).applyQuaternion(this.quaternion),this.position.add(to.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(lo,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(uo,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(co,e)}},{key:"localToWorld",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(ro.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?io.copy(e):io.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),ao.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ro.lookAt(ao,io,this.up):ro.lookAt(io,ao,this.up),this.quaternion.setFromRotationMatrix(ro),r&&(ro.extractRotation(r.matrixWorld),no.setFromRotationMatrix(ro),this.quaternion.premultiply(no.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ho)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(fo)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){return this.remove.apply(this,Y(this.children))}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),ro.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ro.multiply(e.parent.matrixWorld)),e.applyMatrix4(ro),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getObjectsByProperty",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];this[e]===t&&n.push(this);for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].getObjectsByProperty(e,t,n);return n}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ao,e,oo),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ao,so,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++){var i=t[n];!0!==i.matrixWorldAutoUpdate&&!0!==e||i.updateMatrixWorld(e)}}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&!0===n.matrixWorldAutoUpdate&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++){var o=r[i];!0===o.matrixWorldAutoUpdate&&o.updateWorldMatrix(!1,!0)}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map((function(e){return{boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()}})),r.maxGeometryCount=this._maxGeometryCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++){var u=o[s];i(e.shapes,u)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],h=0,f=this.material.length;h<f;h++)c.push(i(e.materials,this.material[h]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var g=E(e.geometries),m=E(e.materials),y=E(e.textures),b=E(e.images),x=E(e.shapes),k=E(e.skeletons),w=E(e.animations),S=E(e.nodes);g.length>0&&(n.geometries=g),m.length>0&&(n.materials=m),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),x.length>0&&(n.shapes=x),k.length>0&&(n.skeletons=k),w.length>0&&(n.animations=w),S.length>0&&(n.nodes=S)}return n.object=r,n;function E(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}])}(Ti);po.DEFAULT_UP=new fa(0,1,0),po.DEFAULT_MATRIX_AUTO_UPDATE=!0,po.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var vo=new fa,go=new fa,mo=new fa,yo=new fa,bo=new fa,xo=new fa,ko=new fa,wo=new fa,So=new fa,Eo=new fa,_o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fa,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new fa,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new fa;T(this,e),this.a=t,this.b=n,this.c=r}return M(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return vo.subVectors(this.c,this.b),go.subVectors(this.a,this.b),.5*vo.cross(go).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getInterpolation",value:function(t,n,r,i,a){return e.getInterpolation(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;bo.subVectors(a,i),xo.subVectors(o,i),wo.subVectors(e,i);var s=bo.dot(wo),l=xo.dot(wo);if(s<=0&&l<=0)return t.copy(i);So.subVectors(e,a);var u=bo.dot(So),c=xo.dot(So);if(u>=0&&c<=u)return t.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),t.copy(i).addScaledVector(bo,n);Eo.subVectors(e,o);var f=bo.dot(Eo),d=xo.dot(Eo);if(d>=0&&f<=d)return t.copy(o);var p=f*l-s*d;if(p<=0&&l>=0&&d<=0)return r=l/(l-d),t.copy(i).addScaledVector(xo,r);var v=u*d-f*c;if(v<=0&&c-u>=0&&f-d>=0)return ko.subVectors(o,a),r=(c-u)/(c-u+(f-d)),t.copy(a).addScaledVector(ko,r);var g=1/(v+p+h);return n=p*g,r=h*g,t.copy(i).addScaledVector(bo,n).addScaledVector(xo,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),vo.subVectors(e,t),r.cross(vo);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){vo.subVectors(r,t),go.subVectors(n,t),mo.subVectors(e,t);var a=vo.dot(vo),o=vo.dot(go),s=vo.dot(mo),l=go.dot(go),u=go.dot(mo),c=a*l-o*o;if(0===c)return i.set(0,0,0),null;var h=1/c,f=(l*s-o*u)*h,d=(a*u-o*s)*h;return i.set(1-f-d,d,f)}},{key:"containsPoint",value:function(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,yo)&&(yo.x>=0&&yo.y>=0&&yo.x+yo.y<=1)}},{key:"getInterpolation",value:function(e,t,n,r,i,a,o,s){return null===this.getBarycoord(e,t,n,r,yo)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,yo.x),s.addScaledVector(a,yo.y),s.addScaledVector(o,yo.z),s)}},{key:"isFrontFacing",value:function(e,t,n,r){return vo.subVectors(n,t),go.subVectors(e,t),vo.cross(go).dot(r)<0}}])}(),Mo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},To={h:0,s:0,l:0},Co={h:0,s:0,l:0};function Ao(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var Po=function(){return M((function e(t,n,r){return T(this,e),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,n,r)}),[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Zi.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zi.workingColorSpace;return this.r=e,this.g=t,this.b=n,Zi.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Zi.workingColorSpace;if(e=Li(e,1),t=Ri(t,0,1),n=Ri(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Ao(a,i,e+1/3),this.g=Ao(a,i,e),this.b=Ao(a,i,e-1/3)}return Zi.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===l)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:di,n=Mo[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Qi(e.r),this.g=Qi(e.g),this.b=Qi(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=$i(e.r),this.g=$i(e.g),this.b=$i(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;return Zi.fromWorkingColorSpace(Oo.copy(this),e),65536*Math.round(Ri(255*Oo.r,0,255))+256*Math.round(Ri(255*Oo.g,0,255))+Math.round(Ri(255*Oo.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zi.workingColorSpace;Zi.fromWorkingColorSpace(Oo.copy(this),t);var n,r,i=Oo.r,a=Oo.g,o=Oo.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zi.workingColorSpace;return Zi.fromWorkingColorSpace(Oo.copy(this),t),e.r=Oo.r,e.g=Oo.g,e.b=Oo.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di;Zi.fromWorkingColorSpace(Oo.copy(this),e);var t=Oo.r,n=Oo.g,r=Oo.b;return e!==di?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(To),this.setHSL(To.h+e,To.s+t,To.l+n)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(To),e.getHSL(Co);var n=Ni(To.h,Co.h,t),r=Ni(To.s,Co.s,t),i=Ni(To.l,Co.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}])}(),Oo=new Po;Po.NAMES=Mo;var Ro=0,Lo=function(e){function t(){var e;return T(this,t),(e=z(this,t)).isMaterial=!0,Object.defineProperty(e,"id",{value:Ro++}),e.uuid=Oi(),e.name="",e.type="Material",e.blending=1,e.side=mr,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.alphaHash=!1,e.blendSrc=204,e.blendDst=205,e.blendEquation=br,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.blendColor=new Po(0,0,0),e.blendAlpha=0,e.depthFunc=3,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=519,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=ki,e.stencilZFail=ki,e.stencilZPass=ki,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.forceSinglePass=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return G(t,e),M(t,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE.Material: '".concat(t,"' is not a property of THREE.").concat(this.type,"."))}else console.warn("THREE.Material: parameter '".concat(t,"' has value of undefined."))}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),this.side!==mr&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),204!==this.blendSrc&&(n.blendSrc=this.blendSrc),205!==this.blendDst&&(n.blendDst=this.blendDst),this.blendEquation!==br&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ki&&(n.stencilFail=this.stencilFail),this.stencilZFail!==ki&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==ki&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}])}(Ti),No=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).isMeshBasicMaterial=!0,n.type="MeshBasicMaterial",n.color=new Po(16777215),n.map=null,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=null,n.aoMapIntensity=1,n.specularMap=null,n.alphaMap=null,n.envMap=null,n.combine=xr,n.reflectivity=1,n.refractionRatio=.98,n.wireframe=!1,n.wireframeLinewidth=1,n.wireframeLinecap="round",n.wireframeLinejoin="round",n.fog=!0,n.setValues(e),n}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}])}(Lo);var Io=new fa,Do=new Bi,Fo=function(){return M((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(T(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=r,this.usage=wi,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=Yr,this.version=0}),[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"updateRange",get:function(){return Wi("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Do.fromBufferAttribute(this,t),Do.applyMatrix3(e),this.setXY(t,Do.x,Do.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Io.fromBufferAttribute(this,r),Io.applyMatrix3(e),this.setXYZ(r,Io.x,Io.y,Io.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)Io.fromBufferAttribute(this,t),Io.applyMatrix4(e),this.setXYZ(t,Io.x,Io.y,Io.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Io.fromBufferAttribute(this,t),Io.applyNormalMatrix(e),this.setXYZ(t,Io.x,Io.y,Io.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Io.fromBufferAttribute(this,t),Io.transformDirection(e),this.setXYZ(t,Io.x,Io.y,Io.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.itemSize+t];return this.normalized&&(n=Fi(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=Ui(n,this.array)),this.array[e*this.itemSize+t]=n,this}},{key:"getX",value:function(e){var t=this.array[e*this.itemSize];return this.normalized&&(t=Fi(t,this.array)),t}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ui(t,this.array)),this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){var t=this.array[e*this.itemSize+1];return this.normalized&&(t=Fi(t,this.array)),t}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ui(t,this.array)),this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){var t=this.array[e*this.itemSize+2];return this.normalized&&(t=Fi(t,this.array)),t}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ui(t,this.array)),this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){var t=this.array[e*this.itemSize+3];return this.normalized&&(t=Fi(t,this.array)),t}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ui(t,this.array)),this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.normalized&&(t=Ui(t,this.array),n=Ui(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Ui(t,this.array),n=Ui(n,this.array),r=Ui(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Ui(t,this.array),n=Ui(n,this.array),r=Ui(r,this.array),i=Ui(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==wi&&(e.usage=this.usage),e}}])}(),Uo=function(e){function t(e,n,r){return T(this,t),z(this,t,[new Uint16Array(e),n,r])}return G(t,e),M(t)}(Fo),Bo=function(e){function t(e,n,r){return T(this,t),z(this,t,[new Uint32Array(e),n,r])}return G(t,e),M(t)}(Fo),zo=function(e){function t(e,n,r){return T(this,t),z(this,t,[new Float32Array(e),n,r])}return G(t,e),M(t)}(Fo),Ho=0,Go=new Ga,jo=new po,Vo=new fa,Wo=new va,Xo=new va,qo=new fa,Yo=function(e){function t(){var e;return T(this,t),(e=z(this,t)).isBufferGeometry=!0,Object.defineProperty(e,"id",{value:Ho++}),e.uuid=Oi(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return G(t,e),M(t,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(Gi(e)?Bo:Uo)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new zi).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return Go.makeRotationFromQuaternion(e),this.applyMatrix4(Go),this}},{key:"rotateX",value:function(e){return Go.makeRotationX(e),this.applyMatrix4(Go),this}},{key:"rotateY",value:function(e){return Go.makeRotationY(e),this.applyMatrix4(Go),this}},{key:"rotateZ",value:function(e){return Go.makeRotationZ(e),this.applyMatrix4(Go),this}},{key:"translate",value:function(e,t,n){return Go.makeTranslation(e,t,n),this.applyMatrix4(Go),this}},{key:"scale",value:function(e,t,n){return Go.makeScale(e,t,n),this.applyMatrix4(Go),this}},{key:"lookAt",value:function(e){return jo.lookAt(e),jo.updateMatrix(),this.applyMatrix4(jo.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Vo).negate(),this.translate(Vo.x,Vo.y,Vo.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new zo(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new va);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new fa(-1/0,-1/0,-1/0),new fa(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Wo.setFromBufferAttribute(i),this.morphTargetsRelative?(qo.addVectors(this.boundingBox.min,Wo.min),this.boundingBox.expandByPoint(qo),qo.addVectors(this.boundingBox.max,Wo.max),this.boundingBox.expandByPoint(qo)):(this.boundingBox.expandByPoint(Wo.min),this.boundingBox.expandByPoint(Wo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new La);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new fa,1/0);if(e){var n=this.boundingSphere.center;if(Wo.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];Xo.setFromBufferAttribute(a),this.morphTargetsRelative?(qo.addVectors(Wo.min,Xo.min),Wo.expandByPoint(qo),qo.addVectors(Wo.max,Xo.max),Wo.expandByPoint(qo)):(Wo.expandByPoint(Xo.min),Wo.expandByPoint(Xo.max))}Wo.getCenter(n);for(var o=0,s=0,l=e.count;s<l;s++)qo.fromBufferAttribute(e,s),o=Math.max(o,n.distanceToSquared(qo));if(t)for(var u=0,c=t.length;u<c;u++)for(var h=t[u],f=this.morphTargetsRelative,d=0,p=h.count;d<p;d++)qo.fromBufferAttribute(h,d),f&&(Vo.fromBufferAttribute(e,d),qo.add(Vo)),o=Math.max(o,n.distanceToSquared(qo));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Fo(new Float32Array(4*o),4));for(var s=this.getAttribute("tangent").array,l=[],u=[],c=0;c<o;c++)l[c]=new fa,u[c]=new fa;var h=new fa,f=new fa,d=new fa,p=new Bi,v=new Bi,g=new Bi,m=new fa,y=new fa,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var x=0,k=b.length;x<k;++x)for(var w=b[x],S=w.start,E=S,_=S+w.count;E<_;E+=3)D(n[E+0],n[E+1],n[E+2]);for(var M=new fa,T=new fa,C=new fa,A=new fa,P=0,O=b.length;P<O;++P)for(var R=b[P],L=R.start,N=L,I=L+R.count;N<I;N+=3)F(n[N+0]),F(n[N+1]),F(n[N+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function D(e,t,n){h.fromArray(r,3*e),f.fromArray(r,3*t),d.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),g.fromArray(a,2*n),f.sub(h),d.sub(h),v.sub(p),g.sub(p);var i=1/(v.x*g.y-g.x*v.y);isFinite(i)&&(m.copy(f).multiplyScalar(g.y).addScaledVector(d,-v.y).multiplyScalar(i),y.copy(d).multiplyScalar(v.x).addScaledVector(f,-g.x).multiplyScalar(i),l[e].add(m),l[t].add(m),l[n].add(m),u[e].add(y),u[t].add(y),u[n].add(y))}function F(e){C.fromArray(i,3*e),A.copy(C);var t=l[e];M.copy(t),M.sub(C.multiplyScalar(C.dot(t))).normalize(),T.crossVectors(A,t);var n=T.dot(u[e])<0?-1:1;s[4*e]=M.x,s[4*e+1]=M.y,s[4*e+2]=M.z,s[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new Fo(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new fa,o=new fa,s=new fa,l=new fa,u=new fa,c=new fa,h=new fa,f=new fa;if(e)for(var d=0,p=e.count;d<p;d+=3){var v=e.getX(d+0),g=e.getX(d+1),m=e.getX(d+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,g),s.fromBufferAttribute(t,m),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),l.fromBufferAttribute(n,v),u.fromBufferAttribute(n,g),c.fromBufferAttribute(n,m),l.add(h),u.add(h),c.add(h),n.setXYZ(v,l.x,l.y,l.z),n.setXYZ(g,u.x,u.y,u.z),n.setXYZ(m,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),s.fromBufferAttribute(t,y+2),h.subVectors(s,o),f.subVectors(a,o),h.cross(f),n.setXYZ(y+0,h.x,h.y,h.z),n.setXYZ(y+1,h.x,h.y,h.z),n.setXYZ(y+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)qo.fromBufferAttribute(e,t),qo.normalize(),e.setXYZ(t,qo.x,qo.y,qo.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,s=0,l=0,u=t.length;l<u;l++){o=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(var c=0;c<r;c++)a[s++]=n[o++]}return new Fo(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var n=new t,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);n.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,f=c.length;h<f;h++){var d=e(c[h],r);u.push(d)}n.morphAttributes[l]=u}n.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,g=p.length;v<g;v++){var m=p[v];n.addGroup(m.start,m.count,m.materialIndex)}return n}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var s={},l=!1;for(var u in this.morphAttributes){for(var c=this.morphAttributes[u],h=[],f=0,d=c.length;f<d;f++){var p=c[f];h.push(p.toJSON(e.data))}h.length>0&&(s[u]=h,l=!0)}l&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var g=this.boundingSphere;return null!==g&&(e.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++)l.push(u[c].clone(t));this.morphAttributes[s]=l}this.morphTargetsRelative=e.morphTargetsRelative;for(var f=e.groups,d=0,p=f.length;d<p;d++){var v=f[d];this.addGroup(v.start,v.count,v.materialIndex)}var g=e.boundingBox;null!==g&&(this.boundingBox=g.clone());var m=e.boundingSphere;return null!==m&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}])}(Ti),Ko=new Ga,Jo=new Ha,Zo=new La,Qo=new fa,$o=new fa,es=new fa,ts=new fa,ns=new fa,rs=new fa,is=new Bi,as=new Bi,os=new Bi,ss=new fa,ls=new fa,us=new fa,cs=new fa,hs=new fa,fs=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yo,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new No;return T(this,t),(e=z(this,t)).isMesh=!0,e.type="Mesh",e.geometry=n,e.material=r,e.updateMorphTargets(),e}return G(t,e),M(t,[{key:"copy",value:function(e,n){return ar(D(t.prototype),"copy",this).call(this,e,n),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}},{key:"getVertexPosition",value:function(e,t){var n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,a=n.morphTargetsRelative;t.fromBufferAttribute(r,e);var o=this.morphTargetInfluences;if(i&&o){rs.set(0,0,0);for(var s=0,l=i.length;s<l;s++){var u=o[s],c=i[s];0!==u&&(ns.fromBufferAttribute(c,e),a?rs.addScaledVector(ns,u):rs.addScaledVector(ns.sub(t),u))}t.add(rs)}return t}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),Zo.copy(n.boundingSphere),Zo.applyMatrix4(i),Jo.copy(e.ray).recast(e.near),!1===Zo.containsPoint(Jo.origin)){if(null===Jo.intersectSphere(Zo,Qo))return;if(Jo.origin.distanceToSquared(Qo)>Math.pow(e.far-e.near,2))return}Ko.copy(i).invert(),Jo.copy(e.ray).applyMatrix4(Ko),null!==n.boundingBox&&!1===Jo.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,Jo)}}},{key:"_computeIntersections",value:function(e,t,n){var r,i=this.geometry,a=this.material,o=i.index,s=i.attributes.position,l=i.attributes.uv,u=i.attributes.uv1,c=i.attributes.normal,h=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(a))for(var d=0,p=h.length;d<p;d++)for(var v=h[d],g=a[v.materialIndex],m=Math.max(v.start,f.start),y=Math.min(o.count,Math.min(v.start+v.count,f.start+f.count));m<y;m+=3){(r=ds(this,g,e,n,l,u,c,o.getX(m),o.getX(m+1),o.getX(m+2)))&&(r.faceIndex=Math.floor(m/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(var b=Math.max(0,f.start),x=Math.min(o.count,f.start+f.count);b<x;b+=3){(r=ds(this,a,e,n,l,u,c,o.getX(b),o.getX(b+1),o.getX(b+2)))&&(r.faceIndex=Math.floor(b/3),t.push(r))}else if(void 0!==s)if(Array.isArray(a))for(var k=0,w=h.length;k<w;k++)for(var S=h[k],E=a[S.materialIndex],_=Math.max(S.start,f.start),M=Math.min(s.count,Math.min(S.start+S.count,f.start+f.count));_<M;_+=3){(r=ds(this,E,e,n,l,u,c,_,_+1,_+2))&&(r.faceIndex=Math.floor(_/3),r.face.materialIndex=S.materialIndex,t.push(r))}else for(var T=Math.max(0,f.start),C=Math.min(s.count,f.start+f.count);T<C;T+=3){(r=ds(this,a,e,n,l,u,c,T,T+1,T+2))&&(r.faceIndex=Math.floor(T/3),t.push(r))}}}])}(po);function ds(e,t,n,r,i,a,o,s,l,u){e.getVertexPosition(s,$o),e.getVertexPosition(l,es),e.getVertexPosition(u,ts);var c=function(e,t,n,r,i,a,o,s){if(null===(t.side===yr?r.intersectTriangle(o,a,i,!0,s):r.intersectTriangle(i,a,o,t.side===mr,s)))return null;hs.copy(s),hs.applyMatrix4(e.matrixWorld);var l=n.ray.origin.distanceTo(hs);return l<n.near||l>n.far?null:{distance:l,point:hs.clone(),object:e}}(e,t,n,r,$o,es,ts,cs);if(c){i&&(is.fromBufferAttribute(i,s),as.fromBufferAttribute(i,l),os.fromBufferAttribute(i,u),c.uv=_o.getInterpolation(cs,$o,es,ts,is,as,os,new Bi)),a&&(is.fromBufferAttribute(a,s),as.fromBufferAttribute(a,l),os.fromBufferAttribute(a,u),c.uv1=_o.getInterpolation(cs,$o,es,ts,is,as,os,new Bi),c.uv2=c.uv1),o&&(ss.fromBufferAttribute(o,s),ls.fromBufferAttribute(o,l),us.fromBufferAttribute(o,u),c.normal=_o.getInterpolation(cs,$o,es,ts,ss,ls,us,new fa),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));var h={a:s,b:l,c:u,normal:new fa,materialIndex:0};_o.getNormal($o,es,ts,h.normal),c.face=h}return c}var ps=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;T(this,t),(e=z(this,t)).type="BoxGeometry",e.parameters={width:n,height:r,depth:i,widthSegments:a,heightSegments:o,depthSegments:s};var l=e;a=Math.floor(a),o=Math.floor(o),s=Math.floor(s);var u=[],c=[],h=[],f=[],d=0,p=0;function v(e,t,n,r,i,a,o,s,v,g,m){for(var y=a/v,b=o/g,x=a/2,k=o/2,w=s/2,S=v+1,E=g+1,_=0,M=0,T=new fa,C=0;C<E;C++)for(var A=C*b-k,P=0;P<S;P++){var O=P*y-x;T[e]=O*r,T[t]=A*i,T[n]=w,c.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=s>0?1:-1,h.push(T.x,T.y,T.z),f.push(P/v),f.push(1-C/g),_+=1}for(var R=0;R<g;R++)for(var L=0;L<v;L++){var N=d+L+S*R,I=d+L+S*(R+1),D=d+(L+1)+S*(R+1),F=d+(L+1)+S*R;u.push(N,I,F),u.push(I,D,F),M+=6}l.addGroup(p,M,m),p+=M,d+=_}return v("z","y","x",-1,-1,i,r,n,s,o,0),v("z","y","x",1,-1,i,r,-n,s,o,1),v("x","z","y",1,1,n,i,r,a,s,2),v("x","z","y",1,-1,n,i,-r,a,s,3),v("x","y","z",1,-1,n,r,i,a,o,4),v("x","y","z",-1,-1,n,r,-i,a,o,5),e.setIndex(u),e.setAttribute("position",new zo(c,3)),e.setAttribute("normal",new zo(h,3)),e.setAttribute("uv",new zo(f,2)),e}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new t(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}])}(Yo);function vs(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[n][r]=null):t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function gs(e){for(var t={},n=0;n<e.length;n++){var r=vs(e[n]);for(var i in r)t[i]=r[i]}return t}function ms(e){return null===e.getRenderTarget()?e.outputColorSpace:Zi.workingColorSpace}var ys={clone:vs,merge:gs},bs=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).isShaderMaterial=!0,n.type="ShaderMaterial",n.defines={},n.uniforms={},n.uniformsGroups=[],n.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",n.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",n.linewidth=1,n.wireframe=!1,n.wireframeLinewidth=1,n.fog=!1,n.lights=!1,n.clipping=!1,n.forceSinglePass=!0,n.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1,multiDraw:!1},n.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},n.index0AttributeName=void 0,n.uniformsNeedUpdate=!1,n.glslVersion=null,void 0!==e&&n.setValues(e),n}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=vs(e.uniforms),this.uniformsGroups=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var n=ar(D(t.prototype),"toJSON",this).call(this,e);for(var r in n.glslVersion=this.glslVersion,n.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?n.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?n.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?n.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?n.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?n.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?n.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?n.uniforms[r]={type:"m4",value:i.toArray()}:n.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(n.extensions=a),n}}])}(Lo),xs=function(e){function t(){var e;return T(this,t),(e=z(this,t)).isCamera=!0,e.type="Camera",e.matrixWorldInverse=new Ga,e.projectionMatrix=new Ga,e.projectionMatrixInverse=new Ga,e.coordinateSystem=_i,e}return G(t,e),M(t,[{key:"copy",value:function(e,n){return ar(D(t.prototype),"copy",this).call(this,e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}},{key:"getWorldDirection",value:function(e){return ar(D(t.prototype),"getWorldDirection",this).call(this,e).negate()}},{key:"updateMatrixWorld",value:function(e){ar(D(t.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,n){ar(D(t.prototype),"updateWorldMatrix",this).call(this,e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])}(po),ks=new fa,ws=new Bi,Ss=new Bi,Es=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return T(this,t),(e=z(this,t)).isPerspectiveCamera=!0,e.type="PerspectiveCamera",e.fov=n,e.zoom=1,e.near=i,e.far=a,e.focus=10,e.aspect=r,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return G(t,e),M(t,[{key:"copy",value:function(e,n){return ar(D(t.prototype),"copy",this).call(this,e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Pi*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*Ai*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*Pi*Math.atan(Math.tan(.5*Ai*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"getViewBounds",value:function(e,t,n){ks.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ks.x,ks.y).multiplyScalar(-e/ks.z),ks.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ks.x,ks.y).multiplyScalar(-e/ks.z)}},{key:"getViewSize",value:function(e,t){return this.getViewBounds(e,ws,Ss),t.subVectors(Ss,ws)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*Ai*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(i+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var n=ar(D(t.prototype),"toJSON",this).call(this,e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,null!==this.view&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}])}(xs),_s=-90,Ms=function(e){function t(e,n,r){var i;T(this,t),(i=z(this,t)).type="CubeCamera",i.renderTarget=r,i.coordinateSystem=null,i.activeMipmapLevel=0;var a=new Es(_s,1,e,n);a.layers=i.layers,i.add(a);var o=new Es(_s,1,e,n);o.layers=i.layers,i.add(o);var s=new Es(_s,1,e,n);s.layers=i.layers,i.add(s);var l=new Es(_s,1,e,n);l.layers=i.layers,i.add(l);var u=new Es(_s,1,e,n);u.layers=i.layers,i.add(u);var c=new Es(_s,1,e,n);return c.layers=i.layers,i.add(c),i}return G(t,e),M(t,[{key:"updateCoordinateSystem",value:function(){var e,t=this.coordinateSystem,n=this.children.concat(),r=R(n,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=q(n);try{for(c.s();!(e=c.n()).done;){var h=e.value;this.remove(h)}}catch(v){c.e(v)}finally{c.f()}if(t===_i)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),s.up.set(0,0,1),s.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else{if(t!==Mi)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),s.up.set(0,0,-1),s.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1)}var f,d=q(n);try{for(d.s();!(f=d.n()).done;){var p=f.value;this.add(p),p.updateMatrixWorld()}}catch(v){d.e(v)}finally{d.f()}}},{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=this.activeMipmapLevel;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());var i=R(this.children,6),a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],c=i[5],h=e.getRenderTarget(),f=e.getActiveCubeFace(),d=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;var v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,a),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,s),e.setRenderTarget(n,3,r),e.render(t,l),e.setRenderTarget(n,4,r),e.render(t,u),n.texture.generateMipmaps=v,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(h,f,d),e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}])}(po),Ts=function(e){function t(e,n,r,i,a,o,s,l,u,c){var h;return T(this,t),(h=z(this,t,[e=void 0!==e?e:[],n=void 0!==n?n:Pr,r,i,a,o,s,l,u,c])).isCubeTexture=!0,h.flipY=!1,h}return G(t,e),M(t,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}])}(aa),Cs=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T(this,t),(e=z(this,t,[n,n,r])).isWebGLCubeRenderTarget=!0;var i={width:n,height:n,depth:1},a=[i,i,i,i,i,i];return void 0!==r.encoding&&(Wi("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===hi?di:fi),e.texture=new Ts(a,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),e.texture.isRenderTargetTexture=!0,e.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,e.texture.minFilter=void 0!==r.minFilter?r.minFilter:Hr,e}return G(t,e),M(t,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new ps(5,5,5),o=new bs({name:"CubemapFromEquirect",uniforms:vs(n),vertexShader:r,fragmentShader:i,side:yr,blending:0});o.uniforms.tEquirect.value=t;var s=new fs(a,o),l=t.minFilter;return t.minFilter===jr&&(t.minFilter=Hr),new Ms(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}])}(la),As=new fa,Ps=new fa,Os=new zi,Rs=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new fa(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(this,e),this.isPlane=!0,this.normal=t,this.constant=n}),[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=As.subVectors(n,t).cross(Ps.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}},{key:"intersectLine",value:function(e,t){var n=e.delta(As),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||Os.getNormalMatrix(e),r=this.coplanarPoint(As).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])}(),Ls=new La,Ns=new fa,Is=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Rs,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rs,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Rs,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Rs,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Rs,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Rs;T(this,e),this.planes=[t,n,r,i,a,o]}),[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_i,n=this.planes,r=e.elements,i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=r[6],h=r[7],f=r[8],d=r[9],p=r[10],v=r[11],g=r[12],m=r[13],y=r[14],b=r[15];if(n[0].setComponents(s-i,h-l,v-f,b-g).normalize(),n[1].setComponents(s+i,h+l,v+f,b+g).normalize(),n[2].setComponents(s+a,h+u,v+d,b+m).normalize(),n[3].setComponents(s-a,h-u,v-d,b-m).normalize(),n[4].setComponents(s-o,h-c,v-p,b-y).normalize(),t===_i)n[5].setComponents(s+o,h+c,v+p,b+y).normalize();else{if(t!==Mi)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(o,c,p,y).normalize()}return this}},{key:"intersectsObject",value:function(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Ls.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{var t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Ls.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Ls)}},{key:"intersectsSprite",value:function(e){return Ls.center.set(0,0,0),Ls.radius=.7071067811865476,Ls.applyMatrix4(e.matrixWorld),this.intersectsSphere(Ls)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(Ns.x=r.normal.x>0?e.max.x:e.min.x,Ns.y=r.normal.y>0?e.max.y:e.min.y,Ns.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Ns)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])}();function Ds(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Fs(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);if(void 0===o)r.set(t,function(t,r){var i,a=t.array,o=t.usage,s=a.byteLength,l=e.createBuffer();if(e.bindBuffer(r,l),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=e.FLOAT;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=e.HALF_FLOAT}else i=e.UNSIGNED_SHORT;else if(a instanceof Int16Array)i=e.SHORT;else if(a instanceof Uint32Array)i=e.UNSIGNED_INT;else if(a instanceof Int32Array)i=e.INT;else if(a instanceof Int8Array)i=e.BYTE;else if(a instanceof Uint8Array)i=e.UNSIGNED_BYTE;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=e.UNSIGNED_BYTE}return{buffer:l,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version,size:s}}(t,i));else if(o.version<t.version){if(o.size!==t.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,r,i){var a=r.array,o=r._updateRange,s=r.updateRanges;if(e.bindBuffer(i,t),-1===o.count&&0===s.length&&e.bufferSubData(i,0,a),0!==s.length){for(var l=0,u=s.length;l<u;l++){var c=s[l];n?e.bufferSubData(i,c.start*a.BYTES_PER_ELEMENT,a,c.start,c.count):e.bufferSubData(i,c.start*a.BYTES_PER_ELEMENT,a.subarray(c.start,c.start+c.count))}r.clearUpdateRanges()}-1!==o.count&&(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1),r.onUploadCallback()}(o.buffer,t,i),o.version=t.version}}}}}var Us=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;T(this,t),(e=z(this,t)).type="PlaneGeometry",e.parameters={width:n,height:r,widthSegments:i,heightSegments:a};for(var o=n/2,s=r/2,l=Math.floor(i),u=Math.floor(a),c=l+1,h=u+1,f=n/l,d=r/u,p=[],v=[],g=[],m=[],y=0;y<h;y++)for(var b=y*d-s,x=0;x<c;x++){var k=x*f-o;v.push(k,-b,0),g.push(0,0,1),m.push(x/l),m.push(1-y/u)}for(var w=0;w<u;w++)for(var S=0;S<l;S++){var E=S+c*w,_=S+c*(w+1),M=S+1+c*(w+1),C=S+1+c*w;p.push(E,_,C),p.push(_,M,C)}return e.setIndex(p),e.setAttribute("position",new zo(v,3)),e.setAttribute("normal",new zo(g,3)),e.setAttribute("uv",new zo(m,2)),e}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.parameters=Object.assign({},e.parameters),this}}],[{key:"fromJSON",value:function(e){return new t(e.width,e.height,e.widthSegments,e.heightSegments)}}])}(Yo),Bs={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\tattribute float batchId;\n\tuniform highp sampler2D batchingTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( batchId );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},zs={common:{diffuse:{value:new Po(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new zi},alphaMap:{value:null},alphaMapTransform:{value:new zi},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new zi}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new zi}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new zi}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new zi},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new zi},normalScale:{value:new Bi(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new zi},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new zi}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new zi}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new zi}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Po(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Po(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new zi},alphaTest:{value:0},uvTransform:{value:new zi}},sprite:{diffuse:{value:new Po(16777215)},opacity:{value:1},center:{value:new Bi(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new zi},alphaMap:{value:null},alphaMapTransform:{value:new zi},alphaTest:{value:0}}},Hs={basic:{uniforms:gs([zs.common,zs.specularmap,zs.envmap,zs.aomap,zs.lightmap,zs.fog]),vertexShader:Bs.meshbasic_vert,fragmentShader:Bs.meshbasic_frag},lambert:{uniforms:gs([zs.common,zs.specularmap,zs.envmap,zs.aomap,zs.lightmap,zs.emissivemap,zs.bumpmap,zs.normalmap,zs.displacementmap,zs.fog,zs.lights,{emissive:{value:new Po(0)}}]),vertexShader:Bs.meshlambert_vert,fragmentShader:Bs.meshlambert_frag},phong:{uniforms:gs([zs.common,zs.specularmap,zs.envmap,zs.aomap,zs.lightmap,zs.emissivemap,zs.bumpmap,zs.normalmap,zs.displacementmap,zs.fog,zs.lights,{emissive:{value:new Po(0)},specular:{value:new Po(1118481)},shininess:{value:30}}]),vertexShader:Bs.meshphong_vert,fragmentShader:Bs.meshphong_frag},standard:{uniforms:gs([zs.common,zs.envmap,zs.aomap,zs.lightmap,zs.emissivemap,zs.bumpmap,zs.normalmap,zs.displacementmap,zs.roughnessmap,zs.metalnessmap,zs.fog,zs.lights,{emissive:{value:new Po(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Bs.meshphysical_vert,fragmentShader:Bs.meshphysical_frag},toon:{uniforms:gs([zs.common,zs.aomap,zs.lightmap,zs.emissivemap,zs.bumpmap,zs.normalmap,zs.displacementmap,zs.gradientmap,zs.fog,zs.lights,{emissive:{value:new Po(0)}}]),vertexShader:Bs.meshtoon_vert,fragmentShader:Bs.meshtoon_frag},matcap:{uniforms:gs([zs.common,zs.bumpmap,zs.normalmap,zs.displacementmap,zs.fog,{matcap:{value:null}}]),vertexShader:Bs.meshmatcap_vert,fragmentShader:Bs.meshmatcap_frag},points:{uniforms:gs([zs.points,zs.fog]),vertexShader:Bs.points_vert,fragmentShader:Bs.points_frag},dashed:{uniforms:gs([zs.common,zs.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Bs.linedashed_vert,fragmentShader:Bs.linedashed_frag},depth:{uniforms:gs([zs.common,zs.displacementmap]),vertexShader:Bs.depth_vert,fragmentShader:Bs.depth_frag},normal:{uniforms:gs([zs.common,zs.bumpmap,zs.normalmap,zs.displacementmap,{opacity:{value:1}}]),vertexShader:Bs.meshnormal_vert,fragmentShader:Bs.meshnormal_frag},sprite:{uniforms:gs([zs.sprite,zs.fog]),vertexShader:Bs.sprite_vert,fragmentShader:Bs.sprite_frag},background:{uniforms:{uvTransform:{value:new zi},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Bs.background_vert,fragmentShader:Bs.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Bs.backgroundCube_vert,fragmentShader:Bs.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Bs.cube_vert,fragmentShader:Bs.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Bs.equirect_vert,fragmentShader:Bs.equirect_frag},distanceRGBA:{uniforms:gs([zs.common,zs.displacementmap,{referencePosition:{value:new fa},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Bs.distanceRGBA_vert,fragmentShader:Bs.distanceRGBA_frag},shadow:{uniforms:gs([zs.lights,zs.fog,{color:{value:new Po(0)},opacity:{value:1}}]),vertexShader:Bs.shadow_vert,fragmentShader:Bs.shadow_frag}};Hs.physical={uniforms:gs([Hs.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new zi},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new zi},clearcoatNormalScale:{value:new Bi(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new zi},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new zi},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new zi},sheen:{value:0},sheenColor:{value:new Po(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new zi},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new zi},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new zi},transmissionSamplerSize:{value:new Bi},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new zi},attenuationDistance:{value:0},attenuationColor:{value:new Po(0)},specularColor:{value:new Po(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new zi},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new zi},anisotropyVector:{value:new Bi},anisotropyMap:{value:null},anisotropyMapTransform:{value:new zi}}]),vertexShader:Bs.meshphysical_vert,fragmentShader:Bs.meshphysical_frag};var Gs={r:0,b:0,g:0};function js(e,t,n,r,i,a,o){var s,l,u=new Po(0),c=!0===a?0:1,h=null,f=0,d=null;function p(t,n){t.getRGB(Gs,ms(e)),r.buffers.color.setClear(Gs.r,Gs.g,Gs.b,n,o)}return{getClearColor:function(){return u},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;u.set(e),p(u,c=t)},getClearAlpha:function(){return c},setClearAlpha:function(e){p(u,c=e)},render:function(a,v){var g=!1,m=!0===v.isScene?v.background:null;m&&m.isTexture&&(m=(v.backgroundBlurriness>0?n:t).get(m)),null===m?p(u,c):m&&m.isColor&&(p(m,1),g=!0);var y=e.xr.getEnvironmentBlendMode();"additive"===y?r.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===y&&r.buffers.color.setClear(0,0,0,0,o),(e.autoClear||g)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.mapping===Nr)?(void 0===l&&((l=new fs(new ps(1,1,1),new bs({name:"BackgroundCubeMaterial",uniforms:vs(Hs.backgroundCube.uniforms),vertexShader:Hs.backgroundCube.vertexShader,fragmentShader:Hs.backgroundCube.fragmentShader,side:yr,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),l.geometry.deleteAttribute("uv"),l.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(l.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(l)),l.material.uniforms.envMap.value=m,l.material.uniforms.flipEnvMap.value=m.isCubeTexture&&!1===m.isRenderTargetTexture?-1:1,l.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,l.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,l.material.toneMapped=Zi.getTransfer(m.colorSpace)!==yi,h===m&&f===m.version&&d===e.toneMapping||(l.material.needsUpdate=!0,h=m,f=m.version,d=e.toneMapping),l.layers.enableAll(),a.unshift(l,l.geometry,l.material,0,0,null)):m&&m.isTexture&&(void 0===s&&((s=new fs(new Us(2,2),new bs({name:"BackgroundMaterial",uniforms:vs(Hs.background.uniforms),vertexShader:Hs.background.vertexShader,fragmentShader:Hs.background.fragmentShader,side:mr,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=m,s.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,s.material.toneMapped=Zi.getTransfer(m.colorSpace)!==yi,!0===m.matrixAutoUpdate&&m.updateMatrix(),s.material.uniforms.uvTransform.value.copy(m.matrix),h===m&&f===m.version&&d===e.toneMapping||(s.material.needsUpdate=!0,h=m,f=m.version,d=e.toneMapping),s.layers.enableAll(),a.unshift(s,s.geometry,s.material,0,0,null))}}}function Vs(e,t,n,r){var i=e.getParameter(e.MAX_VERTEX_ATTRIBS),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,s={},l=d(null),u=l,c=!1;function h(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=u.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){g(e,0)}function g(n,i){var a=u.newAttributes,o=u.enabledAttributes,s=u.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function m(){for(var t=u.newAttributes,n=u.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,r,i,a,o,s){!0===s?e.vertexAttribIPointer(t,n,r,a,o):e.vertexAttribPointer(t,n,r,i,a,o)}function b(){x(),c=!0,u!==l&&h((u=l).object)}function x(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,f,b,x){var k=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,l=s[t.id];void 0===l&&(l={},s[t.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];void 0===c&&(c=d(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),u[o]=c);return c}(b,f,l);u!==w&&h((u=w).object),k=function(e,t,n,r){var i=u.attributes,a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=i[l],h=a[l];if(void 0===h&&("instanceMatrix"===l&&e.instanceMatrix&&(h=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(h=e.instanceColor)),void 0===c)return!0;if(c.attribute!==h)return!0;if(h&&c.data!==h.data)return!0;o++}}return u.attributesNum!==o||u.index!==r}(i,b,f,x),k&&function(e,t,n,r){var i={},a=t.attributes,o=0,s=n.getAttributes();for(var l in s){if(s[l].location>=0){var c=a[l];void 0===c&&("instanceMatrix"===l&&e.instanceMatrix&&(c=e.instanceMatrix),"instanceColor"===l&&e.instanceColor&&(c=e.instanceColor));var h={};h.attribute=c,c&&c.data&&(h.data=c.data),i[l]=h,o++}}u.attributes=i,u.attributesNum=o,u.index=r}(i,b,f,x)}else{var S=!0===l.wireframe;u.geometry===b.id&&u.program===f.id&&u.wireframe===S||(u.geometry=b.id,u.program=f.id,u.wireframe=S,k=!0)}null!==x&&n.update(x,e.ELEMENT_ARRAY_BUFFER),(k||c)&&(c=!1,function(i,a,o,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var f=u[h];if(f.location>=0){var d=l[h];if(void 0===d&&("instanceMatrix"===h&&i.instanceMatrix&&(d=i.instanceMatrix),"instanceColor"===h&&i.instanceColor&&(d=i.instanceColor)),void 0!==d){var b=d.normalized,x=d.itemSize,k=n.get(d);if(void 0===k)continue;var w=k.buffer,S=k.type,E=k.bytesPerElement,_=!0===r.isWebGL2&&(S===e.INT||S===e.UNSIGNED_INT||d.gpuType===Xr);if(d.isInterleavedBufferAttribute){var M=d.data,T=M.stride,C=d.offset;if(M.isInstancedInterleavedBuffer){for(var A=0;A<f.locationSize;A++)g(f.location+A,M.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var P=0;P<f.locationSize;P++)v(f.location+P);e.bindBuffer(e.ARRAY_BUFFER,w);for(var O=0;O<f.locationSize;O++)y(f.location+O,x/f.locationSize,S,b,T*E,(C+x/f.locationSize*O)*E,_)}else{if(d.isInstancedBufferAttribute){for(var R=0;R<f.locationSize;R++)g(f.location+R,d.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===s._maxInstanceCount&&(s._maxInstanceCount=d.meshPerAttribute*d.count)}else for(var L=0;L<f.locationSize;L++)v(f.location+L);e.bindBuffer(e.ARRAY_BUFFER,w);for(var N=0;N<f.locationSize;N++)y(f.location+N,x/f.locationSize,S,b,x*E,x/f.locationSize*N*E,_)}}else if(void 0!==c){var I=c[h];if(void 0!==I)switch(I.length){case 2:e.vertexAttrib2fv(f.location,I);break;case 3:e.vertexAttrib3fv(f.location,I);break;case 4:e.vertexAttrib4fv(f.location,I);break;default:e.vertexAttrib1fv(f.location,I)}}}}m()}(i,l,f,b),null!==x&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n.get(x).buffer))},reset:b,resetDefaultState:x,dispose:function(){for(var e in b(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)f(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:m}}function Ws(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,s){if(0!==s){var l,u;if(a)l=e,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](i,r,o,s),n.update(o,i,s)}},this.renderMultiDraw=function(e,r,a){if(0!==a){var o=t.get("WEBGL_multi_draw");if(null===o)for(var s=0;s<a;s++)this.render(e[s],r[s]);else{o.multiDrawArraysWEBGL(i,e,0,r,0,a);for(var l=0,u=0;u<a;u++)l+=r[u];n.update(l,i,1)}}}}function Xs(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===e.constructor.name,o=void 0!==n.precision?n.precision:"highp",s=i(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||t.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),h=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=e.getParameter(e.MAX_TEXTURE_SIZE),d=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),p=e.getParameter(e.MAX_VERTEX_ATTRIBS),v=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),g=e.getParameter(e.MAX_VARYING_VECTORS),m=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),y=h>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:m,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(e.MAX_SAMPLES):0}}function qs(e){var t=this,n=null,r=0,i=!1,a=!1,o=new Rs,s=new zi,l={value:null,needsUpdate:!1};function u(e,n,r,i){var a=null!==e?e.length:0,u=null;if(0!==a){if(u=l.value,!0!==i||null===u){var c=r+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var f=0,d=r;f!==a;++f,d+=4)o.copy(e[f]).applyMatrix4(h,s),o.normal.toArray(u,d),u[d+3]=o.constant}l.value=u,l.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){var n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){a=!0,u(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(e,t){n=u(e,t,0)},this.setState=function(o,s,c){var h=o.clippingPlanes,f=o.clipIntersection,d=o.clipShadows,p=e.get(o);if(!i||null===h||0===h.length||a&&!d)a?u(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{var v=a?0:r,g=4*v,m=p.clippingState||null;l.value=m,m=u(h,s,g,c);for(var y=0;y!==g;++y)m[y]=n[y];p.clippingState=m,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=v}}}function Ys(e){var t=new WeakMap;function n(e,t){return t===Rr?e.mapping=Pr:t===Lr&&(e.mapping=Or),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping;if(a===Rr||a===Lr){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var s=new Cs(o.height);return s.fromEquirectangularTexture(e,i),t.set(i,s),i.addEventListener("dispose",r),n(s.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}var Ks=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return T(this,t),(e=z(this,t)).isOrthographicCamera=!0,e.type="OrthographicCamera",e.zoom=1,e.view=null,e.left=n,e.right=r,e.top=i,e.bottom=a,e.near=o,e.far=s,e.updateProjectionMatrix(),e}return G(t,e),M(t,[{key:"copy",value:function(e,n){return ar(D(t.prototype),"copy",this).call(this,e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var n=ar(D(t.prototype),"toJSON",this).call(this,e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,null!==this.view&&(n.object.view=Object.assign({},this.view)),n}}])}(xs),Js=[.125,.215,.35,.446,.526,.582],Zs=20,Qs=new Ks,$s=new Po,el=null,tl=0,nl=0,rl=(1+Math.sqrt(5))/2,il=1/rl,al=[new fa(1,1,1),new fa(-1,1,1),new fa(1,1,-1),new fa(-1,1,-1),new fa(0,rl,il),new fa(0,rl,-il),new fa(il,0,rl),new fa(-il,0,rl),new fa(rl,il,0),new fa(-rl,il,0)],ol=function(){return M((function e(t){T(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}),[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;el=this._renderer.getRenderTarget(),tl=this._renderer.getActiveCubeFace(),nl=this._renderer.getActiveMipmapLevel(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=cl(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=ul(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(el,tl,nl),e.scissorTest=!1,ll(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===Pr||e.mapping===Or?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),el=this._renderer.getRenderTarget(),tl=this._renderer.getActiveCubeFace(),nl=this._renderer.getActiveMipmapLevel();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Hr,minFilter:Hr,generateMipmaps:!1,type:Kr,format:Zr,colorSpace:pi,depthBuffer:!1},r=sl(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=sl(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+Js.length,o=0;o<a;o++){var s=Math.pow(2,i);n.push(s);var l=1/s;o>e-4?l=Js[o-e+4-1]:0===o&&(l=0),r.push(l);for(var u=1/(s-2),c=-u,h=1+u,f=[c,c,h,c,h,h,c,c,h,h,c,h],d=6,p=6,v=3,g=2,m=1,y=new Float32Array(v*p*d),b=new Float32Array(g*p*d),x=new Float32Array(m*p*d),k=0;k<d;k++){var w=k%3*2/3-1,S=k>2?0:-1,E=[w,S,0,w+2/3,S,0,w+2/3,S+1,0,w,S,0,w+2/3,S+1,0,w,S+1,0];y.set(E,v*p*k),b.set(f,g*p*k);var _=[k,k,k,k,k,k];x.set(_,m*p*k)}var M=new Yo;M.setAttribute("position",new Fo(y,v)),M.setAttribute("uv",new Fo(b,g)),M.setAttribute("faceIndex",new Fo(x,m)),t.push(M),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Zs),i=new fa(0,1,0),a=new bs({name:"SphericalGaussianBlur",defines:{n:Zs,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return a}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new fs(this._lodPlanes[0],e);this._renderer.compile(t,Qs)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Es(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.toneMapping;s.getClearColor($s),s.toneMapping=Sr,s.autoClear=!1;var c=new No({name:"PMREM.Background",side:yr,depthWrite:!1,depthTest:!1}),h=new fs(new ps,c),f=!1,d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,f=!0):(c.color.copy($s),f=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var g=this._cubeSize;ll(r,v*g,p>2?g:0,g,g),s.setRenderTarget(r),f&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=u,s.autoClear=l,e.background=d}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===Pr||e.mapping===Or;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=cl()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=ul());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new fs(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;ll(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Qs)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=al[(r-1)%al.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new fs(this._lodPlanes[r],l),c=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,d=i/f,p=isFinite(i)?1+Math.floor(3*d):Zs;p>Zs&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Zs));for(var v=[],g=0,m=0;m<Zs;++m){var y=m/d,b=Math.exp(-y*y/2);v.push(b),0===m?g+=b:m<p&&(g+=2*b)}for(var x=0;x<v.length;x++)v[x]=v[x]/g;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var k=this._lodMax;c.dTheta.value=f,c.mipInt.value=k-n;var w=this._sizeLods[r];ll(t,3*w*(r>k-4?r-k+4:0),4*(this._cubeSize-w),3*w,2*w),s.setRenderTarget(t),s.render(u,Qs)}}])}();function sl(e,t,n){var r=new la(e,t,n);return r.texture.mapping=Nr,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function ll(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function ul(){return new bs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function cl(){return new bs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function hl(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Rr||a===Lr,s=a===Pr||a===Or;if(o||s){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var l=t.get(i);return null===n&&(n=new ol(e)),l=o?n.fromEquirectangular(i,l):n.fromCubemap(i,l),t.set(i,l),l.texture}if(t.has(i))return t.get(i).texture;var u=i.image;if(o&&u&&u.height>0||s&&u&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(u)){null===n&&(n=new ol(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function fl(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function dl(e,t,n,r){var i={},a=new WeakMap;function o(e){var s=e.target;for(var l in null!==s.index&&t.remove(s.index),s.attributes)t.remove(s.attributes[l]);for(var u in s.morphAttributes)for(var c=s.morphAttributes[u],h=0,f=c.length;h<f;h++)t.remove(c[h]);s.removeEventListener("dispose",o),delete i[s.id];var d=a.get(s);d&&(t.remove(d),a.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var s=r.array;o=r.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],f=s[l+2];n.push(c,h,h,f,f,c)}}else{if(void 0===i)return;var d=i.array;o=i.version;for(var p=0,v=d.length/3-1;p<v;p+=3){var g=p+0,m=p+1,y=p+2;n.push(g,m,m,y,y,g)}}var b=new(Gi(n)?Bo:Uo)(n,1);b.version=o;var x=a.get(e);x&&t.remove(x),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(n){var r=n.attributes;for(var i in r)t.update(r[i],e.ARRAY_BUFFER);var a=n.morphAttributes;for(var o in a)for(var s=a[o],l=0,u=s.length;l<u;l++)t.update(s[l],e.ARRAY_BUFFER)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return a.get(e)}}}function pl(e,t,n,r){var i,a,o,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,l,u){if(0!==u){var c,h;if(s)c=e,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](i,l,a,r*o,u),n.update(l,i,u)}},this.renderMultiDraw=function(e,r,s){if(0!==s){var l=t.get("WEBGL_multi_draw");if(null===l)for(var u=0;u<s;u++)this.render(e[u]/o,r[u]);else{l.multiDrawElementsWEBGL(i,r,0,a,e,0,s);for(var c=0,h=0;h<s;h++)c+=r[h];n.update(c,i,1)}}}}function vl(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",r)}}}}function gl(e,t){return e[0]-t[0]}function ml(e,t){return Math.abs(t[1])-Math.abs(e[1])}function yl(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new oa,s=[],l=0;l<8;l++)s[l]=[l,0];return{update:function(l,u,c){var h=l.morphTargetInfluences;if(!0===t.isWebGL2){var f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,d=void 0!==f?f.length:0,p=a.get(u);if(void 0===p||p.count!==d){var v=function(){M.dispose(),a.delete(u),u.removeEventListener("dispose",v)};void 0!==p&&p.texture.dispose();var g=void 0!==u.morphAttributes.position,m=void 0!==u.morphAttributes.normal,y=void 0!==u.morphAttributes.color,b=u.morphAttributes.position||[],x=u.morphAttributes.normal||[],k=u.morphAttributes.color||[],w=0;!0===g&&(w=1),!0===m&&(w=2),!0===y&&(w=3);var S=u.attributes.position.count*w,E=1;S>t.maxTextureSize&&(E=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);var _=new Float32Array(S*E*4*d),M=new ua(_,S,E,d);M.type=Yr,M.needsUpdate=!0;for(var T=4*w,C=0;C<d;C++)for(var A=b[C],P=x[C],O=k[C],R=S*E*4*C,L=0;L<A.count;L++){var N=L*T;!0===g&&(o.fromBufferAttribute(A,L),_[R+N+0]=o.x,_[R+N+1]=o.y,_[R+N+2]=o.z,_[R+N+3]=0),!0===m&&(o.fromBufferAttribute(P,L),_[R+N+4]=o.x,_[R+N+5]=o.y,_[R+N+6]=o.z,_[R+N+7]=0),!0===y&&(o.fromBufferAttribute(O,L),_[R+N+8]=o.x,_[R+N+9]=o.y,_[R+N+10]=o.z,_[R+N+11]=4===O.itemSize?o.w:1)}p={count:d,texture:M,size:new Bi(S,E)},a.set(u,p),u.addEventListener("dispose",v)}for(var I=0,D=0;D<h.length;D++)I+=h[D];var F=u.morphTargetsRelative?1:1-I;c.getUniforms().setValue(e,"morphTargetBaseInfluence",F),c.getUniforms().setValue(e,"morphTargetInfluences",h),c.getUniforms().setValue(e,"morphTargetsTexture",p.texture,n),c.getUniforms().setValue(e,"morphTargetsTextureSize",p.size)}else{var U=void 0===h?0:h.length,B=r[u.id];if(void 0===B||B.length!==U){B=[];for(var z=0;z<U;z++)B[z]=[z,0];r[u.id]=B}for(var H=0;H<U;H++){var G=B[H];G[0]=H,G[1]=h[H]}B.sort(ml);for(var j=0;j<8;j++)j<U&&B[j][1]?(s[j][0]=B[j][0],s[j][1]=B[j][1]):(s[j][0]=Number.MAX_SAFE_INTEGER,s[j][1]=0);s.sort(gl);for(var V=u.morphAttributes.position,W=u.morphAttributes.normal,X=0,q=0;q<8;q++){var Y=s[q],K=Y[0],J=Y[1];K!==Number.MAX_SAFE_INTEGER&&J?(V&&u.getAttribute("morphTarget"+q)!==V[K]&&u.setAttribute("morphTarget"+q,V[K]),W&&u.getAttribute("morphNormal"+q)!==W[K]&&u.setAttribute("morphNormal"+q,W[K]),i[q]=J,X+=J):(V&&!0===u.hasAttribute("morphTarget"+q)&&u.deleteAttribute("morphTarget"+q),W&&!0===u.hasAttribute("morphNormal"+q)&&u.deleteAttribute("morphNormal"+q),i[q]=0)}var Z=u.morphTargetsRelative?1:1-X;c.getUniforms().setValue(e,"morphTargetBaseInfluence",Z),c.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function bl(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(o){var s=r.render.frame,l=o.geometry,u=t.get(o,l);if(i.get(u)!==s&&(t.update(u),i.set(u,s)),o.isInstancedMesh&&(!1===o.hasEventListener("dispose",a)&&o.addEventListener("dispose",a),i.get(o)!==s&&(n.update(o.instanceMatrix,e.ARRAY_BUFFER),null!==o.instanceColor&&n.update(o.instanceColor,e.ARRAY_BUFFER),i.set(o,s))),o.isSkinnedMesh){var c=o.skeleton;i.get(c)!==s&&(c.update(),i.set(c,s))}return u},dispose:function(){i=new WeakMap}}}var xl=function(e){function t(e,n,r,i,a,o,s,l,u,c){var h;if(T(this,t),(c=void 0!==c?c:Qr)!==Qr&&c!==$r)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===r&&c===Qr&&(r=qr),void 0===r&&c===$r&&(r=Jr),(h=z(this,t,[null,i,a,o,s,l,c,r,u])).isDepthTexture=!0,h.image={width:e,height:n},h.magFilter=void 0!==s?s:Ur,h.minFilter=void 0!==l?l:Ur,h.flipY=!1,h.generateMipmaps=!1,h.compareFunction=null,h}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.compareFunction=e.compareFunction,this}},{key:"toJSON",value:function(e){var n=ar(D(t.prototype),"toJSON",this).call(this,e);return null!==this.compareFunction&&(n.compareFunction=this.compareFunction),n}}])}(aa),kl=new aa,wl=new xl(1,1);wl.compareFunction=515;var Sl=new ua,El=new ca,_l=new Ts,Ml=[],Tl=[],Cl=new Float32Array(16),Al=new Float32Array(9),Pl=new Float32Array(4);function Ol(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Ml[i];if(void 0===a&&(a=new Float32Array(i),Ml[i]=a),0!==t){r.toArray(a,0);for(var o=1,s=0;o!==t;++o)s+=n,e[o].toArray(a,s)}return a}function Rl(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Ll(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function Nl(e,t){var n=Tl[t];void 0===n&&(n=new Int32Array(t),Tl[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Il(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function Dl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Rl(n,t))return;e.uniform2fv(this.addr,t),Ll(n,t)}}function Fl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Rl(n,t))return;e.uniform3fv(this.addr,t),Ll(n,t)}}function Ul(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Rl(n,t))return;e.uniform4fv(this.addr,t),Ll(n,t)}}function Bl(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Rl(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Ll(n,t)}else{if(Rl(n,r))return;Pl.set(r),e.uniformMatrix2fv(this.addr,!1,Pl),Ll(n,r)}}function zl(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Rl(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Ll(n,t)}else{if(Rl(n,r))return;Al.set(r),e.uniformMatrix3fv(this.addr,!1,Al),Ll(n,r)}}function Hl(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(Rl(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Ll(n,t)}else{if(Rl(n,r))return;Cl.set(r),e.uniformMatrix4fv(this.addr,!1,Cl),Ll(n,r)}}function Gl(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function jl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Rl(n,t))return;e.uniform2iv(this.addr,t),Ll(n,t)}}function Vl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Rl(n,t))return;e.uniform3iv(this.addr,t),Ll(n,t)}}function Wl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Rl(n,t))return;e.uniform4iv(this.addr,t),Ll(n,t)}}function Xl(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function ql(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Rl(n,t))return;e.uniform2uiv(this.addr,t),Ll(n,t)}}function Yl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if(Rl(n,t))return;e.uniform3uiv(this.addr,t),Ll(n,t)}}function Kl(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Rl(n,t))return;e.uniform4uiv(this.addr,t),Ll(n,t)}}function Jl(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i);var a=this.type===e.SAMPLER_2D_SHADOW?wl:kl;n.setTexture2D(t||a,i)}function Zl(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||El,i)}function Ql(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||_l,i)}function $l(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Sl,i)}function eu(e,t){e.uniform1fv(this.addr,t)}function tu(e,t){var n=Ol(t,this.size,2);e.uniform2fv(this.addr,n)}function nu(e,t){var n=Ol(t,this.size,3);e.uniform3fv(this.addr,n)}function ru(e,t){var n=Ol(t,this.size,4);e.uniform4fv(this.addr,n)}function iu(e,t){var n=Ol(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function au(e,t){var n=Ol(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function ou(e,t){var n=Ol(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function su(e,t){e.uniform1iv(this.addr,t)}function lu(e,t){e.uniform2iv(this.addr,t)}function uu(e,t){e.uniform3iv(this.addr,t)}function cu(e,t){e.uniform4iv(this.addr,t)}function hu(e,t){e.uniform1uiv(this.addr,t)}function fu(e,t){e.uniform2uiv(this.addr,t)}function du(e,t){e.uniform3uiv(this.addr,t)}function pu(e,t){e.uniform4uiv(this.addr,t)}function vu(e,t,n){var r=this.cache,i=t.length,a=Nl(n,i);Rl(r,a)||(e.uniform1iv(this.addr,a),Ll(r,a));for(var o=0;o!==i;++o)n.setTexture2D(t[o]||kl,a[o])}function gu(e,t,n){var r=this.cache,i=t.length,a=Nl(n,i);Rl(r,a)||(e.uniform1iv(this.addr,a),Ll(r,a));for(var o=0;o!==i;++o)n.setTexture3D(t[o]||El,a[o])}function mu(e,t,n){var r=this.cache,i=t.length,a=Nl(n,i);Rl(r,a)||(e.uniform1iv(this.addr,a),Ll(r,a));for(var o=0;o!==i;++o)n.setTextureCube(t[o]||_l,a[o])}function yu(e,t,n){var r=this.cache,i=t.length,a=Nl(n,i);Rl(r,a)||(e.uniform1iv(this.addr,a),Ll(r,a));for(var o=0;o!==i;++o)n.setTexture2DArray(t[o]||Sl,a[o])}var bu=M((function e(t,n,r){T(this,e),this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.setValue=function(e){switch(e){case 5126:return Il;case 35664:return Dl;case 35665:return Fl;case 35666:return Ul;case 35674:return Bl;case 35675:return zl;case 35676:return Hl;case 5124:case 35670:return Gl;case 35667:case 35671:return jl;case 35668:case 35672:return Vl;case 35669:case 35673:return Wl;case 5125:return Xl;case 36294:return ql;case 36295:return Yl;case 36296:return Kl;case 35678:case 36198:case 36298:case 36306:case 35682:return Jl;case 35679:case 36299:case 36307:return Zl;case 35680:case 36300:case 36308:case 36293:return Ql;case 36289:case 36303:case 36311:case 36292:return $l}}(n.type)})),xu=M((function e(t,n,r){T(this,e),this.id=t,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=function(e){switch(e){case 5126:return eu;case 35664:return tu;case 35665:return nu;case 35666:return ru;case 35674:return iu;case 35675:return au;case 35676:return ou;case 5124:case 35670:return su;case 35667:case 35671:return lu;case 35668:case 35672:return uu;case 35669:case 35673:return cu;case 5125:return hu;case 36294:return fu;case 36295:return du;case 36296:return pu;case 35678:case 36198:case 36298:case 36306:case 35682:return vu;case 35679:case 36299:case 36307:return gu;case 35680:case 36300:case 36308:case 36293:return mu;case 36289:case 36303:case 36311:case 36292:return yu}}(n.type)})),ku=function(){return M((function e(t){T(this,e),this.id=t,this.seq=[],this.map={}}),[{key:"setValue",value:function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}}}])}(),wu=/(\w+)(\])?(\[|\.)?/g;function Su(e,t){e.seq.push(t),e.map[t.id]=t}function Eu(e,t,n){var r=e.name,i=r.length;for(wu.lastIndex=0;;){var a=wu.exec(r),o=wu.lastIndex,s=a[1],l="]"===a[2],u=a[3];if(l&&(s|=0),void 0===u||"["===u&&o+2===i){Su(n,void 0===u?new bu(s,e,t):new xu(s,e,t));break}var c=n.map[s];void 0===c&&Su(n,c=new ku(s)),n=c}}var _u=function(){return M((function e(t,n){T(this,e),this.seq=[],this.map={};for(var r=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),i=0;i<r;++i){var a=t.getActiveUniform(n,i);Eu(a,t.getUniformLocation(n,a.name),this)}}),[{key:"setValue",value:function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)}},{key:"setOptional",value:function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)}}],[{key:"upload",value:function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(e,s.value,r)}}},{key:"seqWithValue",value:function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n}}])}();function Mu(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}var Tu=37297,Cu=0;function Au(e,t,n){var r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=/ERROR: 0:(\d+)/.exec(i);if(a){var o=parseInt(a[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++){var s=o+1;r.push("".concat(s===t?">":" "," ").concat(s,": ").concat(n[o]))}return r.join("\n")}(e.getShaderSource(t),o)}return i}function Pu(e,t){var n=function(e){var t,n=Zi.getPrimaries(Zi.workingColorSpace),r=Zi.getPrimaries(e);switch(n===r?t="":n===xi&&r===bi?t="LinearDisplayP3ToLinearSRGB":n===bi&&r===xi&&(t="LinearSRGBToLinearDisplayP3"),e){case pi:case gi:return[t,"LinearTransferOETF"];case di:case vi:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",e),[t,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function Ou(e,t){var n;switch(t){case Er:n="Linear";break;case _r:n="Reinhard";break;case Mr:n="OptimizedCineon";break;case Tr:n="ACESFilmic";break;case Ar:n="AgX";break;case Cr:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ru(e){return""!==e}function Lu(e,t){var n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Nu(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Iu=/^[ \t]*#include +<([\w\d./]+)>/gm;function Du(e){return e.replace(Iu,Uu)}var Fu=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Uu(e,t){var n=Bs[t];if(void 0===n){var r=Fu.get(t);if(void 0===r)throw new Error("Can not resolve #include <"+t+">");n=Bs[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,r)}return Du(n)}var Bu=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function zu(e){return e.replace(Bu,Hu)}function Hu(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function Gu(e){var t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\t");return e.isWebGL2&&(t+="precision ".concat(e.precision," sampler3D;\n\t\tprecision ").concat(e.precision," sampler2DArray;\n\t\tprecision ").concat(e.precision," sampler2DShadow;\n\t\tprecision ").concat(e.precision," samplerCubeShadow;\n\t\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\t\tprecision ").concat(e.precision," isampler2D;\n\t\tprecision ").concat(e.precision," isampler3D;\n\t\tprecision ").concat(e.precision," isamplerCube;\n\t\tprecision ").concat(e.precision," isampler2DArray;\n\t\tprecision ").concat(e.precision," usampler2D;\n\t\tprecision ").concat(e.precision," usampler3D;\n\t\tprecision ").concat(e.precision," usamplerCube;\n\t\tprecision ").concat(e.precision," usampler2DArray;\n\t\t")),"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ju(e,t,n,r){var i,a,o=e.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===pr?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===vr?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===gr&&(t="SHADOWMAP_TYPE_VSM"),t}(n),h=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Pr:case Or:t="ENVMAP_TYPE_CUBE";break;case Nr:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),f=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Or&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case xr:t="ENVMAP_BLENDING_MULTIPLY";break;case kr:t="ENVMAP_BLENDING_MIX";break;case wr:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.normalMapTangentSpace||e.clearcoatNormalMap||e.flatShading||e.alphaToCoverage||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ru).join("\n")}(n),g=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ru).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),y=o.createProgram(),b=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Ru).join("\n")).length>0&&(i+="\n"),(a=[v,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(Ru).join("\n")).length>0&&(a+="\n")):(i=[Gu(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ru).join("\n"),a=[v,Gu(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Sr?"#define TONE_MAPPING":"",n.toneMapping!==Sr?Bs.tonemapping_pars_fragment:"",n.toneMapping!==Sr?Ou("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Bs.colorspace_pars_fragment,Pu("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ru).join("\n")),l=Nu(l=Lu(l=Du(l),n),n),u=Nu(u=Lu(u=Du(u),n),n),l=zu(l),u=zu(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(b="#version 300 es\n",i=[g,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===Si?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Si?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var x,k,w=b+i+l,S=b+a+u,E=Mu(o,o.VERTEX_SHADER,w),_=Mu(o,o.FRAGMENT_SHADER,S);function M(t){if(e.debug.checkShaderErrors){var n=o.getProgramInfoLog(y).trim(),r=o.getShaderInfoLog(E).trim(),s=o.getShaderInfoLog(_).trim(),l=!0,u=!0;if(!1===o.getProgramParameter(y,o.LINK_STATUS))if(l=!1,"function"===typeof e.debug.onShaderError)e.debug.onShaderError(o,y,E,_);else{var c=Au(o,E,"vertex"),h=Au(o,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(y,o.VALIDATE_STATUS)+"\n\nMaterial Name: "+t.name+"\nMaterial Type: "+t.type+"\n\nProgram Info Log: "+n+"\n"+c+"\n"+h)}else""!==n?console.warn("THREE.WebGLProgram: Program Info Log:",n):""!==r&&""!==s||(u=!1);u&&(t.diagnostics={runnable:l,programLog:n,vertexShader:{log:r,prefix:i},fragmentShader:{log:s,prefix:a}})}o.deleteShader(E),o.deleteShader(_),x=new _u(o,y),k=function(e,t){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,s=1;a.type===e.FLOAT_MAT2&&(s=2),a.type===e.FLOAT_MAT3&&(s=3),a.type===e.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:s}}return n}(o,y)}o.attachShader(y,E),o.attachShader(y,_),void 0!==n.index0AttributeName?o.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(y,0,"position"),o.linkProgram(y),this.getUniforms=function(){return void 0===x&&M(this),x},this.getAttributes=function(){return void 0===k&&M(this),k};var T=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=o.getProgramParameter(y,Tu)),T},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Cu++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=_,this}var Vu=0,Wu=function(){return M((function e(){T(this,e),this.shaderCache=new Map,this.materialCache=new Map}),[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=q(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache,n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache,n=t.get(e);return void 0===n&&(n=new Xu(e),t.set(e,n)),n}}])}(),Xu=M((function e(t){T(this,e),this.id=Vu++,this.code=t,this.usedTimes=0}));function qu(e,t,n,r,i,a,o){var s=new $a,l=new Wu,u=new Set,c=[],h=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures,p=i.precision,v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(e){return u.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(a,s,c,m,y){var b=m.fog,x=y.geometry,k=a.isMeshStandardMaterial?m.environment:null,w=(a.isMeshStandardMaterial?n:t).get(a.envMap||k),S=w&&w.mapping===Nr?w.image.height:null,E=v[a.type];null!==a.precision&&(p=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",p,"instead.");var _,M,T,C,A=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,P=void 0!==A?A.length:0,O=0;if(void 0!==x.morphAttributes.position&&(O=1),void 0!==x.morphAttributes.normal&&(O=2),void 0!==x.morphAttributes.color&&(O=3),E){var R=Hs[E];_=R.vertexShader,M=R.fragmentShader}else _=a.vertexShader,M=a.fragmentShader,l.update(a),T=l.getVertexShaderID(a),C=l.getFragmentShaderID(a);var L=e.getRenderTarget(),N=!0===y.isInstancedMesh,I=!0===y.isBatchedMesh,D=!!a.map,F=!!a.matcap,U=!!w,B=!!a.aoMap,z=!!a.lightMap,H=!!a.bumpMap,G=!!a.normalMap,j=!!a.displacementMap,V=!!a.emissiveMap,W=!!a.metalnessMap,X=!!a.roughnessMap,q=a.anisotropy>0,Y=a.clearcoat>0,K=a.iridescence>0,J=a.sheen>0,Z=a.transmission>0,Q=q&&!!a.anisotropyMap,$=Y&&!!a.clearcoatMap,ee=Y&&!!a.clearcoatNormalMap,te=Y&&!!a.clearcoatRoughnessMap,ne=K&&!!a.iridescenceMap,re=K&&!!a.iridescenceThicknessMap,ie=J&&!!a.sheenColorMap,ae=J&&!!a.sheenRoughnessMap,oe=!!a.specularMap,se=!!a.specularColorMap,le=!!a.specularIntensityMap,ue=Z&&!!a.transmissionMap,ce=Z&&!!a.thicknessMap,he=!!a.gradientMap,fe=!!a.alphaMap,de=a.alphaTest>0,pe=!!a.alphaHash,ve=!!a.extensions,ge=Sr;a.toneMapped&&(null!==L&&!0!==L.isXRRenderTarget||(ge=e.toneMapping));var me={isWebGL2:h,shaderID:E,shaderType:a.type,shaderName:a.name,vertexShader:_,fragmentShader:M,defines:a.defines,customVertexShaderID:T,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:p,batching:I,instancing:N,instancingColor:N&&null!==y.instanceColor,supportsVertexTextures:d,outputColorSpace:null===L?e.outputColorSpace:!0===L.isXRRenderTarget?L.texture.colorSpace:pi,alphaToCoverage:!!a.alphaToCoverage,map:D,matcap:F,envMap:U,envMapMode:U&&w.mapping,envMapCubeUVHeight:S,aoMap:B,lightMap:z,bumpMap:H,normalMap:G,displacementMap:d&&j,emissiveMap:V,normalMapObjectSpace:G&&1===a.normalMapType,normalMapTangentSpace:G&&0===a.normalMapType,metalnessMap:W,roughnessMap:X,anisotropy:q,anisotropyMap:Q,clearcoat:Y,clearcoatMap:$,clearcoatNormalMap:ee,clearcoatRoughnessMap:te,iridescence:K,iridescenceMap:ne,iridescenceThicknessMap:re,sheen:J,sheenColorMap:ie,sheenRoughnessMap:ae,specularMap:oe,specularColorMap:se,specularIntensityMap:le,transmission:Z,transmissionMap:ue,thicknessMap:ce,gradientMap:he,opaque:!1===a.transparent&&1===a.blending&&!1===a.alphaToCoverage,alphaMap:fe,alphaTest:de,alphaHash:pe,combine:a.combine,mapUv:D&&g(a.map.channel),aoMapUv:B&&g(a.aoMap.channel),lightMapUv:z&&g(a.lightMap.channel),bumpMapUv:H&&g(a.bumpMap.channel),normalMapUv:G&&g(a.normalMap.channel),displacementMapUv:j&&g(a.displacementMap.channel),emissiveMapUv:V&&g(a.emissiveMap.channel),metalnessMapUv:W&&g(a.metalnessMap.channel),roughnessMapUv:X&&g(a.roughnessMap.channel),anisotropyMapUv:Q&&g(a.anisotropyMap.channel),clearcoatMapUv:$&&g(a.clearcoatMap.channel),clearcoatNormalMapUv:ee&&g(a.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:te&&g(a.clearcoatRoughnessMap.channel),iridescenceMapUv:ne&&g(a.iridescenceMap.channel),iridescenceThicknessMapUv:re&&g(a.iridescenceThicknessMap.channel),sheenColorMapUv:ie&&g(a.sheenColorMap.channel),sheenRoughnessMapUv:ae&&g(a.sheenRoughnessMap.channel),specularMapUv:oe&&g(a.specularMap.channel),specularColorMapUv:se&&g(a.specularColorMap.channel),specularIntensityMapUv:le&&g(a.specularIntensityMap.channel),transmissionMapUv:ue&&g(a.transmissionMap.channel),thicknessMapUv:ce&&g(a.thicknessMap.channel),alphaMapUv:fe&&g(a.alphaMap.channel),vertexTangents:!!x.attributes.tangent&&(G||q),vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,pointsUvs:!0===y.isPoints&&!!x.attributes.uv&&(D||fe),fog:!!b,useFog:!0===a.fog,fogExp2:!!b&&b.isFogExp2,flatShading:!0===a.flatShading,sizeAttenuation:!0===a.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===y.isSkinnedMesh,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:P,morphTextureStride:O,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&c.length>0,shadowMapType:e.shadowMap.type,toneMapping:ge,useLegacyLights:e._useLegacyLights,decodeVideoTexture:D&&!0===a.map.isVideoTexture&&Zi.getTransfer(a.map.colorSpace)===yi,premultipliedAlpha:a.premultipliedAlpha,doubleSided:2===a.side,flipSided:a.side===yr,useDepthPacking:a.depthPacking>=0,depthPacking:a.depthPacking||0,index0AttributeName:a.index0AttributeName,extensionDerivatives:ve&&!0===a.extensions.derivatives,extensionFragDepth:ve&&!0===a.extensions.fragDepth,extensionDrawBuffers:ve&&!0===a.extensions.drawBuffers,extensionShaderTextureLOD:ve&&!0===a.extensions.shaderTextureLOD,extensionClipCullDistance:ve&&!0===a.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:ve&&!0===a.extensions.multiDraw&&r.has("WEBGL_multi_draw"),rendererExtensionFragDepth:h||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:h||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:h||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:a.customProgramCacheKey()};return me.vertexUv1s=u.has(1),me.vertexUv2s=u.has(2),me.vertexUv3s=u.has(3),u.clear(),me},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.isWebGL2&&s.enable(0);t.supportsVertexTextures&&s.enable(1);t.instancing&&s.enable(2);t.instancingColor&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.useLegacyLights&&s.enable(10);t.doubleSided&&s.enable(11);t.flipSided&&s.enable(12);t.useDepthPacking&&s.enable(13);t.dithering&&s.enable(14);t.transmission&&s.enable(15);t.sheen&&s.enable(16);t.opaque&&s.enable(17);t.pointsUvs&&s.enable(18);t.decodeVideoTexture&&s.enable(19);t.alphaToCoverage&&s.enable(20);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=v[e.type];if(n){var r=Hs[n];t=ys.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=c.length;i<o;i++){var s=c[i];if(s.cacheKey===n){++(r=s).usedTimes;break}}return void 0===r&&(r=new ju(e,n,t,a),c.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=c.indexOf(e);c[t]=c[c.length-1],c.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:c,dispose:function(){l.dispose()}}}function Yu(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ku(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ju(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Zu(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,s){var l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=a,l.renderOrder=n.renderOrder,l.z=o,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,s,l,u){var c=a(e,t,o,s,l,u);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ku),r.length>1&&r.sort(t||Ju),i.length>1&&i.sort(t||Ju)}}}function Qu(){var e=new WeakMap;return{get:function(t,n){var r,i=e.get(t);return void 0===i?(r=new Zu,e.set(t,[r])):n>=i.length?(r=new Zu,i.push(r)):r=i[n],r},dispose:function(){e=new WeakMap}}}function $u(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new fa,color:new Po};break;case"SpotLight":n={position:new fa,direction:new fa,color:new Po,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new fa,color:new Po,distance:0,decay:0};break;case"HemisphereLight":n={direction:new fa,skyColor:new Po,groundColor:new Po};break;case"RectAreaLight":n={color:new Po,position:new fa,halfWidth:new fa,halfHeight:new fa}}return e[t.id]=n,n}}}var ec=0;function tc(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function nc(e,t){for(var n=new $u,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Bi};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Bi,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0},a=0;a<9;a++)i.probe.push(new fa);var o=new fa,s=new Ga,l=new Ga;return{setup:function(a,o){for(var s=0,l=0,u=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var h=0,f=0,d=0,p=0,v=0,g=0,m=0,y=0,b=0,x=0,k=0;a.sort(tc);for(var w=!0===o?Math.PI:1,S=0,E=a.length;S<E;S++){var _=a[S],M=_.color,T=_.intensity,C=_.distance,A=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)s+=M.r*T*w,l+=M.g*T*w,u+=M.b*T*w;else if(_.isLightProbe){for(var P=0;P<9;P++)i.probe[P].addScaledVector(_.sh.coefficients[P],T);k++}else if(_.isDirectionalLight){var O=n.get(_);if(O.color.copy(_.color).multiplyScalar(_.intensity*w),_.castShadow){var R=_.shadow,L=r.get(_);L.shadowBias=R.bias,L.shadowNormalBias=R.normalBias,L.shadowRadius=R.radius,L.shadowMapSize=R.mapSize,i.directionalShadow[h]=L,i.directionalShadowMap[h]=A,i.directionalShadowMatrix[h]=_.shadow.matrix,g++}i.directional[h]=O,h++}else if(_.isSpotLight){var N=n.get(_);N.position.setFromMatrixPosition(_.matrixWorld),N.color.copy(M).multiplyScalar(T*w),N.distance=C,N.coneCos=Math.cos(_.angle),N.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),N.decay=_.decay,i.spot[d]=N;var I=_.shadow;if(_.map&&(i.spotLightMap[b]=_.map,b++,I.updateMatrices(_),_.castShadow&&x++),i.spotLightMatrix[d]=I.matrix,_.castShadow){var D=r.get(_);D.shadowBias=I.bias,D.shadowNormalBias=I.normalBias,D.shadowRadius=I.radius,D.shadowMapSize=I.mapSize,i.spotShadow[d]=D,i.spotShadowMap[d]=A,y++}d++}else if(_.isRectAreaLight){var F=n.get(_);F.color.copy(M).multiplyScalar(T),F.halfWidth.set(.5*_.width,0,0),F.halfHeight.set(0,.5*_.height,0),i.rectArea[p]=F,p++}else if(_.isPointLight){var U=n.get(_);if(U.color.copy(_.color).multiplyScalar(_.intensity*w),U.distance=_.distance,U.decay=_.decay,_.castShadow){var B=_.shadow,z=r.get(_);z.shadowBias=B.bias,z.shadowNormalBias=B.normalBias,z.shadowRadius=B.radius,z.shadowMapSize=B.mapSize,z.shadowCameraNear=B.camera.near,z.shadowCameraFar=B.camera.far,i.pointShadow[f]=z,i.pointShadowMap[f]=A,i.pointShadowMatrix[f]=_.shadow.matrix,m++}i.point[f]=U,f++}else if(_.isHemisphereLight){var H=n.get(_);H.skyColor.copy(_.color).multiplyScalar(T*w),H.groundColor.copy(_.groundColor).multiplyScalar(T*w),i.hemi[v]=H,v++}}p>0&&(t.isWebGL2?!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=zs.LTC_FLOAT_1,i.rectAreaLTC2=zs.LTC_FLOAT_2):(i.rectAreaLTC1=zs.LTC_HALF_1,i.rectAreaLTC2=zs.LTC_HALF_2):!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=zs.LTC_FLOAT_1,i.rectAreaLTC2=zs.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=zs.LTC_HALF_1,i.rectAreaLTC2=zs.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=s,i.ambient[1]=l,i.ambient[2]=u;var G=i.hash;G.directionalLength===h&&G.pointLength===f&&G.spotLength===d&&G.rectAreaLength===p&&G.hemiLength===v&&G.numDirectionalShadows===g&&G.numPointShadows===m&&G.numSpotShadows===y&&G.numSpotMaps===b&&G.numLightProbes===k||(i.directional.length=h,i.spot.length=d,i.rectArea.length=p,i.point.length=f,i.hemi.length=v,i.directionalShadow.length=g,i.directionalShadowMap.length=g,i.pointShadow.length=m,i.pointShadowMap.length=m,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=g,i.pointShadowMatrix.length=m,i.spotLightMatrix.length=y+b-x,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=x,i.numLightProbes=k,G.directionalLength=h,G.pointLength=f,G.spotLength=d,G.rectAreaLength=p,G.hemiLength=v,G.numDirectionalShadows=g,G.numPointShadows=m,G.numSpotShadows=y,G.numSpotMaps=b,G.numLightProbes=k,i.version=ec++)},setupView:function(e,t){for(var n=0,r=0,a=0,u=0,c=0,h=t.matrixWorldInverse,f=0,d=e.length;f<d;f++){var p=e[f];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(h),n++}else if(p.isSpotLight){var g=i.spot[a];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(h),g.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),g.direction.sub(o),g.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var m=i.rectArea[u];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),m.halfWidth.set(.5*p.width,0,0),m.halfHeight.set(0,.5*p.height,0),m.halfWidth.applyMatrix4(l),m.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(h),r++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(h),c++}}},state:i}}function rc(e,t){var n=new nc(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function ic(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=n.get(r);return void 0===o?(i=new rc(e,t),n.set(r,[i])):a>=o.length?(i=new rc(e,t),o.push(i)):i=o[a],i},dispose:function(){n=new WeakMap}}}var ac=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).isMeshDepthMaterial=!0,n.type="MeshDepthMaterial",n.depthPacking=3200,n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.wireframe=!1,n.wireframeLinewidth=1,n.setValues(e),n}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}])}(Lo),oc=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).isMeshDistanceMaterial=!0,n.type="MeshDistanceMaterial",n.map=null,n.alphaMap=null,n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.setValues(e),n}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}])}(Lo);function sc(e,t,n){var r=new Is,i=new Bi,a=new Bi,o=new oa,s=new ac({depthPacking:3201}),l=new oc,u={},c=n.maxTextureSize,h=j(j(j({},mr,yr),yr,mr),2,2),f=new bs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Bi},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=f.clone();d.defines.HORIZONTAL_PASS=1;var p=new Yo;p.setAttribute("position",new Fo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new fs(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=pr;var m=this.type;function y(n,r){var a=t.update(v);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,d.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new la(i.x,i.y)),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,a,f,v,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,a,d,v,null)}function b(t,n,r,i){var a=null,o=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==o)a=o;else if(a=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){var c=a.uuid,f=n.uuid,d=u[c];void 0===d&&(d={},u[c]=d);var p=d[f];void 0===p&&(p=a.clone(),d[f]=p,n.addEventListener("dispose",k)),a=p}(a.visible=n.visible,a.wireframe=n.wireframe,a.side=i===gr?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],a.alphaMap=n.alphaMap,a.alphaTest=n.alphaTest,a.map=n.map,a.clipShadows=n.clipShadows,a.clippingPlanes=n.clippingPlanes,a.clipIntersection=n.clipIntersection,a.displacementMap=n.displacementMap,a.displacementScale=n.displacementScale,a.displacementBias=n.displacementBias,a.wireframeLinewidth=n.wireframeLinewidth,a.linewidth=n.linewidth,!0===r.isPointLight&&!0===a.isMeshDistanceMaterial)&&(e.properties.get(a).light=r);return a}function x(n,i,a,o,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===gr)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=t.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,f=c.length;h<f;h++){var d=c[h],p=u[d.materialIndex];if(p&&p.visible){var v=b(n,p,o,s);n.onBeforeShadow(e,n,i,a,l,v,d),e.renderBufferDirect(a,null,l,v,n,d),n.onAfterShadow(e,n,i,a,l,v,d)}}else if(u.visible){var g=b(n,u,o,s);n.onBeforeShadow(e,n,i,a,l,g,null),e.renderBufferDirect(a,null,l,g,n,null),n.onAfterShadow(e,n,i,a,l,g,null)}}for(var m=n.children,y=0,k=m.length;y<k;y++)x(m[y],i,a,o,s)}}function k(e){var t=e.target;for(var n in t.removeEventListener("dispose",k),u){var r=u[n],i=e.target.uuid;if(i in r)r[i].dispose(),delete r[i]}}this.render=function(t,n,s){if(!1!==g.enabled&&(!1!==g.autoUpdate||!1!==g.needsUpdate)&&0!==t.length){var l=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);for(var d=m!==gr&&this.type===gr,p=m===gr&&this.type!==gr,v=0,b=t.length;v<b;v++){var k=t[v],w=k.shadow;if(void 0!==w){if(!1!==w.autoUpdate||!1!==w.needsUpdate){i.copy(w.mapSize);var S=w.getFrameExtents();if(i.multiply(S),a.copy(w.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/S.x),i.x=a.x*S.x,w.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/S.y),i.y=a.y*S.y,w.mapSize.y=a.y)),null===w.map||!0===d||!0===p){var E=this.type!==gr?{minFilter:Ur,magFilter:Ur}:{};null!==w.map&&w.map.dispose(),w.map=new la(i.x,i.y,E),w.map.texture.name=k.name+".shadowMap",w.camera.updateProjectionMatrix()}e.setRenderTarget(w.map),e.clear();for(var _=w.getViewportCount(),M=0;M<_;M++){var T=w.getViewport(M);o.set(a.x*T.x,a.y*T.y,a.x*T.z,a.y*T.w),f.viewport(o),w.updateMatrices(k,M),r=w.getFrustum(),x(n,s,w.camera,k,this.type)}!0!==w.isPointLightShadow&&this.type===gr&&y(w,s),w.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",k,"has no shadow.")}m=this.type,g.needsUpdate=!1,e.setRenderTarget(l,u,h)}}}function lc(e,t,n){var r,i=n.isWebGL2;var a=new function(){var t=!1,n=new oa,r=null,i=new oa(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){!0===s&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(t){t?V(e.DEPTH_TEST):W(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},s=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(n){t||(n?V(e.STENCIL_TEST):W(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&s===n&&l===r||(e.stencilOp(t,n,r),o=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){u!==t&&(e.clearStencil(t),u=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,s=null,l=null,u=null}}},l=new WeakMap,u=new WeakMap,c={},h={},f=new WeakMap,d=[],p=null,v=!1,g=null,m=null,y=null,b=null,x=null,k=null,w=null,S=new Po(0,0,0),E=0,_=!1,M=null,T=null,C=null,A=null,P=null,O=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS),R=!1,L=0,N=e.getParameter(e.VERSION);-1!==N.indexOf("WebGL")?(L=parseFloat(/^WebGL (\d)/.exec(N)[1]),R=L>=1):-1!==N.indexOf("OpenGL ES")&&(L=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),R=L>=2);var I=null,D={},F=e.getParameter(e.SCISSOR_BOX),U=e.getParameter(e.VIEWPORT),B=(new oa).fromArray(F),z=(new oa).fromArray(U);function H(t,n,r,a){var o=new Uint8Array(4),s=e.createTexture();e.bindTexture(t,s),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var l=0;l<r;l++)!i||t!==e.TEXTURE_3D&&t!==e.TEXTURE_2D_ARRAY?e.texImage2D(n+l,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage3D(n,0,e.RGBA,1,1,a,0,e.RGBA,e.UNSIGNED_BYTE,o);return s}var G={};function V(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function W(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}G[e.TEXTURE_2D]=H(e.TEXTURE_2D,e.TEXTURE_2D,1),G[e.TEXTURE_CUBE_MAP]=H(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(G[e.TEXTURE_2D_ARRAY]=H(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),G[e.TEXTURE_3D]=H(e.TEXTURE_3D,e.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),V(e.DEPTH_TEST),o.setFunc(3),J(!1),Z(1),V(e.CULL_FACE),K(0);var X=j(j(j({},br,e.FUNC_ADD),101,e.FUNC_SUBTRACT),102,e.FUNC_REVERSE_SUBTRACT);if(i)X[103]=e.MIN,X[104]=e.MAX;else{var q=t.get("EXT_blend_minmax");null!==q&&(X[103]=q.MIN_EXT,X[104]=q.MAX_EXT)}var Y=(j(j(j(j(j(j(j(j(j(j(r={},200,e.ZERO),201,e.ONE),202,e.SRC_COLOR),204,e.SRC_ALPHA),210,e.SRC_ALPHA_SATURATE),208,e.DST_COLOR),206,e.DST_ALPHA),203,e.ONE_MINUS_SRC_COLOR),205,e.ONE_MINUS_SRC_ALPHA),209,e.ONE_MINUS_DST_COLOR),j(j(j(j(j(r,207,e.ONE_MINUS_DST_ALPHA),211,e.CONSTANT_COLOR),212,e.ONE_MINUS_CONSTANT_COLOR),213,e.CONSTANT_ALPHA),214,e.ONE_MINUS_CONSTANT_ALPHA));function K(t,n,r,i,a,o,s,l,u,c){if(0!==t){if(!1===v&&(V(e.BLEND),v=!0),5===t)a=a||n,o=o||r,s=s||i,n===m&&a===x||(e.blendEquationSeparate(X[n],X[a]),m=n,x=a),r===y&&i===b&&o===k&&s===w||(e.blendFuncSeparate(Y[r],Y[i],Y[o],Y[s]),y=r,b=i,k=o,w=s),!1!==l.equals(S)&&u===E||(e.blendColor(l.r,l.g,l.b,u),S.copy(l),E=u),g=t,_=!1;else if(t!==g||c!==_){if(m===br&&x===br||(e.blendEquation(e.FUNC_ADD),m=br,x=br),c)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,b=null,k=null,w=null,S.set(0,0,0),E=0,g=t,_=c}}else!0===v&&(W(e.BLEND),v=!1)}function J(t){M!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),M=t)}function Z(t){0!==t?(V(e.CULL_FACE),t!==T&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):W(e.CULL_FACE),T=t}function Q(t,n,r){t?(V(e.POLYGON_OFFSET_FILL),A===n&&P===r||(e.polygonOffset(n,r),A=n,P=r)):W(e.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:o,stencil:s},enable:V,disable:W,bindFramebuffer:function(t,n){return h[t]!==n&&(e.bindFramebuffer(t,n),h[t]=n,i&&(t===e.DRAW_FRAMEBUFFER&&(h[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(h[e.DRAW_FRAMEBUFFER]=n)),!0)},drawBuffers:function(r,i){var a=d,o=!1;if(r)if(void 0===(a=f.get(i))&&(a=[],f.set(i,a)),r.isWebGLMultipleRenderTargets){var s=r.texture;if(a.length!==s.length||a[0]!==e.COLOR_ATTACHMENT0){for(var l=0,u=s.length;l<u;l++)a[l]=e.COLOR_ATTACHMENT0+l;a.length=s.length,o=!0}}else a[0]!==e.COLOR_ATTACHMENT0&&(a[0]=e.COLOR_ATTACHMENT0,o=!0);else a[0]!==e.BACK&&(a[0]=e.BACK,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:K,setMaterial:function(t,n){2===t.side?W(e.CULL_FACE):V(e.CULL_FACE);var r=t.side===yr;n&&(r=!r),J(r),1===t.blending&&!1===t.transparent?K(0):K(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.blendColor,t.blendAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),a.setMask(t.colorWrite);var i=t.stencilWrite;s.setTest(i),i&&(s.setMask(t.stencilWriteMask),s.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),s.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Q(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?V(e.SAMPLE_ALPHA_TO_COVERAGE):W(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:J,setCullFace:Z,setLineWidth:function(t){t!==C&&(R&&e.lineWidth(t),C=t)},setPolygonOffset:Q,setScissorTest:function(t){t?V(e.SCISSOR_TEST):W(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+O-1),I!==t&&(e.activeTexture(t),I=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===I?e.TEXTURE0+O-1:I);var i=D[r];void 0===i&&(i={type:void 0,texture:void 0},D[r]=i),i.type===t&&i.texture===n||(I!==r&&(e.activeTexture(r),I=r),e.bindTexture(t,n||G[t]),i.type=t,i.texture=n)},unbindTexture:function(){var t=D[I];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},updateUBOMapping:function(t,n){var r=u.get(n);void 0===r&&(r=new WeakMap,u.set(n,r));var i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){var r=u.get(n).get(t);l.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),l.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===B.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),B.copy(t))},viewport:function(t){!1===z.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),z.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),!0===i&&(e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},I=null,D={},h={},f=new WeakMap,d=[],p=null,v=!1,g=null,m=null,y=null,b=null,x=null,k=null,w=null,S=new Po(0,0,0),E=0,_=!1,M=null,T=null,C=null,A=null,P=null,B.set(0,0,e.canvas.width,e.canvas.height),z.set(0,0,e.canvas.width,e.canvas.height),a.reset(),o.reset(),s.reset()}}}function uc(e,t,n,r,i,a,o){var s,l=i.isWebGL2,u=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,c="undefined"!==typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),h=new WeakMap,f=new WeakMap,d=!1;try{d="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(B){}function p(e,t){return d?new OffscreenCanvas(e,t):ji("canvas")}function v(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?Di:Math.floor,o=a(i*e.width),l=a(i*e.height);void 0===s&&(s=p(o,l));var u=n?p(o,l):s;return u.width=o,u.height=l,u.getContext("2d").drawImage(e,0,0,o,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+l+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function g(e){return Ii(e.width)&&Ii(e.height)}function m(e,t){return e.generateMipmaps&&t&&e.minFilter!==Ur&&e.minFilter!==Hr}function y(t){e.generateMipmap(t)}function b(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===l)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RGBA){var u=o?mi:Zi.getTransfer(a);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=u===yi?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function x(e,t,n){return!0===m(e,n)||e.isFramebufferTexture&&e.minFilter!==Ur&&e.minFilter!==Hr?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function k(t){return t===Ur||t===Br||t===zr?e.NEAREST:e.LINEAR}function w(e){var t=e.target;t.removeEventListener("dispose",w),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=f.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&E(e),0===Object.keys(i).length&&f.delete(n)}r.remove(e)}(t),t.isVideoTexture&&h.delete(t)}function S(t){var n=t.target;n.removeEventListener("dispose",S),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var s=0;s<6;s++){if(Array.isArray(i.__webglFramebuffer[s]))for(var l=0;l<i.__webglFramebuffer[s].length;l++)e.deleteFramebuffer(i.__webglFramebuffer[s][l]);else e.deleteFramebuffer(i.__webglFramebuffer[s]);i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[s])}else{if(Array.isArray(i.__webglFramebuffer))for(var u=0;u<i.__webglFramebuffer.length;u++)e.deleteFramebuffer(i.__webglFramebuffer[u]);else e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer)for(var c=0;c<i.__webglColorRenderbuffer.length;c++)i.__webglColorRenderbuffer[c]&&e.deleteRenderbuffer(i.__webglColorRenderbuffer[c]);i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer)}if(t.isWebGLMultipleRenderTargets)for(var h=0,f=n.length;h<f;h++){var d=r.get(n[h]);d.__webglTexture&&(e.deleteTexture(d.__webglTexture),o.memory.textures--),r.remove(n[h])}r.remove(n),r.remove(t)}(n)}function E(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete f.get(i)[n.__cacheKey],o.memory.textures--}var _=0;function M(t,i){var a=r.get(t);if(t.isVideoTexture&&function(e){var t=o.render.frame;h.get(e)!==t&&(h.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&a.__version!==t.version){var s=t.image;if(null===s)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==s.complete)return void R(a,t,i);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.bindTexture(e.TEXTURE_2D,a.__webglTexture,e.TEXTURE0+i)}var T=j(j(j({},Ir,e.REPEAT),Dr,e.CLAMP_TO_EDGE),Fr,e.MIRRORED_REPEAT),C=j(j(j(j(j(j({},Ur,e.NEAREST),Br,e.NEAREST_MIPMAP_NEAREST),zr,e.NEAREST_MIPMAP_LINEAR),Hr,e.LINEAR),Gr,e.LINEAR_MIPMAP_NEAREST),jr,e.LINEAR_MIPMAP_LINEAR),A=j(j(j(j(j(j(j(j({},512,e.NEVER),519,e.ALWAYS),513,e.LESS),515,e.LEQUAL),514,e.EQUAL),518,e.GEQUAL),516,e.GREATER),517,e.NOTEQUAL);function P(n,a,o){if(a.type!==Yr||!1!==t.has("OES_texture_float_linear")||a.magFilter!==Hr&&a.magFilter!==Gr&&a.magFilter!==zr&&a.magFilter!==jr&&a.minFilter!==Hr&&a.minFilter!==Gr&&a.minFilter!==zr&&a.minFilter!==jr||console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),o?(e.texParameteri(n,e.TEXTURE_WRAP_S,T[a.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,T[a.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,T[a.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,C[a.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,C[a.minFilter])):(e.texParameteri(n,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(n,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,e.CLAMP_TO_EDGE),a.wrapS===Dr&&a.wrapT===Dr||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,e.TEXTURE_MAG_FILTER,k(a.magFilter)),e.texParameteri(n,e.TEXTURE_MIN_FILTER,k(a.minFilter)),a.minFilter!==Ur&&a.minFilter!==Hr&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),a.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,A[a.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){var s=t.get("EXT_texture_filter_anisotropic");if(a.magFilter===Ur)return;if(a.minFilter!==zr&&a.minFilter!==jr)return;if(a.type===Yr&&!1===t.has("OES_texture_float_linear"))return;if(!1===l&&a.type===Kr&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function O(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w));var i=n.source,a=f.get(i);void 0===a&&(a={},f.set(i,a));var s=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===a[s]&&(a[s]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[s].usedTimes++;var l=a[t.__cacheKey];void 0!==l&&(a[t.__cacheKey].usedTimes--,0===l.usedTimes&&E(n)),t.__cacheKey=s,t.__webglTexture=a[s].texture}return r}function R(t,o,s){var u=e.TEXTURE_2D;(o.isDataArrayTexture||o.isCompressedArrayTexture)&&(u=e.TEXTURE_2D_ARRAY),o.isData3DTexture&&(u=e.TEXTURE_3D);var c=O(t,o),h=o.source;n.bindTexture(u,t.__webglTexture,e.TEXTURE0+s);var f=r.get(h);if(h.version!==f.__version||!0===c){n.activeTexture(e.TEXTURE0+s);var d=Zi.getPrimaries(Zi.workingColorSpace),p=o.colorSpace===fi?null:Zi.getPrimaries(o.colorSpace),k=o.colorSpace===fi||d===p?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,k);var w,S=function(e){return!l&&(e.wrapS!==Dr||e.wrapT!==Dr||e.minFilter!==Ur&&e.minFilter!==Hr)}(o)&&!1===g(o.image),E=v(o.image,S,!1,i.maxTextureSize),_=g(E=U(o,E))||l,M=a.convert(o.format,o.colorSpace),T=a.convert(o.type),C=b(o.internalFormat,M,T,o.colorSpace,o.isVideoTexture);P(u,o,_);var A=o.mipmaps,R=l&&!0!==o.isVideoTexture&&36196!==C,L=void 0===f.__version||!0===c,N=h.dataReady,I=x(o,E,_);if(o.isDepthTexture)C=e.DEPTH_COMPONENT,l?C=o.type===Yr?e.DEPTH_COMPONENT32F:o.type===qr?e.DEPTH_COMPONENT24:o.type===Jr?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT16:o.type===Yr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),o.format===Qr&&C===e.DEPTH_COMPONENT&&o.type!==Wr&&o.type!==qr&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),o.type=qr,T=a.convert(o.type)),o.format===$r&&C===e.DEPTH_COMPONENT&&(C=e.DEPTH_STENCIL,o.type!==Jr&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),o.type=Jr,T=a.convert(o.type))),L&&(R?n.texStorage2D(e.TEXTURE_2D,1,C,E.width,E.height):n.texImage2D(e.TEXTURE_2D,0,C,E.width,E.height,0,M,T,null));else if(o.isDataTexture)if(A.length>0&&_){R&&L&&n.texStorage2D(e.TEXTURE_2D,I,C,A[0].width,A[0].height);for(var D=0,F=A.length;D<F;D++)w=A[D],R?N&&n.texSubImage2D(e.TEXTURE_2D,D,0,0,w.width,w.height,M,T,w.data):n.texImage2D(e.TEXTURE_2D,D,C,w.width,w.height,0,M,T,w.data);o.generateMipmaps=!1}else R?(L&&n.texStorage2D(e.TEXTURE_2D,I,C,E.width,E.height),N&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,E.width,E.height,M,T,E.data)):n.texImage2D(e.TEXTURE_2D,0,C,E.width,E.height,0,M,T,E.data);else if(o.isCompressedTexture)if(o.isCompressedArrayTexture){R&&L&&n.texStorage3D(e.TEXTURE_2D_ARRAY,I,C,A[0].width,A[0].height,E.depth);for(var B=0,z=A.length;B<z;B++)w=A[B],o.format!==Zr?null!==M?R?N&&n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,B,0,0,0,w.width,w.height,E.depth,M,w.data,0,0):n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,B,C,w.width,w.height,E.depth,0,w.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):R?N&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,B,0,0,0,w.width,w.height,E.depth,M,T,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,B,C,w.width,w.height,E.depth,0,M,T,w.data)}else{R&&L&&n.texStorage2D(e.TEXTURE_2D,I,C,A[0].width,A[0].height);for(var H=0,G=A.length;H<G;H++)w=A[H],o.format!==Zr?null!==M?R?N&&n.compressedTexSubImage2D(e.TEXTURE_2D,H,0,0,w.width,w.height,M,w.data):n.compressedTexImage2D(e.TEXTURE_2D,H,C,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):R?N&&n.texSubImage2D(e.TEXTURE_2D,H,0,0,w.width,w.height,M,T,w.data):n.texImage2D(e.TEXTURE_2D,H,C,w.width,w.height,0,M,T,w.data)}else if(o.isDataArrayTexture)R?(L&&n.texStorage3D(e.TEXTURE_2D_ARRAY,I,C,E.width,E.height,E.depth),N&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,E.width,E.height,E.depth,M,T,E.data)):n.texImage3D(e.TEXTURE_2D_ARRAY,0,C,E.width,E.height,E.depth,0,M,T,E.data);else if(o.isData3DTexture)R?(L&&n.texStorage3D(e.TEXTURE_3D,I,C,E.width,E.height,E.depth),N&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,E.width,E.height,E.depth,M,T,E.data)):n.texImage3D(e.TEXTURE_3D,0,C,E.width,E.height,E.depth,0,M,T,E.data);else if(o.isFramebufferTexture){if(L)if(R)n.texStorage2D(e.TEXTURE_2D,I,C,E.width,E.height);else for(var j=E.width,V=E.height,W=0;W<I;W++)n.texImage2D(e.TEXTURE_2D,W,C,j,V,0,M,T,null),j>>=1,V>>=1}else if(A.length>0&&_){R&&L&&n.texStorage2D(e.TEXTURE_2D,I,C,A[0].width,A[0].height);for(var X=0,q=A.length;X<q;X++)w=A[X],R?N&&n.texSubImage2D(e.TEXTURE_2D,X,0,0,M,T,w):n.texImage2D(e.TEXTURE_2D,X,C,M,T,w);o.generateMipmaps=!1}else R?(L&&n.texStorage2D(e.TEXTURE_2D,I,C,E.width,E.height),N&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,M,T,E)):n.texImage2D(e.TEXTURE_2D,0,C,M,T,E);m(o,_)&&y(u),f.__version=h.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}function L(t,i,o,s,l,c){var h=a.convert(o.format,o.colorSpace),f=a.convert(o.type),d=b(o.internalFormat,h,f,o.colorSpace);if(!r.get(i).__hasExternalTextures){var p=Math.max(1,i.width>>c),v=Math.max(1,i.height>>c);l===e.TEXTURE_3D||l===e.TEXTURE_2D_ARRAY?n.texImage3D(l,c,d,p,v,i.depth,0,h,f,null):n.texImage2D(l,c,d,p,v,0,h,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),F(i)?u.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,0,D(i)):(l===e.TEXTURE_2D||l>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&l<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,s,l,r.get(o).__webglTexture,c),n.bindFramebuffer(e.FRAMEBUFFER,null)}function N(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer&&!n.stencilBuffer){var i=!0===l?e.DEPTH_COMPONENT24:e.DEPTH_COMPONENT16;if(r||F(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Yr?i=e.DEPTH_COMPONENT32F:o.type===qr&&(i=e.DEPTH_COMPONENT24));var s=D(n);F(n)?u.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,s,i,n.width,n.height):e.renderbufferStorageMultisample(e.RENDERBUFFER,s,i,n.width,n.height)}else e.renderbufferStorage(e.RENDERBUFFER,i,n.width,n.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(n.depthBuffer&&n.stencilBuffer){var c=D(n);r&&!1===F(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,e.DEPTH24_STENCIL8,n.width,n.height):F(n)?u.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,e.DEPTH24_STENCIL8,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else for(var h=!0===n.isWebGLMultipleRenderTargets?n.texture:[n.texture],f=0;f<h.length;f++){var d=h[f],p=a.convert(d.format,d.colorSpace),v=a.convert(d.type),g=b(d.internalFormat,p,v,d.colorSpace),m=D(n);r&&!1===F(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,m,g,n.width,n.height):F(n)?u.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,m,g,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,g,n.width,n.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function I(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),M(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=D(i);if(i.depthTexture.format===Qr)F(i)?u.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0);else{if(i.depthTexture.format!==$r)throw new Error("Unknown depthTexture format");F(i)?u.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0,o):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),N(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),N(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}function D(e){return Math.min(i.maxSamples,e.samples)}function F(e){var n=r.get(e);return l&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function U(e,n){var r=e.colorSpace,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Ei||r!==pi&&r!==fi&&(Zi.getTransfer(r)===yi?!1===l?!0===t.has("EXT_sRGB")&&i===Zr?(e.format=Ei,e.minFilter=Hr,e.generateMipmaps=!1):n=ea.sRGBToLinear(n):i===Zr&&a===Vr||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",r)),n}this.allocateTextureUnit=function(){var e=_;return e>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+i.maxTextures),_+=1,e},this.resetTextureUnits=function(){_=0},this.setTexture2D=M,this.setTexture2DArray=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,a.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){var a=r.get(t);t.version>0&&a.__version!==t.version?R(a,t,i):n.bindTexture(e.TEXTURE_3D,a.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,o){var s=r.get(t);t.version>0&&s.__version!==t.version?function(t,o,s){if(6!==o.image.length)return;var u=O(t,o),c=o.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);var h=r.get(c);if(c.version!==h.__version||!0===u){n.activeTexture(e.TEXTURE0+s);var f=Zi.getPrimaries(Zi.workingColorSpace),d=o.colorSpace===fi?null:Zi.getPrimaries(o.colorSpace),p=o.colorSpace===fi||f===d?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,o.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,o.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,o.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,p);for(var k=o.isCompressedTexture||o.image[0].isCompressedTexture,w=o.image[0]&&o.image[0].isDataTexture,S=[],E=0;E<6;E++)S[E]=k||w?w?o.image[E].image:o.image[E]:v(o.image[E],!1,!0,i.maxCubemapSize),S[E]=U(o,S[E]);var _,M=S[0],T=g(M)||l,C=a.convert(o.format,o.colorSpace),A=a.convert(o.type),R=b(o.internalFormat,C,A,o.colorSpace),L=l&&!0!==o.isVideoTexture,N=void 0===h.__version||!0===u,I=c.dataReady,D=x(o,M,T);if(P(e.TEXTURE_CUBE_MAP,o,T),k){L&&N&&n.texStorage2D(e.TEXTURE_CUBE_MAP,D,R,M.width,M.height);for(var F=0;F<6;F++){_=S[F].mipmaps;for(var B=0;B<_.length;B++){var z=_[B];o.format!==Zr?null!==C?L?I&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,B,0,0,z.width,z.height,C,z.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,B,R,z.width,z.height,0,z.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):L?I&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,B,0,0,z.width,z.height,C,A,z.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+F,B,R,z.width,z.height,0,C,A,z.data)}}}else{_=o.mipmaps,L&&N&&(_.length>0&&D++,n.texStorage2D(e.TEXTURE_CUBE_MAP,D,R,S[0].width,S[0].height));for(var H=0;H<6;H++)if(w){L?I&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+H,0,0,0,S[H].width,S[H].height,C,A,S[H].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+H,0,R,S[H].width,S[H].height,0,C,A,S[H].data);for(var G=0;G<_.length;G++){var j=_[G].image[H].image;L?I&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+H,G+1,0,0,j.width,j.height,C,A,j.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+H,G+1,R,j.width,j.height,0,C,A,j.data)}}else{L?I&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+H,0,0,0,C,A,S[H]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+H,0,R,C,A,S[H]);for(var V=0;V<_.length;V++){var W=_[V];L?I&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+H,V+1,0,0,C,A,W.image[H]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+H,V+1,R,C,A,W.image[H])}}}m(o,T)&&y(e.TEXTURE_CUBE_MAP),h.__version=c.version,o.onUpdate&&o.onUpdate(o)}t.__version=o.version}(s,t,o):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+o)},this.rebindTextures=function(t,n,i){var a=r.get(t);void 0!==n&&L(a.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&I(t)},this.setupRenderTarget=function(t){var s=t.texture,u=r.get(t),c=r.get(s);t.addEventListener("dispose",S),!0!==t.isWebGLMultipleRenderTargets&&(void 0===c.__webglTexture&&(c.__webglTexture=e.createTexture()),c.__version=s.version,o.memory.textures++);var h=!0===t.isWebGLCubeRenderTarget,f=!0===t.isWebGLMultipleRenderTargets,d=g(t)||l;if(h){u.__webglFramebuffer=[];for(var p=0;p<6;p++)if(l&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer[p]=[];for(var v=0;v<s.mipmaps.length;v++)u.__webglFramebuffer[p][v]=e.createFramebuffer()}else u.__webglFramebuffer[p]=e.createFramebuffer()}else{if(l&&s.mipmaps&&s.mipmaps.length>0){u.__webglFramebuffer=[];for(var x=0;x<s.mipmaps.length;x++)u.__webglFramebuffer[x]=e.createFramebuffer()}else u.__webglFramebuffer=e.createFramebuffer();if(f)if(i.drawBuffers)for(var k=t.texture,w=0,E=k.length;w<E;w++){var _=r.get(k[w]);void 0===_.__webglTexture&&(_.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(l&&t.samples>0&&!1===F(t)){var M=f?s:[s];u.__webglMultisampledFramebuffer=e.createFramebuffer(),u.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer);for(var T=0;T<M.length;T++){var C=M[T];u.__webglColorRenderbuffer[T]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,u.__webglColorRenderbuffer[T]);var A=a.convert(C.format,C.colorSpace),O=a.convert(C.type),R=b(C.internalFormat,A,O,C.colorSpace,!0===t.isXRRenderTarget),U=D(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,U,R,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+T,e.RENDERBUFFER,u.__webglColorRenderbuffer[T])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(u.__webglDepthRenderbuffer=e.createRenderbuffer(),N(u.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(h){n.bindTexture(e.TEXTURE_CUBE_MAP,c.__webglTexture),P(e.TEXTURE_CUBE_MAP,s,d);for(var B=0;B<6;B++)if(l&&s.mipmaps&&s.mipmaps.length>0)for(var z=0;z<s.mipmaps.length;z++)L(u.__webglFramebuffer[B][z],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+B,z);else L(u.__webglFramebuffer[B],t,s,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+B,0);m(s,d)&&y(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(f){for(var H=t.texture,G=0,j=H.length;G<j;G++){var V=H[G],W=r.get(V);n.bindTexture(e.TEXTURE_2D,W.__webglTexture),P(e.TEXTURE_2D,V,d),L(u.__webglFramebuffer,t,V,e.COLOR_ATTACHMENT0+G,e.TEXTURE_2D,0),m(V,d)&&y(e.TEXTURE_2D)}n.unbindTexture()}else{var X=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(l?X=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(X,c.__webglTexture),P(X,s,d),l&&s.mipmaps&&s.mipmaps.length>0)for(var q=0;q<s.mipmaps.length;q++)L(u.__webglFramebuffer[q],t,s,e.COLOR_ATTACHMENT0,X,q);else L(u.__webglFramebuffer,t,s,e.COLOR_ATTACHMENT0,X,0);m(s,d)&&y(X),n.unbindTexture()}t.depthBuffer&&I(t)},this.updateRenderTargetMipmap=function(t){for(var i=g(t)||l,a=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],o=0,s=a.length;o<s;o++){var u=a[o];if(m(u,i)){var c=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,h=r.get(u).__webglTexture;n.bindTexture(c,h),y(c),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(l&&t.samples>0&&!1===F(t)){var i=t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=t.width,o=t.height,s=e.COLOR_BUFFER_BIT,u=[],h=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,f=r.get(t),d=!0===t.isWebGLMultipleRenderTargets;if(d)for(var p=0;p<i.length;p++)n.bindFramebuffer(e.FRAMEBUFFER,f.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+p,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,f.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+p,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,f.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,f.__webglFramebuffer);for(var v=0;v<i.length;v++){u.push(e.COLOR_ATTACHMENT0+v),t.depthBuffer&&u.push(h);var g=void 0!==f.__ignoreDepthValues&&f.__ignoreDepthValues;if(!1===g&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),d&&e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,f.__webglColorRenderbuffer[v]),!0===g&&(e.invalidateFramebuffer(e.READ_FRAMEBUFFER,[h]),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[h])),d){var m=r.get(i[v]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0)}e.blitFramebuffer(0,0,a,o,0,0,a,o,s,e.NEAREST),c&&e.invalidateFramebuffer(e.READ_FRAMEBUFFER,u)}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),d)for(var y=0;y<i.length;y++){n.bindFramebuffer(e.FRAMEBUFFER,f.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.RENDERBUFFER,f.__webglColorRenderbuffer[y]);var b=r.get(i[y]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,f.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+y,e.TEXTURE_2D,b,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,f.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=I,this.setupFrameBufferTexture=L,this.useMultisampledRTT=F}function cc(e,t,n){var r=n.isWebGL2;return{convert:function(n){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fi,o=Zi.getTransfer(a);if(n===Vr)return e.UNSIGNED_BYTE;if(1017===n)return e.UNSIGNED_SHORT_4_4_4_4;if(1018===n)return e.UNSIGNED_SHORT_5_5_5_1;if(1010===n)return e.BYTE;if(1011===n)return e.SHORT;if(n===Wr)return e.UNSIGNED_SHORT;if(n===Xr)return e.INT;if(n===qr)return e.UNSIGNED_INT;if(n===Yr)return e.FLOAT;if(n===Kr)return r?e.HALF_FLOAT:null!==(i=t.get("OES_texture_half_float"))?i.HALF_FLOAT_OES:null;if(1021===n)return e.ALPHA;if(n===Zr)return e.RGBA;if(1024===n)return e.LUMINANCE;if(1025===n)return e.LUMINANCE_ALPHA;if(n===Qr)return e.DEPTH_COMPONENT;if(n===$r)return e.DEPTH_STENCIL;if(n===Ei)return null!==(i=t.get("EXT_sRGB"))?i.SRGB_ALPHA_EXT:null;if(1028===n)return e.RED;if(1029===n)return e.RED_INTEGER;if(1030===n)return e.RG;if(1031===n)return e.RG_INTEGER;if(1033===n)return e.RGBA_INTEGER;if(n===ei||n===ti||n===ni||n===ri)if(o===yi){if(null===(i=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(n===ei)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===ti)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===ni)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===ri)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(i=t.get("WEBGL_compressed_texture_s3tc")))return null;if(n===ei)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===ti)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===ni)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===ri)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===n||35841===n||35842===n||35843===n){if(null===(i=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===n)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===n)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===n)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===n)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===n)return null!==(i=t.get("WEBGL_compressed_texture_etc1"))?i.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===n||37496===n){if(null===(i=t.get("WEBGL_compressed_texture_etc")))return null;if(37492===n)return o===yi?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(37496===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(37808===n||37809===n||37810===n||37811===n||37812===n||37813===n||37814===n||37815===n||37816===n||37817===n||37818===n||37819===n||37820===n||37821===n){if(null===(i=t.get("WEBGL_compressed_texture_astc")))return null;if(37808===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===n)return o===yi?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===ii||36494===n||36495===n){if(null===(i=t.get("EXT_texture_compression_bptc")))return null;if(n===ii)return o===yi?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===n)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===n)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===n||36284===n||36285===n||36286===n){if(null===(i=t.get("EXT_texture_compression_rgtc")))return null;if(n===ii)return i.COMPRESSED_RED_RGTC1_EXT;if(36284===n)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===n)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===n)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===Jr?r?e.UNSIGNED_INT_24_8:null!==(i=t.get("WEBGL_depth_texture"))?i.UNSIGNED_INT_24_8_WEBGL:null:void 0!==e[n]?e[n]:null}}}var hc=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T(this,t),(e=z(this,t)).isArrayCamera=!0,e.cameras=n,e}return G(t,e),M(t)}(Es),fc=function(e){function t(){var e;return T(this,t),(e=z(this,t)).isGroup=!0,e.type="Group",e}return G(t,e),M(t)}(po),dc={type:"move"},pc=function(){return M((function e(){T(this,e),this._targetRay=null,this._grip=null,this._hand=null}),[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new fc,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new fc,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new fa,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new fa),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new fc,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new fa,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new fa),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"connect",value:function(e){if(e&&e.hand){var t=this._hand;if(t){var n,r=q(e.hand.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this._getHandJoint(t,i)}}catch(a){r.e(a)}finally{r.f()}}}return this.dispatchEvent({type:"connected",data:e}),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){a=!0;var u,c=q(e.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,f=t.getJointPose(h,n),d=this._getHandJoint(l,h);null!==f&&(d.matrix.fromArray(f.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,d.jointRadius=f.radius),d.visible=null!==f}}catch(m){c.e(m)}finally{c.f()}var p=l.joints["index-finger-tip"],v=l.joints["thumb-tip"],g=p.position.distanceTo(v.position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1);null!==o&&(null===(r=t.getPose(e.targetRaySpace,n))&&null!==i&&(r=i),null!==r&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(dc)))}return null!==o&&(o.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==a),this}},{key:"_getHandJoint",value:function(e,t){if(void 0===e.joints[t.jointName]){var n=new fc;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}])}(),vc=function(){return M((function e(){T(this,e),this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}),[{key:"init",value:function(e,t,n){if(null===this.texture){var r=new aa;e.properties.get(r).__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}},{key:"render",value:function(e,t){if(null!==this.texture){if(null===this.mesh){var n=t.cameras[0].viewport,r=new bs({extensions:{fragDepth:!0},vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepthEXT = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepthEXT = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new fs(new Us(20,20),r)}e.render(this.mesh,t)}}},{key:"reset",value:function(){this.texture=null,this.mesh=null}}])}(),gc=function(e){function t(e,n){var r;T(this,t);var i=r=z(this,t),a=null,o=1,s=null,l="local-floor",u=1,c=null,h=null,f=null,d=null,p=null,v=null,g=new vc,m=n.getContextAttributes(),y=null,b=null,x=[],w=[],E=new Bi,_=null,M=new Es;M.layers.enable(1),M.viewport=new oa;var C=new Es;C.layers.enable(2),C.viewport=new oa;var A=[M,C],P=new hc;P.layers.enable(1),P.layers.enable(2);var O=null,R=null;function L(e){var t=w.indexOf(e.inputSource);if(-1!==t){var n=x[t];void 0!==n&&(n.update(e.inputSource,e.frame,c||s),n.dispatchEvent({type:e.type,data:e.inputSource}))}}function N(){a.removeEventListener("select",L),a.removeEventListener("selectstart",L),a.removeEventListener("selectend",L),a.removeEventListener("squeeze",L),a.removeEventListener("squeezestart",L),a.removeEventListener("squeezeend",L),a.removeEventListener("end",N),a.removeEventListener("inputsourceschange",I);for(var t=0;t<x.length;t++){var n=w[t];null!==n&&(w[t]=null,x[t].disconnect(n))}O=null,R=null,g.reset(),e.setRenderTarget(y),p=null,d=null,f=null,a=null,b=null,H.stop(),i.isPresenting=!1,e.setPixelRatio(_),e.setSize(E.width,E.height,!1),i.dispatchEvent({type:"sessionend"})}function I(e){for(var t=0;t<e.removed.length;t++){var n=e.removed[t],r=w.indexOf(n);r>=0&&(w[r]=null,x[r].disconnect(n))}for(var i=0;i<e.added.length;i++){var a=e.added[i],o=w.indexOf(a);if(-1===o){for(var s=0;s<x.length;s++){if(s>=w.length){w.push(a),o=s;break}if(null===w[s]){w[s]=a,o=s;break}}if(-1===o)break}var l=x[o];l&&l.connect(a)}}r.cameraAutoUpdate=!0,r.enabled=!1,r.isPresenting=!1,r.getController=function(e){var t=x[e];return void 0===t&&(t=new pc,x[e]=t),t.getTargetRaySpace()},r.getControllerGrip=function(e){var t=x[e];return void 0===t&&(t=new pc,x[e]=t),t.getGripSpace()},r.getHand=function(e){var t=x[e];return void 0===t&&(t=new pc,x[e]=t),t.getHandSpace()},r.setFramebufferScaleFactor=function(e){o=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},r.setReferenceSpaceType=function(e){l=e,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},r.getReferenceSpace=function(){return c||s},r.setReferenceSpace=function(e){c=e},r.getBaseLayer=function(){return null!==d?d:p},r.getBinding=function(){return f},r.getFrame=function(){return v},r.getSession=function(){return a},r.setSession=function(){var t=S(k().mark((function t(r){var h,v,g,x,w;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(a=r)){t.next=27;break}if(y=e.getRenderTarget(),a.addEventListener("select",L),a.addEventListener("selectstart",L),a.addEventListener("selectend",L),a.addEventListener("squeeze",L),a.addEventListener("squeezestart",L),a.addEventListener("squeezeend",L),a.addEventListener("end",N),a.addEventListener("inputsourceschange",I),!0===m.xrCompatible){t.next=14;break}return t.next=14,n.makeXRCompatible();case 14:return _=e.getPixelRatio(),e.getSize(E),void 0===a.renderState.layers||!1===e.capabilities.isWebGL2?(h={antialias:void 0!==a.renderState.layers||m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:o},p=new XRWebGLLayer(a,n,h),a.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),b=new la(p.framebufferWidth,p.framebufferHeight,{format:Zr,type:Vr,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})):(v=null,g=null,x=null,m.depth&&(x=m.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,v=m.stencil?$r:Qr,g=m.stencil?Jr:qr),w={colorFormat:n.RGBA8,depthFormat:x,scaleFactor:o},f=new XRWebGLBinding(a,n),d=f.createProjectionLayer(w),a.updateRenderState({layers:[d]}),e.setPixelRatio(1),e.setSize(d.textureWidth,d.textureHeight,!1),b=new la(d.textureWidth,d.textureHeight,{format:Zr,type:Vr,depthTexture:new xl(d.textureWidth,d.textureHeight,g,void 0,void 0,void 0,void 0,void 0,void 0,v),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0}),e.properties.get(b).__ignoreDepthValues=d.ignoreDepthValues),b.isXRRenderTarget=!0,this.setFoveation(u),c=null,t.next=22,a.requestReferenceSpace(l);case 22:s=t.sent,H.setContext(a),H.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"});case 27:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getEnvironmentBlendMode=function(){if(null!==a)return a.environmentBlendMode};var D=new fa,F=new fa;function U(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}r.updateCamera=function(e){if(null!==a){null!==g.texture&&(e.near=g.depthNear,e.far=g.depthFar),P.near=C.near=M.near=e.near,P.far=C.far=M.far=e.far,O===P.near&&R===P.far||(a.updateRenderState({depthNear:P.near,depthFar:P.far}),O=P.near,R=P.far,M.near=O,M.far=R,C.near=O,C.far=R,M.updateProjectionMatrix(),C.updateProjectionMatrix(),e.updateProjectionMatrix());var t=e.parent,n=P.cameras;U(P,t);for(var r=0;r<n.length;r++)U(n[r],t);2===n.length?function(e,t,n){D.setFromMatrixPosition(t.matrixWorld),F.setFromMatrixPosition(n.matrixWorld);var r=D.distanceTo(F),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],u=(i[9]-1)/i[5],c=(i[8]-1)/i[0],h=(a[8]+1)/a[0],f=o*c,d=o*h,p=r/(-c+h),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var g=o+p,m=s+p,y=f-v,b=d+(r-v),x=l*s/m*g,k=u*s/m*g;e.projectionMatrix.makePerspective(y,b,x,k,g,m),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(P,M,C):P.projectionMatrix.copy(M.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Pi*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,P,t)}},r.getCamera=function(){return P},r.getFoveation=function(){if(null!==d||null!==p)return u},r.setFoveation=function(e){u=e,null!==d&&(d.fixedFoveation=e),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=e)},r.hasDepthSensing=function(){return null!==g.texture};var B=null;var H=new Ds;return H.setAnimationLoop((function(t,n){if(h=n.getViewerPose(c||s),v=n,null!==h){var r=h.views;null!==p&&(e.setRenderTargetFramebuffer(b,p.framebuffer),e.setRenderTarget(b));var o=!1;r.length!==P.cameras.length&&(P.cameras.length=0,o=!0);for(var l=0;l<r.length;l++){var u=r[l],m=null;if(null!==p)m=p.getViewport(u);else{var y=f.getViewSubImage(d,u);m=y.viewport,0===l&&(e.setRenderTargetTextures(b,y.colorTexture,d.ignoreDepthValues?void 0:y.depthStencilTexture),e.setRenderTarget(b))}var k=A[l];void 0===k&&((k=new Es).layers.enable(l),k.viewport=new oa,A[l]=k),k.matrix.fromArray(u.transform.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale),k.projectionMatrix.fromArray(u.projectionMatrix),k.projectionMatrixInverse.copy(k.projectionMatrix).invert(),k.viewport.set(m.x,m.y,m.width,m.height),0===l&&(P.matrix.copy(k.matrix),P.matrix.decompose(P.position,P.quaternion,P.scale)),!0===o&&P.cameras.push(k)}var S=a.enabledFeatures;if(S&&S.includes("depth-sensing")){var E=f.getDepthInformation(r[0]);E&&E.isValid&&E.texture&&g.init(e,E,a.renderState)}}for(var _=0;_<x.length;_++){var M=w[_],T=x[_];null!==M&&void 0!==T&&T.update(M,n,c||s)}g.render(e,P),B&&B(t,n),n.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:n}),v=null})),r.setAnimationLoop=function(e){B=e},r.dispose=function(){},r}return G(t,e),M(t)}(Ti);function mc(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(r,i){r.opacity.value=i.opacity,i.color&&r.diffuse.value.copy(i.color),i.emissive&&r.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(r.map.value=i.map,n(i.map,r.mapTransform)),i.alphaMap&&(r.alphaMap.value=i.alphaMap,n(i.alphaMap,r.alphaMapTransform)),i.bumpMap&&(r.bumpMap.value=i.bumpMap,n(i.bumpMap,r.bumpMapTransform),r.bumpScale.value=i.bumpScale,i.side===yr&&(r.bumpScale.value*=-1)),i.normalMap&&(r.normalMap.value=i.normalMap,n(i.normalMap,r.normalMapTransform),r.normalScale.value.copy(i.normalScale),i.side===yr&&r.normalScale.value.negate()),i.displacementMap&&(r.displacementMap.value=i.displacementMap,n(i.displacementMap,r.displacementMapTransform),r.displacementScale.value=i.displacementScale,r.displacementBias.value=i.displacementBias),i.emissiveMap&&(r.emissiveMap.value=i.emissiveMap,n(i.emissiveMap,r.emissiveMapTransform)),i.specularMap&&(r.specularMap.value=i.specularMap,n(i.specularMap,r.specularMapTransform)),i.alphaTest>0&&(r.alphaTest.value=i.alphaTest);var a=t.get(i).envMap;if(a&&(r.envMap.value=a,r.flipEnvMap.value=a.isCubeTexture&&!1===a.isRenderTargetTexture?-1:1,r.reflectivity.value=i.reflectivity,r.ior.value=i.ior,r.refractionRatio.value=i.refractionRatio),i.lightMap){r.lightMap.value=i.lightMap;var o=!0===e._useLegacyLights?Math.PI:1;r.lightMapIntensity.value=i.lightMapIntensity*o,n(i.lightMap,r.lightMapTransform)}i.aoMap&&(r.aoMap.value=i.aoMap,r.aoMapIntensity.value=i.aoMapIntensity,n(i.aoMap,r.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,ms(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,a,o,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,r){e.metalness.value=r.metalness,r.metalnessMap&&(e.metalnessMap.value=r.metalnessMap,n(r.metalnessMap,e.metalnessMapTransform));e.roughness.value=r.roughness,r.roughnessMap&&(e.roughnessMap.value=r.roughnessMap,n(r.roughnessMap,e.roughnessMapTransform));var i=t.get(r).envMap;i&&(e.envMapIntensity.value=r.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),t.side===yr&&e.clearcoatNormalScale.value.negate()));t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){var r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,a,o):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function yc(e,t,n,r){var i={},a={},o=[],s=n.isWebGL2?e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(e,t,n,r){var i=e.value,a=t+"_"+n;if(void 0===r[a])return r[a]="number"===typeof i||"boolean"===typeof i?i:i.clone(),!0;var o=r[a];if("number"===typeof i||"boolean"===typeof i){if(o!==i)return r[a]=i,!0}else if(!1===o.equals(i))return o.copy(i),!0;return!1}function u(e){var t={boundary:0,storage:0};return"number"===typeof e||"boolean"===typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",e),t}function c(t){var n=t.target;n.removeEventListener("dispose",c);var r=o.indexOf(n.__bindingPointIndex);o.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete a[n.id]}return{bind:function(e,t){var n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){var f=i[n.id];void 0===f&&(!function(e){for(var t=e.uniforms,n=0,r=16,i=0,a=t.length;i<a;i++)for(var o=Array.isArray(t[i])?t[i]:[t[i]],s=0,l=o.length;s<l;s++)for(var c=o[s],h=Array.isArray(c.value)?c.value:[c.value],f=0,d=h.length;f<d;f++){var p=u(h[f]),v=n%r;0!==v&&r-v<p.boundary&&(n+=r-v),c.__data=new Float32Array(p.storage/Float32Array.BYTES_PER_ELEMENT),c.__offset=n,n+=p.storage}var g=n%r;g>0&&(n+=r-g);e.__size=n,e.__cache={}}(n),f=function(t){var n=function(){for(var e=0;e<s;e++)if(-1===o.indexOf(e))return o.push(e),e;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();t.__bindingPointIndex=n;var r=e.createBuffer(),i=t.__size,a=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,a),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",c));var d=h.program;r.updateUBOMapping(n,d);var p=t.render.frame;a[n.id]!==p&&(!function(t){var n=i[t.id],r=t.uniforms,a=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(var o=0,s=r.length;o<s;o++)for(var c=Array.isArray(r[o])?r[o]:[r[o]],h=0,f=c.length;h<f;h++){var d=c[h];if(!0===l(d,o,h,a)){for(var p=d.__offset,v=Array.isArray(d.value)?d.value:[d.value],g=0,m=0;m<v.length;m++){var y=v[m],b=u(y);"number"===typeof y||"boolean"===typeof y?(d.__data[0]=y,e.bufferSubData(e.UNIFORM_BUFFER,p+g,d.__data)):y.isMatrix3?(d.__data[0]=y.elements[0],d.__data[1]=y.elements[1],d.__data[2]=y.elements[2],d.__data[3]=0,d.__data[4]=y.elements[3],d.__data[5]=y.elements[4],d.__data[6]=y.elements[5],d.__data[7]=0,d.__data[8]=y.elements[6],d.__data[9]=y.elements[7],d.__data[10]=y.elements[8],d.__data[11]=0):(y.toArray(d.__data,g),g+=b.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,p,d.__data)}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),a[n.id]=p)},dispose:function(){for(var t in i)e.deleteBuffer(i[t]);o=[],i={},a={}}}}var bc=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T(this,e);var n,r=t.canvas,i=void 0===r?function(){var e=ji("canvas");return e.style.display="block",e}():r,a=t.context,o=void 0===a?null:a,s=t.depth,l=void 0===s||s,u=t.stencil,c=void 0===u||u,h=t.alpha,f=void 0!==h&&h,d=t.antialias,p=void 0!==d&&d,v=t.premultipliedAlpha,g=void 0===v||v,m=t.preserveDrawingBuffer,y=void 0!==m&&m,b=t.powerPreference,x=void 0===b?"default":b,k=t.failIfMajorPerformanceCaveat,w=void 0!==k&&k;this.isWebGLRenderer=!0,n=null!==o?o.getContextAttributes().alpha:f;var S=new Uint32Array(4),E=new Int32Array(4),_=null,M=null,C=[],A=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=di,this._useLegacyLights=!1,this.toneMapping=Sr,this.toneMappingExposure=1;var P=this,O=!1,R=0,L=0,N=null,I=-1,D=null,F=new oa,U=new oa,B=null,z=new Po(0),H=0,G=i.width,j=i.height,V=1,W=null,X=null,q=new oa(0,0,G,j),Y=new oa(0,0,G,j),K=!1,J=new Is,Z=!1,Q=!1,$=null,ee=new Ga,te=new Bi,ne=new fa,re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ie(){return null===N?V:1}var ae,oe,se,le,ue,ce,he,fe,de,pe,ve,ge,me,ye,be,xe,ke,we,Se,Ee,_e,Me,Te,Ce,Ae=o;function Pe(e,t){for(var n=0;n<e.length;n++){var r=e[n],a=i.getContext(r,t);if(null!==a)return a}return null}try{var Oe={alpha:!0,depth:l,stencil:c,antialias:p,premultipliedAlpha:g,preserveDrawingBuffer:y,powerPreference:x,failIfMajorPerformanceCaveat:w};if("setAttribute"in i&&i.setAttribute("data-engine","three.js r".concat(or)),i.addEventListener("webglcontextlost",Ie,!1),i.addEventListener("webglcontextrestored",De,!1),i.addEventListener("webglcontextcreationerror",Fe,!1),null===Ae){var Re=["webgl2","webgl","experimental-webgl"];if(!0===P.isWebGL1Renderer&&Re.shift(),null===(Ae=Pe(Re,Oe)))throw Pe(Re)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!==typeof WebGLRenderingContext&&Ae instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===Ae.getShaderPrecisionFormat&&(Ae.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Ze){throw console.error("THREE.WebGLRenderer: "+Ze.message),Ze}function Le(){ae=new fl(Ae),oe=new Xs(Ae,ae,t),ae.init(oe),Me=new cc(Ae,ae,oe),se=new lc(Ae,ae,oe),le=new vl(Ae),ue=new Yu,ce=new uc(Ae,ae,se,ue,oe,Me,le),he=new Ys(P),fe=new hl(P),de=new Fs(Ae,oe),Te=new Vs(Ae,ae,de,oe),pe=new dl(Ae,de,le,Te),ve=new bl(Ae,pe,de,le),Se=new yl(Ae,oe,ce),xe=new qs(ue),ge=new qu(P,he,fe,ae,oe,Te,xe),me=new mc(P,ue),ye=new Qu,be=new ic(ae,oe),we=new js(P,he,fe,se,ve,n,g),ke=new sc(P,ve,oe),Ce=new yc(Ae,le,oe,se),Ee=new Ws(Ae,ae,le,oe),_e=new pl(Ae,ae,le,oe),le.programs=ge.programs,P.capabilities=oe,P.extensions=ae,P.properties=ue,P.renderLists=ye,P.shadowMap=ke,P.state=se,P.info=le}Le();var Ne=new gc(P,Ae);function Ie(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function De(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;var e=le.autoReset,t=ke.enabled,n=ke.autoUpdate,r=ke.needsUpdate,i=ke.type;Le(),le.autoReset=e,ke.enabled=t,ke.autoUpdate=n,ke.needsUpdate=r,ke.type=i}function Fe(e){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",e.statusMessage)}function Ue(e){var t=e.target;t.removeEventListener("dispose",Ue),function(e){(function(e){var t=ue.get(e).programs;void 0!==t&&(t.forEach((function(e){ge.releaseProgram(e)})),e.isShaderMaterial&&ge.releaseShaderCache(e))})(e),ue.remove(e)}(t)}function Be(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=yr,e.needsUpdate=!0,Ye(e,t,n),e.side=mr,e.needsUpdate=!0,Ye(e,t,n),e.side=2):Ye(e,t,n)}this.xr=Ne,this.getContext=function(){return Ae},this.getContextAttributes=function(){return Ae.getContextAttributes()},this.forceContextLoss=function(){var e=ae.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=ae.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(e){void 0!==e&&(V=e,this.setSize(G,j,!1))},this.getSize=function(e){return e.set(G,j)},this.setSize=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];Ne.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(G=e,j=t,i.width=Math.floor(e*V),i.height=Math.floor(t*V),!0===n&&(i.style.width=e+"px",i.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(G*V,j*V).floor()},this.setDrawingBufferSize=function(e,t,n){G=e,j=t,V=n,i.width=Math.floor(e*n),i.height=Math.floor(t*n),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(F)},this.getViewport=function(e){return e.copy(q)},this.setViewport=function(e,t,n,r){e.isVector4?q.set(e.x,e.y,e.z,e.w):q.set(e,t,n,r),se.viewport(F.copy(q).multiplyScalar(V).floor())},this.getScissor=function(e){return e.copy(Y)},this.setScissor=function(e,t,n,r){e.isVector4?Y.set(e.x,e.y,e.z,e.w):Y.set(e,t,n,r),se.scissor(U.copy(Y).multiplyScalar(V).floor())},this.getScissorTest=function(){return K},this.setScissorTest=function(e){se.setScissorTest(K=e)},this.setOpaqueSort=function(e){W=e},this.setTransparentSort=function(e){X=e},this.getClearColor=function(e){return e.copy(we.getClearColor())},this.setClearColor=function(){we.setClearColor.apply(we,arguments)},this.getClearAlpha=function(){return we.getClearAlpha()},this.setClearAlpha=function(){we.setClearAlpha.apply(we,arguments)},this.clear=function(){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;if(!(arguments.length>0&&void 0!==arguments[0])||arguments[0]){var r=!1;if(null!==N){var i=N.texture.format;r=1033===i||1031===i||1029===i}if(r){var a=N.texture.type,o=a===Vr||a===qr||a===Wr||a===Jr||1017===a||1018===a,s=we.getClearColor(),l=we.getClearAlpha(),u=s.r,c=s.g,h=s.b;o?(S[0]=u,S[1]=c,S[2]=h,S[3]=l,Ae.clearBufferuiv(Ae.COLOR,0,S)):(E[0]=u,E[1]=c,E[2]=h,E[3]=l,Ae.clearBufferiv(Ae.COLOR,0,E))}else n|=Ae.COLOR_BUFFER_BIT}e&&(n|=Ae.DEPTH_BUFFER_BIT),t&&(n|=Ae.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Ae.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",Ie,!1),i.removeEventListener("webglcontextrestored",De,!1),i.removeEventListener("webglcontextcreationerror",Fe,!1),ye.dispose(),be.dispose(),ue.dispose(),he.dispose(),fe.dispose(),ve.dispose(),Te.dispose(),Ce.dispose(),ge.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",He),Ne.removeEventListener("sessionend",Ge),$&&($.dispose(),$=null),je.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=re);var o=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=re);ce.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,s=null===N?P.outputColorSpace:!0===N.isXRRenderTarget?N.texture.colorSpace:pi,l=(r.isMeshStandardMaterial?fe:he).get(r.envMap||o),u=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,d=!!n.morphAttributes.color,p=Sr;r.toneMapped&&(null!==N&&!0!==N.isXRRenderTarget||(p=P.toneMapping));var v=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,g=void 0!==v?v.length:0,m=ue.get(r),y=M.state.lights;if(!0===Z&&(!0===Q||e!==D)){var b=e===D&&r.id===I;xe.setState(r,e,b)}var x=!1;r.version===m.__version?m.needsLights&&m.lightsStateVersion!==y.state.version||m.outputColorSpace!==s||i.isBatchedMesh&&!1===m.batching?x=!0:i.isBatchedMesh||!0!==m.batching?i.isInstancedMesh&&!1===m.instancing?x=!0:i.isInstancedMesh||!0!==m.instancing?i.isSkinnedMesh&&!1===m.skinning?x=!0:i.isSkinnedMesh||!0!==m.skinning?i.isInstancedMesh&&!0===m.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===m.instancingColor&&null!==i.instanceColor||m.envMap!==l||!0===r.fog&&m.fog!==a?x=!0:void 0===m.numClippingPlanes||m.numClippingPlanes===xe.numPlanes&&m.numIntersection===xe.numIntersection?(m.vertexAlphas!==u||m.vertexTangents!==c||m.morphTargets!==h||m.morphNormals!==f||m.morphColors!==d||m.toneMapping!==p||!0===oe.isWebGL2&&m.morphTargetsCount!==g)&&(x=!0):x=!0:x=!0:x=!0:x=!0:(x=!0,m.__version=r.version);var k=m.currentProgram;!0===x&&(k=Ye(r,t,i));var w=!1,S=!1,E=!1,_=k.getUniforms(),T=m.uniforms;se.useProgram(k.program)&&(w=!0,S=!0,E=!0);r.id!==I&&(I=r.id,S=!0);if(w||D!==e){_.setValue(Ae,"projectionMatrix",e.projectionMatrix),_.setValue(Ae,"viewMatrix",e.matrixWorldInverse);var C=_.map.cameraPosition;void 0!==C&&C.setValue(Ae,ne.setFromMatrixPosition(e.matrixWorld)),oe.logarithmicDepthBuffer&&_.setValue(Ae,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&_.setValue(Ae,"isOrthographic",!0===e.isOrthographicCamera),D!==e&&(D=e,S=!0,E=!0)}if(i.isSkinnedMesh){_.setOptional(Ae,i,"bindMatrix"),_.setOptional(Ae,i,"bindMatrixInverse");var A=i.skeleton;A&&(oe.floatVertexTextures?(null===A.boneTexture&&A.computeBoneTexture(),_.setValue(Ae,"boneTexture",A.boneTexture,ce)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}i.isBatchedMesh&&(_.setOptional(Ae,i,"batchingTexture"),_.setValue(Ae,"batchingTexture",i._matricesTexture,ce));var O=n.morphAttributes;(void 0!==O.position||void 0!==O.normal||void 0!==O.color&&!0===oe.isWebGL2)&&Se.update(i,n,k);(S||m.receiveShadow!==i.receiveShadow)&&(m.receiveShadow=i.receiveShadow,_.setValue(Ae,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(T.envMap.value=l,T.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);S&&(_.setValue(Ae,"toneMappingExposure",P.toneMappingExposure),m.needsLights&&(L=E,(R=T).ambientLightColor.needsUpdate=L,R.lightProbe.needsUpdate=L,R.directionalLights.needsUpdate=L,R.directionalLightShadows.needsUpdate=L,R.pointLights.needsUpdate=L,R.pointLightShadows.needsUpdate=L,R.spotLights.needsUpdate=L,R.spotLightShadows.needsUpdate=L,R.rectAreaLights.needsUpdate=L,R.hemisphereLights.needsUpdate=L),a&&!0===r.fog&&me.refreshFogUniforms(T,a),me.refreshMaterialUniforms(T,r,V,j,$),_u.upload(Ae,Ke(m),T,ce));var R,L;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(_u.upload(Ae,Ke(m),T,ce),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&_.setValue(Ae,"center",i.center);if(_.setValue(Ae,"modelViewMatrix",i.modelViewMatrix),_.setValue(Ae,"normalMatrix",i.normalMatrix),_.setValue(Ae,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial)for(var F=r.uniformsGroups,U=0,B=F.length;U<B;U++)if(oe.isWebGL2){var z=F[U];Ce.update(z,k),Ce.bind(z,k)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.");return k}(e,t,n,r,i);se.setMaterial(r,o);var l=n.index,u=1;if(!0===r.wireframe){if(void 0===(l=pe.getWireframeAttribute(n)))return;u=2}var c=n.drawRange,h=n.attributes.position,f=c.start*u,d=(c.start+c.count)*u;null!==a&&(f=Math.max(f,a.start*u),d=Math.min(d,(a.start+a.count)*u)),null!==l?(f=Math.max(f,0),d=Math.min(d,l.count)):void 0!==h&&null!==h&&(f=Math.max(f,0),d=Math.min(d,h.count));var p=d-f;if(!(p<0||p===1/0)){var v;Te.setup(i,r,s,n,l);var g=Ee;if(null!==l&&(v=de.get(l),(g=_e).setIndex(v)),i.isMesh)!0===r.wireframe?(se.setLineWidth(r.wireframeLinewidth*ie()),g.setMode(Ae.LINES)):g.setMode(Ae.TRIANGLES);else if(i.isLine){var m=r.linewidth;void 0===m&&(m=1),se.setLineWidth(m*ie()),i.isLineSegments?g.setMode(Ae.LINES):i.isLineLoop?g.setMode(Ae.LINE_LOOP):g.setMode(Ae.LINE_STRIP)}else i.isPoints?g.setMode(Ae.POINTS):i.isSprite&&g.setMode(Ae.TRIANGLES);if(i.isBatchedMesh)g.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else if(i.isInstancedMesh)g.renderInstances(f,p,i.count);else if(n.isInstancedBufferGeometry){var y=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,b=Math.min(n.instanceCount,y);g.renderInstances(f,p,b)}else g.render(f,p)}},this.compile=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=e),(M=be.get(n)).init(),A.push(M),n.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(M.pushLight(e),e.castShadow&&M.pushShadow(e))})),e!==n&&e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(M.pushLight(e),e.castShadow&&M.pushShadow(e))})),M.setupLights(P._useLegacyLights);var r=new Set;return e.traverse((function(e){var t=e.material;if(t)if(Array.isArray(t))for(var i=0;i<t.length;i++){var a=t[i];Be(a,n,e),r.add(a)}else Be(t,n,e),r.add(t)})),A.pop(),M=null,r},this.compileAsync=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this.compile(e,t,n);return new Promise((function(t){function n(){r.forEach((function(e){ue.get(e).currentProgram.isReady()&&r.delete(e)})),0!==r.size?setTimeout(n,10):t(e)}null!==ae.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)}))};var ze=null;function He(){je.stop()}function Ge(){je.start()}var je=new Ds;function Ve(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)M.pushLight(e),e.castShadow&&M.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||J.intersectsSprite(e)){r&&ne.setFromMatrixPosition(e.matrixWorld).applyMatrix4(ee);var i=ve.update(e),a=e.material;a.visible&&_.push(e,i,a,n,ne.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||J.intersectsObject(e))){var o=ve.update(e),s=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),ne.copy(e.boundingSphere.center)):(null===o.boundingSphere&&o.computeBoundingSphere(),ne.copy(o.boundingSphere.center)),ne.applyMatrix4(e.matrixWorld).applyMatrix4(ee)),Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var h=l[u],f=s[h.materialIndex];f&&f.visible&&_.push(e,o,f,n,ne.z,h)}else s.visible&&_.push(e,o,s,n,ne.z,null)}for(var d=e.children,p=0,v=d.length;p<v;p++)Ve(d[p],t,n,r)}}function We(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;M.setupLightsView(n),!0===Z&&xe.setGlobalState(P.clippingPlanes,n),a.length>0&&function(e,t,n,r){var i=!0===n.isScene?n.overrideMaterial:null;if(null!==i)return;var a=oe.isWebGL2;null===$&&($=new la(1,1,{generateMipmaps:!0,type:ae.has("EXT_color_buffer_half_float")?Kr:Vr,minFilter:jr,samples:a?4:0}));P.getDrawingBufferSize(te),a?$.setSize(te.x,te.y):$.setSize(Di(te.x),Di(te.y));var o=P.getRenderTarget();P.setRenderTarget($),P.getClearColor(z),(H=P.getClearAlpha())<1&&P.setClearColor(16777215,.5);P.clear();var s=P.toneMapping;P.toneMapping=Sr,Xe(e,n,r),ce.updateMultisampleRenderTarget($),ce.updateRenderTargetMipmap($);for(var l=!1,u=0,c=t.length;u<c;u++){var h=t[u],f=h.object,d=h.geometry,p=h.material,v=h.group;if(2===p.side&&f.layers.test(r.layers)){var g=p.side;p.side=yr,p.needsUpdate=!0,qe(f,n,r,d,p,v),p.side=g,p.needsUpdate=!0,l=!0}}!0===l&&(ce.updateMultisampleRenderTarget($),ce.updateRenderTargetMipmap($));P.setRenderTarget(o),P.setClearColor(z,H),P.toneMapping=s}(i,a,t,n),r&&se.viewport(F.copy(r)),i.length>0&&Xe(i,t,n),a.length>0&&Xe(a,t,n),o.length>0&&Xe(o,t,n),se.buffers.depth.setTest(!0),se.buffers.depth.setMask(!0),se.buffers.color.setMask(!0),se.setPolygonOffset(!1)}function Xe(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],s=o.object,l=o.geometry,u=null===r?o.material:r,c=o.group;s.layers.test(n.layers)&&qe(s,t,n,l,u,c)}}function qe(e,t,n,r,i,a){e.onBeforeRender(P,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(P,t,n,r,e,a),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=yr,i.needsUpdate=!0,P.renderBufferDirect(n,t,r,i,e,a),i.side=mr,i.needsUpdate=!0,P.renderBufferDirect(n,t,r,i,e,a),i.side=2):P.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(P,t,n,r,i,a)}function Ye(e,t,n){!0!==t.isScene&&(t=re);var r=ue.get(e),i=M.state.lights,a=M.state.shadowsArray,o=i.state.version,s=ge.getParameters(e,i.state,a,t,n),l=ge.getProgramCacheKey(s),u=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?fe:he).get(e.envMap||r.environment),void 0===u&&(e.addEventListener("dispose",Ue),u=new Map,r.programs=u);var c=u.get(l);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Je(e,s),c}else s.uniforms=ge.getUniforms(e),e.onBuild(n,s,P),e.onBeforeCompile(s,P),c=ge.acquireProgram(s,l),u.set(l,c),r.uniforms=s.uniforms;var h=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=xe.uniform),Je(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=o,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=c,r.uniformsList=null,c}function Ke(e){if(null===e.uniformsList){var t=e.currentProgram.getUniforms();e.uniformsList=_u.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Je(e,t){var n=ue.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}je.setAnimationLoop((function(e){ze&&ze(e)})),"undefined"!==typeof self&&je.setContext(self),this.setAnimationLoop=function(e){ze=e,Ne.setAnimationLoop(e),null===e?je.stop():je.start()},Ne.addEventListener("sessionstart",He),Ne.addEventListener("sessionend",Ge),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==O){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===Ne.enabled&&!0===Ne.isPresenting&&(!0===Ne.cameraAutoUpdate&&Ne.updateCamera(t),t=Ne.getCamera()),!0===e.isScene&&e.onBeforeRender(P,e,t,N),(M=be.get(e,A.length)).init(),A.push(M),ee.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),J.setFromProjectionMatrix(ee),Q=this.localClippingEnabled,Z=xe.init(this.clippingPlanes,Q),(_=ye.get(e,C.length)).init(),C.push(_),Ve(e,t,0,P.sortObjects),_.finish(),!0===P.sortObjects&&_.sort(W,X),this.info.render.frame++,!0===Z&&xe.beginShadows();var n=M.state.shadowsArray;if(ke.render(n,e,t),!0===Z&&xe.endShadows(),!0===this.info.autoReset&&this.info.reset(),!1!==Ne.enabled&&!1!==Ne.isPresenting&&!1!==Ne.hasDepthSensing()||we.render(_,e),M.setupLights(P._useLegacyLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];We(_,e,o,o.viewport)}else We(_,e,t);null!==N&&(ce.updateMultisampleRenderTarget(N),ce.updateRenderTargetMipmap(N)),!0===e.isScene&&e.onAfterRender(P,e,t),Te.resetDefaultState(),I=-1,D=null,A.pop(),M=A.length>0?A[A.length-1]:null,C.pop(),_=C.length>0?C[C.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return N},this.setRenderTargetTextures=function(e,t,n){ue.get(e.texture).__webglTexture=t,ue.get(e.depthTexture).__webglTexture=n;var r=ue.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===ae.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=ue.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;N=e,R=t,L=n;var r=!0,i=null,a=!1,o=!1;if(e){var s=ue.get(e);void 0!==s.__useDefaultFramebuffer?(se.bindFramebuffer(Ae.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?ce.setupRenderTarget(e):s.__hasExternalTextures&&ce.rebindTextures(e,ue.get(e.texture).__webglTexture,ue.get(e.depthTexture).__webglTexture);var l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(o=!0);var u=ue.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(u[t])?u[t][n]:u[t],a=!0):i=oe.isWebGL2&&e.samples>0&&!1===ce.useMultisampledRTT(e)?ue.get(e).__webglMultisampledFramebuffer:Array.isArray(u)?u[n]:u,F.copy(e.viewport),U.copy(e.scissor),B=e.scissorTest}else F.copy(q).multiplyScalar(V).floor(),U.copy(Y).multiplyScalar(V).floor(),B=K;if(se.bindFramebuffer(Ae.FRAMEBUFFER,i)&&oe.drawBuffers&&r&&se.drawBuffers(e,i),se.viewport(F),se.scissor(U),se.setScissorTest(B),a){var c=ue.get(e.texture);Ae.framebufferTexture2D(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,Ae.TEXTURE_CUBE_MAP_POSITIVE_X+t,c.__webglTexture,n)}else if(o){var h=ue.get(e.texture),f=t||0;Ae.framebufferTextureLayer(Ae.FRAMEBUFFER,Ae.COLOR_ATTACHMENT0,h.__webglTexture,n||0,f)}I=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var s=ue.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){se.bindFramebuffer(Ae.FRAMEBUFFER,s);try{var l=e.texture,u=l.format,c=l.type;if(u!==Zr&&Me.convert(u)!==Ae.getParameter(Ae.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===Kr&&(ae.has("EXT_color_buffer_half_float")||oe.isWebGL2&&ae.has("EXT_color_buffer_float"));if(c!==Vr&&Me.convert(c)!==Ae.getParameter(Ae.IMPLEMENTATION_COLOR_READ_TYPE)&&(c!==Yr||!(oe.isWebGL2||ae.has("OES_texture_float")||ae.has("WEBGL_color_buffer_float")))&&!h)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&Ae.readPixels(t,n,r,i,Me.convert(u),Me.convert(c),a)}finally{var f=null!==N?ue.get(N).__webglFramebuffer:null;se.bindFramebuffer(Ae.FRAMEBUFFER,f)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);ce.setTexture2D(t,0),Ae.copyTexSubImage2D(Ae.TEXTURE_2D,n,0,0,e.x,e.y,i,a),se.unbindTexture()},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=Me.convert(n.format),s=Me.convert(n.type);ce.setTexture2D(n,0),Ae.pixelStorei(Ae.UNPACK_FLIP_Y_WEBGL,n.flipY),Ae.pixelStorei(Ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.premultiplyAlpha),Ae.pixelStorei(Ae.UNPACK_ALIGNMENT,n.unpackAlignment),t.isDataTexture?Ae.texSubImage2D(Ae.TEXTURE_2D,r,e.x,e.y,i,a,o,s,t.image.data):t.isCompressedTexture?Ae.compressedTexSubImage2D(Ae.TEXTURE_2D,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):Ae.texSubImage2D(Ae.TEXTURE_2D,r,e.x,e.y,o,s,t.image),0===r&&n.generateMipmaps&&Ae.generateMipmap(Ae.TEXTURE_2D),se.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(P.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,s=e.max.y-e.min.y+1,l=e.max.z-e.min.z+1,u=Me.convert(r.format),c=Me.convert(r.type);if(r.isData3DTexture)ce.setTexture3D(r,0),a=Ae.TEXTURE_3D;else{if(!r.isDataArrayTexture&&!r.isCompressedArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");ce.setTexture2DArray(r,0),a=Ae.TEXTURE_2D_ARRAY}Ae.pixelStorei(Ae.UNPACK_FLIP_Y_WEBGL,r.flipY),Ae.pixelStorei(Ae.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha),Ae.pixelStorei(Ae.UNPACK_ALIGNMENT,r.unpackAlignment);var h=Ae.getParameter(Ae.UNPACK_ROW_LENGTH),f=Ae.getParameter(Ae.UNPACK_IMAGE_HEIGHT),d=Ae.getParameter(Ae.UNPACK_SKIP_PIXELS),p=Ae.getParameter(Ae.UNPACK_SKIP_ROWS),v=Ae.getParameter(Ae.UNPACK_SKIP_IMAGES),g=n.isCompressedTexture?n.mipmaps[i]:n.image;Ae.pixelStorei(Ae.UNPACK_ROW_LENGTH,g.width),Ae.pixelStorei(Ae.UNPACK_IMAGE_HEIGHT,g.height),Ae.pixelStorei(Ae.UNPACK_SKIP_PIXELS,e.min.x),Ae.pixelStorei(Ae.UNPACK_SKIP_ROWS,e.min.y),Ae.pixelStorei(Ae.UNPACK_SKIP_IMAGES,e.min.z),n.isDataTexture||n.isData3DTexture?Ae.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,g.data):n.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),Ae.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,g.data)):Ae.texSubImage3D(a,i,t.x,t.y,t.z,o,s,l,u,c,g),Ae.pixelStorei(Ae.UNPACK_ROW_LENGTH,h),Ae.pixelStorei(Ae.UNPACK_IMAGE_HEIGHT,f),Ae.pixelStorei(Ae.UNPACK_SKIP_PIXELS,d),Ae.pixelStorei(Ae.UNPACK_SKIP_ROWS,p),Ae.pixelStorei(Ae.UNPACK_SKIP_IMAGES,v),0===i&&r.generateMipmaps&&Ae.generateMipmap(a),se.unbindTexture()}},this.initTexture=function(e){e.isCubeTexture?ce.setTextureCube(e,0):e.isData3DTexture?ce.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?ce.setTexture2DArray(e,0):ce.setTexture2D(e,0),se.unbindTexture()},this.resetState=function(){R=0,L=0,N=null,se.reset(),Te.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}),[{key:"coordinateSystem",get:function(){return _i}},{key:"outputColorSpace",get:function(){return this._outputColorSpace},set:function(e){this._outputColorSpace=e;var t=this.getContext();t.drawingBufferColorSpace=e===vi?"display-p3":"srgb",t.unpackColorSpace=Zi.workingColorSpace===gi?"display-p3":"srgb"}},{key:"outputEncoding",get:function(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===di?hi:3e3},set:function(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===hi?di:pi}},{key:"useLegacyLights",get:function(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights},set:function(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}])}(),xc=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(bc);xc.prototype.isWebGL1Renderer=!0;var kc=function(e){function t(){var e;return T(this,t),(e=z(this,t)).isScene=!0,e.type="Scene",e.background=null,e.environment=null,e.fog=null,e.backgroundBlurriness=0,e.backgroundIntensity=1,e.overrideMaterial=null,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:e})),e}return G(t,e),M(t,[{key:"copy",value:function(e,n){return ar(D(t.prototype),"copy",this).call(this,e,n),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var n=ar(D(t.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}])}(po),wc=function(){return M((function e(t,n){T(this,e),this.isInterleavedBuffer=!0,this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=wi,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Oi()}),[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"updateRange",get:function(){return Wi("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"addUpdateRange",value:function(e,t){this.updateRanges.push({start:e,count:t})}},{key:"clearUpdateRanges",value:function(){this.updateRanges.length=0}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Oi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Oi()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}])}(),Sc=new fa,Ec=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];T(this,e),this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=i}return M(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Sc.fromBufferAttribute(this,t),Sc.applyMatrix4(e),this.setXYZ(t,Sc.x,Sc.y,Sc.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Sc.fromBufferAttribute(this,t),Sc.applyNormalMatrix(e),this.setXYZ(t,Sc.x,Sc.y,Sc.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Sc.fromBufferAttribute(this,t),Sc.transformDirection(e),this.setXYZ(t,Sc.x,Sc.y,Sc.z);return this}},{key:"getComponent",value:function(e,t){var n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Fi(n,this.array)),n}},{key:"setComponent",value:function(e,t,n){return this.normalized&&(n=Ui(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}},{key:"setX",value:function(e,t){return this.normalized&&(t=Ui(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.normalized&&(t=Ui(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.normalized&&(t=Ui(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.normalized&&(t=Ui(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){var t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Fi(t,this.array)),t}},{key:"getY",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Fi(t,this.array)),t}},{key:"getZ",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Fi(t,this.array)),t}},{key:"getW",value:function(e){var t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Fi(t,this.array)),t}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ui(t,this.array),n=Ui(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ui(t,this.array),n=Ui(n,this.array),r=Ui(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Ui(t,this.array),n=Ui(n,this.array),r=Ui(r,this.array),i=Ui(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new Fo(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}])}();var _c=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return T(this,t),(i=z(this,t,[e,n,r])).isInstancedBufferAttribute=!0,i.meshPerAttribute=a,i}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}])}(Fo);var Mc=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).isLineBasicMaterial=!0,n.type="LineBasicMaterial",n.color=new Po(16777215),n.map=null,n.linewidth=1,n.linecap="round",n.linejoin="round",n.fog=!0,n.setValues(e),n}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}])}(Lo),Tc=new fa,Cc=new fa,Ac=new Ga,Pc=new Ha,Oc=new La,Rc=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yo,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Mc;return T(this,t),(e=z(this,t)).isLine=!0,e.type="Line",e.geometry=n,e.material=r,e.updateMorphTargets(),e}return G(t,e),M(t,[{key:"copy",value:function(e,n){return ar(D(t.prototype),"copy",this).call(this,e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Tc.fromBufferAttribute(t,r-1),Cc.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Tc.distanceTo(Cc);e.setAttribute("lineDistance",new zo(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Oc.copy(n.boundingSphere),Oc.applyMatrix4(r),Oc.radius+=i,!1!==e.ray.intersectsSphere(Oc)){Ac.copy(r).invert(),Pc.copy(e.ray).applyMatrix4(Ac);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new fa,u=new fa,c=new fa,h=new fa,f=this.isLineSegments?2:1,d=n.index,p=n.attributes.position;if(null!==d)for(var v=Math.max(0,a.start),g=Math.min(d.count,a.start+a.count)-1;v<g;v+=f){var m=d.getX(v),y=d.getX(v+1);if(l.fromBufferAttribute(p,m),u.fromBufferAttribute(p,y),!(Pc.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(h);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,a.start),k=Math.min(p.count,a.start+a.count)-1;x<k;x+=f){if(l.fromBufferAttribute(p,x),u.fromBufferAttribute(p,x+1),!(Pc.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(h);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}])}(po),Lc=new fa,Nc=new fa,Ic=function(e){function t(e,n){var r;return T(this,t),(r=z(this,t,[e,n])).isLineSegments=!0,r.type="LineSegments",r}return G(t,e),M(t,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Lc.fromBufferAttribute(t,r),Nc.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Lc.distanceTo(Nc);e.setAttribute("lineDistance",new zo(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}])}(Rc),Dc=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).isPointsMaterial=!0,n.type="PointsMaterial",n.color=new Po(16777215),n.map=null,n.alphaMap=null,n.size=1,n.sizeAttenuation=!0,n.fog=!0,n.setValues(e),n}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}])}(Lo),Fc=new Ga,Uc=new Ha,Bc=new La,zc=new fa,Hc=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yo,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Dc;return T(this,t),(e=z(this,t)).isPoints=!0,e.type="Points",e.geometry=n,e.material=r,e.updateMorphTargets(),e}return G(t,e),M(t,[{key:"copy",value:function(e,n){return ar(D(t.prototype),"copy",this).call(this,e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Bc.copy(n.boundingSphere),Bc.applyMatrix4(r),Bc.radius+=i,!1!==e.ray.intersectsSphere(Bc)){Fc.copy(r).invert(),Uc.copy(e.ray).applyMatrix4(Fc);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);c<h;c++){var f=l.getX(c);zc.fromBufferAttribute(u,f),Gc(zc,f,s,r,e,t,this)}else for(var d=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);d<p;d++)zc.fromBufferAttribute(u,d),Gc(zc,d,s,r,e,t,this)}}},{key:"updateMorphTargets",value:function(){var e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){var n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,i=n.length;r<i;r++){var a=n[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=r}}}}}])}(po);function Gc(e,t,n,r,i,a,o){var s=Uc.distanceSqToPoint(e);if(s<n){var l=new fa;Uc.closestPointToPoint(e,l),l.applyMatrix4(r);var u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:t,face:null,object:o})}}var jc=function(e){function t(e){var n;return T(this,t),(n=z(this,t,[e])).isRawShaderMaterial=!0,n.type="RawShaderMaterial",n}return G(t,e),M(t)}(bs);function Vc(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function Wc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Xc=function(){return M((function e(t,n,r,i){T(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}),[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var l=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===l)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var u=n+a>>>1;e<t[u]?a=u:n=u+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}])}(),qc=function(e){function t(e,n,r,i){var a;return T(this,t),(a=z(this,t,[e,n,r,i]))._weightPrev=-0,a._offsetPrev=-0,a._weightNext=-0,a._offsetNext=-0,a.DefaultSettings_={endingStart:li,endingEnd:li},a}return G(t,e),M(t,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case ui:i=e,o=2*t-n;break;case ci:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case ui:a=e,s=2*n-t;break;case ci:a=1,s=n+r[1]-r[0];break;default:a=e-1,s=t}var l=.5*(n-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-n),this._offsetPrev=i*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),p=d*d,v=p*d,g=-h*v+2*h*p-h*d,m=(1+h)*v+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*v+(1.5+f)*p+.5*d,b=f*v-f*p,x=0;x!==o;++x)i[x]=g*a[u+x]+m*a[l+x]+y*a[s+x]+b*a[c+x];return i}}])}(Xc),Yc=function(e){function t(e,n,r,i){return T(this,t),z(this,t,[e,n,r,i])}return G(t,e),M(t,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(n-t)/(r-t),c=1-u,h=0;h!==o;++h)i[h]=a[l+h]*c+a[s+h]*u;return i}}])}(Xc),Kc=function(e){function t(e,n,r,i){return T(this,t),z(this,t,[e,n,r,i])}return G(t,e),M(t,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}])}(Xc),Jc=function(){return M((function e(t,n,r,i){if(T(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Vc(n,this.TimeBufferType),this.values=Vc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}),[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Kc(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new Yc(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new qc(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case ai:t=this.InterpolantFactoryMethodDiscrete;break;case oi:t=this.InterpolantFactoryMethodLinear;break;case si:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ai;case this.InterpolantFactoryMethodLinear:return oi;case this.InterpolantFactoryMethodSmooth:return si}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=n.slice(i,a),this.values=this.values.slice(i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),e=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),e=!1;break}a=s}if(void 0!==r&&Wc(r))for(var l=0,u=r.length;l!==u;++l){var c=r[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===si,i=e.length-1,a=1,o=1;o<i;++o){var s=!1,l=e[o];if(l!==e[o+1]&&(1!==o||l!==e[0]))if(r)s=!0;else for(var u=o*n,c=u-n,h=u+n,f=0;f!==n;++f){var d=t[u+f];if(d!==t[c+f]||d!==t[h+f]){s=!0;break}}if(s){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,g=0;g!==n;++g)t[v+g]=t[p+g]}++a}}if(i>0){e[a]=e[i];for(var m=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[m+b];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Vc(e.times,Array),values:Vc(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}])}();Jc.prototype.TimeBufferType=Float32Array,Jc.prototype.ValueBufferType=Float32Array,Jc.prototype.DefaultInterpolation=oi;var Zc=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(Jc);Zc.prototype.ValueTypeName="bool",Zc.prototype.ValueBufferType=Array,Zc.prototype.DefaultInterpolation=ai,Zc.prototype.InterpolantFactoryMethodLinear=void 0,Zc.prototype.InterpolantFactoryMethodSmooth=void 0;var Qc=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(Jc);Qc.prototype.ValueTypeName="color";var $c=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(Jc);$c.prototype.ValueTypeName="number";var eh=function(e){function t(e,n,r,i){return T(this,t),z(this,t,[e,n,r,i])}return G(t,e),M(t,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-t)/(r-t),l=e*o,u=l+o;l!==u;l+=4)ha.slerpFlat(i,0,a,l-o,a,l,s);return i}}])}(Xc),th=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new eh(this.times,this.values,this.getValueSize(),e)}}])}(Jc);th.prototype.ValueTypeName="quaternion",th.prototype.DefaultInterpolation=oi,th.prototype.InterpolantFactoryMethodSmooth=void 0;var nh=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(Jc);nh.prototype.ValueTypeName="string",nh.prototype.ValueBufferType=Array,nh.prototype.DefaultInterpolation=ai,nh.prototype.InterpolantFactoryMethodLinear=void 0,nh.prototype.InterpolantFactoryMethodSmooth=void 0;var rh=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(Jc);rh.prototype.ValueTypeName="vector";var ih=M((function e(t,n,r){T(this,e);var i=this,a=!1,o=0,s=0,l=void 0,u=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){s++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,s),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,s),o===s&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return l?l(e):e},this.setURLModifier=function(e){return l=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),ah=new ih,oh=function(){return M((function e(t){T(this,e),this.manager=void 0!==t?t:ah,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}),[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}])}();oh.DEFAULT_MATERIAL_NAME="__DEFAULT";var sh=function(e){function t(){var e;return T(this,t),(e=z(this,t)).isInstancedBufferGeometry=!0,e.type="InstancedBufferGeometry",e.instanceCount=1/0,e}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}])}(Yo);var lh="\\[\\]\\.:\\/",uh=new RegExp("["+lh+"]","g"),ch="[^"+lh+"]",hh="[^"+lh.replace("\\.","")+"]",fh=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",ch)+/(WCOD+)?/.source.replace("WCOD",hh)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ch)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ch)+"$"),dh=["material","materials","bones","map"],ph=function(){return M((function e(t,n,r){T(this,e);var i=r||vh.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}),[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}])}(),vh=function(){function e(t,n,r){T(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return M(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var s=0;s<t.length;s++)if(t[s].name===o){o=s;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var l=t[i];if(void 0!==l){var u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var h=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+h+"."+i+" but it wasn't found.",t)}}else console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(uh,"")}},{key:"parseTrackName",value:function(e){var t=fh.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==dh.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function(e){for(var n=0;n<e.length;n++){var i=e[n];if(i.name===t||i.uuid===t)return i;var a=r(i.children);if(a)return a}return null},i=r(e.children);if(i)return i}return null}}])}();vh.Composite=ph,vh.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},vh.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},vh.prototype.GetterByBindingType=[vh.prototype._getValue_direct,vh.prototype._getValue_array,vh.prototype._getValue_arrayElement,vh.prototype._getValue_toArray],vh.prototype.SetterByBindingTypeAndVersioning=[[vh.prototype._setValue_direct,vh.prototype._setValue_direct_setNeedsUpdate,vh.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[vh.prototype._setValue_array,vh.prototype._setValue_array_setNeedsUpdate,vh.prototype._setValue_array_setMatrixWorldNeedsUpdate],[vh.prototype._setValue_arrayElement,vh.prototype._setValue_arrayElement_setNeedsUpdate,vh.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[vh.prototype._setValue_fromArray,vh.prototype._setValue_fromArray_setNeedsUpdate,vh.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];new Float32Array(1);var gh=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return T(this,t),(r=z(this,t,[e,n])).isInstancedInterleavedBuffer=!0,r.meshPerAttribute=i,r}return G(t,e),M(t,[{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var n=ar(D(t.prototype),"clone",this).call(this,e);return n.meshPerAttribute=this.meshPerAttribute,n}},{key:"toJSON",value:function(e){var n=ar(D(t.prototype),"toJSON",this).call(this,e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}])}(wc);var mh=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return T(this,e),this.radius=t,this.phi=n,this.theta=r,this}),[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Ri(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}])}(),yh=new Bi,bh=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Bi(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Bi(-1/0,-1/0);T(this,e),this.isBox2=!0,this.min=t,this.max=n}),[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=yh.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return this.clampPoint(e,yh).distanceTo(e)}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}])}();"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:or}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=or);var xh=function(){function e(t,n,r,i,a){T(this,e),this.layerName=null!==t&&void 0!==t?t:null,this.blockName=null!==n&&void 0!==n?n:null,this.geometryType=null!==r&&void 0!==r?r:null,this.color=i,this.lineType=null!==a&&void 0!==a?a:null}return M(e,[{key:"Compare",value:function(e){var t=kh(this.layerName,e.layerName);return 0!==t||0!==(t=kh(this.blockName,e.blockName))||0!==(t=kh(this.geometryType,e.geometryType))||0!==(t=kh(this.color,e.color))?t:kh(this.lineType,e.lineType)}},{key:"IsIndexed",value:function(){return this.geometryType===e.GeometryType.INDEXED_LINES||this.geometryType===e.GeometryType.INDEXED_TRIANGLES}},{key:"IsInstanced",value:function(){return this.geometryType===e.GeometryType.BLOCK_INSTANCE||this.geometryType===e.GeometryType.POINT_INSTANCE}}])}();function kh(e,t){return null===e?null===t?0:-1:null===t?1:e<t?-1:e>t?1:0}xh.GeometryType=Object.freeze({POINTS:0,LINES:1,INDEXED_LINES:2,TRIANGLES:3,INDEXED_TRIANGLES:4,BLOCK_INSTANCE:5,POINT_INSTANCE:6});var wh=function(){return M((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;T(this,e),this.type=t,this.capacity=n,this.size=0,this.buffer=new(Eh(t))(n)}),[{key:"GetSize",value:function(){return this.size}},{key:"Push",value:function(e){this._CheckGrow();var t=this.size;return this.buffer[t]=e,this.size++,t}},{key:"Get",value:function(e){if(e>=this.size)throw new Error("Index out of range: ".concat(e,"/").concat(this.size));return this.buffer[e]}},{key:"CopyTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;-1===r&&(r=this.size-n);var i=new(Eh(this.type))(this.buffer.buffer,n,r);e.set(i,t)}},{key:"_CheckGrow",value:function(){if(!(this.size<this.capacity)){this.capacity*=2;var e=new(Eh(this.type))(this.capacity);e.set(this.buffer),this.buffer=e}}}])}(),Sh={INT8:0,UINT8:1,UINT8_CLAMPED:2,INT16:3,UINT16:4,INT32:5,UINT32:6,INT64:7,UINT64:8,FLOAT32:9,FLOAT64:10};function Eh(e){switch(e){case Sh.INT8:return Int8Array;case Sh.UINT8:return Uint8Array;case Sh.UINT8_CLAMPED:return Uint8ClampedArray;case Sh.INT16:return Int16Array;case Sh.UINT16:return Uint16Array;case Sh.INT32:return Int32Array;case Sh.UINT32:return Uint32Array;case Sh.FLOAT32:return Float32Array;case Sh.FLOAT64:return Float64Array;default:throw new Error("Unrecognized native type: "+e)}}var _h=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];Math.PI,Math.PI;function Mh(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(_h[255&e]+_h[e>>8&255]+_h[e>>16&255]+_h[e>>24&255]+"-"+_h[255&t]+_h[t>>8&255]+"-"+_h[t>>16&15|64]+_h[t>>24&255]+"-"+_h[63&n|128]+_h[n>>8&255]+"-"+_h[n>>16&255]+_h[n>>24&255]+_h[255&r]+_h[r>>8&255]+_h[r>>16&255]+_h[r>>24&255]).toLowerCase()}function Th(e,t,n){return Math.max(t,Math.min(n,e))}function Ch(e,t){return(e%t+t)%t}function Ah(e,t,n){return(1-n)*e+n*t}var Ph="srgb",Oh="srgb-linear",Rh="display-p3-linear",Lh="linear",Nh="srgb",Ih="rec709",Dh=2e3,Fh=function(){return M((function e(t,n,r,i,a,o,s,l,u){T(this,e),e.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u)}),[{key:"set",value:function(e,t,n,r,i,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=r,u[2]=o,u[3]=t,u[4]=i,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],f=n[5],d=n[8],p=r[0],v=r[3],g=r[6],m=r[1],y=r[4],b=r[7],x=r[2],k=r[5],w=r[8];return i[0]=a*p+o*m+s*x,i[3]=a*v+o*y+s*k,i[6]=a*g+o*b+s*w,i[1]=l*p+u*m+c*x,i[4]=l*v+u*y+c*k,i[7]=l*g+u*b+c*w,i[2]=h*p+f*m+d*x,i[5]=h*v+f*y+d*k,i[8]=h*g+f*b+d*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-n*i*u+n*o*s+r*i*l-r*a*s}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=u*a-o*l,h=o*s-u*i,f=l*i-a*s,d=t*c+n*h+r*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(r*l-u*n)*p,e[2]=(o*n-r*a)*p,e[3]=h*p,e[4]=(u*t-r*s)*p,e[5]=(r*i-o*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*a+l*o)+a+e,-r*l,r*s,-r*(-l*a+s*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){return this.premultiply(Uh.makeScale(e,t)),this}},{key:"rotate",value:function(e){return this.premultiply(Uh.makeRotation(-e)),this}},{key:"translate",value:function(e,t){return this.premultiply(Uh.makeTranslation(e,t)),this}},{key:"makeTranslation",value:function(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}},{key:"makeRotation",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}},{key:"makeScale",value:function(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}])}(),Uh=new Fh,Bh=(new Fh).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),zh=(new Fh).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Hh=j(j(j(j({},Oh,{transfer:Lh,primaries:Ih,toReference:function(e){return e},fromReference:function(e){return e}}),Ph,{transfer:Nh,primaries:Ih,toReference:function(e){return e.convertSRGBToLinear()},fromReference:function(e){return e.convertLinearToSRGB()}}),Rh,{transfer:Lh,primaries:"p3",toReference:function(e){return e.applyMatrix3(zh)},fromReference:function(e){return e.applyMatrix3(Bh)}}),"display-p3",{transfer:Nh,primaries:"p3",toReference:function(e){return e.convertSRGBToLinear().applyMatrix3(zh)},fromReference:function(e){return e.applyMatrix3(Bh).convertLinearToSRGB()}}),Gh=new Set([Oh,Rh]),jh={enabled:!0,_workingColorSpace:Oh,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!Gh.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;var r=Hh[t].toReference;return(0,Hh[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return Hh[e].primaries},getTransfer:function(e){return""===e?Lh:Hh[e].transfer}};function Vh(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Wh(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var Xh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qh={h:0,s:0,l:0},Yh={h:0,s:0,l:0};function Kh(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}var Jh=function(){return M((function e(t,n,r){return T(this,e),this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,n,r)}),[{key:"set",value:function(e,t,n){if(void 0===t&&void 0===n){var r=e;r&&r.isColor?this.copy(r):"number"===typeof r?this.setHex(r):"string"===typeof r&&this.setStyle(r)}else this.setRGB(e,t,n);return this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ph;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,jh.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jh.workingColorSpace;return this.r=e,this.g=t,this.b=n,jh.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:jh.workingColorSpace;if(e=Ch(e,1),t=Th(t,0,1),n=Th(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Kh(a,i,e+1/3),this.g=Kh(a,i,e),this.b=Kh(a,i,e-1/3)}return jh.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ph;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^(\w+)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(255,parseInt(i[1],10))/255,Math.min(255,parseInt(i[2],10))/255,Math.min(255,parseInt(i[3],10))/255,n);if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setRGB(Math.min(100,parseInt(i[1],10))/100,Math.min(100,parseInt(i[2],10))/100,Math.min(100,parseInt(i[3],10))/100,n);break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(i[4]),this.setHSL(parseFloat(i[1])/360,parseFloat(i[2])/100,parseFloat(i[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var s=t[1],l=s.length;if(3===l)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(6===l)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ph,n=Xh[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=Vh(e.r),this.g=Vh(e.g),this.b=Vh(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=Wh(e.r),this.g=Wh(e.g),this.b=Wh(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ph;return jh.fromWorkingColorSpace(Zh.copy(this),e),65536*Math.round(Th(255*Zh.r,0,255))+256*Math.round(Th(255*Zh.g,0,255))+Math.round(Th(255*Zh.b,0,255))}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ph;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jh.workingColorSpace;jh.fromWorkingColorSpace(Zh.copy(this),t);var n,r,i=Zh.r,a=Zh.g,o=Zh.b,s=Math.max(i,a,o),l=Math.min(i,a,o),u=(l+s)/2;if(l===s)n=0,r=0;else{var c=s-l;switch(r=u<=.5?c/(s+l):c/(2-s-l),s){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=u,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:jh.workingColorSpace;return jh.fromWorkingColorSpace(Zh.copy(this),t),e.r=Zh.r,e.g=Zh.g,e.b=Zh.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ph;jh.fromWorkingColorSpace(Zh.copy(this),e);var t=Zh.r,n=Zh.g,r=Zh.b;return e!==Ph?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(qh),this.setHSL(qh.h+e,qh.s+t,qh.l+n)}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(qh),e.getHSL(Yh);var n=Ah(qh.h,Yh.h,t),r=Ah(qh.s,Yh.s,t),i=Ah(qh.l,Yh.l,t);return this.setHSL(n,r,i),this}},{key:"setFromVector3",value:function(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}},{key:"applyMatrix3",value:function(e){var t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}},{key:"toJSON",value:function(){return this.getHex()}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.r;case 2:return e.next=4,this.g;case 4:return e.next=6,this.b;case 6:case"end":return e.stop()}}),e,this)}))}])}(),Zh=new Jh;Jh.NAMES=Xh;var Qh=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;T(this,e),e.prototype.isVector2=!0,this.x=t,this.y=n}),[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Th(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}])}(),$h=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;T(this,e),this.isQuaternion=!0,this._x=t,this._y=n,this._z=r,this._w=i}),[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(r/2),c=o(i/2),h=s(n/2),f=s(r/2),d=s(i/2);switch(a){case"XYZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"YXZ":this._x=h*u*c+l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"ZXY":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c-h*f*d;break;case"ZYX":this._x=h*u*c-l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c+h*f*d;break;case"YZX":this._x=h*u*c+l*f*d,this._y=l*f*c+h*u*d,this._z=l*u*d-h*f*c,this._w=l*u*c-h*f*d;break;case"XZY":this._x=h*u*c-l*f*d,this._y=l*f*c-h*u*d,this._z=l*u*d+h*f*c,this._w=l*u*c+h*f*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!0===t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],s=t[9],l=t[2],u=t[6],c=t[10],h=n+o+c;if(h>0){var f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-s)*f,this._y=(i-l)*f,this._z=(a-r)*f}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(u-s)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(i+l)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-l)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+l)/v,this._y=(s+u)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(Th(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e){return this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=n*u+a*o+r*l-i*s,this._y=r*u+a*s+i*o-n*l,this._z=i*u+a*l+n*s-r*o,this._w=a*u-n*o-r*s-i*l,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-t;return this._w=l*a+t*this._w,this._x=l*n+t*this._x,this._y=l*r+t*this._y,this._z=l*i+t*this._z,this.normalize(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-t)*c)/u,f=Math.sin(t*c)/u;return this._w=a*h+this._w*f,this._x=n*h+this._x*f,this._y=r*h+this._y*f,this._z=i*h+this._z*f,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}},{key:"toJSON",value:function(){return this.toArray()}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._x;case 2:return e.next=4,this._y;case 4:return e.next=6,this._z;case 6:return e.next=8,this._w;case 8:case"end":return e.stop()}}),e,this)}))}],[{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var s=n[r+0],l=n[r+1],u=n[r+2],c=n[r+3],h=i[a+0],f=i[a+1],d=i[a+2],p=i[a+3];if(0===o)return e[t+0]=s,e[t+1]=l,e[t+2]=u,void(e[t+3]=c);if(1===o)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(c!==p||s!==h||l!==f||u!==d){var v=1-o,g=s*h+l*f+u*d+c*p,m=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,g*m);v=Math.sin(v*x)/b,o=Math.sin(o*x)/b}var k=o*m;if(s=s*v+h*k,l=l*v+f*k,u=u*v+d*k,c=c*v+p*k,v===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],s=n[r+1],l=n[r+2],u=n[r+3],c=i[a],h=i[a+1],f=i[a+2],d=i[a+3];return e[t]=o*d+u*c+s*f-l*h,e[t+1]=s*d+u*h+l*c-o*f,e[t+2]=l*d+u*f+o*h-s*c,e[t+3]=u*d-o*c-s*h-l*f,e}}])}(),ef=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;T(this,e),e.prototype.isVector3=!0,this.x=t,this.y=n,this.z=r}),[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return this.applyQuaternion(nf.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(nf.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,s=e.w,l=2*(a*r-o*n),u=2*(o*t-i*r),c=2*(i*n-a*t);return this.x=t+s*l+a*c-o*u,this.y=n+s*u+o*l-i*c,this.z=r+s*c+i*u-a*l,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e){return this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,s=t.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return tf.copy(this).projectOnVector(e),this.sub(tf)}},{key:"reflect",value:function(e){return this.sub(tf.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Th(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"setFromColor",value:function(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}])}(),tf=new ef,nf=new $h,rf=function(){function e(t,n,r,i,a,o,s,l,u,c,h,f,d,p,v,g){T(this,e),e.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,n,r,i,a,o,s,l,u,c,h,f,d,p,v,g)}return M(e,[{key:"set",value:function(e,t,n,r,i,a,o,s,l,u,c,h,f,d,p,v){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=l,g[6]=u,g[10]=c,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/af.setFromMatrixColumn(e,0).length(),i=1/af.setFromMatrixColumn(e,1).length(),a=1/af.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),l=Math.sin(r),u=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var h=a*u,f=a*c,d=o*u,p=o*c;t[0]=s*u,t[4]=-s*c,t[8]=l,t[1]=f+d*l,t[5]=h-p*l,t[9]=-o*s,t[2]=p-h*l,t[6]=d+f*l,t[10]=a*s}else if("YXZ"===e.order){var v=s*u,g=s*c,m=l*u,y=l*c;t[0]=v+y*o,t[4]=m*o-g,t[8]=a*l,t[1]=a*c,t[5]=a*u,t[9]=-o,t[2]=g*o-m,t[6]=y+v*o,t[10]=a*s}else if("ZXY"===e.order){var b=s*u,x=s*c,k=l*u,w=l*c;t[0]=b-w*o,t[4]=-a*c,t[8]=k+x*o,t[1]=x+k*o,t[5]=a*u,t[9]=w-b*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){var S=a*u,E=a*c,_=o*u,M=o*c;t[0]=s*u,t[4]=_*l-E,t[8]=S*l+M,t[1]=s*c,t[5]=M*l+S,t[9]=E*l-_,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var T=a*s,C=a*l,A=o*s,P=o*l;t[0]=s*u,t[4]=P-T*c,t[8]=A*c+C,t[1]=c,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=C*c+A,t[10]=T-P*c}else if("XZY"===e.order){var O=a*s,R=a*l,L=o*s,N=o*l;t[0]=s*u,t[4]=-c,t[8]=l*u,t[1]=O*c+N,t[5]=a*u,t[9]=R*c-L,t[2]=L*c-R,t[6]=o*u,t[10]=N*c+O}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(sf,e,lf)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return hf.subVectors(e,t),0===hf.lengthSq()&&(hf.z=1),hf.normalize(),uf.crossVectors(n,hf),0===uf.lengthSq()&&(1===Math.abs(n.z)?hf.x+=1e-4:hf.z+=1e-4,hf.normalize(),uf.crossVectors(n,hf)),uf.normalize(),cf.crossVectors(hf,uf),r[0]=uf.x,r[4]=cf.x,r[8]=hf.x,r[1]=uf.y,r[5]=cf.y,r[9]=hf.y,r[2]=uf.z,r[6]=cf.z,r[10]=hf.z,this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],f=n[13],d=n[2],p=n[6],v=n[10],g=n[14],m=n[3],y=n[7],b=n[11],x=n[15],k=r[0],w=r[4],S=r[8],E=r[12],_=r[1],M=r[5],T=r[9],C=r[13],A=r[2],P=r[6],O=r[10],R=r[14],L=r[3],N=r[7],I=r[11],D=r[15];return i[0]=a*k+o*_+s*A+l*L,i[4]=a*w+o*M+s*P+l*N,i[8]=a*S+o*T+s*O+l*I,i[12]=a*E+o*C+s*R+l*D,i[1]=u*k+c*_+h*A+f*L,i[5]=u*w+c*M+h*P+f*N,i[9]=u*S+c*T+h*O+f*I,i[13]=u*E+c*C+h*R+f*D,i[2]=d*k+p*_+v*A+g*L,i[6]=d*w+p*M+v*P+g*N,i[10]=d*S+p*T+v*O+g*I,i[14]=d*E+p*C+v*R+g*D,i[3]=m*k+y*_+b*A+x*L,i[7]=m*w+y*M+b*P+x*N,i[11]=m*S+y*T+b*O+x*I,i[15]=m*E+y*C+b*R+x*D,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],c=e[6],h=e[10],f=e[14];return e[3]*(+i*s*c-r*l*c-i*o*h+n*l*h+r*o*f-n*s*f)+e[7]*(+t*s*f-t*l*h+i*a*h-r*a*f+r*l*u-i*s*u)+e[11]*(+t*l*c-t*o*f-i*a*c+n*a*f+i*o*u-n*l*u)+e[15]*(-r*o*u-t*s*c+t*o*h+r*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8],c=e[9],h=e[10],f=e[11],d=e[12],p=e[13],v=e[14],g=e[15],m=c*v*l-p*h*l+p*s*f-o*v*f-c*s*g+o*h*g,y=d*h*l-u*v*l-d*s*f+a*v*f+u*s*g-a*h*g,b=u*p*l-d*c*l+d*o*f-a*p*f-u*o*g+a*c*g,x=d*c*s-u*p*s-d*o*h+a*p*h+u*o*v-a*c*v,k=t*m+n*y+r*b+i*x;if(0===k)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/k;return e[0]=m*w,e[1]=(p*h*i-c*v*i-p*r*f+n*v*f+c*r*g-n*h*g)*w,e[2]=(o*v*i-p*s*i+p*r*l-n*v*l-o*r*g+n*s*g)*w,e[3]=(c*s*i-o*h*i-c*r*l+n*h*l+o*r*f-n*s*f)*w,e[4]=y*w,e[5]=(u*v*i-d*h*i+d*r*f-t*v*f-u*r*g+t*h*g)*w,e[6]=(d*s*i-a*v*i-d*r*l+t*v*l+a*r*g-t*s*g)*w,e[7]=(a*h*i-u*s*i+u*r*l-t*h*l-a*r*f+t*s*f)*w,e[8]=b*w,e[9]=(d*c*i-u*p*i-d*n*f+t*p*f+u*n*g-t*c*g)*w,e[10]=(a*p*i-d*o*i+d*n*l-t*p*l-a*n*g+t*o*g)*w,e[11]=(u*o*i-a*c*i-u*n*l+t*c*l+a*n*f-t*o*f)*w,e[12]=x*w,e[13]=(u*p*r-d*c*r+d*n*h-t*p*h-u*n*v+t*c*v)*w,e[14]=(d*o*r-a*p*r-d*n*s+t*p*s+a*n*v-t*o*v)*w,e[15]=(a*c*r-u*o*r+u*n*s-t*c*s-a*n*h+t*o*h)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,s=e.z,l=i*a,u=i*o;return this.set(l*a+n,l*o-r*s,l*s+r*o,0,l*o+r*s,u*o+n,u*s-r*a,0,l*s-r*o,u*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,s=t._w,l=i+i,u=a+a,c=o+o,h=i*l,f=i*u,d=i*c,p=a*u,v=a*c,g=o*c,m=s*l,y=s*u,b=s*c,x=n.x,k=n.y,w=n.z;return r[0]=(1-(p+g))*x,r[1]=(f+b)*x,r[2]=(d-y)*x,r[3]=0,r[4]=(f-b)*k,r[5]=(1-(h+g))*k,r[6]=(v+m)*k,r[7]=0,r[8]=(d+y)*w,r[9]=(v-m)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=af.set(r[0],r[1],r[2]).length(),a=af.set(r[4],r[5],r[6]).length(),o=af.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],of.copy(this);var s=1/i,l=1/a,u=1/o;return of.elements[0]*=s,of.elements[1]*=s,of.elements[2]*=s,of.elements[4]*=l,of.elements[5]*=l,of.elements[6]*=l,of.elements[8]*=u,of.elements[9]*=u,of.elements[10]*=u,t.setFromRotationMatrix(of),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Dh,u=this.elements,c=2*i/(t-e),h=2*i/(n-r),f=(t+e)/(t-e),d=(n+r)/(n-r);if(l===Dh)o=-(a+i)/(a-i),s=-2*a*i/(a-i);else{if(2001!==l)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);o=-a/(a-i),s=-a*i/(a-i)}return u[0]=c,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=h,u[9]=d,u[13]=0,u[2]=0,u[6]=0,u[10]=o,u[14]=s,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o,s,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Dh,u=this.elements,c=1/(t-e),h=1/(n-r),f=1/(a-i),d=(t+e)*c,p=(n+r)*h;if(l===Dh)o=(a+i)*f,s=-2*f;else{if(2001!==l)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);o=i*f,s=-1*f}return u[0]=2*c,u[4]=0,u[8]=0,u[12]=-d,u[1]=0,u[5]=2*h,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=s,u[14]=-o,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}])}(),af=new ef,of=new rf,sf=new ef(0,0,0),lf=new ef(1,1,1),uf=new ef,cf=new ef,hf=new ef,ff=function(){return M((function e(){T(this,e),this.type="Curve",this.arcLengthDivisions=200}),[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=r[i=Math.floor(s+(l-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){l=i;break}l=i-1}if(r[i=l]===n)return i/(a-1);var u=r[i];return(i+(n-u)/(r[i+1]-u))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),s=t||(a.isVector2?new Qh:new ef);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new ef,r=[],i=[],a=[],o=new ef,s=new rf,l=0;l<=e;l++){var u=l/e;r[l]=this.getTangentAt(u,new ef)}i[0]=new ef,a[0]=new ef;var c=Number.MAX_VALUE,h=Math.abs(r[0].x),f=Math.abs(r[0].y),d=Math.abs(r[0].z);h<=c&&(c=h,n.set(1,0,0)),f<=c&&(c=f,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(Th(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(s.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var g=Math.acos(Th(i[0].dot(i[e]),-1,1));g/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(g=-g);for(var m=1;m<=e;m++)i[m].applyMatrix4(s.makeRotationAxis(r[m],g*m)),a[m].crossVectors(r[m],i[m])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}])}(),df=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return T(this,t),(e=z(this,t)).isEllipseCurve=!0,e.type="EllipseCurve",e.aX=n,e.aY=r,e.xRadius=i,e.yRadius=a,e.aStartAngle=o,e.aEndAngle=s,e.aClockwise=l,e.aRotation=u,e}return G(t,e),M(t,[{key:"getPoint",value:function(e,t){for(var n=t||new Qh,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,f=l-this.aY;s=h*u-f*c+this.aX,l=h*c+f*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return ar(D(t.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}])}(ff),pf=function(e){function t(e,n,r,i,a,o){var s;return T(this,t),(s=z(this,t,[e,n,r,r,i,a,o])).isArcCurve=!0,s.type="ArcCurve",s}return G(t,e),M(t)}(df);function vf(){var e=0,t=0,n=0,r=0;function i(i,a,o,s){e=i,t=o,n=-3*i+3*a-2*o-s,r=2*i-2*a+o+s}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,s){var l=(t-e)/a-(n-e)/(a+o)+(n-t)/o,u=(n-t)/o-(r-t)/(o+s)+(r-n)/s;i(t,n,l*=o,u*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}var gf=new ef,mf=new vf,yf=new vf,bf=new vf,xf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return T(this,t),(e=z(this,t)).isCatmullRomCurve3=!0,e.type="CatmullRomCurve3",e.points=n,e.closed=r,e.curveType=i,e.tension=a,e}return G(t,e),M(t,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ef,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e,s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:0===l&&s===a-1&&(s=a-2,l=1),this.closed||s>0?t=i[(s-1)%a]:(gf.subVectors(i[0],i[1]).add(i[0]),t=gf);var u=i[s%a],c=i[(s+1)%a];if(this.closed||s+2<a?n=i[(s+2)%a]:(gf.subVectors(i[a-1],i[a-2]).add(i[a-1]),n=gf),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,f=Math.pow(t.distanceToSquared(u),h),d=Math.pow(u.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(n),h);d<1e-4&&(d=1),f<1e-4&&(f=d),p<1e-4&&(p=d),mf.initNonuniformCatmullRom(t.x,u.x,c.x,n.x,f,d,p),yf.initNonuniformCatmullRom(t.y,u.y,c.y,n.y,f,d,p),bf.initNonuniformCatmullRom(t.z,u.z,c.z,n.z,f,d,p)}else"catmullrom"===this.curveType&&(mf.initCatmullRom(t.x,u.x,c.x,n.x,this.tension),yf.initCatmullRom(t.y,u.y,c.y,n.y,this.tension),bf.initCatmullRom(t.z,u.z,c.z,n.z,this.tension));return r.set(mf.calc(l),yf.calc(l),bf.calc(l)),r}},{key:"copy",value:function(e){ar(D(t.prototype),"copy",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);e.points=[];for(var n=0,r=this.points.length;n<r;n++){var i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){ar(D(t.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push((new ef).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}])}(ff);function kf(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),s=e*e;return(2*n-2*r+a+o)*(e*s)+(-3*n+3*r-2*a-o)*s+a*e+n}function wf(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Sf(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}var Ef=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qh,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qh,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Qh,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Qh;return T(this,t),(e=z(this,t)).isCubicBezierCurve=!0,e.type="CubicBezierCurve",e.v0=n,e.v1=r,e.v2=i,e.v3=a,e}return G(t,e),M(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qh,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Sf(e,n.x,r.x,i.x,a.x),Sf(e,n.y,r.y,i.y,a.y)),t}},{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return ar(D(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}])}(ff),_f=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ef,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ef,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ef,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ef;return T(this,t),(e=z(this,t)).isCubicBezierCurve3=!0,e.type="CubicBezierCurve3",e.v0=n,e.v1=r,e.v2=i,e.v3=a,e}return G(t,e),M(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ef,n=this.v0,r=this.v1,i=this.v2,a=this.v3;return t.set(Sf(e,n.x,r.x,i.x,a.x),Sf(e,n.y,r.y,i.y,a.y),Sf(e,n.z,r.z,i.z,a.z)),t}},{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return ar(D(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}])}(ff),Mf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qh,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qh;return T(this,t),(e=z(this,t)).isLineCurve=!0,e.type="LineCurve",e.v1=n,e.v2=r,e}return G(t,e),M(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qh;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qh).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return ar(D(t.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}])}(ff),Tf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ef,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ef;return T(this,t),(e=z(this,t)).isLineCurve3=!0,e.type="LineCurve3",e.v1=n,e.v2=r,e}return G(t,e),M(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ef;return 1===e?t.copy(this.v2):(t.copy(this.v2).sub(this.v1),t.multiplyScalar(e).add(this.v1)),t}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ef).subVectors(this.v2,this.v1).normalize()}},{key:"getTangentAt",value:function(e,t){return this.getTangent(e,t)}},{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return ar(D(t.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}])}(ff),Cf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Qh,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qh,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Qh;return T(this,t),(e=z(this,t)).isQuadraticBezierCurve=!0,e.type="QuadraticBezierCurve",e.v0=n,e.v1=r,e.v2=i,e}return G(t,e),M(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qh,n=this.v0,r=this.v1,i=this.v2;return t.set(wf(e,n.x,r.x,i.x),wf(e,n.y,r.y,i.y)),t}},{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return ar(D(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}])}(ff),Af=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ef,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ef,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ef;return T(this,t),(e=z(this,t)).isQuadraticBezierCurve3=!0,e.type="QuadraticBezierCurve3",e.v0=n,e.v1=r,e.v2=i,e}return G(t,e),M(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ef,n=this.v0,r=this.v1,i=this.v2;return t.set(wf(e,n.x,r.x,i.x),wf(e,n.y,r.y,i.y),wf(e,n.z,r.z,i.z)),t}},{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return ar(D(t.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}])}(ff),Pf=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T(this,t),(e=z(this,t)).isSplineCurve=!0,e.type="SplineCurve",e.points=n,e}return G(t,e),M(t,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Qh,n=this.points,r=(n.length-1)*e,i=Math.floor(r),a=r-i,o=n[0===i?i:i-1],s=n[i],l=n[i>n.length-2?n.length-1:i+1],u=n[i>n.length-3?n.length-1:i+2];return t.set(kf(a,o.x,s.x,l.x,u.x),kf(a,o.y,s.y,l.y,u.y)),t}},{key:"copy",value:function(e){ar(D(t.prototype),"copy",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);e.points=[];for(var n=0,r=this.points.length;n<r;n++){var i=this.points[n];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){ar(D(t.prototype),"fromJSON",this).call(this,e),this.points=[];for(var n=0,r=e.points.length;n<r;n++){var i=e.points[n];this.points.push((new Qh).fromArray(i))}return this}}])}(ff),Of=function(t){function n(){var e;return T(this,n),(e=z(this,n)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return G(n,t),M(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var t=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(n)){var r=!0===t.isVector2?"LineCurve":"LineCurve3";this.curves.push(new e[r](n,t))}return this}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],s=o.getLength(),l=0===s?0:1-a/s;return o.getPointAt(l,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,s=a.getPoints(o),l=0;l<s.length;l++){var u=s[l];e&&e.equals(u)||(n.push(u),e=u)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){ar(D(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=ar(D(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(t){ar(D(n.prototype),"fromJSON",this).call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var r=0,i=t.curves.length;r<i;r++){var a=t.curves[r];this.curves.push((new e[a.type]).fromJSON(a))}return this}}])}(ff),Rf=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).type="Path",n.currentPoint=new Qh,e&&n.setFromPoints(e),n}return G(t,e),M(t,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new Mf(this.currentPoint.clone(),new Qh(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new Cf(this.currentPoint.clone(),new Qh(e,t),new Qh(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new Ef(this.currentPoint.clone(),new Qh(e,t),new Qh(n,r),new Qh(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new Pf(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+o,t+s,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,s){var l=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+l,t+u,n,r,i,a,o,s),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,s){var l=new df(e,t,n,r,i,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return ar(D(t.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return ar(D(t.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}])}(Of),Lf=function(e){function t(e){var n;return T(this,t),(n=z(this,t,[e])).uuid=Mh(),n.type="Shape",n.holes=[],n}return G(t,e),M(t,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){ar(D(t.prototype),"copy",this).call(this,e),this.holes=[];for(var n=0,r=e.holes.length;n<r;n++){var i=e.holes[n];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=ar(D(t.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var n=0,r=this.holes.length;n<r;n++){var i=this.holes[n];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){ar(D(t.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var n=0,r=e.holes.length;n<r;n++){var i=e.holes[n];this.holes.push((new Rf).fromJSON(i))}return this}}])}(Rf),Nf=function(e,t){var n,r,i,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,h=c?t[0]*u:e.length,f=If(e,0,h,u,!0),d=[];if(!f||f.next===f.prev)return d;if(c&&(f=function(e,t,n,r){var i,a,o,s=[];for(i=0,a=t.length;i<a;i++)(o=If(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),s.push(Xf(o));for(s.sort(Gf),i=0;i<s.length;i++)n=jf(s[i],n);return n}(e,t,f,u)),e.length>80*u){n=i=e[0],r=a=e[1];for(var p=u;p<h;p+=u)(o=e[p])<n&&(n=o),(s=e[p+1])<r&&(r=s),o>i&&(i=o),s>a&&(a=s);l=0!==(l=Math.max(i-n,a-r))?32767/l:0}return Ff(f,d,u,n,r,l,0),d};function If(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=nd(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=nd(a,e[a],e[a+1],o);return o&&Jf(o,o.next)&&(rd(o),o=o.next),o}function Df(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Jf(r,r.next)&&0!==Kf(r.prev,r,r.next))r=r.next;else{if(rd(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Ff(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{0===i.z&&(i.z=Wf(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,s,l,u=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,s=0,t=0;t<u&&(s++,r=r.nextZ);t++);for(l=u;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1)}(i)}(e,r,i,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?Bf(e,r,i,a):Uf(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),rd(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?Ff(e=zf(Df(e),t,n),t,n,r,i,a,2):2===o&&Hf(e,t,n,r,i,a):Ff(Df(e),t,n,r,i,a,1);break}}}function Uf(e){var t=e.prev,n=e,r=e.next;if(Kf(t,n,r)>=0)return!1;for(var i=t.x,a=n.x,o=r.x,s=t.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,h=s<l?s<u?s:u:l<u?l:u,f=i>a?i>o?i:o:a>o?a:o,d=s>l?s>u?s:u:l>u?l:u,p=r.next;p!==t;){if(p.x>=c&&p.x<=f&&p.y>=h&&p.y<=d&&qf(i,s,a,l,o,u,p.x,p.y)&&Kf(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Bf(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Kf(i,a,o)>=0)return!1;for(var s=i.x,l=a.x,u=o.x,c=i.y,h=a.y,f=o.y,d=s<l?s<u?s:u:l<u?l:u,p=c<h?c<f?c:f:h<f?h:f,v=s>l?s>u?s:u:l>u?l:u,g=c>h?c>f?c:f:h>f?h:f,m=Wf(d,p,t,n,r),y=Wf(v,g,t,n,r),b=e.prevZ,x=e.nextZ;b&&b.z>=m&&x&&x.z<=y;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&qf(s,c,l,h,u,f,b.x,b.y)&&Kf(b.prev,b,b.next)>=0)return!1;if(b=b.prevZ,x.x>=d&&x.x<=v&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&qf(s,c,l,h,u,f,x.x,x.y)&&Kf(x.prev,x,x.next)>=0)return!1;x=x.nextZ}for(;b&&b.z>=m;){if(b.x>=d&&b.x<=v&&b.y>=p&&b.y<=g&&b!==i&&b!==o&&qf(s,c,l,h,u,f,b.x,b.y)&&Kf(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;x&&x.z<=y;){if(x.x>=d&&x.x<=v&&x.y>=p&&x.y<=g&&x!==i&&x!==o&&qf(s,c,l,h,u,f,x.x,x.y)&&Kf(x.prev,x,x.next)>=0)return!1;x=x.nextZ}return!0}function zf(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!Jf(i,a)&&Zf(i,r,r.next,a)&&ed(i,a)&&ed(a,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(a.i/n|0),rd(r),rd(r.next),r=e=a),r=r.next}while(r!==e);return Df(r)}function Hf(e,t,n,r,i,a){var o=e;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&Yf(o,s)){var l=td(o,s);return o=Df(o,o.next),l=Df(l,l.next),Ff(o,t,n,r,i,a,0),void Ff(l,t,n,r,i,a,0)}s=s.next}o=o.next}while(o!==e)}function Gf(e,t){return e.x-t.x}function jf(e,t){var n=function(e,t){var n,r=t,i=-1/0,a=e.x,o=e.y;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=a&&s>i&&(i=s,n=r.x<r.next.x?r:r.next,s===a))return n}r=r.next}while(r!==t);if(!n)return null;var l,u=n,c=n.x,h=n.y,f=1/0;r=n;do{a>=r.x&&r.x>=c&&a!==r.x&&qf(o<h?a:i,o,c,h,o<h?i:a,o,r.x,r.y)&&(l=Math.abs(o-r.y)/(a-r.x),ed(r,e)&&(l<f||l===f&&(r.x>n.x||r.x===n.x&&Vf(n,r)))&&(n=r,f=l)),r=r.next}while(r!==u);return n}(e,t);if(!n)return t;var r=td(n,e);return Df(r,r.next),Df(n,n.next)}function Vf(e,t){return Kf(e.prev,e,t.prev)<0&&Kf(t.next,e,e.next)<0}function Wf(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Xf(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function qf(e,t,n,r,i,a,o,s){return(i-o)*(t-s)>=(e-o)*(a-s)&&(e-o)*(r-s)>=(n-o)*(t-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function Yf(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Zf(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(ed(e,t)&&ed(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Kf(e.prev,e,t.prev)||Kf(e,t.prev,t))||Jf(e,t)&&Kf(e.prev,e,e.next)>0&&Kf(t.prev,t,t.next)>0)}function Kf(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Jf(e,t){return e.x===t.x&&e.y===t.y}function Zf(e,t,n,r){var i=$f(Kf(e,t,n)),a=$f(Kf(e,t,r)),o=$f(Kf(n,r,e)),s=$f(Kf(n,r,t));return i!==a&&o!==s||(!(0!==i||!Qf(e,n,t))||(!(0!==a||!Qf(e,r,t))||(!(0!==o||!Qf(n,e,r))||!(0!==s||!Qf(n,t,r)))))}function Qf(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function $f(e){return e>0?1:e<0?-1:0}function ed(e,t){return Kf(e.prev,e,e.next)<0?Kf(e,t,e.next)>=0&&Kf(e,e.prev,t)>=0:Kf(e,t,e.prev)<0||Kf(e,e.next,t)<0}function td(e,t){var n=new id(e.i,e.x,e.y),r=new id(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function nd(e,t,n,r){var i=new id(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function rd(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function id(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}var ad=function(){function e(){T(this,e)}return M(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];od(e),sd(n,e);var a=e.length;t.forEach(od);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,sd(n,t[o]);for(var s=Nf(n,r),l=0;l<s.length;l+=3)i.push(s.slice(l,l+3));return i}}])}();function od(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function sd(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var ld=function(){return M((function e(){T(this,e),this.type="ShapePath",this.color=new Jh,this.subPaths=[],this.currentPath=null}),[{key:"moveTo",value:function(e,t){return this.currentPath=new Rf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e){function t(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[i],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=u*(e.x-o.x)-l*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return!0}}return r}var n,r,i,a=ad.isClockWise,o=this.subPaths;if(0===o.length)return[];var s=[];if(1===o.length)return r=o[0],(i=new Lf).curves=r.curves,s.push(i),s;var l=!a(o[0].getPoints());l=e?!l:l;var u,c,h=[],f=[],d=[],p=0;f[p]=void 0,d[p]=[];for(var v=0,g=o.length;v<g;v++)n=a(u=(r=o[v]).getPoints()),(n=e?!n:n)?(!l&&f[p]&&p++,f[p]={s:new Lf,p:u},f[p].s.curves=r.curves,l&&p++,d[p]=[]):d[p].push({h:r,p:u[0]});if(!f[0])return function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Lf;a.curves=i.curves,t.push(a)}return t}(o);if(f.length>1){for(var m=!1,y=0,b=0,x=f.length;b<x;b++)h[b]=[];for(var k=0,w=f.length;k<w;k++)for(var S=d[k],E=0;E<S.length;E++){for(var _=S[E],M=!0,T=0;T<f.length;T++)t(_.p,f[T].p)&&(k!==T&&y++,M?(M=!1,h[T].push(_)):m=!0);M&&h[k].push(_)}y>0&&!1===m&&(d=h)}for(var C=0,A=f.length;C<A;C++){i=f[C].s,s.push(i);for(var P=0,O=(c=d[C]).length;P<O;P++)i.holes.push(c[P].h)}return s}}])}(),ud=Object.freeze({TEXT:0,ESCAPE:1,SKIP_FORMAT:2,PARAGRAPH1:3,PARAGRAPH2:4,PARAGRAPH3:5}),cd=Object.freeze({TEXT:0,SCOPE:1,PARAGRAPH:2,NON_BREAKING_SPACE:3,PARAGRAPH_ALIGNMENT:4}),hd=new Set(["L","l","O","o","K","k","P","X","~"]),fd=new Set(["f","F","p","Q","H","W","S","A","C","T"]),dd=new Set(["\\","{","}"]),pd=function(){return M((function e(){T(this,e),this.entities=[]}),[{key:"Parse",value:function(e){var t=e.length,n=0,r=ud.TEXT,i=[],a=this.entities,o=0,s=this;function l(){r===ud.TEXT&&n!==o&&(a.push({type:cd.TEXT,content:e.slice(n,o)}),n=o)}function u(e){a.push({type:e})}function c(){var e={type:cd.SCOPE,content:[]};a.push(e),a=e.content,i.push(e)}for(;o<t;o++){var h=e.charAt(o);switch(r){case ud.TEXT:if("{"===h){l(),c(),n=o+1;continue}if("}"===h){l(),0!==i.length&&(i.pop(),a=0===i.length?s.entities:i[i.length-1].content),n=o+1;continue}if("\\"===h){l(),r=ud.ESCAPE;continue}continue;case ud.ESCAPE:if(hd.has(h)){switch(h){case"P":u(cd.PARAGRAPH);break;case"~":u(cd.NON_BREAKING_SPACE)}r=ud.TEXT,n=o+1;continue}if(fd.has(h)){if("p"===h){r=ud.PARAGRAPH1;continue}r=ud.SKIP_FORMAT;continue}n=dd.has(h)?o:o-1,r=ud.TEXT;continue;case ud.PARAGRAPH1:r="x"===h?ud.PARAGRAPH2:ud.SKIP_FORMAT;continue;case ud.PARAGRAPH2:r="q"===h?ud.PARAGRAPH3:ud.SKIP_FORMAT;continue;case ud.PARAGRAPH3:a.push({type:cd.PARAGRAPH_ALIGNMENT,alignment:h}),r=ud.SKIP_FORMAT;continue;case ud.SKIP_FORMAT:";"===h&&(n=o+1,r=ud.TEXT);continue;default:throw new Error("Unhandled state")}}l()}},{key:"GetContent",value:function(){return this.entities}},{key:"GetText",value:k().mark((function e(){var t,n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){var r,i,a;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=q(e),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=14;break}if((a=i.value).type!==cd.TEXT){t.next=10;break}return t.next=8,a.content;case 8:t.next=12;break;case 10:if(a.type!==cd.SCOPE){t.next=12;break}return t.delegateYield(n(a.content),"t0",12);case 12:t.next=3;break;case 14:t.next=19;break;case 16:t.prev=16,t.t1=t.catch(1),r.e(t.t1);case 19:return t.prev=19,r.f(),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[1,16,19,22]])},t=k().mark(n),e.delegateYield(n(this.GetContent()),"t0",3);case 3:case"end":return e.stop()}}),e,this)}))}])}();pd.EntityType=cd;var vd=/(?:%%([dpcou%]))|(?:\\U\+([0-9a-fA-F]{4}))/g;function gd(e){return e.replaceAll(vd,(function(e,t,n){if(void 0!==t)switch(t){case"d":return"\xb0";case"p":return"\xb1";case"c":return"\u2205";case"o":case"u":return"";case"%":return"%"}else if(void 0!==n){var r=parseInt(n,16);return isNaN(r)?e:String.fromCharCode(r)}return e}))}var md=function(){return M((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;T(this,e),this.fontFetchers=t,this.fonts=[],this.options=Object.create(e.DefaultOptions),n&&Object.assign(this.options,n),this.shapes=new Map,this.stubShapeLoaded=!1,this.stubShape=null}),[{key:"FetchFonts",value:function(){var e=S(k().mark((function e(t){var n,r,i,a,o,s,l,u,c,h,f,d;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stubShapeLoaded){e.next=13;break}this.stubShapeLoaded=!0,n=0,r=Array.from(this.options.fallbackChar);case 3:if(!(n<r.length)){e.next=13;break}return i=r[n],e.next=7,this.FetchFonts(i);case 7:if(!e.sent){e.next=10;break}return this.stubShape=this._CreateCharShape(i),e.abrupt("break",13);case 10:n++,e.next=3;break;case 13:a=!1,o=q(t),e.prev=15,o.s();case 17:if((s=o.n()).done){e.next=58;break}if(!((l=s.value).codePointAt(0)<32)){e.next=21;break}return e.abrupt("continue",56);case 21:u=!1,c=q(this.fonts),e.prev=23,c.s();case 25:if((h=c.n()).done){e.next=32;break}if(!h.value.HasChar(l)){e.next=30;break}return u=!0,e.abrupt("break",32);case 30:e.next=25;break;case 32:e.next=37;break;case 34:e.prev=34,e.t0=e.catch(23),c.e(e.t0);case 37:return e.prev=37,c.f(),e.finish(37);case 40:if(!u){e.next=42;break}return e.abrupt("continue",56);case 42:if(this.fontFetchers){e.next=44;break}return e.abrupt("return",!1);case 44:if(!(this.fontFetchers.length>0)){e.next=55;break}return f=this.fontFetchers.shift(),e.next=48,this._FetchFont(f);case 48:if(d=e.sent,this.fonts.push(d),!d.HasChar(l)){e.next=53;break}return u=!0,e.abrupt("break",55);case 53:e.next=44;break;case 55:u||(a=!0);case 56:e.next=17;break;case 58:e.next=63;break;case 60:e.prev=60,e.t1=e.catch(15),o.e(e.t1);case 63:return e.prev=63,o.f(),e.finish(63);case 66:return e.abrupt("return",!a);case 67:case"end":return e.stop()}}),e,this,[[15,60,63,66],[23,34,37,40]])})));return function(t){return e.apply(this,arguments)}}()},{key:"canRender",get:function(){return null!==this.fonts&&this.fonts.length>0}},{key:"GetLineWidth",value:function(e,t){var n,r=new Ed(t),i=q(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=this._GetCharShape(a);o&&r.PushChar(a,o)}}catch(s){i.e(s)}finally{i.f()}return r.GetCurrentPosition()}},{key:"Render",value:function(e){var t=this,n=e.text,r=e.startPos,i=e.endPos,a=e.rotation,o=void 0===a?0:a,s=e.widthFactor,l=void 0===s?1:s,u=e.hAlign,c=void 0===u?0:u,h=e.vAlign,f=void 0===h?0:h,d=e.color,p=e.layer,v=void 0===p?null:p,g=e.fontSize;return k().mark((function e(){var a,s,u,h,p;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Ed(g),s=q(n),e.prev=2,s.s();case 4:if((u=s.n()).done){e.next=12;break}if(h=u.value,p=t._GetCharShape(h)){e.next=9;break}return e.abrupt("continue",10);case 9:a.PushChar(h,p);case 10:e.next=4;break;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),s.e(e.t0);case 17:return e.prev=17,s.f(),e.finish(17);case 20:return e.delegateYield(a.Render(r,i,o,l,c,f,d,v),"t1",21);case 21:case"end":return e.stop()}}),e,null,[[2,14,17,20]])}))()}},{key:"RenderMText",value:function(e){var t=this,n=e.formattedText,r=e.position,i=e.fontSize,a=e.width,o=void 0===a?null:a,s=e.rotation,l=void 0===s?0:s,u=e.direction,c=void 0===u?null:u,h=e.attachment,f=e.lineSpacing,d=void 0===f?1:f,p=e.color,v=e.layer,g=void 0===v?null:v;return k().mark((function e(){var a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new Sd(i,t._GetCharShape.bind(t))).FeedText(n),e.delegateYield(a.Render(r,o,l,c,h,d,p,g),"t0",3);case 3:case"end":return e.stop()}}),e)}))()}},{key:"_GetCharShape",value:function(e){var t=this.shapes.get(e);return t||(t=this._CreateCharShape(e),this.shapes.set(e,t),t)}},{key:"_CreateCharShape",value:function(e){var t,n=q(this.fonts);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.GetCharPath(e);if(i)return new yd(r,i,this.options)}}catch(a){n.e(a)}finally{n.f()}return this.stubShape}},{key:"_FetchFont",value:function(){var e=S(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=bd,e.next=3,t();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}])}();md.DefaultOptions={curveSubdivision:2,fallbackChar:"\ufffd?"};var yd=function(){return M((function e(t,n,r){var i=this;if(T(this,e),this.font=t,this.advance=n.advance,this.bounds=n.bounds,n.path){var a=n.path.toShapes(!1);this.vertices=[],this.indices=[];var o,s=q(a);try{var l=function(){var e=o.value.extractPoints(r.curveSubdivision);if(!ad.isClockWise(e.shape)){e.shape=e.shape.reverse();var t,n=q(e.holes);try{for(n.s();!(t=n.n()).done;){var a=t.value;ad.isClockWise(a)&&(e.holes[h]=a.reverse())}}catch(b){n.e(b)}finally{n.f()}}var s=ad.triangulateShape(e.shape,e.holes),l=i,u=i.vertices.length;function c(e){var t,n=q(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;l.vertices.push(r)}}catch(b){n.e(b)}finally{n.f()}}c(e.shape);var f,d=q(e.holes);try{for(d.s();!(f=d.n()).done;){c(f.value)}}catch(b){d.e(b)}finally{d.f()}var p,v=q(s);try{for(v.s();!(p=v.n()).done;){var g,m=q(p.value);try{for(m.s();!(g=m.n()).done;){var y=g.value;i.indices.push(u+y)}}catch(b){m.e(b)}finally{m.f()}}}catch(b){v.e(b)}finally{v.f()}};for(s.s();!(o=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}}else this.vertices=null}),[{key:"GetVertices",value:function(e,t){return this.vertices.map((function(n){return n.clone().multiplyScalar(t).add(e)}))}}])}(),bd=function(){return M((function e(t){T(this,e),this.data=t,this.charMap=new Map;for(var n=0,r=Object.values(t.glyphs.glyphs);n<r.length;n++){var i=r[n];void 0!==i.unicode&&this.charMap.set(String.fromCodePoint(i.unicode),i)}this.scale=100/(72*(this.data.unitsPerEm||2048))}),[{key:"HasChar",value:function(e){return this.charMap.has(e)}},{key:"GetCharPath",value:function(e){var t=this.charMap.get(e);if(!t)return null;var n,r=this.scale,i=new ld,a=q(t.path.commands);try{for(a.s();!(n=a.n()).done;){var o=n.value;switch(o.type){case"M":i.moveTo(o.x*r,o.y*r);break;case"L":i.lineTo(o.x*r,o.y*r);break;case"Q":i.quadraticCurveTo(o.x1*r,o.y1*r,o.x*r,o.y*r);break;case"C":i.bezierCurveTo(o.x1*r,o.y1*r,o.x2*r,o.y2*r,o.x*r,o.y*r)}}}catch(s){a.e(s)}finally{a.f()}return{advance:t.advanceWidth*r,path:i,bounds:{xMin:t.xMin*r,xMax:t.xMax*r,yMin:t.yMin*r,yMax:t.yMax*r}}}},{key:"GetKerning",value:function(e,t){var n=this.data.charToGlyphIndex(e);if(0===n)return 0;var r=this.data.charToGlyphIndex(e);return 0===r?0:this.data.getKerningValue(n,r)*this.scale}}])}(),xd=Object.freeze({LEFT:0,CENTER:1,RIGHT:2,ALIGNED:3,MIDDLE:4,FIT:5}),kd=Object.freeze({BASELINE:0,BOTTOM:1,MIDDLE:2,TOP:3}),wd=Object.freeze({TOP_LEFT:1,TOP_CENTER:2,TOP_RIGHT:3,MIDDLE_LEFT:4,MIDDLE_CENTER:5,MIDDLE_RIGHT:6,BOTTOM_LEFT:7,BOTTOM_CENTER:8,BOTTOM_RIGHT:9}),Sd=function(){function e(t,n){T(this,e),this.fontSize=t,this.charShapeProvider=n,this.curParagraph=new e.Paragraph(this),this.paragraphs=[this.curParagraph],this.spaceShape=n(" ")}return M(e,[{key:"FeedText",value:function(t){var n=k().mark(r);function r(e){var t,i,a;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=q(e),n.prev=1,t.s();case 3:if((i=t.n()).done){n.next=13;break}if((a=i.value).type!==pd.EntityType.SCOPE){n.next=9;break}return n.delegateYield(r(a.content),"t0",7);case 7:n.next=11;break;case 9:return n.next=11,a;case 11:n.next=3;break;case 13:n.next=18;break;case 15:n.prev=15,n.t1=n.catch(1),t.e(n.t1);case 18:return n.prev=18,t.f(),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[1,15,18,21]])}var i,a=null,o=q(r(t));try{for(o.s();!(i=o.n()).done;){var s=i.value;switch(s.type){case pd.EntityType.TEXT:var l,u=q(s.content);try{for(u.s();!(l=u.n()).done;){var c=l.value;" "===c?this.curParagraph.FeedSpace():this.curParagraph.FeedChar(c)}}catch(f){u.e(f)}finally{u.f()}break;case pd.EntityType.PARAGRAPH:this.curParagraph=new e.Paragraph(this),this.curParagraph.SetAlignment(a),this.paragraphs.push(this.curParagraph);break;case pd.EntityType.NON_BREAKING_SPACE:this.curParagraph.FeedChar(" ");break;case pd.EntityType.PARAGRAPH_ALIGNMENT:var h=null;switch(s.alignment){case"l":h=e.Paragraph.Alignment.LEFT;break;case"c":h=e.Paragraph.Alignment.CENTER;break;case"r":h=e.Paragraph.Alignment.RIGHT;break;case"d":h=e.Paragraph.Alignment.JUSTIFY;break;case"j":h=null}this.curParagraph.SetAlignment(h),a=h}}}catch(f){o.e(f)}finally{o.f()}}},{key:"Render",value:k().mark((function t(n,r,i,a,o,s,l,u){var c,h,f,d,p,v,g,m,y,b,x,w,S,E,_,M,T,C,A,P,O,R,L,N,I,D,F;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:c=q(this.paragraphs);try{for(c.s();!(h=c.n()).done;)h.value.BuildLines(r)}catch(k){c.e(k)}finally{c.f()}if(null===r||0===r){r=0,f=q(this.paragraphs);try{for(f.s();!(d=f.n()).done;)p=d.value,(v=p.GetMaxLineWidth())>r&&(r=v)}catch(k){f.e(k)}finally{f.f()}}g=e.Paragraph.Alignment.LEFT,t.t0=o,t.next=t.t0===wd.TOP_CENTER||t.t0===wd.MIDDLE_CENTER||t.t0===wd.BOTTOM_CENTER?7:t.t0===wd.TOP_RIGHT||t.t0===wd.MIDDLE_RIGHT||t.t0===wd.BOTTOM_RIGHT?9:11;break;case 7:return g=e.Paragraph.Alignment.CENTER,t.abrupt("break",11);case 9:return g=e.Paragraph.Alignment.RIGHT,t.abrupt("break",11);case 11:m=q(this.paragraphs);try{for(m.s();!(y=m.n()).done;)y.value.ApplyAlignment(r,g)}catch(k){m.e(k)}finally{m.f()}null!==a&&(i=180*Math.atan2(a.y,a.x)/Math.PI),b=5*s*this.fontSize/3,x=0,w=q(this.paragraphs);try{for(w.s();!(S=w.n()).done;)null===(E=S.value).lines?x++:x+=E.lines.length}catch(k){w.e(k)}finally{w.f()}x*=b,_=new Bi,t.t1=o,t.next=t.t1===wd.TOP_LEFT?23:t.t1===wd.TOP_CENTER?24:t.t1===wd.TOP_RIGHT?26:t.t1===wd.MIDDLE_LEFT?28:t.t1===wd.MIDDLE_CENTER?30:t.t1===wd.MIDDLE_RIGHT?33:t.t1===wd.BOTTOM_LEFT?36:t.t1===wd.BOTTOM_CENTER?38:t.t1===wd.BOTTOM_RIGHT?41:44;break;case 23:return t.abrupt("break",45);case 24:return _.x=r/2,t.abrupt("break",45);case 26:return _.x=r,t.abrupt("break",45);case 28:return _.y=-x/2,t.abrupt("break",45);case 30:return _.x=r/2,_.y=-x/2,t.abrupt("break",45);case 33:return _.x=r,_.y=-x/2,t.abrupt("break",45);case 36:return _.y=-x,t.abrupt("break",45);case 38:return _.x=r/2,_.y=-x,t.abrupt("break",45);case 41:return _.x=r,_.y=-x,t.abrupt("break",45);case 44:throw new Error("Unhandled alignment");case 45:M=(new zi).translate(-_.x,-_.y).rotate(-i*Math.PI/180).translate(n.x,n.y),T=-this.fontSize,C=q(this.paragraphs),t.prev=48,C.s();case 50:if((A=C.n()).done){t.next=85;break}if(null!==(P=A.value).lines){t.next=55;break}return T-=b,t.abrupt("continue",83);case 55:O=q(P.lines),t.prev=56,O.s();case 58:if((R=O.n()).done){t.next=75;break}L=R.value,N=L.startChunkIdx;case 61:if(!(N<L.startChunkIdx+L.numChunks)){t.next=72;break}if(I=P.chunks[N],D=I.position,0!==N&&N===L.startChunkIdx||(D+=I.GetSpacingWidth()),(F=new Bi(D,T)).applyMatrix3(M),!I.block){t.next=69;break}return t.delegateYield(I.block.Render(F,null,i,null,xd.LEFT,kd.BASELINE,l,u),"t2",69);case 69:N++,t.next=61;break;case 72:T-=b;case 73:t.next=58;break;case 75:t.next=80;break;case 77:t.prev=77,t.t3=t.catch(56),O.e(t.t3);case 80:return t.prev=80,O.f(),t.finish(80);case 83:t.next=50;break;case 85:t.next=90;break;case 87:t.prev=87,t.t4=t.catch(48),C.e(t.t4);case 90:return t.prev=90,C.f(),t.finish(90);case 93:case"end":return t.stop()}}),t,this,[[48,87,90,93],[56,77,80,83]])}))}])}();Sd.Paragraph=function(){return M((function e(t){T(this,e),this.textBox=t,this.chunks=[],this.curChunk=null,this.alignment=null,this.lines=null}),[{key:"FeedChar",value:function(e){var t=this.textBox.charShapeProvider(e);null!==t&&(null===this.curChunk&&this._AddChunk(),this.curChunk.PushChar(e,t))}},{key:"FeedSpace",value:function(){null!==this.curChunk&&null===this.curChunk.lastChar||this._AddChunk(),this.curChunk.PushSpace()}},{key:"SetAlignment",value:function(e){this.alignment=e}},{key:"BuildLines",value:function(e){var t=this;if(null!==this.curChunk){this.lines=[];for(var n=0,r=0,i=0,a=function(){t.lines.push(new Sd.Paragraph.Line(t,n,r-n,i)),n=r,i=0};r<this.chunks.length;r++){var o=this.chunks[r],s=o.GetWidth(0===n||r!==n);null!==e&&0!==e&&0!==i&&i+s>e&&a(),o.position=i,i+=s}n!==r&&0!==i&&a()}}},{key:"GetMaxLineWidth",value:function(){if(null===this.lines)return 0;var e,t=0,n=q(this.lines);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.width>t&&(t=r.width)}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"ApplyAlignment",value:function(e,t){if(this.lines){var n,r=q(this.lines);try{for(r.s();!(n=r.n()).done;){n.value.ApplyAlignment(e,t)}}catch(i){r.e(i)}finally{r.f()}}}},{key:"_AddChunk",value:function(){this.curChunk=new Sd.Paragraph.Chunk(this,this.textBox.fontSize,this.curChunk),this.chunks.push(this.curChunk)}}])}(),Sd.Paragraph.Alignment=Object.freeze({LEFT:0,CENTER:1,RIGHT:2,JUSTIFY:3}),Sd.Paragraph.Chunk=function(){return M((function e(t,n,r){T(this,e),this.paragraph=t,this.fontSize=n,this.prevChunk=r,this.lastChar=null,this.lastShape=null,this.leadingSpaces=0,this.spaceStartKerning=null,this.spaceEndKerning=null,this.block=null,this.position=null}),[{key:"PushSpace",value:function(){if(this.block)throw new Error("Illegal operation");this.leadingSpaces++}},{key:"PushChar",value:function(e,t){null===this.spaceStartKerning&&(0===this.leadingSpaces?(this.spaceStartKerning=0,this.spaceEndKerning=0):(this.prevChunk&&this.prevChunk.lastShape&&this.prevChunk.fontSize===this.fontSize&&this.prevChunk.lastShape.font===this.paragraph.textBox.spaceShape.font?this.spaceStartKerning=this.prevChunk.lastShape.font.GetKerning(this.prevChunk.lastChar," "):this.spaceStartKerning=0,t.font===this.paragraph.textBox.spaceShape.font?this.spaceEndKerning=t.font.GetKerning(" ",e):this.spaceEndKerning=0)),null===this.block&&(this.block=new Ed(this.fontSize)),this.block.PushChar(e,t),this.lastChar=e,this.lastShape=t}},{key:"GetSpacingWidth",value:function(){return(this.leadingSpaces*this.paragraph.textBox.spaceShape.advance+this.spaceStartKerning+this.spaceEndKerning)*this.fontSize}},{key:"GetWidth",value:function(e){if(null===this.block)return 0;var t=this.block.GetCurrentPosition();return e&&(t+=this.GetSpacingWidth()),t}}])}(),Sd.Paragraph.Line=function(){return M((function e(t,n,r,i){T(this,e),this.paragraph=t,this.startChunkIdx=n,this.numChunks=r,this.width=i}),[{key:"ApplyAlignment",value:function(e,t){var n;switch(null!==(n=this.paragraph.alignment)&&void 0!==n?n:t){case Sd.Paragraph.Alignment.LEFT:break;case Sd.Paragraph.Alignment.CENTER:var r=(e-this.width)/2;this.ForEachChunk((function(e){return e.position+=r}));break;case Sd.Paragraph.Alignment.RIGHT:var i=e-this.width;this.ForEachChunk((function(e){return e.position+=i}));break;case Sd.Paragraph.Alignment.JUSTIFY:var a=e-this.width;if(a<=0||1===this.numChunks)break;var o=a/(this.numChunks-1),s=0;this.ForEachChunk((function(e){e.position+=s,s+=o}));break;default:throw new Error("Unhandled alignment: "+this.paragraph.alignment)}}},{key:"ForEachChunk",value:function(e){for(var t=0;t<this.numChunks;t++)e(this.paragraph.chunks[this.startChunkIdx+t])}}])}();var Ed=function(){return M((function e(t){T(this,e),this.fontSize=t,this.glyphs=[],this.bounds=null,this.curX=0,this.prevChar=null,this.prevFont=null}),[{key:"PushChar",value:function(e,t){var n;n=null!==this.prevChar&&this.prevFont===t.font?this.prevFont.GetKerning(this.prevChar,e):0;var r,i=this.curX+n*this.fontSize;if(t.vertices){r=t.GetVertices({x:i,y:0},this.fontSize);var a=i+t.bounds.xMin*this.fontSize,o=i+t.bounds.xMax*this.fontSize,s=t.bounds.yMin*this.fontSize,l=t.bounds.yMax*this.fontSize;null===this.bounds?this.bounds={xMin:a,xMax:o,yMin:s,yMax:l}:(a<this.bounds.xMin&&(this.bounds.xMin=a),s<this.bounds.yMin&&(this.bounds.yMin=s),o>this.bounds.xMax&&(this.bounds.xMax=o),l>this.bounds.yMax&&(this.bounds.yMax=l))}else r=null;this.curX=i+t.advance*this.fontSize,this.glyphs.push({shape:t,vertices:r}),this.prevChar=e,this.prevFont=t.font}},{key:"GetCurrentPosition",value:function(){return this.curX}},{key:"Render",value:k().mark((function e(t,n,r,i,a,o,s,l){var u,c,h,f,d,p,v,g,m,y,b,x,w=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.bounds){e.next=2;break}return e.abrupt("return");case 2:n=null!==n&&void 0!==n?n:t,r?r*=-Math.PI/180:r=0,i=null!==i&&void 0!==i?i:1,a=null!==a&&void 0!==a?a:xd.LEFT,o=null!==o&&void 0!==o?o:kd.BASELINE,u=new Bi,c=new Bi(i,1),h=a===xd.LEFT&&o===kd.BASELINE||a===xd.FIT||a===xd.ALIGNED?new Bi(t.x,t.y):new Bi(n.x,n.y),f=function(){var e=n.x-t.x;return e<2*Number.MIN_VALUE?i:e/(w.bounds.xMax-w.bounds.xMin)},d=function(){return-Math.atan2(n.y-t.y,n.x-t.x)},e.t0=a,e.next=e.t0===xd.LEFT?15:e.t0===xd.CENTER?17:e.t0===xd.RIGHT?19:e.t0===xd.MIDDLE?21:e.t0===xd.ALIGNED?24:e.t0===xd.FIT?29:32;break;case 15:return u.x=this.bounds.xMin,e.abrupt("break",33);case 17:return u.x=(this.bounds.xMax-this.bounds.xMin)/2,e.abrupt("break",33);case 19:return u.x=this.bounds.xMax,e.abrupt("break",33);case 21:return u.x=(this.bounds.xMax-this.bounds.xMin)/2,u.y=(this.bounds.yMax-this.bounds.yMin)/2,e.abrupt("break",33);case 24:return p=f(),c.x=p,c.y=p,r=d(),e.abrupt("break",33);case 29:return c.x=f(),r=d(),e.abrupt("break",33);case 32:console.warn("Unrecognized hAlign value: "+a);case 33:e.t1=o,e.next=e.t1===kd.BASELINE?36:e.t1===kd.BOTTOM?37:e.t1===kd.MIDDLE?39:e.t1===kd.TOP?41:43;break;case 36:return e.abrupt("break",44);case 37:return u.y=this.bounds.yMin,e.abrupt("break",44);case 39:return u.y=(this.bounds.yMax-this.bounds.yMin)/2,e.abrupt("break",44);case 41:return u.y=this.bounds.yMax,e.abrupt("break",44);case 43:console.warn("Unrecognized vAlign value: "+o);case 44:v=(new zi).translate(-u.x,-u.y).scale(c.x,c.y).rotate(r).translate(h.x,h.y),g=q(this.glyphs),e.prev=46,g.s();case 48:if((m=g.n()).done){e.next=57;break}if(!(y=m.value).vertices){e.next=55;break}b=q(y.vertices);try{for(b.s();!(x=b.n()).done;)x.value.applyMatrix3(v)}catch(k){b.e(k)}finally{b.f()}return e.next=55,new Zd({type:Zd.Type.TRIANGLES,vertices:y.vertices,indices:y.shape.indices,layer:l,color:s});case 55:e.next=48;break;case 57:e.next=62;break;case 59:e.prev=59,e.t2=e.catch(46),g.e(e.t2);case 62:return e.prev=62,g.f(),e.finish(62);case 65:case"end":return e.stop()}}),e,this,[[46,59,62,65]])}))}])}(),_d=function(e){self;var t=function(e){var n=t.m[e];if(n.mod)return n.mod.exports;var r=n.mod={exports:{}};return n(r,r.exports),r.exports};return t.m={},t.m["./treebase"]=function(e,t){function n(){}function r(e){this._tree=e,this._ancestors=[],this._cursor=null}n.prototype.clear=function(){this._root=null,this.size=0},n.prototype.find=function(e){for(var t=this._root;null!==t;){var n=this._comparator(e,t.data);if(0===n)return t.data;t=t.get_child(n>0)}return null},n.prototype.findIter=function(e){for(var t=this._root,n=this.iterator();null!==t;){var r=this._comparator(e,t.data);if(0===r)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(r>0)}return null},n.prototype.lowerBound=function(e){for(var t=this._root,n=this.iterator(),r=this._comparator;null!==t;){var i=r(e,t.data);if(0===i)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(i>0)}for(var a=n._ancestors.length-1;a>=0;--a)if(r(e,(t=n._ancestors[a]).data)<0)return n._cursor=t,n._ancestors.length=a,n;return n._ancestors.length=0,n},n.prototype.upperBound=function(e){for(var t=this.lowerBound(e),n=this._comparator;null!==t.data()&&0===n(t.data(),e);)t.next();return t},n.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},n.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},n.prototype.iterator=function(){return new r(this)},n.prototype.each=function(e){for(var t,n=this.iterator();null!==(t=n.next());)e(t)},n.prototype.reach=function(e){for(var t,n=this.iterator();null!==(t=n.prev());)e(t)},r.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},r.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else{var t;if(null===this._cursor.right)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===t);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},r.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else{var t;if(null===this._cursor.left)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===t);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},r.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},r.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},e.exports=n},t.m.__main__=function(e,n){var r=t("./treebase");function i(e){this.data=e,this.left=null,this.right=null,this.red=!0}function a(e){this._root=null,this._comparator=e,this.size=0}function o(e){return null!==e&&e.red}function s(e,t){var n=e.get_child(!t);return e.set_child(!t,n.get_child(t)),n.set_child(t,e),e.red=!0,n.red=!1,n}function l(e,t){return e.set_child(!t,s(e.get_child(!t),!t)),s(e,t)}i.prototype.get_child=function(e){return e?this.right:this.left},i.prototype.set_child=function(e,t){e?this.right=t:this.left=t},a.prototype=new r,a.prototype.insert=function(e){var t=!1;if(null===this._root)this._root=new i(e),t=!0,this.size++;else{var n=new i(void 0),r=0,a=0,u=null,c=n,h=null,f=this._root;for(c.right=this._root;;){if(null===f?(f=new i(e),h.set_child(r,f),t=!0,this.size++):o(f.left)&&o(f.right)&&(f.red=!0,f.left.red=!1,f.right.red=!1),o(f)&&o(h)){var d=c.right===u;f===h.get_child(a)?c.set_child(d,s(u,!a)):c.set_child(d,l(u,!a))}var p=this._comparator(f.data,e);if(0===p)break;a=r,r=p<0,null!==u&&(c=u),u=h,h=f,f=f.get_child(r)}this._root=n.right}return this._root.red=!1,t},a.prototype.remove=function(e){if(null===this._root)return!1;var t=new i(void 0),n=t;n.right=this._root;for(var r=null,a=null,u=null,c=1;null!==n.get_child(c);){var h=c;a=r,r=n,n=n.get_child(c);var f=this._comparator(e,n.data);if(c=f>0,0===f&&(u=n),!o(n)&&!o(n.get_child(c)))if(o(n.get_child(!c))){var d=s(n,c);r.set_child(h,d),r=d}else if(!o(n.get_child(!c))){var p=r.get_child(!h);if(null!==p)if(o(p.get_child(!h))||o(p.get_child(h))){var v=a.right===r;o(p.get_child(h))?a.set_child(v,l(r,h)):o(p.get_child(!h))&&a.set_child(v,s(r,h));var g=a.get_child(v);g.red=!0,n.red=!0,g.left.red=!1,g.right.red=!1}else r.red=!1,p.red=!0,n.red=!0}}return null!==u&&(u.data=n.data,r.set_child(r.right===n,n.get_child(null===n.left)),this.size--),this._root=t.right,null!==this._root&&(this._root.red=!1),null!==u},e.exports=a},t("__main__")}(),Md=function(){return M((function e(){T(this,e),this.lines=[],this.triangles=[],this.texts=[]}),[{key:"AddLine",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.lines.push({start:e,end:t,color:n})}},{key:"AddTriangles",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.triangles.push({vertices:e,indices:t,color:n})}},{key:"AddText",value:function(e,t,n,r,i){this.texts.push({text:e,size:t,angle:n,color:r,position:i})}}])}(),Td={vertices:[new Bi(0,0),new Bi(1,-.25),new Bi(1,.25)],indices:[0,1,2]},Cd=function(){return M((function e(t,n,r){T(this,e),this.params=t,this.styleResolver=n,this.textWidthCalculator=r,this.isValid=!0,this._CalculateGeometry()}),[{key:"IsValid",value:function(){return this.isValid}},{key:"GetTexts",value:function(){return[this._GetText()]}},{key:"GenerateLayout",value:function(){var e,t,n,r,i,a,o,s,l,u,c=new Md,h=this.d1.distanceTo(this.d2),f=this.styleResolver("DIMCLRD"),d=null!==(e=this.styleResolver("DIMSCALE"))&&void 0!==e?e:1;0==d&&(d=1);var p=this._GetText(),v=(null!==(t=this.styleResolver("DIMTXT"))&&void 0!==t?t:1)*d,g=(this.textWidthCalculator(p,v),this.styleResolver("DIMCLRT")),m=(null!==(n=this.styleResolver("DIMASZ"))&&void 0!==n?n:1)*d,y=(null!==(r=this.styleResolver("DIMTSZ"))&&void 0!==r?r:0)*d,b=this.params.textAnchor,x=!1,k=this.d1.clone(),w=(null!==(i=this.styleResolver("DIMDLE"))&&void 0!==i?i:0)*d;0!=w&&k.add(this.vDim.clone().multiplyScalar(-w));var S=this.d2.clone();0!=w&&S.add(this.vDim.clone().multiplyScalar(w)),c.AddLine(k,S,f),h<2*m&&(x=!0),b||(b=this.vDim.clone().multiplyScalar(this.d1.distanceTo(this.d2)/2).add(this.d1).add(this.vDimNorm.clone().multiplyScalar(.75*v)));var E=180*this.vDimNorm.angle()/Math.PI-90+(null!==(a=this.params.textRotation)&&void 0!==a?a:0);c.AddText(p,v,E,g,b);var _=this.styleResolver("DIMCLRE"),M=(null!==(o=this.styleResolver("DIMEXO"))&&void 0!==o?o:0)*d,T=(null!==(s=this.styleResolver("DIMEXE"))&&void 0!==s?s:0)*d,C=function(e,t){var n=t.clone().sub(e);if(0!=n.length()){n.normalize();var r=e.clone();0!=M&&r.add(n.clone().multiplyScalar(M));var i=t.clone();0!=T&&i.add(n.clone().multiplyScalar(T)),c.AddLine(r,i,_)}};null!==(l=this.styleResolver("DIMSE1"))&&void 0!==l&&l||C(this.params.p1,this.d1),null!==(u=this.styleResolver("DIMSE2"))&&void 0!==u&&u||C(this.params.p2,this.d2);for(var A=0;A<2;A++){var P=0==A?this.d1:this.d2,O=1==A;x&&(O=!O);var R=(new zi).identity();y>0?R.scale(y,y):(R.scale(m,m),O&&R.scale(-1,1));var L=-this.vDim.angle();R.rotate(L),R.translate(P.x,P.y),y>0?this._CreateTick(c,R,f):this._CreateArrowShape(c,R,f)}return c}},{key:"_CreateArrowShape",value:function(e,t,n){var r,i=[],a=q(Td.vertices);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push(o.clone().applyMatrix3(t))}}catch(s){a.e(s)}finally{a.f()}e.AddTriangles(i,Td.indices,n)}},{key:"_CreateTick",value:function(e,t,n){e.AddLine(new Bi(.5,.5).applyMatrix3(t),new Bi(-.5,-.5).applyMatrix3(t),n)}},{key:"_CalculateGeometry",value:function(){if(this.vBase=this.params.p2.clone().sub(this.params.p1).normalize(),this.params.isAligned)this.vDim=this.vBase;else{var e,t=(null!==(e=this.params.angle)&&void 0!==e?e:0)*Math.PI/180;this.vDim=new Bi(Math.cos(t),Math.sin(t))}this.d1=this.vDim.clone().multiplyScalar(this.params.p1.clone().sub(this.params.anchor).dot(this.vDim)).add(this.params.anchor),this.d2=this.vDim.clone().multiplyScalar(this.params.p2.clone().sub(this.params.anchor).dot(this.vDim)).add(this.params.anchor),0==this.d1.distanceTo(this.d2)&&(this.isValid=!1),this.vDim.copy(this.d2).sub(this.d1).normalize(),this.vDim.y<-this.vDim.x?this.vDimNorm=new Bi(this.vDim.y,-this.vDim.x):this.vDimNorm=new Bi(-this.vDim.y,this.vDim.x)}},{key:"_GetText",value:function(){var e,t,n,r,i,a,o,s;if(" "==this.params.text)return"";if(""!=(null!==(e=this.params.text)&&void 0!==e?e:"")&&-1==this.params.text.indexOf("<>"))return gd(this.params.text);var l=this.d2.distanceTo(this.d1);l*=null!==(t=this.styleResolver("DIMLFAC"))&&void 0!==t?t:1;var u=null!==(n=this.styleResolver("DIMRND"))&&void 0!==n?n:0;u>0&&(l=u*Math.round(l/u));var c=null!==(r=this.styleResolver("DIMZIN"))&&void 0!==r?r:0,h=0!=(4&c),f=0!=(8&c),d=l.toFixed(null!==(i=this.styleResolver("DIMDEC"))&&void 0!==i?i:2);f&&(d=d.replace(/.0+$/,"")),h&&(d=d.replace(/^0+/,"")),d.startsWith(".")?d="0"+d:""==d&&(d="0"),d.endsWith(".")&&(d=d.substring(0,d.length-1));var p=null!==(a=this.styleResolver("DIMDSEP"))&&void 0!==a?a:".";isNaN(p)||(p=String.fromCharCode(p)),"."!=p&&(d=d.replace(".",p));var v=null!==(o=this.styleResolver("DIMPOST"))&&void 0!==o?o:"";return""!=v&&(-1!=v.indexOf("<>")?d=v.replaceAll("<>",d):d+=v),""!=(null!==(s=this.params.text)&&void 0!==s?s:"")&&(d=this.params.text.replaceAll("<>",d)),gd(d)}}])}();function Ad(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=t.clone().sub(e),o=r.clone().sub(n);if(0==a.lengthSq()||0==o.lengthSq())return null;var s=a.cross(o);if(Math.abs(s)<=Number.EPSILON)return null;var l=n.clone().sub(e),u=l.cross(o)/s;if(!i&&(u<0||u>1))return null;var c=l.cross(a)/s;return!i&&(c<0||c>1)?null:[u,c,s]}var Pd=Object.freeze({ODD_PARITY:0,OUTERMOST:1,THROUGH_ENTIRE_AREA:2}),Od=1e-4;function Rd(e,t){return(e.intersection[2]>0&&t.intersection[2])>0||e.intersection[2]<0&&t.intersection[2]<0}var Ld=function(){return M((function e(t,n,r){T(this,e),this.style=n,this.line=r,this.lineDir=r[1].clone().sub(r[0]).normalize(),this.loops=[];for(var i=0;i<t.length;i++){for(var a=t[i],o=[],s=0;s<a.length;s++)o.push({idx:s,start:a[s],end:a[s==a.length-1?0:s+1],loopIdx:i});this.loops.push(o)}}),[{key:"Calculate",value:function(){return this._ProcessEdges(),this._CreateNodes(),this.nodes.sort((function(e,t){return e.intersection[0]-t.intersection[0]})),this.style==Pd.ODD_PARITY?this._GenerateOddParitySegments():this._GenerateThroughAllSegments()}},{key:"_ProcessEdges",value:function(){var e,t=q(this.loops);try{for(t.s();!(e=t.n()).done;){var n,r=q(e.value);try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.end.clone().sub(i.start),o=a.length();if(i.isZero=o<=Number.EPSILON,!i.isZero){a.divideScalar(o);var s=a.cross(this.lineDir);i.isParallel=Math.abs(s)<=1e-6,i.isParallel||(i.intersection=Ad(this.line[0],this.line[1],i.start,i.end,!0))}}}catch(l){r.e(l)}finally{r.f()}}}catch(l){t.e(l)}finally{t.f()}}},{key:"_CreateNodes",value:function(){this.nodes=[];var e,t=q(this.loops);try{for(t.s();!(e=t.n()).done;){var n,r=q(e.value);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!(i.isZero||i.isParallel||i.isProcessed)&&i.intersection&&!(i.intersection[1]<-1e-4||i.intersection[1]>1.0001)){var a=i.intersection[1]<=Od;if(a||i.intersection[1]>=.9999){var o=R(this._GetConnectedEdge(i,a),2),s=o[0],l=o[1];if(!s)continue;if(i.isProcessed=!0,s.isProcessed=!0,l)Rd(i,s)&&(i.toggle=!0,this.nodes.push(i));else{if(i.intersection[0]>s.intersection[0]){var u=s;s=i,i=u}i.suppress=!0,s.unsuppress=!0,this.nodes.push(i),Rd(i,s)&&(s.toggle=!0),this.nodes.push(s)}}else i.isProcessed=!0,i.toggle=!0,this.nodes.push(i)}}}catch(c){r.e(c)}finally{r.f()}}}catch(c){t.e(c)}finally{t.f()}}},{key:"_GetConnectedEdge",value:function(e,t){var n=this.loops[e.loopIdx],r=e.idx,i=!0;do{t?0==r?r=n.length-1:r--:r==n.length-1?r=0:r++;var a=n[r];if(!a.isZero&&!a.isParallel)return[a,i];i=!1}while(r!=e.idx);return[null,!1]}},{key:"_GenerateOddParitySegments",value:function(){var e,t=[],n=!1,r=0,i=null,a=q(this.nodes);try{for(a.s();!(e=a.n()).done;){var o=e.value;o.suppress&&r++,o.unsuppress&&r--,o.toggle&&(n=!n),0==r&&n&&(o.unsuppress||o.toggle)?i=o:!r&&n||!i||(o.intersection[0]-i.intersection[0]>Number.EPSILON&&t.push([i.intersection[0],o.intersection[0]]),i=null)}}catch(s){a.e(s)}finally{a.f()}return t}},{key:"_GenerateThroughAllSegments",value:function(){var e=[],t=0,n=null,r=new Array(this.loops.length).fill(0);function i(){var e,t=q(r);try{for(t.s();!(e=t.n()).done;){if(0!=e.value)return!1}}catch(n){t.e(n)}finally{t.f()}return!0}var a,o=q(this.nodes);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.suppress&&t++,s.unsuppress&&t--;var l=i();s.toggle&&(s.intersection[2]>0?r[s.loopIdx]++:r[s.loopIdx]--),0!=t||i()||!s.unsuppress&&!l?(t||i())&&n&&(s.intersection[0]-n.intersection[0]>Number.EPSILON&&e.push([n.intersection[0],s.intersection[0]]),n=null):n=s}}catch(u){o.e(u)}finally{o.f()}return e}}])}(),Nd=function(){return M((function e(t,n){T(this,e),j(this,"boundaryLoops",void 0),j(this,"style",void 0),this.boundaryLoops=t,this.style=n}),[{key:"ClipLine",value:function(e){return new Ld(this.boundaryLoops,this.style,e).Calculate()}},{key:"GetPatternTransform",value:function(e){var t=e.seedPoint,n=e.angle,r=e.scale,i=(new zi).makeTranslation(-t.x,-t.y);return n&&i.rotate(n),1!=(null!==r&&void 0!==r?r:1)&&i.scale(1/r,1/r),i}},{key:"GetLineTransform",value:function(e){var t=e.patTransform,n=e.basePoint,r=e.angle,i=t.clone();return n&&i.translate(-n.x,-n.y),r&&i.rotate(r),i}},{key:"GetBoundingBox",value:function(e){var t,n=new bh,r=q(this.boundaryLoops);try{for(r.s();!(t=r.n()).done;){var i,a=q(t.value);try{for(a.s();!(i=a.n()).done;){var o=i.value;n.expandByPoint(o.clone().applyMatrix3(e))}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return n}}])}(),Id=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];T(this,e),this.lines=t,this.name=n,this.offsetInLineSpace=r}return M(e,null,[{key:"ParsePatFile",value:function(t){var n=t.split(/\r?\n/);if(n.length<2)throw new Error("Invalid .pat file content");var r,i=null,a=[],o=q(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(""!=(s=s.trim())&&!s.startsWith(";"))if(null!==i){var l=s.indexOf(";");-1!=l&&(s=s.substring(0,l).trim());var u=s.split(/\s*,\s*/);""==u[u.length-1]&&(u.length=u.length-1);var c={angle:(u=u.map((function(e){var t=parseFloat(e);if(isNaN(t))throw new Error("Failed to parse number in .pat file: "+e);return t})))[0]*Math.PI/180,base:new Bi(u[1],u[2]),offset:new Bi(u[3],u[4])};u.length>5&&(c.dashes=u.slice(5)),a.push(c)}else{var h=s.match(/\*([^,]+)(?:,.*)?/);if(!h)throw new Error("Bad header for .pat file content");i=h[1]}}}catch(f){o.e(f)}finally{o.f()}return new e(a,i)}}])}(),Dd=new Map,Fd=new Map;function Ud(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e.name)throw new Error("Anonymous pattern cannot be registered");var n=e.name.toUpperCase(),r=t?Dd:Fd;r.has(n)?console.warn("Pattern with name ".concat(n," is already registered")):r.set(n,e)}function Bd(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?Dd:Fd).get(e.toUpperCase())}Ud(Id.ParsePatFile("\n*ACAD_ISO02W100,ACAD_ISO02W100\n0, 0,0, 0,5, 12,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO03W100,ACAD_ISO03W100\n0, 0,0, 0,5, 12,-18\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO04W100,ACAD_ISO04W100\n0, 0,0, 0,5, 24,-3,.5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO05W100,ACAD_ISO05W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO06W100,ACAD_ISO06W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -34,.5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO07W100,ACAD_ISO07W100\n0, 0,0, 0,5, .5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO08W100,ACAD_ISO08W100\n0, 0,0, 0,5, 24,-3,6,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO09W100,ACAD_ISO09W100\n0, 0,0, 0,5, 24,-3,6,-3,6,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO10W100,ACAD_ISO10W100\n0, 0,0, 0,5, 12,-3,.5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO11W100,ACAD_ISO11W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO12W100,ACAD_ISO12W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO13W100,ACAD_ISO13W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-6.5\n0, 0,0, 0,5, -33.5,.5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO14W100,ACAD_ISO14W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -22,.5,-3\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO15W100,ACAD_ISO15W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-10\n0, 0,0, 0,5, -33.5,.5,-3,.5,-3\n")),Ud(Id.ParsePatFile("\n*ANGLE,ANGLE\n0, 0,0, 0,6.985, 5.08,-1.905\n90, 0,0, 0,6.985, 5.08,-1.905\n")),Ud(Id.ParsePatFile("\n*ANSI31,ANSI31\n45, 0,0, 0,3.175\n")),Ud(Id.ParsePatFile("\n*ANSI32,ANSI32\n45, 0,0, 0,9.525\n45, 4.49013,0, 0,9.525\n")),Ud(Id.ParsePatFile("\n*ANSI33,ANSI33\n45, 0,0, 0,6.35\n45, 4.49013,0, 0,6.35, 3.175,-1.5875\n")),Ud(Id.ParsePatFile("\n*ANSI34,ANSI34\n45, 0,0, 0,19.05\n45, 4.49013,0, 0,19.05\n45, 8.98026,0, 0,19.05\n45, 13.4704,0, 0,19.05\n")),Ud(Id.ParsePatFile("\n*ANSI35,ANSI35\n45, 0,0, 0,6.35\n45, 4.49013,0, 0,6.35, 7.9375,-1.5875,0,-1.5875\n")),Ud(Id.ParsePatFile("\n*ANSI36,ANSI36\n45, 0,0, 5.55625,3.175, 7.9375,-1.5875,0,-1.5875\n")),Ud(Id.ParsePatFile("\n*ANSI37,ANSI37\n45, 0,0, 0,3.175\n135, 0,0, 0,3.175\n")),Ud(Id.ParsePatFile("\n*ANSI38,ANSI38\n45, 0,0, 0,3.175\n135, 0,0, 6.35,3.175, 7.9375,-4.7625\n")),Ud(Id.ParsePatFile("\n*AR-B816,AR-B816\n0, 0,0, 0,203.2\n90, 0,0, 203.2,203.2, 203.2,-203.2\n")),Ud(Id.ParsePatFile("\n*AR-B816C,AR-B816C\n0, 0,0, 203.2,203.2, 396.875,-9.525\n0, -203.2,9.525, 203.2,203.2, 396.875,-9.525\n90, 0,0, 203.2,203.2, -212.725,193.675\n90, -9.525,0, 203.2,203.2, -212.725,193.675\n")),Ud(Id.ParsePatFile("\n*AR-B88,AR-B88\n0, 0,0, 0,203.2\n90, 0,0, 203.2,101.6, 203.2,-203.2\n")),Ud(Id.ParsePatFile("\n*AR-BRELM,AR-BRELM\n0, 0,0, 0,135.484, 193.675,-9.525\n0, 0,57.15, 0,135.484, 193.675,-9.525\n0, 50.8,67.7418, 0,135.484, 92.075,-9.525\n0, 50.8,124.892, 0,135.484, 92.075,-9.525\n90, 0,0, 0,203.2, 57.15,-78.3336\n90, -9.525,0, 0,203.2, 57.15,-78.3336\n90, 50.8,67.7418, 0,101.6, 57.15,-78.3336\n90, 41.275,67.7418, 0,101.6, 57.15,-78.3336\n")),Ud(Id.ParsePatFile("\n*AR-BRSTD,AR-BRSTD\n0, 0,0, 0,67.7418\n90, 0,0, 67.7418,101.6, 67.7418,-67.7418\n")),Ud(Id.ParsePatFile("\n*AR-CONC-01,AR-CONC-01\n;Optimize to replace existing AR-CONC Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n243.434949,7.62,20.32,227.18450626,113.5922544,5.67961272,-562.2816542\n90,7.62,15.24,0,254,5.08,-248.92\n0,5.08,15.24,0,254,2.54,-251.46\n315,2.54,2.54,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,7.62,5.08,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,5.08,0,227.18450626,113.5922544,5.67961272,-562.2816542\n45,50.8,10.16,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,58.42,7.62,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,55.88,15.24,562.25296744,80.32185358,8.03218612,-795.18633952\n315,58.42,22.86,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,63.5,25.4,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,60.96,20.32,227.18450626,113.5922544,5.67961272,-562.2816542\n270,104.14,15.24,0,254,5.08,-248.92\n45,99.06,10.16,179.60512212,179.60512212,7.18420458,-352.02603966\n180,104.14,10.16,0,254,5.08,-248.92\n333.434949,99.06,5.08,227.18450626,113.5922544,5.67961272,-562.2816542\n225,101.6,7.62,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,104.14,2.54,340.77676066,113.5922544,5.67961272,-562.2816542\n198.434949,160.02,20.32,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,157.48,15.24,227.18450626,113.5922544,5.67961272,-562.2816542\n333.434949,152.4,17.78,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,144.78,0,340.77676066,113.5922544,5.67961272,-562.2816542\n251.565051,147.32,7.62,240.9655582,80.32185358,8.03218612,-795.18633952\n116.565051,149.86,2.54,340.77676066,113.5922544,5.67961272,-562.2816542\n45,170.18,2.54,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,177.8,0,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,175.26,7.62,562.25296744,80.32185358,8.03218612,-795.18633952\n315,76.2,71.12,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,81.28,73.66,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,78.74,68.58,227.18450626,113.5922544,5.67961272,-562.2816542\n45,27.94,20.32,179.60512212,179.60512212,7.18420458,-352.02603966\n180,33.02,20.32,0,254,5.08,-248.92\n270,33.02,25.4,0,254,5.08,-248.92\n225,45.72,60.96,179.60512212,179.60512212,3.59210356,-355.61814322\n270,45.72,66.04,0,254,5.08,-248.92\n71.565051,43.18,58.42,240.9655582,80.32185358,8.03218612,-795.18633952\n198.434949,25.4,53.34,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,22.86,48.26,227.18450626,113.5922544,5.67961272,-562.2816542\n333.434949,17.78,50.8,227.18450626,113.5922544,5.67961272,-562.2816542\n0,88.9,55.88,0,254,5.08,-248.92\n225,93.98,60.96,179.60512212,179.60512212,7.18420458,-352.02603966\n90,93.98,55.88,0,254,5.08,-248.92\n315,114.3,43.18,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,119.38,45.72,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,116.84,40.64,227.18450626,113.5922544,5.67961272,-562.2816542\n315,139.7,53.34,179.60512212,179.60512212,3.59210356,-355.61814322\n270,139.7,58.42,0,254,5.08,-248.92\n108.434949,142.24,50.8,562.25296744,80.32185358,8.03218612,-795.18633952\n206.565051,175.26,68.58,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,172.72,63.5,227.18450626,113.5922544,5.67961272,-562.2816542\n315,170.18,66.04,179.60512212,179.60512212,3.59210356,-355.61814322\n333.434949,185.42,48.26,227.18450626,113.5922544,5.67961272,-562.2816542\n225,187.96,50.8,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,190.5,45.72,340.77676066,113.5922544,5.67961272,-562.2816542\n26.565051,208.28,38.1,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,213.36,35.56,227.18450626,113.5922544,5.67961272,-562.2816542\n270,213.36,40.64,0,254,5.08,-248.92\n180,236.22,43.18,0,254,2.54,-251.46\n270,236.22,45.72,0,254,2.54,-251.46\n45,233.68,43.18,179.60512212,179.60512212,3.59210356,-355.61814322\n153.434949,236.22,60.96,227.18450626,113.5922544,5.67961272,-562.2816542\n270,236.22,68.58,0,254,7.62,-246.38\n45,231.14,63.5,179.60512212,179.60512212,7.18420458,-352.02603966\n206.565051,231.14,88.9,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,228.6,83.82,227.18450626,113.5922544,5.67961272,-562.2816542\n315,226.06,86.36,179.60512212,179.60512212,3.59210356,-355.61814322\n180,165.1,73.66,0,254,5.08,-248.92\n270,165.1,81.28,0,254,7.62,-246.38\n56.309932,160.02,73.66,563.57539812,70.4469254,9.15809954,-906.65192304\n198.434949,137.16,96.52,562.25296744,80.32185358,8.03218612,-795.18633952\n71.565051,134.62,88.9,240.9655582,80.32185358,8.03218612,-795.18633952\n315,129.54,93.98,179.60512212,179.60512212,7.18420458,-352.02603966\n180,96.52,83.82,0,254,7.62,-246.38\n270,96.52,91.44,0,254,7.62,-246.38\n45,88.9,83.82,179.60512212,179.60512212,10.77630814,-348.43393864\n225,83.82,109.22,179.60512212,179.60512212,7.18420458,-352.02603966\n90,83.82,104.14,0,254,5.08,-248.92\n0,78.74,104.14,0,254,5.08,-248.92\n206.565051,40.64,99.06,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,38.1,93.98,227.18450626,113.5922544,5.67961272,-562.2816542\n315,35.56,96.52,179.60512212,179.60512212,3.59210356,-355.61814322\n108.434949,25.4,93.98,562.25296744,80.32185358,8.03218612,-795.18633952\n341.565051,17.78,96.52,240.9655582,80.32185358,8.03218612,-795.18633952\n225,22.86,101.6,179.60512212,179.60512212,7.18420458,-352.02603966\n270,38.1,114.3,0,254,5.08,-248.92\n45,33.02,109.22,179.60512212,179.60512212,7.18420458,-352.02603966\n180,38.1,109.22,0,254,5.08,-248.92\n315,91.44,119.38,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,96.52,121.92,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,93.98,116.84,227.18450626,113.5922544,5.67961272,-562.2816542\n0,129.54,101.6,0,254,2.54,-251.46\n225,132.08,104.14,179.60512212,179.60512212,3.59210356,-355.61814322\n90,132.08,101.6,0,254,2.54,-251.46\n0,175.26,96.52,0,254,5.08,-248.92\n243.434949,177.8,101.6,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,180.34,96.52,340.77676066,113.5922544,5.67961272,-562.2816542\n26.565051,185.42,114.3,340.77676066,113.5922544,5.67961272,-562.2816542\n116.565051,187.96,109.22,340.77676066,113.5922544,5.67961272,-562.2816542\n251.565051,190.5,116.84,240.9655582,80.32185358,8.03218612,-795.18633952\n63.434949,223.52,91.44,227.18450626,113.5922544,5.67961272,-562.2816542\n180,228.6,91.44,0,254,5.08,-248.92\n296.565051,226.06,96.52,340.77676066,113.5922544,5.67961272,-562.2816542\n180,228.6,137.16,0,254,7.62,-246.38\n270,228.6,144.78,0,254,7.62,-246.38\n45,220.98,137.16,179.60512212,179.60512212,10.77630814,-348.43393864\n180,218.44,142.24,0,254,5.08,-248.92\n270,218.44,147.32,0,254,5.08,-248.92\n45,213.36,142.24,179.60512212,179.60512212,7.18420458,-352.02603966\n243.434949,208.28,165.1,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,203.2,162.56,340.77676066,113.5922544,5.67961272,-562.2816542\n135,205.74,160.02,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,170.18,152.4,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,172.72,147.32,340.77676066,113.5922544,5.67961272,-562.2816542\n0,167.64,147.32,0,254,5.08,-248.92\n225,157.48,154.94,179.60512212,179.60512212,7.18420458,-352.02603966\n108.434949,160.02,147.32,562.25296744,80.32185358,8.03218612,-795.18633952\n341.565051,152.4,149.86,240.9655582,80.32185358,8.03218612,-795.18633952\n135,149.86,137.16,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,152.4,142.24,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,147.32,139.7,340.77676066,113.5922544,5.67961272,-562.2816542\n180,121.92,152.4,0,254,2.54,-251.46\n270,121.92,154.94,0,254,2.54,-251.46\n45,119.38,152.4,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,111.76,170.18,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,109.22,165.1,227.18450626,113.5922544,5.67961272,-562.2816542\n315,106.68,167.64,179.60512212,179.60512212,3.59210356,-355.61814322\n225,86.36,165.1,179.60512212,179.60512212,7.18420458,-352.02603966\n90,86.36,157.48,0,254,7.62,-246.38\n333.434949,81.28,160.02,227.18450626,113.5922544,5.67961272,-562.2816542\n180,76.2,154.94,0,254,5.08,-248.92\n270,76.2,160.02,0,254,5.08,-248.92\n45,71.12,154.94,179.60512212,179.60512212,7.18420458,-352.02603966\n135,53.34,142.24,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,55.88,147.32,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,50.8,144.78,340.77676066,113.5922544,5.67961272,-562.2816542\n180,27.94,160.02,0,254,5.08,-248.92\n270,27.94,165.1,0,254,5.08,-248.92\n45,22.86,160.02,179.60512212,179.60512212,7.18420458,-352.02603966\n270,15.24,177.8,0,254,7.62,-246.38\n45,10.16,172.72,179.60512212,179.60512212,7.18420458,-352.02603966\n153.434949,15.24,170.18,227.18450626,113.5922544,5.67961272,-562.2816542\n243.434949,208.28,198.12,227.18450626,113.5922544,5.67961272,-562.2816542\n90,208.28,193.04,0,254,5.08,-248.92\n0,205.74,193.04,0,254,2.54,-251.46\n135,220.98,208.28,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,223.52,213.36,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,218.44,210.82,340.77676066,113.5922544,5.67961272,-562.2816542\n180,218.44,213.36,0,254,5.08,-248.92\n251.565051,220.98,220.98,240.9655582,80.32185358,8.03218612,-795.18633952\n45,213.36,213.36,179.60512212,179.60512212,10.77630814,-348.43393864\n153.434949,182.88,233.68,227.18450626,113.5922544,5.67961272,-562.2816542\n135,165.1,185.42,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,167.64,190.5,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,162.56,187.96,340.77676066,113.5922544,5.67961272,-562.2816542\n135,160.02,195.58,179.60512212,179.60512212,3.59210356,-355.61814322\n251.565051,162.56,203.2,240.9655582,80.32185358,8.03218612,-795.18633952\n45,157.48,198.12,179.60512212,179.60512212,7.18420458,-352.02603966\n26.565051,66.04,193.04,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,71.12,190.5,227.18450626,113.5922544,5.67961272,-562.2816542\n270,71.12,195.58,0,254,5.08,-248.92\n90,114.3,200.66,0,254,5.08,-248.92\n0,109.22,200.66,0,254,5.08,-248.92\n225,114.3,205.74,179.60512212,179.60512212,7.18420458,-352.02603966\n63.434949,124.46,210.82,227.18450626,113.5922544,5.67961272,-562.2816542\n315,121.92,213.36,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,127,215.9,340.77676066,113.5922544,5.67961272,-562.2816542\n153.434949,147.32,223.52,227.18450626,113.5922544,5.67961272,-562.2816542\n270,147.32,231.14,0,254,7.62,-246.38\n45,142.24,226.06,179.60512212,179.60512212,7.18420458,-352.02603966\n0,71.12,236.22,0,254,7.62,-246.38\n135,66.04,203.2,179.60512212,179.60512212,3.59210356,-355.61814322\n270,66.04,208.28,0,254,5.08,-248.92\n45,63.5,205.74,179.60512212,179.60512212,3.59210356,-355.61814322\n116.565051,20.32,208.28,340.77676066,113.5922544,5.67961272,-562.2816542\n333.434949,15.24,210.82,227.18450626,113.5922544,5.67961272,-562.2816542\n225,17.78,213.36,179.60512212,179.60512212,3.59210356,-355.61814322\n135,30.48,218.44,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,33.02,223.52,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,27.94,220.98,340.77676066,113.5922544,5.67961272,-562.2816542\n0,222.21825,218.170506,0,254,0,-254\n0,206.330804,232.72877,0,254,0,-254\n0,208.872836,188.32957,0,254,0,-254\n0,183.55056,211.532978,0,254,0,-254\n0,167.663114,226.091242,0,254,0,-254\n0,222.022924,134.20979,0,254,0,-254\n0,206.135224,148.768054,0,254,0,-254\n0,170.205146,181.692042,0,254,0,-254\n0,144.88287,204.895704,0,254,0,-254\n0,128.99517,219.453968,0,254,0,-254\n0,208.677256,104.368854,0,254,0,-254\n0,183.35498,127.572516,0,254,0,-254\n0,167.467534,142.13078,0,254,0,-254\n0,131.537202,175.054768,0,254,0,-254\n0,106.214926,198.258176,0,254,0,-254\n0,90.32748,212.81644,0,254,0,-254\n0,221.827344,50.249328,0,254,0,-254\n0,205.939898,64.807592,0,254,0,-254\n0,170.009566,97.73158,0,254,0,-254\n0,144.68729,120.934988,0,254,0,-254\n0,128.799844,135.493252,0,254,0,-254\n0,92.869512,168.41724,0,254,0,-254\n0,67.547236,191.620902,0,254,0,-254\n0,51.65979,206.179166,0,254,0,-254\n0,208.48193,20.408392,0,254,0,-254\n0,183.159654,43.6118,0,254,0,-254\n0,167.271954,58.170064,0,254,0,-254\n0,131.341876,91.094052,0,254,0,-254\n0,106.0196,114.297714,0,254,0,-254\n0,90.1319,128.855978,0,254,0,-254\n0,54.201822,161.779966,0,254,0,-254\n0,28.879546,184.983628,0,254,0,-254\n0,12.991846,199.541638,0,254,0,-254\n0,169.813986,13.770864,0,254,0,-254\n0,144.49171,36.974526,0,254,0,-254\n0,128.604264,51.53279,0,254,0,-254\n0,89.821004,81.952846,0,254,0,-254\n0,67.351656,107.660186,0,254,0,-254\n0,51.46421,122.21845,0,254,0,-254\n0,15.533878,155.142438,0,254,0,-254\n0,131.146296,7.13359,0,254,0,-254\n0,105.82402,30.336998,0,254,0,-254\n0,89.936574,44.895262,0,254,0,-254\n0,54.006242,77.81925,0,254,0,-254\n0,28.683966,101.022912,0,254,0,-254\n0,12.79652,115.581176,0,254,0,-254\n0,92.478606,0.496062,0,254,0,-254\n0,67.15633,23.699724,0,254,0,-254\n0,51.26863,38.257988,0,254,0,-254\n0,15.338552,71.181976,0,254,0,-254\n0,28.488386,17.062196,0,254,0,-254\n0,12.60094,31.62046,0,254,0,-254\n0,232.573576,212.125814,0,254,0,-254\n0,211.15909,204.714856,0,254,0,-254\n0,197.17893,213.621112,0,254,0,-254\n0,219.38234,178.422554,0,254,0,-254\n0,175.76419,206.210408,0,254,0,-254\n0,161.78403,215.116664,0,254,0,-254\n0,183.98744,179.918106,0,254,0,-254\n0,140.369544,207.705706,0,254,0,-254\n0,126.389384,216.612216,0,254,0,-254\n0,220.450664,135.634984,0,254,0,-254\n0,206.470504,144.541494,0,254,0,-254\n0,148.592794,181.413658,0,254,0,-254\n0,104.974898,209.201258,0,254,0,-254\n0,90.994738,218.107514,0,254,0,-254\n0,228.673914,109.342936,0,254,0,-254\n0,185.055764,137.130536,0,254,0,-254\n0,171.075858,146.036792,0,254,0,-254\n0,113.198148,182.908956,0,254,0,-254\n0,69.579998,210.69681,0,254,0,-254\n0,55.599838,219.603066,0,254,0,-254\n0,193.279268,110.838234,0,254,0,-254\n0,149.661118,138.626088,0,254,0,-254\n0,135.680958,147.532344,0,254,0,-254\n0,77.803248,184.404508,0,254,0,-254\n0,34.185352,212.192362,0,254,0,-254\n0,20.205192,221.098618,0,254,0,-254\n0,229.742238,66.555366,0,254,0,-254\n0,215.762078,75.461622,0,254,0,-254\n0,157.884368,112.333786,0,254,0,-254\n0,114.266472,140.12164,0,254,0,-254\n0,100.286312,149.027896,0,254,0,-254\n0,42.408602,185.90006,0,254,0,-254\n0,237.965488,40.263064,0,254,0,-254\n0,194.347592,68.050918,0,254,0,-254\n0,180.367432,76.957174,0,254,0,-254\n0,122.489722,113.829338,0,254,0,-254\n0,78.871572,141.616938,0,254,0,-254\n0,64.891666,150.523448,0,254,0,-254\n0,7.013702,187.395612,0,254,0,-254\n0,202.570842,41.758616,0,254,0,-254\n0,158.952692,69.546216,0,254,0,-254\n0,144.972532,78.452726,0,254,0,-254\n0,87.094822,115.32489,0,254,0,-254\n0,43.476926,143.11249,0,254,0,-254\n0,29.496766,152.018746,0,254,0,-254\n0,225.053652,6.38175,0,254,0,-254\n0,167.175942,43.254168,0,254,0,-254\n0,123.558046,71.041768,0,254,0,-254\n0,109.577886,79.948024,0,254,0,-254\n0,51.700176,116.820188,0,254,0,-254\n0,8.08228,144.608042,0,254,0,-254\n0,189.659006,7.877302,0,254,0,-254\n0,131.781296,44.749466,0,254,0,-254\n0,88.1634,72.53732,0,254,0,-254\n0,74.18324,81.443576,0,254,0,-254\n0,16.30553,118.31574,0,254,0,-254\n0,168.24452,0.466598,0,254,0,-254\n0,154.26436,9.372854,0,254,0,-254\n0,96.38665,46.245018,0,254,0,-254\n0,52.7685,74.032872,0,254,0,-254\n0,38.78834,82.939128,0,254,0,-254\n0,132.84962,1.961896,0,254,0,-254\n0,118.86946,10.868406,0,254,0,-254\n0,60.99175,47.74057,0,254,0,-254\n0,17.373854,75.52817,0,254,0,-254\n0,3.393694,84.43468,0,254,0,-254\n0,97.454974,3.457448,0,254,0,-254\n0,83.474814,12.363704,0,254,0,-254\n0,25.597104,49.235868,0,254,0,-254\n0,62.060074,4.953,0,254,0,-254\n0,48.080168,13.859256,0,254,0,-254\n0,26.665428,6.448552,0,254,0,-254\n0,12.685268,15.354808,0,254,0,-254\n0,163.20897,236.374178,0,254,0,-254\n0,121.33453,230.861362,0,254,0,-254\n0,96.22282,227.555298,0,254,0,-254\n0,79.624174,225.370136,0,254,0,-254\n0,37.749734,219.85732,0,254,0,-254\n0,12.638278,216.551256,0,254,0,-254\n0,229.351078,221.227142,0,254,0,-254\n0,187.476638,215.714326,0,254,0,-254\n0,162.364928,212.408262,0,254,0,-254\n0,145.766282,210.2231,0,254,0,-254\n0,103.891842,204.710284,0,254,0,-254\n0,78.780132,201.40422,0,254,0,-254\n0,62.18174,199.219058,0,254,0,-254\n0,20.307046,193.705988,0,254,0,-254\n0,228.507036,197.261226,0,254,0,-254\n0,211.90839,195.076064,0,254,0,-254\n0,170.03395,189.563248,0,254,0,-254\n0,144.92224,186.257184,0,254,0,-254\n0,128.323594,184.071768,0,254,0,-254\n0,86.449154,178.558952,0,254,0,-254\n0,61.337698,175.252888,0,254,0,-254\n0,44.739052,173.067726,0,254,0,-254\n0,2.864358,167.55491,0,254,0,-254\n0,236.176058,174.415958,0,254,0,-254\n0,211.064348,171.110148,0,254,0,-254\n0,194.465702,168.924732,0,254,0,-254\n0,152.591262,163.411916,0,254,0,-254\n0,127.479552,160.105852,0,254,0,-254\n0,110.88116,157.92069,0,254,0,-254\n0,69.006466,152.407874,0,254,0,-254\n0,43.89501,149.10181,0,254,0,-254\n0,27.296364,146.916648,0,254,0,-254\n0,218.73337,148.26488,0,254,0,-254\n0,193.62166,144.958816,0,254,0,-254\n0,177.023014,142.773654,0,254,0,-254\n0,135.148574,137.260838,0,254,0,-254\n0,110.037118,133.954774,0,254,0,-254\n0,93.438472,131.769358,0,254,0,-254\n0,51.563778,126.256542,0,254,0,-254\n0,26.452322,122.950478,0,254,0,-254\n0,9.853676,120.765316,0,254,0,-254\n0,201.290682,122.113548,0,254,0,-254\n0,176.178972,118.807738,0,254,0,-254\n0,159.58058,116.622322,0,254,0,-254\n0,117.705886,111.109506,0,254,0,-254\n0,92.59443,107.803442,0,254,0,-254\n0,75.995784,105.61828,0,254,0,-254\n0,34.121344,100.105464,0,254,0,-254\n0,9.009634,96.7994,0,254,0,-254\n0,225.722434,101.475286,0,254,0,-254\n0,183.847994,95.96247,0,254,0,-254\n0,158.736538,92.656406,0,254,0,-254\n0,142.137892,90.471244,0,254,0,-254\n0,100.263198,84.958428,0,254,0,-254\n0,75.151742,81.652364,0,254,0,-254\n0,58.553096,79.466948,0,254,0,-254\n0,16.678656,73.954132,0,254,0,-254\n0,224.878392,77.50937,0,254,0,-254\n0,208.279746,75.324208,0,254,0,-254\n0,166.405306,69.811138,0,254,0,-254\n0,141.29385,66.505328,0,254,0,-254\n0,124.695204,64.319912,0,254,0,-254\n0,82.82051,58.807096,0,254,0,-254\n0,57.709054,55.501032,0,254,0,-254\n0,41.110408,53.31587,0,254,0,-254\n0,232.547414,54.664102,0,254,0,-254\n0,207.435704,51.358038,0,254,0,-254\n0,190.837312,49.172876,0,254,0,-254\n0,148.962618,43.66006,0,254,0,-254\n0,123.851162,40.353996,0,254,0,-254\n0,107.252516,38.168834,0,254,0,-254\n0,65.378076,32.656018,0,254,0,-254\n0,40.266366,29.349954,0,254,0,-254\n0,23.66772,27.164538,0,254,0,-254\n0,215.104726,28.513024,0,254,0,-254\n0,189.99327,25.20696,0,254,0,-254\n0,173.394624,23.021798,0,254,0,-254\n0,131.51993,17.508728,0,254,0,-254\n0,106.408474,14.202918,0,254,0,-254\n0,89.809828,12.017502,0,254,0,-254\n0,47.935388,6.504686,0,254,0,-254\n0,22.823678,3.198622,0,254,0,-254\n0,6.225032,1.01346,0,254,0,-254\n0,197.662038,2.361692,0,254,0,-254\n0,31.866332,226.2124,0,254,0,-254\n0,65.909444,230.88092,0,254,0,-254\n0,31.060136,204.140054,0,254,0,-254\n0,99.400106,235.125768,0,254,0,-254\n0,65.103248,208.808574,0,254,0,-254\n0,30.253686,182.067962,0,254,0,-254\n0,98.59391,213.053422,0,254,0,-254\n0,64.296798,186.736482,0,254,0,-254\n0,29.44749,159.995616,0,254,0,-254\n0,133.031484,218.02471,0,254,0,-254\n0,97.787714,190.981076,0,254,0,-254\n0,63.490602,164.664136,0,254,0,-254\n0,28.641294,137.92327,0,254,0,-254\n0,167.074596,222.69323,0,254,0,-254\n0,132.225288,195.952364,0,254,0,-254\n0,96.981264,168.90873,0,254,0,-254\n0,62.684406,142.59179,0,254,0,-254\n0,27.835098,115.850924,0,254,0,-254\n0,200.565258,226.937824,0,254,0,-254\n0,166.2684,200.620884,0,254,0,-254\n0,131.419092,173.880018,0,254,0,-254\n0,96.175068,146.836384,0,254,0,-254\n0,61.87821,120.519444,0,254,0,-254\n0,27.028902,93.778578,0,254,0,-254\n0,235.002832,231.909112,0,254,0,-254\n0,199.759062,204.865478,0,254,0,-254\n0,165.46195,178.548538,0,254,0,-254\n0,130.612642,151.807672,0,254,0,-254\n0,95.368872,124.764292,0,254,0,-254\n0,61.07176,98.447098,0,254,0,-254\n0,26.222452,71.706232,0,254,0,-254\n0,234.196636,209.836766,0,254,0,-254\n0,198.952866,182.793386,0,254,0,-254\n0,164.655754,156.476192,0,254,0,-254\n0,129.806446,129.735326,0,254,0,-254\n0,94.562676,102.691946,0,254,0,-254\n0,60.265564,76.374752,0,254,0,-254\n0,25.416256,49.63414,0,254,0,-254\n0,233.39044,187.76442,0,254,0,-254\n0,198.14667,160.72104,0,254,0,-254\n0,163.849558,134.403846,0,254,0,-254\n0,129.00025,107.663234,0,254,0,-254\n0,93.75648,80.6196,0,254,0,-254\n0,59.459368,54.30266,0,254,0,-254\n0,24.61006,27.561794,0,254,0,-254\n0,232.584244,165.692328,0,254,0,-254\n0,197.34022,138.648694,0,254,0,-254\n0,163.043362,112.331754,0,254,0,-254\n0,128.194054,85.590888,0,254,0,-254\n0,58.653172,32.230314,0,254,0,-254\n0,23.803864,5.489448,0,254,0,-254\n0,231.777794,143.619982,0,254,0,-254\n0,196.534024,116.576348,0,254,0,-254\n0,162.237166,90.259408,0,254,0,-254\n0,127.387858,63.518542,0,254,0,-254\n0,92.143834,36.474908,0,254,0,-254\n0,57.846976,10.157968,0,254,0,-254\n0,230.971598,121.547636,0,254,0,-254\n0,195.727828,94.504002,0,254,0,-254\n0,161.430716,68.187062,0,254,0,-254\n0,126.581408,41.446196,0,254,0,-254\n0,91.337638,14.402562,0,254,0,-254\n0,230.165402,99.47529,0,254,0,-254\n0,194.921632,72.431656,0,254,0,-254\n0,160.62452,46.114716,0,254,0,-254\n0,125.775212,19.37385,0,254,0,-254\n0,229.359206,77.402944,0,254,0,-254\n0,194.115436,50.359564,0,254,0,-254\n0,159.818324,24.04237,0,254,0,-254\n0,228.55301,55.330598,0,254,0,-254\n0,193.308986,28.287218,0,254,0,-254\n0,159.012128,1.970024,0,254,0,-254\n0,227.74656,33.258506,0,254,0,-254\n0,192.50279,6.214872,0,254,0,-254\n0,226.940364,11.18616,0,254,0,-254\n206.565051,254,15.24,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,251.46,10.16,227.18450626,113.5922544,5.67961272,-562.2816542\n315,248.92,12.7,179.60512212,179.60512212,3.59210356,-355.61814322\n206.565051,246.38,137.16,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,243.84,132.08,227.18450626,113.5922544,5.67961272,-562.2816542\n315,241.3,134.62,179.60512212,179.60512212,3.59210356,-355.61814322\n153.434949,254,182.88,227.18450626,113.5922544,5.67961272,-562.2816542\n288.434949,251.46,190.5,562.25296744,80.32185358,8.03218612,-795.18633952\n63.434949,248.92,185.42,227.18450626,113.5922544,5.67961272,-562.2816542\n135,246.38,236.22,179.60512212,179.60512212,3.59210356,-355.61814322\n270,246.38,241.3,0,254,5.08,-248.92\n45,243.84,238.76,179.60512212,179.60512212,3.59210356,-355.61814322\n0,195.58,243.84,0,254,5.08,-248.92\n270,182.88,238.76,0,254,5.08,-248.92\n26.565051,177.8,236.22,340.77676066,113.5922544,5.67961272,-562.2816542\n0,241.457734,241.2111,0,254,0,-254\n0,247.540526,194.966844,0,254,0,-254\n0,244.803168,155.405582,0,254,0,-254\n0,247.3452,111.006382,0,254,0,-254\n0,244.607588,71.444866,0,254,0,-254\n0,247.14962,27.045666,0,254,0,-254\n0,246.553736,203.219304,0,254,0,-254\n0,241.86515,143.045942,0,254,0,-254\n0,251.156978,73.96607,0,254,0,-254\n0,204.919072,241.865658,0,254,0,-254\n0,179.807616,238.559594,0,254,0,-254\n0,245.949724,223.412558,0,254,0,-254\n0,253.618492,200.56729,0,254,0,-254\n0,243.165122,127.626618,0,254,0,-254\n0,242.32108,103.660448,0,254,0,-254\n0,249.990102,80.815434,0,254,0,-254\n0,239.536732,7.874762,0,254,0,-254\n243.434949,198.12,248.92,227.18450626,113.5922544,5.67961272,-562.2816542\n116.565051,200.66,243.84,340.77676066,113.5922544,5.67961272,-562.2816542\n180,152.4,246.38,0,254,5.08,-248.92\n270,152.4,251.46,0,254,5.08,-248.92\n45,147.32,246.38,179.60512212,179.60512212,7.18420458,-352.02603966\n296.565051,104.14,254,340.77676066,113.5922544,5.67961272,-562.2816542\n63.434949,101.6,248.92,227.18450626,113.5922544,5.67961272,-562.2816542\n180,106.68,248.92,0,254,5.08,-248.92\n135,86.36,238.76,179.60512212,179.60512212,3.59210356,-355.61814322\n243.434949,88.9,243.84,227.18450626,113.5922544,5.67961272,-562.2816542\n26.565051,83.82,241.3,340.77676066,113.5922544,5.67961272,-562.2816542\n116.565051,78.74,236.22,340.77676066,113.5922544,5.67961272,-562.2816542\n225,76.2,241.3,179.60512212,179.60512212,7.18420458,-352.02603966\n45,0,246.38,179.60512212,179.60512212,7.18420458,-352.02603966\n161.565051,7.62,243.84,240.9655582,80.32185358,8.03218612,-795.18633952\n288.434949,5.08,251.46,562.25296744,80.32185358,8.03218612,-795.18633952\n0,93.065092,252.377956,0,254,0,-254\n0,54.397148,245.740428,0,254,0,-254\n0,15.729458,239.103154,0,254,0,-254\n0,174.695866,248.997978,0,254,0,-254\n0,139.30122,250.493276,0,254,0,-254\n0,68.511674,253.48438,0,254,0,-254\n0,113.665508,253.70663,0,254,0,-254\n0,97.066862,251.521468,0,254,0,-254\n0,55.192422,246.008398,0,254,0,-254\n0,30.080966,242.702588,0,254,0,-254\n0,13.48232,240.517172,0,254,0,-254\n0,32.672528,248.284746,0,254,0,-254\n0,66.71564,252.953266,0,254,0,-254\n0,133.83768,240.097056,0,254,0,-254\n0,167.880792,244.765576,0,254,0,-254\n0,201.371454,249.01017,0,254,0,-254\n0,245.485412,246.006874,0,254,0,-254\n0,210.090512,247.502426,0,254,0,-254\n0,246.793766,247.378474,0,254,0,-254\n0,235.809282,253.981458,0,254,0,-254\n")),Ud(Id.ParsePatFile("\n*AR-CONC,AR-CONC\n50, 0,0, 104.896,-149.807, 19.05,-209.55\n355, 0,0, -51.7604,187.258, 15.24,-167.64\n100.451, 15.182,-1.32825, 145.557,-176.27, 16.19,-178.09\n46.1842, 0,50.8, 157.343,-224.71, 28.575,-314.325\n96.6356, 22.5899,47.2965, 218.335,-264.405, 24.285,-267.135\n351.184, 0,50.8, 196.679,280.887, 22.86,-251.46\n21, 25.4,38.1, 104.896,-149.807, 19.05,-209.55\n326, 25.4,38.1, -51.7604,187.258, 15.24,-167.64\n71.4514, 38.0345,29.5779, 145.557,-176.27, 16.19,-178.09\n37.5, 0,0, 53.9242,65.2018, 0,-165.608,0,-170.18,0,-168.275\n7.5, 0,0, 79.3242,90.6018, 0,-97.028,0,-161.798,0,-64.135\n-32.5, -56.642,0, 117.434,68.0212, 0,-63.5,0,-198.12,0,-262.89\n-42.5, -82.042,0, 92.0344,118.821, 0,-82.55,0,-131.572,0,-186.69\n")),Ud(Id.ParsePatFile("\n*AR-HBONE,AR-HBONE\n45, 0,0, 101.6,101.6, 304.8,-101.6\n135, 71.842,71.842, 101.6,-101.6, 304.8,-101.6\n")),Ud(Id.ParsePatFile("\n*AR-PARQ1,AR-PARQ1\n90, 0,0, 304.8,304.8, 304.8,-304.8\n90, 50.8,0, 304.8,304.8, 304.8,-304.8\n90, 101.6,0, 304.8,304.8, 304.8,-304.8\n90, 152.4,0, 304.8,304.8, 304.8,-304.8\n90, 203.2,0, 304.8,304.8, 304.8,-304.8\n90, 254,0, 304.8,304.8, 304.8,-304.8\n90, 304.8,0, 304.8,304.8, 304.8,-304.8\n0, 0,304.8, 304.8,-304.8, 304.8,-304.8\n0, 0,355.6, 304.8,-304.8, 304.8,-304.8\n0, 0,406.4, 304.8,-304.8, 304.8,-304.8\n0, 0,457.2, 304.8,-304.8, 304.8,-304.8\n0, 0,508, 304.8,-304.8, 304.8,-304.8\n0, 0,558.8, 304.8,-304.8, 304.8,-304.8\n0, 0,609.6, 304.8,-304.8, 304.8,-304.8\n")),Ud(Id.ParsePatFile("\n*AR-RROOF,AR-RROOF\n0, 0,0, 55.88,25.4, 381,-50.8,127,-25.4\n0, 33.782,12.7, -25.4,33.782, 76.2,-8.382,152.4,-19.05\n0, 12.7,21.59, 132.08,17.018, 203.2,-35.56,101.6,-25.4\n")),Ud(Id.ParsePatFile("\n*AR-RSHKE,AR-RSHKE\n0, 0,0, 647.7,304.8, 152.4,-127,177.8,-76.2,228.6,-101.6\n0, 152.4,12.7, 647.7,304.8, 127,-482.6,101.6,-152.4\n0, 457.2,-19.05, 647.7,304.8, 76.2,-787.4\n90, 0,0, 304.8,215.9, 292.1,-927.1\n90, 152.4,0, 304.8,215.9, 285.75,-933.45\n90, 279.4,0, 304.8,215.9, 266.7,-952.5\n90, 457.2,-19.05, 304.8,215.9, 292.1,-927.1\n90, 533.4,-19.05, 304.8,215.9, 292.1,-927.1\n90, 762,0, 304.8,215.9, 279.4,-939.8\n")),Ud(Id.ParsePatFile("\n*AR-SAND,AR-SAND\n37.5, 0,0, 28.5242,39.8018, 0,-38.608,0,-43.18,0,-41.275\n7.5, 0,0, 53.9242,65.2018, 0,-20.828,0,-34.798,0,-13.335\n-32.5, -31.242,0, 66.6344,42.6212, 0,-12.7,0,-45.72,0,-59.69\n-42.5, -31.242,0, 41.2344,68.0212, 0,-6.35,0,-29.972,0,-34.29\n")),Ud(Id.ParsePatFile("\n*BARBWIRE,BARBWIRE\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n315,7.62,14.224,17.960512212,17.960512212,0.359210356,-35.561814322\n288.434949,6.604,17.272,56.225296744,8.032185358,3.212874194,-77.10897837\n158.198591,7.874,16.764,80.18324705,4.716661636,1.36783191,-135.415354264\n116.565051,8.128,16.256,34.077676066,11.35922544,0.567961272,-56.22816542\n116.565051,8.636,15.24,34.077676066,11.35922544,1.135922544,-55.660204148\n111.801409,11.176,9.906,56.599939124,4.716661636,1.36783191,-135.415354264\n156.801409,12.954,9.144,136.74251925,3.335183322,1.934406342,-191.506230398\n289.653824,11.684,12.7,297.294468148,1.708588912,3.775981526,-373.822164724\n194.036243,7.874,9.144,80.085263502,6.160405002,1.047268924,-103.679614078\n251.565051,8.128,9.906,24.09655582,8.032185358,0.803218612,-79.518633952\n254.054604,8.636,11.684,104.668749768,3.488958224,1.84914794,-183.065643266\n74.744881,8.636,11.684,104.703186326,2.22772732,2.896045516,-286.708512434\n135,9.144,11.176,17.960512212,17.960512212,0.718420458,-35.202603966\n180,9.906,11.176,0,25.4,0.762,-24.638\n270,9.906,11.43,0,25.4,0.254,-25.146\n74.054604,9.906,11.43,104.668749768,3.488958224,3.69829588,-181.216495326\n161.565051,10.668,11.176,24.09655582,8.032185358,0.803218612,-79.518633952\n198.434949,11.43,11.43,56.225296744,8.032185358,0.803218612,-79.518633952\n258.231711,12.7,17.526,129.51095129,1.03608759,6.226886454,-616.461767582\n21.801409,11.43,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n75.963757,10.922,14.986,24.6416195,6.160405002,2.094537594,-102.632345154\n341.565051,10.16,15.24,24.09655582,8.032185358,0.803218612,-79.518633952\n45,9.398,14.478,17.960512212,17.960512212,1.077630814,-34.843393864\n288.434949,9.144,15.24,56.225296744,8.032185358,0.803218612,-79.518633952\n0,8.636,15.24,0,25.4,0.508,-24.892\n26.565051,8.128,14.986,34.077676066,11.35922544,0.567961272,-56.22816542\n78.231711,6.858,8.89,129.51095129,1.03608759,6.226886454,-616.461767582\n4.085617,19.812,12.192,331.17053781,1.80967507,3.565059926,-352.940928864\n0,17.526,12.192,0,25.4,2.286,-23.114\n354.289407,14.986,12.446,25.273944626,2.527394488,2.552668504,-252.714172244\n356.185925,11.938,13.97,25.343743064,1.689582854,3.818457184,-378.027270614\n351.469234,20.32,13.97,179.600730968,1.255949228,5.136831992,-508.546377622\n0,16.764,13.97,0,25.4,3.556,-21.844\n14.036243,11.684,12.7,80.085263502,6.160405002,5.236344112,-99.490538636\n189.865807,17.78,12.954,438.470633344,1.088016366,5.92968969,-587.039280834\n180,20.32,12.954,0,25.4,2.54,-22.86\n171.469234,25.4,12.192,179.600730968,1.255949228,5.136831992,-508.546377622\n186.115504,25.4,14.224,230.005013954,0.901980416,3.973724844,-711.296769428\n5.52754,3.499555612,13.546666582,255.265537982,0.815544724,4.394880466,-786.683623734\n3.691386,0,12.192,381.844852514,0.817654956,3.84896106,-785.188047096\n348.310631,0,13.208,129.51225558,0.85769704,7.522003244,-744.678315822\n348.690068,0,14.224,24.906749272,4.981349956,7.770905718,-121.744189836\n")),Ud(Id.ParsePatFile("\n*BLOCKS-01\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,7.874,16.764,25.4,25.4,5.588,-19.812\n180,2.032,2.286,0,25.4,14.478,-10.922\n270,2.032,2.286,25.4,25.4,5.334,-20.066\n180,2.032,22.352,0,25.4,14.478,-10.922\n270,12.954,2.286,25.4,25.4,5.334,-20.066\n270,22.606,8.128,25.4,25.4,5.08,-20.32\n0,12.446,8.128,0,25.4,10.16,-15.24\n90,12.446,3.048,25.4,25.4,5.08,-20.32\n180,22.606,3.048,0,25.4,10.16,-15.24\n270,17.526,21.336,25.4,25.4,12.192,-13.208\n0,12.192,21.336,0,25.4,5.334,-20.066\n90,12.192,9.144,25.4,25.4,12.192,-13.208\n180,17.526,9.144,0,25.4,5.334,-20.066\n270,3.048,0.762,25.4,25.4,8.382,-17.018\n0,3.048,17.78,0,25.4,8.128,-17.272\n270,11.176,0.762,25.4,25.4,8.382,-17.018\n0,3.048,0.762,0,25.4,8.128,-17.272\n270,11.43,17.018,25.4,25.4,6.096,-19.304\n0,9.144,17.018,0,25.4,2.286,-23.114\n90,9.144,10.922,25.4,25.4,6.096,-19.304\n180,11.43,10.922,0,25.4,2.286,-23.114\n270,11.43,10.16,25.4,25.4,8.382,-17.018\n0,2.794,10.16,0,25.4,8.636,-16.764\n90,2.794,1.778,25.4,25.4,8.382,-17.018\n180,11.43,1.778,0,25.4,8.636,-16.764\n270,22.606,10.414,25.4,25.4,1.524,-23.876\n0,18.542,10.414,0,25.4,4.064,-21.336\n90,18.542,8.89,25.4,25.4,1.524,-23.876\n180,22.606,8.89,0,25.4,4.064,-21.336\n180,1.778,10.16,0,25.4,3.556,-21.844\n270,23.622,10.16,25.4,25.4,6.858,-18.542\n180,1.778,3.302,0,25.4,3.556,-21.844\n270,1.778,10.16,25.4,25.4,6.858,-18.542\n180,2.032,20.574,0,25.4,8.636,-16.764\n270,18.796,20.574,25.4,25.4,2.54,-22.86\n180,2.032,18.034,0,25.4,8.636,-16.764\n270,2.032,20.574,25.4,25.4,2.54,-22.86\n180,7.874,16.764,0,25.4,14.986,-10.414\n270,18.288,16.764,25.4,25.4,5.588,-19.812\n180,7.874,11.176,0,25.4,14.986,-10.414\n")),Ud(Id.ParsePatFile("\n*BLOCKS-02\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,8.128,4.572,0,25.4,12.446,-12.954\n270,8.128,13.97,25.4,25.4,9.398,-16.002\n0,9.398,24.384,0,25.4,10.668,-14.732\n0,4.318,24.892,0,25.4,4.318,-21.082\n90,20.828,0,25.4,25.4,3.81,-21.59\n180,23.368,0,0,25.4,2.54,-22.86\n180,8.128,13.97,0,25.4,12.446,-12.954\n270,21.082,13.97,25.4,25.4,9.398,-16.002\n180,3.302,20.32,0,25.4,4.572,-20.828\n90,3.556,14.986,25.4,25.4,4.318,-21.082\n270,3.302,3.81,25.4,25.4,8.89,-16.51\n180,18.034,14.986,0,25.4,14.478,-10.922\n270,23.368,3.81,25.4,25.4,3.81,-21.59\n0,20.828,3.81,0,25.4,2.54,-22.86\n270,18.034,19.304,25.4,25.4,4.318,-21.082\n0,3.556,19.304,0,25.4,14.478,-10.922\n180,2.032,14.986,0,25.4,8.128,-17.272\n270,2.032,19.304,25.4,25.4,4.318,-21.082\n180,3.302,3.81,0,25.4,4.572,-20.828\n270,24.13,3.81,25.4,25.4,8.89,-16.51\n90,4.572,20.32,25.4,25.4,3.302,-22.098\n180,23.114,20.32,0,25.4,18.542,-6.858\n180,2.032,19.304,0,25.4,8.128,-17.272\n270,19.304,19.304,25.4,25.4,4.318,-21.082\n270,8.636,3.81,25.4,25.4,4.318,-21.082\n0,4.318,3.81,0,25.4,4.318,-21.082\n270,23.114,23.622,25.4,25.4,3.302,-22.098\n0,4.572,23.622,0,25.4,18.542,-6.858\n0,9.398,13.97,0,25.4,10.668,-14.732\n270,9.398,13.97,25.4,25.4,14.986,-10.414\n270,4.318,3.81,25.4,25.4,4.318,-21.082\n270,20.066,13.97,25.4,25.4,14.986,-10.414\n")),Ud(Id.ParsePatFile("\n*BOX-OVERLAP\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,5.08,17.78,0,25.4,10.16,-15.24\n90,5.08,5.08,25.4,25.4,15.24,-10.16\n270,7.62,5.08,25.4,25.4,10.16,-15.24\n180,5.08,7.62,0,25.4,10.16,-15.24\n0,5.08,20.32,0,25.4,15.24,-10.16\n180,20.32,5.08,0,25.4,15.24,-10.16\n270,20.32,20.32,25.4,25.4,15.24,-10.16\n270,17.78,5.08,25.4,25.4,10.16,-15.24\n")),Ud(Id.ParsePatFile("\n*BOX,BOX\n90, 0,0, 0,25.4\n90, 6.35,0, 0,25.4\n0, 0,0, 0,25.4, -6.35,6.35\n0, 0,6.35, 0,25.4, -6.35,6.35\n0, 0,12.7, 0,25.4, 6.35,-6.35\n0, 0,19.05, 0,25.4, 6.35,-6.35\n90, 12.7,0, 0,25.4, 6.35,-6.35\n90, 19.05,0, 0,25.4, 6.35,-6.35\n")),Ud(Id.ParsePatFile("\n*BOXJOIN-01\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n90,3.810000254,3.81,25.4,25.4,17.78,-7.62\n0,3.810000254,21.59,0,25.4,17.78,-7.62\n270,11.430000254,3.81,25.4,25.4,7.62,-17.78\n180,3.810000254,11.43,0,25.4,7.62,-17.78\n270,13.970000254,3.81,25.4,25.4,7.62,-17.78\n180,21.590000254,3.81,0,25.4,17.78,-7.62\n270,21.590000254,21.59,25.4,25.4,17.78,-7.62\n180,3.810000254,13.97,0,25.4,7.62,-17.78\n")),Ud(Id.ParsePatFile("\n*BOXJOIN-02\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n90,3.810000254,13.97,25.4,25.4,7.62,-17.78\n270,21.590000254,21.59,25.4,25.4,7.62,-17.78\n0,13.970000254,21.59,0,25.4,7.62,-17.78\n180,3.810000254,13.97,0,25.4,7.62,-17.78\n90,3.810000254,3.81,25.4,25.4,7.62,-17.78\n180,11.430000254,3.81,0,25.4,7.62,-17.78\n180,3.810000254,11.43,0,25.4,7.62,-17.78\n180,21.590000254,3.81,0,25.4,7.62,-17.78\n270,21.590000254,11.43,25.4,25.4,7.62,-17.78\n270,11.430000254,3.81,25.4,25.4,7.62,-17.78\n270,13.970000254,3.81,25.4,25.4,7.62,-17.78\n0,3.810000254,21.59,0,25.4,7.62,-17.78\n")),Ud(Id.ParsePatFile("\n*BRASS,BRASS\n0, 0,0, 0,6.35\n0, 0,3.175, 0,6.35, 3.175,-1.5875\n")),Ud(Id.ParsePatFile("\n*BRICK,BRICK\n0, 0,0, 0,6.35\n90, 0,0, 0,12.7, 6.35,-6.35\n90, 6.35,0, 0,12.7, -6.35,6.35\n")),Ud(Id.ParsePatFile("\n*BRSTONE,BRSTONE\n0, 0,0, 0,8.382\n90, 22.86,0, 8.382,12.7, 8.382,-8.382\n90, 20.32,0, 8.382,12.7, 8.382,-8.382\n0, 22.86,1.397, 12.7,8.382, -22.86,2.54\n0, 22.86,2.794, 12.7,8.382, -22.86,2.54\n0, 22.86,4.191, 12.7,8.382, -22.86,2.54\n0, 22.86,5.588, 12.7,8.382, -22.86,2.54\n0, 22.86,6.985, 12.7,8.382, -22.86,2.54\n")),Ud(Id.ParsePatFile("\n*BUBBLES-01,BUBBLES-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,1.4976856,0.4251706,0,25.4,0,-25.4\n0,1.5807944,0.8431022,0,25.4,0,-25.4\n0,1.7177766,1.2465812,0,25.4,0,-25.4\n0,1.9062192,1.6287242,0,25.4,0,-25.4\n0,2.1429472,1.9830034,0,25.4,0,-25.4\n0,2.4238966,2.3033736,0,25.4,0,-25.4\n0,2.7442414,2.584323,0,25.4,0,-25.4\n0,3.098546,2.821051,0,25.4,0,-25.4\n0,3.480689,3.0094936,0,25.4,0,-25.4\n0,3.884168,3.1464504,0,25.4,0,-25.4\n0,4.3020742,3.2295846,0,25.4,0,-25.4\n0,4.7272702,3.2574484,0,25.4,0,-25.4\n0,5.1524408,3.2295846,0,25.4,0,-25.4\n0,5.570347,3.1464504,0,25.4,0,-25.4\n0,5.973826,3.0094936,0,25.4,0,-25.4\n0,6.3559944,2.821051,0,25.4,0,-25.4\n0,6.7102736,2.584323,0,25.4,0,-25.4\n0,7.0306184,2.3033736,0,25.4,0,-25.4\n0,7.3115678,1.9830034,0,25.4,0,-25.4\n0,7.5482958,1.6287242,0,25.4,0,-25.4\n0,7.7367638,1.2465812,0,25.4,0,-25.4\n0,7.8737206,0.8431022,0,25.4,0,-25.4\n0,7.9568548,0.4251706,0,25.4,0,-25.4\n0,3.0482032,5.5942992,0,25.4,0,-25.4\n0,2.9839412,5.1610768,0,25.4,0,-25.4\n0,2.8775152,4.7362618,0,25.4,0,-25.4\n0,2.729992,4.3239182,0,25.4,0,-25.4\n0,2.5427432,3.9280338,0,25.4,0,-25.4\n0,2.3175976,3.5523932,0,25.4,0,-25.4\n0,2.0567142,3.2006286,0,25.4,0,-25.4\n0,1.7626076,2.8761436,0,25.4,0,-25.4\n0,1.4380972,2.582037,0,25.4,0,-25.4\n0,1.086358,2.3211536,0,25.4,0,-25.4\n0,0.7107174,2.096008,0,25.4,0,-25.4\n0,0.3148076,1.9087592,0,25.4,0,-25.4\n0,0.3148076,10.154666,0,25.4,0,-25.4\n0,0.7107174,9.9674172,0,25.4,0,-25.4\n0,1.086358,9.7422716,0,25.4,0,-25.4\n0,1.4380972,9.4813882,0,25.4,0,-25.4\n0,1.7626076,9.1872816,0,25.4,0,-25.4\n0,2.0567142,8.8627966,0,25.4,0,-25.4\n0,2.3175976,8.511032,0,25.4,0,-25.4\n0,2.5427432,8.1353914,0,25.4,0,-25.4\n0,2.729992,7.7394816,0,25.4,0,-25.4\n0,2.8775152,7.327138,0,25.4,0,-25.4\n0,2.9839412,6.902323,0,25.4,0,-25.4\n0,3.0482032,6.469126,0,25.4,0,-25.4\n0,3.0696916,6.0317126,0,25.4,0,-25.4\n0,18.7471304,9.4569026,0,25.4,0,-25.4\n0,18.6083702,9.0603324,0,25.4,0,-25.4\n0,18.3848248,8.70458,0,25.4,0,-25.4\n0,18.0877464,8.4074762,0,25.4,0,-25.4\n0,17.731994,8.1839562,0,25.4,0,-25.4\n0,17.3354238,8.0451706,0,25.4,0,-25.4\n0,16.9178986,7.9981298,0,25.4,0,-25.4\n0,16.5003988,8.0451706,0,25.4,0,-25.4\n0,16.1038286,8.1839562,0,25.4,0,-25.4\n0,15.7480762,8.4074762,0,25.4,0,-25.4\n0,15.4509724,8.70458,0,25.4,0,-25.4\n0,15.2274524,9.0603324,0,25.4,0,-25.4\n0,15.0886668,9.4569026,0,25.4,0,-25.4\n0,15.041626,9.8744024,0,25.4,0,-25.4\n0,15.0886668,10.2919276,0,25.4,0,-25.4\n0,15.2274524,10.6884978,0,25.4,0,-25.4\n0,15.4509724,11.0442502,0,25.4,0,-25.4\n0,15.7480762,11.341354,0,25.4,0,-25.4\n0,16.1038286,11.564874,0,25.4,0,-25.4\n0,16.5003988,11.7036342,0,25.4,0,-25.4\n0,16.9178986,11.750675,0,25.4,0,-25.4\n0,17.3354238,11.7036342,0,25.4,0,-25.4\n0,17.731994,11.564874,0,25.4,0,-25.4\n0,18.0877464,11.341354,0,25.4,0,-25.4\n0,18.3848248,11.0442502,0,25.4,0,-25.4\n0,18.6083702,10.6884978,0,25.4,0,-25.4\n0,18.7471304,10.2919276,0,25.4,0,-25.4\n0,18.7941712,9.8744024,0,25.4,0,-25.4\n0,21.2068664,21.1084414,0,25.4,0,-25.4\n0,20.8647792,21.3569804,0,25.4,0,-25.4\n0,20.5818486,21.6712292,0,25.4,0,-25.4\n0,11.7541802,19.0603632,0,25.4,0,-25.4\n0,11.6505482,18.6510676,0,25.4,0,-25.4\n0,11.480927,18.264378,0,25.4,0,-25.4\n0,11.2499902,17.9108862,0,25.4,0,-25.4\n0,10.9640116,17.6002442,0,25.4,0,-25.4\n0,10.6308144,17.3409102,0,25.4,0,-25.4\n0,10.2594664,17.1399454,0,25.4,0,-25.4\n0,9.8601022,17.0028362,0,25.4,0,-25.4\n0,9.4436184,16.9333418,0,25.4,0,-25.4\n0,9.0213688,16.9333418,0,25.4,0,-25.4\n0,8.6049104,17.0028362,0,25.4,0,-25.4\n0,8.2055462,17.1399454,0,25.4,0,-25.4\n0,7.8341982,17.3409102,0,25.4,0,-25.4\n0,7.5009756,17.6002442,0,25.4,0,-25.4\n0,7.2150224,17.9108862,0,25.4,0,-25.4\n0,6.9840602,18.264378,0,25.4,0,-25.4\n0,6.8144644,18.6510676,0,25.4,0,-25.4\n0,6.710807,19.0603632,0,25.4,0,-25.4\n0,6.6759328,19.481165,0,25.4,0,-25.4\n0,6.710807,19.9019668,0,25.4,0,-25.4\n0,6.8144644,20.3112878,0,25.4,0,-25.4\n0,6.9840602,20.697952,0,25.4,0,-25.4\n0,7.2150224,21.0514438,0,25.4,0,-25.4\n0,7.5009756,21.3620858,0,25.4,0,-25.4\n0,7.8341982,21.6214452,0,25.4,0,-25.4\n0,8.2055462,21.82241,0,25.4,0,-25.4\n0,10.2594664,21.82241,0,25.4,0,-25.4\n0,10.6308144,21.6214452,0,25.4,0,-25.4\n0,10.9640116,21.3620858,0,25.4,0,-25.4\n0,11.2499902,21.0514438,0,25.4,0,-25.4\n0,11.480927,20.697952,0,25.4,0,-25.4\n0,11.6505482,20.3112878,0,25.4,0,-25.4\n0,11.7541802,19.9019668,0,25.4,0,-25.4\n0,11.7890544,19.481165,0,25.4,0,-25.4\n0,20.8583784,16.4692076,0,25.4,0,-25.4\n0,20.7913224,16.0457896,0,25.4,0,-25.4\n0,20.6803752,15.6317442,0,25.4,0,-25.4\n0,20.5267306,15.2315418,0,25.4,0,-25.4\n0,20.3321158,14.8495766,0,25.4,0,-25.4\n0,20.0986644,14.490065,0,25.4,0,-25.4\n0,19.828891,14.1569186,0,25.4,0,-25.4\n0,19.5257674,13.853795,0,25.4,0,-25.4\n0,19.192621,13.5840216,0,25.4,0,-25.4\n0,18.8331094,13.3505448,0,25.4,0,-25.4\n0,18.4511442,13.15593,0,25.4,0,-25.4\n0,18.0509418,13.0023108,0,25.4,0,-25.4\n0,17.636871,12.8913636,0,25.4,0,-25.4\n0,17.2134784,12.8243076,0,25.4,0,-25.4\n0,16.7853868,12.8018794,0,25.4,0,-25.4\n0,16.3573206,12.8243076,0,25.4,0,-25.4\n0,15.9339026,12.8913636,0,25.4,0,-25.4\n0,15.5198572,13.0023108,0,25.4,0,-25.4\n0,15.1196548,13.15593,0,25.4,0,-25.4\n0,14.7376896,13.3505448,0,25.4,0,-25.4\n0,14.378178,13.5840216,0,25.4,0,-25.4\n0,14.0450316,13.853795,0,25.4,0,-25.4\n0,13.741908,14.1569186,0,25.4,0,-25.4\n0,13.4721346,14.490065,0,25.4,0,-25.4\n0,13.2386578,14.8495766,0,25.4,0,-25.4\n0,13.044043,15.2315418,0,25.4,0,-25.4\n0,12.8904238,15.6317442,0,25.4,0,-25.4\n0,12.7794766,16.0457896,0,25.4,0,-25.4\n0,12.7124206,16.4692076,0,25.4,0,-25.4\n0,12.6899924,16.8972738,0,25.4,0,-25.4\n0,12.7124206,17.3253654,0,25.4,0,-25.4\n0,12.7794766,17.748758,0,25.4,0,-25.4\n0,12.8904238,18.1628288,0,25.4,0,-25.4\n0,13.044043,18.5630312,0,25.4,0,-25.4\n0,13.2386578,18.9449964,0,25.4,0,-25.4\n0,13.4721346,19.304508,0,25.4,0,-25.4\n0,13.741908,19.6376544,0,25.4,0,-25.4\n0,14.0450316,19.9407526,0,25.4,0,-25.4\n0,14.378178,20.2105514,0,25.4,0,-25.4\n0,14.7376896,20.4440028,0,25.4,0,-25.4\n0,15.1196548,20.6386176,0,25.4,0,-25.4\n0,15.5198572,20.7922368,0,25.4,0,-25.4\n0,15.9339026,20.9032094,0,25.4,0,-25.4\n0,16.3573206,20.9702654,0,25.4,0,-25.4\n0,16.7853868,20.9926936,0,25.4,0,-25.4\n0,17.2134784,20.9702654,0,25.4,0,-25.4\n0,17.636871,20.9032094,0,25.4,0,-25.4\n0,18.0509418,20.7922368,0,25.4,0,-25.4\n0,18.4511442,20.6386176,0,25.4,0,-25.4\n0,18.8331094,20.4440028,0,25.4,0,-25.4\n0,19.192621,20.2105514,0,25.4,0,-25.4\n0,19.5257674,19.9407526,0,25.4,0,-25.4\n0,19.828891,19.6376544,0,25.4,0,-25.4\n0,20.0986644,19.304508,0,25.4,0,-25.4\n0,20.3321158,18.9449964,0,25.4,0,-25.4\n0,20.5267306,18.5630312,0,25.4,0,-25.4\n0,20.6803752,18.1628288,0,25.4,0,-25.4\n0,20.7913224,17.748758,0,25.4,0,-25.4\n0,20.8583784,17.3253654,0,25.4,0,-25.4\n0,20.8808066,16.8972738,0,25.4,0,-25.4\n0,13.3174994,9.6961452,0,25.4,0,-25.4\n0,13.2480558,9.2577158,0,25.4,0,-25.4\n0,13.1331716,8.8289638,0,25.4,0,-25.4\n0,12.9740914,8.4145628,0,25.4,0,-25.4\n0,12.7725932,8.0190594,0,25.4,0,-25.4\n0,12.530836,7.6467716,0,25.4,0,-25.4\n0,12.2514868,7.3018142,0,25.4,0,-25.4\n0,11.9375936,6.9879464,0,25.4,0,-25.4\n0,11.5926362,6.7085972,0,25.4,0,-25.4\n0,11.2203738,6.46684,0,25.4,0,-25.4\n0,10.824845,6.2653164,0,25.4,0,-25.4\n0,10.410444,6.1062362,0,25.4,0,-25.4\n0,9.981692,5.991352,0,25.4,0,-25.4\n0,9.5432626,5.9219084,0,25.4,0,-25.4\n0,9.0999818,5.8986928,0,25.4,0,-25.4\n0,8.6567264,5.9219084,0,25.4,0,-25.4\n0,8.218297,5.991352,0,25.4,0,-25.4\n0,7.7895196,6.1062362,0,25.4,0,-25.4\n0,7.3751186,6.2653164,0,25.4,0,-25.4\n0,6.9796152,6.46684,0,25.4,0,-25.4\n0,6.6073528,6.7085972,0,25.4,0,-25.4\n0,6.2623954,6.9879464,0,25.4,0,-25.4\n0,5.9485022,7.3018142,0,25.4,0,-25.4\n0,5.669153,7.6467716,0,25.4,0,-25.4\n0,5.4273958,8.0190594,0,25.4,0,-25.4\n0,5.2258722,8.4145628,0,25.4,0,-25.4\n0,5.0668174,8.8289638,0,25.4,0,-25.4\n0,4.9519332,9.2577158,0,25.4,0,-25.4\n0,4.8824896,9.6961452,0,25.4,0,-25.4\n0,4.8592486,10.139426,0,25.4,0,-25.4\n0,4.8824896,10.5827068,0,25.4,0,-25.4\n0,4.9519332,11.0211362,0,25.4,0,-25.4\n0,5.0668174,11.4498882,0,25.4,0,-25.4\n0,5.2258722,11.8642892,0,25.4,0,-25.4\n0,5.4273958,12.2597926,0,25.4,0,-25.4\n0,5.669153,12.6320804,0,25.4,0,-25.4\n0,5.9485022,12.9770378,0,25.4,0,-25.4\n0,6.2623954,13.2909056,0,25.4,0,-25.4\n0,6.6073528,13.5702548,0,25.4,0,-25.4\n0,6.9796152,13.812012,0,25.4,0,-25.4\n0,7.3751186,14.0135356,0,25.4,0,-25.4\n0,7.7895196,14.1726158,0,25.4,0,-25.4\n0,8.218297,14.2875,0,25.4,0,-25.4\n0,8.6567264,14.3569436,0,25.4,0,-25.4\n0,9.0999818,14.3801592,0,25.4,0,-25.4\n0,9.5432626,14.3569436,0,25.4,0,-25.4\n0,9.981692,14.2875,0,25.4,0,-25.4\n0,10.410444,14.1726158,0,25.4,0,-25.4\n0,10.824845,14.0135356,0,25.4,0,-25.4\n0,11.2203738,13.812012,0,25.4,0,-25.4\n0,11.5926362,13.5702548,0,25.4,0,-25.4\n0,11.9375936,13.2909056,0,25.4,0,-25.4\n0,12.2514868,12.9770378,0,25.4,0,-25.4\n0,12.530836,12.6320804,0,25.4,0,-25.4\n0,12.7725932,12.2597926,0,25.4,0,-25.4\n0,12.9740914,11.8642892,0,25.4,0,-25.4\n0,13.1331716,11.4498882,0,25.4,0,-25.4\n0,13.2480558,11.0211362,0,25.4,0,-25.4\n0,13.3174994,10.5827068,0,25.4,0,-25.4\n0,13.3407404,10.139426,0,25.4,0,-25.4\n0,21.5277192,2.3211536,0,25.4,0,-25.4\n0,21.1759546,2.582037,0,25.4,0,-25.4\n0,20.8514442,2.8761436,0,25.4,0,-25.4\n0,20.557363,3.2006286,0,25.4,0,-25.4\n0,20.2964796,3.5523932,0,25.4,0,-25.4\n0,20.0713086,3.9280338,0,25.4,0,-25.4\n0,19.8840852,4.3239182,0,25.4,0,-25.4\n0,19.7365366,4.7362618,0,25.4,0,-25.4\n0,19.630136,5.1610768,0,25.4,0,-25.4\n0,19.565874,5.5942992,0,25.4,0,-25.4\n0,19.5443856,6.0317126,0,25.4,0,-25.4\n0,19.565874,6.469126,0,25.4,0,-25.4\n0,19.630136,6.902323,0,25.4,0,-25.4\n0,19.7365366,7.327138,0,25.4,0,-25.4\n0,19.8840852,7.7394816,0,25.4,0,-25.4\n0,20.0713086,8.1353914,0,25.4,0,-25.4\n0,20.2964796,8.511032,0,25.4,0,-25.4\n0,20.557363,8.8627966,0,25.4,0,-25.4\n0,20.8514442,9.1872816,0,25.4,0,-25.4\n0,21.1759546,9.4813882,0,25.4,0,-25.4\n0,21.5277192,9.7422716,0,25.4,0,-25.4\n0,6.1278008,16.064738,0,25.4,0,-25.4\n0,6.0612782,15.6162756,0,25.4,0,-25.4\n0,5.9511438,15.1765,0,25.4,0,-25.4\n0,5.7983882,14.749653,0,25.4,0,-25.4\n0,5.6045608,14.339824,0,25.4,0,-25.4\n0,5.3714904,13.95095,0,25.4,0,-25.4\n0,5.1014122,13.5868156,0,25.4,0,-25.4\n0,4.7969678,13.2509006,0,25.4,0,-25.4\n0,4.4610528,12.9464308,0,25.4,0,-25.4\n0,4.0969184,12.676378,0,25.4,0,-25.4\n0,3.7080444,12.4433076,0,25.4,0,-25.4\n0,3.2982154,12.2494548,0,25.4,0,-25.4\n0,2.8713684,12.0967246,0,25.4,0,-25.4\n0,2.4315928,11.9865648,0,25.4,0,-25.4\n0,1.9831304,11.9200422,0,25.4,0,-25.4\n0,1.5303246,11.8977918,0,25.4,0,-25.4\n0,1.0774934,11.9200422,0,25.4,0,-25.4\n0,0.6290564,11.9865648,0,25.4,0,-25.4\n0,0.1892808,12.0967246,0,25.4,0,-25.4\n0,0.1892808,20.938363,0,25.4,0,-25.4\n0,0.6290564,21.0485228,0,25.4,0,-25.4\n0,1.0774934,21.1150454,0,25.4,0,-25.4\n0,1.5303246,21.1372958,0,25.4,0,-25.4\n0,1.9831304,21.1150454,0,25.4,0,-25.4\n0,2.4315928,21.0485228,0,25.4,0,-25.4\n0,2.8713684,20.938363,0,25.4,0,-25.4\n0,3.2982154,20.7856328,0,25.4,0,-25.4\n0,3.7080444,20.59178,0,25.4,0,-25.4\n0,4.0969184,20.3587096,0,25.4,0,-25.4\n0,4.4610528,20.0886568,0,25.4,0,-25.4\n0,4.7969678,19.784187,0,25.4,0,-25.4\n0,5.1014122,19.448272,0,25.4,0,-25.4\n0,5.3714904,19.0841376,0,25.4,0,-25.4\n0,5.6045608,18.6952636,0,25.4,0,-25.4\n0,5.7983882,18.2854346,0,25.4,0,-25.4\n0,5.9511438,17.8585876,0,25.4,0,-25.4\n0,6.0612782,17.418812,0,25.4,0,-25.4\n0,6.1278008,16.9703496,0,25.4,0,-25.4\n0,6.1500512,16.5175438,0,25.4,0,-25.4\n0,19.5946268,1.221359,0,25.4,0,-25.4\n0,19.5242688,0.7469886,0,25.4,0,-25.4\n0,19.4077336,0.281813,0,25.4,0,-25.4\n0,10.055352,0.281813,0,25.4,0,-25.4\n0,9.9388168,0.7469886,0,25.4,0,-25.4\n0,9.8684588,1.221359,0,25.4,0,-25.4\n0,9.844913,1.7003268,0,25.4,0,-25.4\n0,9.8684588,2.1792946,0,25.4,0,-25.4\n0,9.9388168,2.653665,0,25.4,0,-25.4\n0,10.055352,3.1188406,0,25.4,0,-25.4\n0,10.216896,3.570351,0,25.4,0,-25.4\n0,10.4219248,4.0038528,0,25.4,0,-25.4\n0,10.6684572,4.4151804,0,25.4,0,-25.4\n0,10.954131,4.800346,0,25.4,0,-25.4\n0,11.2761776,5.155692,0,25.4,0,-25.4\n0,11.6314982,5.4777386,0,25.4,0,-25.4\n0,12.0166892,5.763387,0,25.4,0,-25.4\n0,12.4280168,6.0099448,0,25.4,0,-25.4\n0,12.8615186,6.2149736,0,25.4,0,-25.4\n0,13.313029,6.3765176,0,25.4,0,-25.4\n0,13.7782046,6.4930528,0,25.4,0,-25.4\n0,14.252575,6.5634108,0,25.4,0,-25.4\n0,14.7315428,6.5869312,0,25.4,0,-25.4\n0,15.2105106,6.5634108,0,25.4,0,-25.4\n0,15.684881,6.4930528,0,25.4,0,-25.4\n0,16.1500566,6.3765176,0,25.4,0,-25.4\n0,16.601567,6.2149736,0,25.4,0,-25.4\n0,17.0350688,6.0099448,0,25.4,0,-25.4\n0,17.4463964,5.763387,0,25.4,0,-25.4\n0,17.8315874,5.4777386,0,25.4,0,-25.4\n0,18.186908,5.155692,0,25.4,0,-25.4\n0,18.5089546,4.800346,0,25.4,0,-25.4\n0,18.794603,4.4151804,0,25.4,0,-25.4\n0,19.0411608,4.0038528,0,25.4,0,-25.4\n0,19.2461896,3.570351,0,25.4,0,-25.4\n0,19.4077336,3.1188406,0,25.4,0,-25.4\n0,19.5242688,2.653665,0,25.4,0,-25.4\n0,19.5946268,2.1792946,0,25.4,0,-25.4\n0,19.6181472,1.7003268,0,25.4,0,-25.4\n0,25.1624084,12.2494548,0,25.4,0,-25.4\n0,24.7525794,12.4433076,0,25.4,0,-25.4\n0,24.3637308,12.676378,0,25.4,0,-25.4\n0,23.9995964,12.9464308,0,25.4,0,-25.4\n0,23.663656,13.2509006,0,25.4,0,-25.4\n0,23.3592116,13.5868156,0,25.4,0,-25.4\n0,23.0891334,13.95095,0,25.4,0,-25.4\n0,22.856063,14.339824,0,25.4,0,-25.4\n0,22.6622356,14.749653,0,25.4,0,-25.4\n0,22.5095054,15.1765,0,25.4,0,-25.4\n0,22.3993456,15.6162756,0,25.4,0,-25.4\n0,22.332823,16.064738,0,25.4,0,-25.4\n0,22.3105726,16.5175438,0,25.4,0,-25.4\n0,22.332823,16.9703496,0,25.4,0,-25.4\n0,22.3993456,17.418812,0,25.4,0,-25.4\n0,22.5095054,17.8585876,0,25.4,0,-25.4\n0,22.6622356,18.2854346,0,25.4,0,-25.4\n0,22.856063,18.6952636,0,25.4,0,-25.4\n0,23.0891334,19.0841376,0,25.4,0,-25.4\n0,23.3592116,19.448272,0,25.4,0,-25.4\n0,23.663656,19.784187,0,25.4,0,-25.4\n0,23.9995964,20.0886568,0,25.4,0,-25.4\n0,24.3637308,20.3587096,0,25.4,0,-25.4\n0,24.7525794,20.59178,0,25.4,0,-25.4\n0,25.1624084,20.7856328,0,25.4,0,-25.4\n0,24.0659412,22.037421,0,25.4,0,-25.4\n0,23.854537,21.6712292,0,25.4,0,-25.4\n0,23.571581,21.3569804,0,25.4,0,-25.4\n0,23.2294938,21.1084414,0,25.4,0,-25.4\n0,22.8432106,20.936458,0,25.4,0,-25.4\n0,22.429597,20.8485486,0,25.4,0,-25.4\n0,22.0067632,20.8485486,0,25.4,0,-25.4\n0,21.5931496,20.936458,0,25.4,0,-25.4\n0,20.370419,22.037421,0,25.4,0,-25.4\n0,25.302464,1.7612106,0,25.4,0,-25.4\n0,24.877649,1.65481,0,25.4,0,-25.4\n0,24.444452,1.590548,0,25.4,0,-25.4\n0,24.0070386,1.5690596,0,25.4,0,-25.4\n0,23.5696252,1.590548,0,25.4,0,-25.4\n0,23.1364028,1.65481,0,25.4,0,-25.4\n0,22.7115878,1.7612106,0,25.4,0,-25.4\n0,22.2992442,1.9087592,0,25.4,0,-25.4\n0,21.9033598,2.096008,0,25.4,0,-25.4\n0,21.9033598,9.9674172,0,25.4,0,-25.4\n0,22.2992442,10.154666,0,25.4,0,-25.4\n0,22.7115878,10.3022146,0,25.4,0,-25.4\n0,23.1364028,10.4086152,0,25.4,0,-25.4\n0,23.5696252,10.4728772,0,25.4,0,-25.4\n0,24.0070386,10.4943656,0,25.4,0,-25.4\n0,24.444452,10.4728772,0,25.4,0,-25.4\n0,24.877649,10.4086152,0,25.4,0,-25.4\n0,25.302464,10.3022146,0,25.4,0,-25.4\n0,19.2461896,25.2303026,0,25.4,0,-25.4\n0,19.0411608,24.7967754,0,25.4,0,-25.4\n0,18.794603,24.3854732,0,25.4,0,-25.4\n0,18.5089546,24.0002822,0,25.4,0,-25.4\n0,18.186908,23.6449616,0,25.4,0,-25.4\n0,17.8315874,23.322915,0,25.4,0,-25.4\n0,17.4463964,23.0372412,0,25.4,0,-25.4\n0,17.0350688,22.7907088,0,25.4,0,-25.4\n0,16.601567,22.58568,0,25.4,0,-25.4\n0,16.1500566,22.4241106,0,25.4,0,-25.4\n0,15.684881,22.3076008,0,25.4,0,-25.4\n0,15.2105106,22.2372428,0,25.4,0,-25.4\n0,14.7315428,22.213697,0,25.4,0,-25.4\n0,14.252575,22.2372428,0,25.4,0,-25.4\n0,13.7782046,22.3076008,0,25.4,0,-25.4\n0,13.313029,22.4241106,0,25.4,0,-25.4\n0,12.8615186,22.58568,0,25.4,0,-25.4\n0,12.4280168,22.7907088,0,25.4,0,-25.4\n0,12.0166892,23.0372412,0,25.4,0,-25.4\n0,11.6314982,23.322915,0,25.4,0,-25.4\n0,11.2761776,23.6449616,0,25.4,0,-25.4\n0,10.954131,24.0002822,0,25.4,0,-25.4\n0,10.6684572,24.3854732,0,25.4,0,-25.4\n0,10.4219248,24.7967754,0,25.4,0,-25.4\n0,10.216896,25.2303026,0,25.4,0,-25.4\n0,20.2397614,22.4395792,0,25.4,0,-25.4\n0,20.1955654,22.8601016,0,25.4,0,-25.4\n0,20.2397614,23.280624,0,25.4,0,-25.4\n0,20.370419,23.6827822,0,25.4,0,-25.4\n0,20.5818486,24.048974,0,25.4,0,-25.4\n0,20.8647792,24.3631974,0,25.4,0,-25.4\n0,21.2068664,24.6117364,0,25.4,0,-25.4\n0,8.6049104,21.9594938,0,25.4,0,-25.4\n0,9.0213688,22.0289882,0,25.4,0,-25.4\n0,9.4436184,22.0289882,0,25.4,0,-25.4\n0,9.8601022,21.9594938,0,25.4,0,-25.4\n0,7.9568548,24.9748294,0,25.4,0,-25.4\n0,7.8737206,24.5568978,0,25.4,0,-25.4\n0,7.7367638,24.1534188,0,25.4,0,-25.4\n0,7.5482958,23.7712758,0,25.4,0,-25.4\n0,7.3115678,23.4169966,0,25.4,0,-25.4\n0,7.0306184,23.0966264,0,25.4,0,-25.4\n0,6.7102736,22.815677,0,25.4,0,-25.4\n0,6.3559944,22.578949,0,25.4,0,-25.4\n0,5.973826,22.3905064,0,25.4,0,-25.4\n0,5.570347,22.2535496,0,25.4,0,-25.4\n0,5.1524408,22.1704154,0,25.4,0,-25.4\n0,4.7272702,22.1425516,0,25.4,0,-25.4\n0,4.3020742,22.1704154,0,25.4,0,-25.4\n0,3.884168,22.2535496,0,25.4,0,-25.4\n0,3.480689,22.3905064,0,25.4,0,-25.4\n0,3.098546,22.578949,0,25.4,0,-25.4\n0,2.7442414,22.815677,0,25.4,0,-25.4\n0,2.4238966,23.0966264,0,25.4,0,-25.4\n0,2.1429472,23.4169966,0,25.4,0,-25.4\n0,1.9062192,23.7712758,0,25.4,0,-25.4\n0,1.7177766,24.1534188,0,25.4,0,-25.4\n0,1.5807944,24.5568978,0,25.4,0,-25.4\n0,1.4976856,24.9748294,0,25.4,0,-25.4\n0,1.4697964,25.4,0,25.4,0,-25.4\n0,7.9847186,25.4,0,25.4,0,-25.4\n0,24.1966242,22.4395792,0,25.4,0,-25.4\n0,21.5931496,24.7837452,0,25.4,0,-25.4\n0,22.0067632,24.8716546,0,25.4,0,-25.4\n0,22.429597,24.8716546,0,25.4,0,-25.4\n0,22.8432106,24.7837452,0,25.4,0,-25.4\n0,23.2294938,24.6117364,0,25.4,0,-25.4\n0,23.571581,24.3631974,0,25.4,0,-25.4\n0,23.854537,24.048974,0,25.4,0,-25.4\n0,24.0659412,23.6827822,0,25.4,0,-25.4\n0,24.1966242,23.280624,0,25.4,0,-25.4\n0,24.2408202,22.8601016,0,25.4,0,-25.4\n")),Ud(Id.ParsePatFile("\n*BUBBLES-02,BUBBLES-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,0.315722,3.5481006,0,25.4,0,-25.4\n0,0.1191006,3.162173,0,25.4,0,-25.4\n0,0.1191006,4.7896018,0,25.4,0,-25.4\n0,0.315722,4.4036742,0,25.4,0,-25.4\n0,0.3834892,3.9758874,0,25.4,0,-25.4\n0,0.9946386,13.9859512,0,25.4,0,-25.4\n0,0.840232,13.5788146,0,25.4,0,-25.4\n0,0.5928614,13.220446,0,25.4,0,-25.4\n0,0.2669286,12.9316988,0,25.4,0,-25.4\n0,0.2669286,15.9047688,0,25.4,0,-25.4\n0,0.5928614,15.6160216,0,25.4,0,-25.4\n0,0.840232,15.257653,0,25.4,0,-25.4\n0,0.9946386,14.8505164,0,25.4,0,-25.4\n0,1.0471404,14.4182338,0,25.4,0,-25.4\n0,0.321437,1.5549118,0,25.4,0,-25.4\n0,0.7453122,1.6269208,0,25.4,0,-25.4\n0,1.1745976,1.6510254,0,25.4,0,-25.4\n0,1.6039084,1.6269208,0,25.4,0,-25.4\n0,2.0277836,1.5549118,0,25.4,0,-25.4\n0,2.44094,1.435862,0,25.4,0,-25.4\n0,2.838196,1.2713208,0,25.4,0,-25.4\n0,3.214497,1.0633456,0,25.4,0,-25.4\n0,3.5651694,0.8145526,0,25.4,0,-25.4\n0,3.8857682,0.5280406,0,25.4,0,-25.4\n0,4.1722802,0.2074418,0,25.4,0,-25.4\n0,5.3785008,15.8337504,0,25.4,0,-25.4\n0,5.1644804,15.4630628,0,25.4,0,-25.4\n0,4.8365664,15.1879046,0,25.4,0,-25.4\n0,4.434332,15.041499,0,25.4,0,-25.4\n0,4.0062658,15.041499,0,25.4,0,-25.4\n0,3.6040314,15.1879046,0,25.4,0,-25.4\n0,3.2761174,15.4630628,0,25.4,0,-25.4\n0,3.062097,15.8337504,0,25.4,0,-25.4\n0,2.9877512,16.2553142,0,25.4,0,-25.4\n0,3.062097,16.676878,0,25.4,0,-25.4\n0,3.2761174,17.0475656,0,25.4,0,-25.4\n0,3.6040314,17.3227238,0,25.4,0,-25.4\n0,4.0062658,17.4691294,0,25.4,0,-25.4\n0,4.434332,17.4691294,0,25.4,0,-25.4\n0,4.8365664,17.3227238,0,25.4,0,-25.4\n0,5.1644804,17.0475656,0,25.4,0,-25.4\n0,5.3785008,16.676878,0,25.4,0,-25.4\n0,5.4528212,16.2553142,0,25.4,0,-25.4\n0,1.6039084,19.4068192,0,25.4,0,-25.4\n0,1.1745976,19.3827146,0,25.4,0,-25.4\n0,0.7453122,19.4068192,0,25.4,0,-25.4\n0,8.07212,6.3135002,0,25.4,0,-25.4\n0,7.9904082,5.9026552,0,25.4,0,-25.4\n0,7.8557628,5.5059834,0,25.4,0,-25.4\n0,7.6704952,5.130292,0,25.4,0,-25.4\n0,7.437755,4.7820072,0,25.4,0,-25.4\n0,7.1615554,4.4670472,0,25.4,0,-25.4\n0,6.8466208,4.1908476,0,25.4,0,-25.4\n0,6.4983106,3.9581328,0,25.4,0,-25.4\n0,6.1226192,3.7728652,0,25.4,0,-25.4\n0,5.7259474,3.6382198,0,25.4,0,-25.4\n0,5.3151024,3.5564826,0,25.4,0,-25.4\n0,4.89712,3.5291014,0,25.4,0,-25.4\n0,4.4791122,3.5564826,0,25.4,0,-25.4\n0,4.0682672,3.6382198,0,25.4,0,-25.4\n0,3.6715954,3.7728652,0,25.4,0,-25.4\n0,3.295904,3.9581328,0,25.4,0,-25.4\n0,2.9475938,4.1908476,0,25.4,0,-25.4\n0,2.6326592,4.4670472,0,25.4,0,-25.4\n0,2.3564596,4.7820072,0,25.4,0,-25.4\n0,2.1237448,5.130292,0,25.4,0,-25.4\n0,1.9384772,5.5059834,0,25.4,0,-25.4\n0,1.8038064,5.9026552,0,25.4,0,-25.4\n0,1.7220946,6.3135002,0,25.4,0,-25.4\n0,1.694688,6.731508,0,25.4,0,-25.4\n0,1.7220946,7.1495158,0,25.4,0,-25.4\n0,1.8038064,7.5603608,0,25.4,0,-25.4\n0,1.9384772,7.9570072,0,25.4,0,-25.4\n0,2.1237448,8.332724,0,25.4,0,-25.4\n0,2.3564596,8.6810088,0,25.4,0,-25.4\n0,2.6326592,8.9959434,0,25.4,0,-25.4\n0,2.9475938,9.272143,0,25.4,0,-25.4\n0,3.295904,9.5048832,0,25.4,0,-25.4\n0,3.6715954,9.6901508,0,25.4,0,-25.4\n0,4.0682672,9.8247962,0,25.4,0,-25.4\n0,4.4791122,9.9065334,0,25.4,0,-25.4\n0,4.89712,9.9339146,0,25.4,0,-25.4\n0,5.3151024,9.9065334,0,25.4,0,-25.4\n0,5.7259474,9.8247962,0,25.4,0,-25.4\n0,6.1226192,9.6901508,0,25.4,0,-25.4\n0,6.4983106,9.5048832,0,25.4,0,-25.4\n0,6.8466208,9.272143,0,25.4,0,-25.4\n0,7.1615554,8.9959434,0,25.4,0,-25.4\n0,7.437755,8.6810088,0,25.4,0,-25.4\n0,7.6704952,8.332724,0,25.4,0,-25.4\n0,7.8557628,7.9570072,0,25.4,0,-25.4\n0,7.9904082,7.5603608,0,25.4,0,-25.4\n0,8.07212,7.1495158,0,25.4,0,-25.4\n0,8.0995266,6.731508,0,25.4,0,-25.4\n0,18.0404516,13.0813048,0,25.4,0,-25.4\n0,17.9789836,12.6669292,0,25.4,0,-25.4\n0,17.8771804,12.2606054,0,25.4,0,-25.4\n0,17.736058,11.8661942,0,25.4,0,-25.4\n0,17.5569626,11.4875056,0,25.4,0,-25.4\n0,17.3416214,11.1282226,0,25.4,0,-25.4\n0,17.0920664,10.7917488,0,25.4,0,-25.4\n0,16.8107614,10.4813862,0,25.4,0,-25.4\n0,16.5003734,10.2000558,0,25.4,0,-25.4\n0,16.163925,9.9505262,0,25.4,0,-25.4\n0,15.8046166,9.7351596,0,25.4,0,-25.4\n0,15.4259534,9.5560642,0,25.4,0,-25.4\n0,15.0315422,9.4149418,0,25.4,0,-25.4\n0,14.625193,9.313164,0,25.4,0,-25.4\n0,14.2108428,9.251696,0,25.4,0,-25.4\n0,13.792454,9.2311474,0,25.4,0,-25.4\n0,13.3740652,9.251696,0,25.4,0,-25.4\n0,12.9596896,9.313164,0,25.4,0,-25.4\n0,12.5533404,9.4149418,0,25.4,0,-25.4\n0,12.1589292,9.5560642,0,25.4,0,-25.4\n0,11.780266,9.7351596,0,25.4,0,-25.4\n0,11.4209576,9.9505262,0,25.4,0,-25.4\n0,11.0845092,10.2000558,0,25.4,0,-25.4\n0,10.7741212,10.4813862,0,25.4,0,-25.4\n0,10.4928162,10.7917488,0,25.4,0,-25.4\n0,10.2432866,11.1282226,0,25.4,0,-25.4\n0,10.02792,11.4875056,0,25.4,0,-25.4\n0,9.8488246,11.8661942,0,25.4,0,-25.4\n0,9.7077022,12.2606054,0,25.4,0,-25.4\n0,9.6059244,12.6669292,0,25.4,0,-25.4\n0,9.5444564,13.0813048,0,25.4,0,-25.4\n0,9.5239078,13.4996936,0,25.4,0,-25.4\n0,9.5444564,13.9180824,0,25.4,0,-25.4\n0,9.6059244,14.332458,0,25.4,0,-25.4\n0,9.7077022,14.7387818,0,25.4,0,-25.4\n0,9.8488246,15.133193,0,25.4,0,-25.4\n0,10.02792,15.5118816,0,25.4,0,-25.4\n0,10.2432866,15.8711646,0,25.4,0,-25.4\n0,10.4928162,16.2076384,0,25.4,0,-25.4\n0,10.7741212,16.518001,0,25.4,0,-25.4\n0,11.0845092,16.7993314,0,25.4,0,-25.4\n0,11.4209576,17.048861,0,25.4,0,-25.4\n0,11.780266,17.2642276,0,25.4,0,-25.4\n0,12.1589292,17.443323,0,25.4,0,-25.4\n0,12.5533404,17.5844454,0,25.4,0,-25.4\n0,12.9596896,17.6862232,0,25.4,0,-25.4\n0,13.3740652,17.7476912,0,25.4,0,-25.4\n0,13.792454,17.7682398,0,25.4,0,-25.4\n0,14.2108428,17.7476912,0,25.4,0,-25.4\n0,14.625193,17.6862232,0,25.4,0,-25.4\n0,15.0315422,17.5844454,0,25.4,0,-25.4\n0,15.4259534,17.443323,0,25.4,0,-25.4\n0,15.8046166,17.2642276,0,25.4,0,-25.4\n0,16.163925,17.048861,0,25.4,0,-25.4\n0,16.5003734,16.7993314,0,25.4,0,-25.4\n0,16.8107614,16.518001,0,25.4,0,-25.4\n0,17.0920664,16.2076384,0,25.4,0,-25.4\n0,17.3416214,15.8711646,0,25.4,0,-25.4\n0,17.5569626,15.5118816,0,25.4,0,-25.4\n0,17.736058,15.133193,0,25.4,0,-25.4\n0,17.8771804,14.7387818,0,25.4,0,-25.4\n0,17.9789836,14.332458,0,25.4,0,-25.4\n0,18.0404516,13.9180824,0,25.4,0,-25.4\n0,18.0610002,13.4996936,0,25.4,0,-25.4\n0,8.9792048,0.3298444,0,25.4,0,-25.4\n0,8.9318846,0.7497064,0,25.4,0,-25.4\n0,8.9160858,1.1719306,0,25.4,0,-25.4\n0,8.9318846,1.5941294,0,25.4,0,-25.4\n0,8.9792048,2.0139914,0,25.4,0,-25.4\n0,9.0577416,2.429129,0,25.4,0,-25.4\n0,9.1670886,2.8372562,0,25.4,0,-25.4\n0,9.3066362,3.2360616,0,25.4,0,-25.4\n0,9.475597,3.62331,0,25.4,0,-25.4\n0,9.6730312,3.9968424,0,25.4,0,-25.4\n0,9.8978212,4.3546014,0,25.4,0,-25.4\n0,10.1487224,4.694555,0,25.4,0,-25.4\n0,10.4243124,5.0147982,0,25.4,0,-25.4\n0,10.7230672,5.3135784,0,25.4,0,-25.4\n0,11.0433104,5.5891684,0,25.4,0,-25.4\n0,11.383264,5.8400696,0,25.4,0,-25.4\n0,11.741023,6.0648596,0,25.4,0,-25.4\n0,12.1145554,6.2622684,0,25.4,0,-25.4\n0,12.5018292,6.4312292,0,25.4,0,-25.4\n0,12.9006346,6.5707768,0,25.4,0,-25.4\n0,13.3087364,6.6801238,0,25.4,0,-25.4\n0,13.723874,6.758686,0,25.4,0,-25.4\n0,14.143736,6.8059808,0,25.4,0,-25.4\n0,14.5659602,6.8217796,0,25.4,0,-25.4\n0,14.988159,6.8059808,0,25.4,0,-25.4\n0,15.408021,6.758686,0,25.4,0,-25.4\n0,15.8231586,6.6801238,0,25.4,0,-25.4\n0,16.2312858,6.5707768,0,25.4,0,-25.4\n0,16.6300658,6.4312292,0,25.4,0,-25.4\n0,17.0173396,6.2622684,0,25.4,0,-25.4\n0,17.390872,6.0648596,0,25.4,0,-25.4\n0,17.748631,5.8400696,0,25.4,0,-25.4\n0,18.0885846,5.5891684,0,25.4,0,-25.4\n0,18.4088278,5.3135784,0,25.4,0,-25.4\n0,18.7075826,5.0147982,0,25.4,0,-25.4\n0,18.983198,4.694555,0,25.4,0,-25.4\n0,19.2340992,4.3546014,0,25.4,0,-25.4\n0,19.4588892,3.9968424,0,25.4,0,-25.4\n0,19.656298,3.62331,0,25.4,0,-25.4\n0,19.8252588,3.2360616,0,25.4,0,-25.4\n0,23.5769404,0.2074418,0,25.4,0,-25.4\n0,23.8634524,0.5280406,0,25.4,0,-25.4\n0,24.1840512,0.8145526,0,25.4,0,-25.4\n0,24.5347236,1.0633456,0,25.4,0,-25.4\n0,24.9110246,1.2713208,0,25.4,0,-25.4\n0,25.3082552,1.435862,0,25.4,0,-25.4\n0,25.2128274,2.8558998,0,25.4,0,-25.4\n0,24.8269252,2.6592784,0,25.4,0,-25.4\n0,24.399113,2.5915112,0,25.4,0,-25.4\n0,23.9713262,2.6592784,0,25.4,0,-25.4\n0,23.5853986,2.8558998,0,25.4,0,-25.4\n0,23.2791508,3.162173,0,25.4,0,-25.4\n0,23.082504,3.5481006,0,25.4,0,-25.4\n0,23.0147622,3.9758874,0,25.4,0,-25.4\n0,23.082504,4.4036742,0,25.4,0,-25.4\n0,23.2791508,4.7896018,0,25.4,0,-25.4\n0,23.5853986,5.095875,0,25.4,0,-25.4\n0,23.9713262,5.2924964,0,25.4,0,-25.4\n0,24.399113,5.3602636,0,25.4,0,-25.4\n0,24.8269252,5.2924964,0,25.4,0,-25.4\n0,25.2128274,5.095875,0,25.4,0,-25.4\n0,25.2813566,12.729337,0,25.4,0,-25.4\n0,24.8585736,12.6251208,0,25.4,0,-25.4\n0,24.423116,12.6251208,0,25.4,0,-25.4\n0,24.000333,12.729337,0,25.4,0,-25.4\n0,23.614761,12.9316988,0,25.4,0,-25.4\n0,23.2888028,13.220446,0,25.4,0,-25.4\n0,23.0414576,13.5788146,0,25.4,0,-25.4\n0,22.887051,13.9859512,0,25.4,0,-25.4\n0,22.8345492,14.4182338,0,25.4,0,-25.4\n0,22.887051,14.8505164,0,25.4,0,-25.4\n0,23.0414576,15.257653,0,25.4,0,-25.4\n0,23.2888028,15.6160216,0,25.4,0,-25.4\n0,23.614761,15.9047688,0,25.4,0,-25.4\n0,24.000333,16.1071306,0,25.4,0,-25.4\n0,24.423116,16.2113468,0,25.4,0,-25.4\n0,24.8585736,16.2113468,0,25.4,0,-25.4\n0,25.2813566,16.1071306,0,25.4,0,-25.4\n0,20.2000104,0.7497064,0,25.4,0,-25.4\n0,20.1527156,0.3298444,0,25.4,0,-25.4\n0,19.9648064,2.8372562,0,25.4,0,-25.4\n0,20.0741534,2.429129,0,25.4,0,-25.4\n0,20.1527156,2.0139914,0,25.4,0,-25.4\n0,20.2000104,1.5941294,0,25.4,0,-25.4\n0,20.2158092,1.1719306,0,25.4,0,-25.4\n0,20.0741534,25.3147068,0,25.4,0,-25.4\n0,19.9648064,24.906605,0,25.4,0,-25.4\n0,19.8252588,24.5077996,0,25.4,0,-25.4\n0,19.656298,24.1205512,0,25.4,0,-25.4\n0,19.4588892,23.7469934,0,25.4,0,-25.4\n0,19.2340992,23.3892344,0,25.4,0,-25.4\n0,18.983198,23.0492808,0,25.4,0,-25.4\n0,18.7075826,22.7290376,0,25.4,0,-25.4\n0,18.4088278,22.4302828,0,25.4,0,-25.4\n0,18.0885846,22.1546928,0,25.4,0,-25.4\n0,17.748631,21.9037916,0,25.4,0,-25.4\n0,17.390872,21.6790016,0,25.4,0,-25.4\n0,17.0173396,21.4815674,0,25.4,0,-25.4\n0,16.6300658,21.3126066,0,25.4,0,-25.4\n0,16.2312858,21.173059,0,25.4,0,-25.4\n0,15.8231586,21.063712,0,25.4,0,-25.4\n0,15.408021,20.9851752,0,25.4,0,-25.4\n0,14.988159,20.937855,0,25.4,0,-25.4\n0,14.5659602,20.9220562,0,25.4,0,-25.4\n0,14.143736,20.937855,0,25.4,0,-25.4\n0,13.723874,20.9851752,0,25.4,0,-25.4\n0,13.3087364,21.063712,0,25.4,0,-25.4\n0,12.9006346,21.173059,0,25.4,0,-25.4\n0,12.5018292,21.3126066,0,25.4,0,-25.4\n0,12.1145554,21.4815674,0,25.4,0,-25.4\n0,11.741023,21.6790016,0,25.4,0,-25.4\n0,11.383264,21.9037916,0,25.4,0,-25.4\n0,11.0433104,22.1546928,0,25.4,0,-25.4\n0,10.7230672,22.4302828,0,25.4,0,-25.4\n0,10.4243124,22.7290376,0,25.4,0,-25.4\n0,10.1487224,23.0492808,0,25.4,0,-25.4\n0,9.8978212,23.3892344,0,25.4,0,-25.4\n0,9.6730312,23.7469934,0,25.4,0,-25.4\n0,9.475597,24.1205512,0,25.4,0,-25.4\n0,9.3066362,24.5077996,0,25.4,0,-25.4\n0,9.1670886,24.906605,0,25.4,0,-25.4\n0,9.0577416,25.3147068,0,25.4,0,-25.4\n0,4.9846484,22.7875846,0,25.4,0,-25.4\n0,4.9126394,22.3637094,0,25.4,0,-25.4\n0,4.793615,21.9505276,0,25.4,0,-25.4\n0,4.6290738,21.553297,0,25.4,0,-25.4\n0,4.4210732,21.176996,0,25.4,0,-25.4\n0,4.1722802,20.8263236,0,25.4,0,-25.4\n0,3.8857682,20.5057248,0,25.4,0,-25.4\n0,3.5651694,20.2192128,0,25.4,0,-25.4\n0,3.214497,19.9703944,0,25.4,0,-25.4\n0,2.838196,19.7624192,0,25.4,0,-25.4\n0,2.44094,19.597878,0,25.4,0,-25.4\n0,2.0277836,19.4788536,0,25.4,0,-25.4\n0,0.321437,19.4788536,0,25.4,0,-25.4\n0,4.4210732,25.2567694,0,25.4,0,-25.4\n0,4.6290738,24.880443,0,25.4,0,-25.4\n0,4.793615,24.4832124,0,25.4,0,-25.4\n0,4.9126394,24.070056,0,25.4,0,-25.4\n0,4.9846484,23.6461554,0,25.4,0,-25.4\n0,5.008753,23.21687,0,25.4,0,-25.4\n0,25.3082552,19.597878,0,25.4,0,-25.4\n0,24.9110246,19.7624192,0,25.4,0,-25.4\n0,24.5347236,19.9703944,0,25.4,0,-25.4\n0,24.1840512,20.2192128,0,25.4,0,-25.4\n0,23.8634524,20.5057248,0,25.4,0,-25.4\n0,23.5769404,20.8263236,0,25.4,0,-25.4\n0,23.3281474,21.176996,0,25.4,0,-25.4\n0,23.1201468,21.553297,0,25.4,0,-25.4\n0,22.9556056,21.9505276,0,25.4,0,-25.4\n0,22.8365812,22.3637094,0,25.4,0,-25.4\n0,22.7645722,22.7875846,0,25.4,0,-25.4\n0,22.7404422,23.21687,0,25.4,0,-25.4\n0,22.7645722,23.6461554,0,25.4,0,-25.4\n0,22.8365812,24.070056,0,25.4,0,-25.4\n0,22.9556056,24.4832124,0,25.4,0,-25.4\n0,23.1201468,24.880443,0,25.4,0,-25.4\n0,23.3281474,25.2567694,0,25.4,0,-25.4\n")),Ud(Id.ParsePatFile("\n*BUBBLES-03,BUBBLES-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n0,10.1887274,4.1559734,0,25.4,0,-25.4\n0,10.0855526,3.6595304,0,25.4,0,-25.4\n0,9.9157536,3.181731,0,25.4,0,-25.4\n0,9.68248,2.7315414,0,25.4,0,-25.4\n0,9.3900752,2.3172928,0,25.4,0,-25.4\n0,9.0439748,1.9467068,0,25.4,0,-25.4\n0,8.6506558,1.6267176,0,25.4,0,-25.4\n0,8.217408,1.3632688,0,25.4,0,-25.4\n0,7.752334,1.1612372,0,25.4,0,-25.4\n0,7.2640952,1.0244582,0,25.4,0,-25.4\n0,6.7617594,0.9553956,0,25.4,0,-25.4\n0,6.2546992,0.9553956,0,25.4,0,-25.4\n0,5.7523634,1.0244582,0,25.4,0,-25.4\n0,5.2641246,1.1612372,0,25.4,0,-25.4\n0,4.7990252,1.3632688,0,25.4,0,-25.4\n0,4.3658028,1.6267176,0,25.4,0,-25.4\n0,3.9724838,1.9467068,0,25.4,0,-25.4\n0,3.6263834,2.3172928,0,25.4,0,-25.4\n0,3.3339786,2.7315414,0,25.4,0,-25.4\n0,3.100705,3.181731,0,25.4,0,-25.4\n0,2.9308806,3.6595304,0,25.4,0,-25.4\n0,2.8277312,4.1559734,0,25.4,0,-25.4\n0,2.7931364,4.6618398,0,25.4,0,-25.4\n0,2.8277312,5.1677062,0,25.4,0,-25.4\n0,2.9308806,5.6641746,0,25.4,0,-25.4\n0,3.100705,6.1419486,0,25.4,0,-25.4\n0,3.3339786,6.5921382,0,25.4,0,-25.4\n0,3.6263834,7.0063868,0,25.4,0,-25.4\n0,3.9724838,7.3769728,0,25.4,0,-25.4\n0,4.3658028,7.696962,0,25.4,0,-25.4\n0,4.7990252,7.9604362,0,25.4,0,-25.4\n0,5.2641246,8.1624424,0,25.4,0,-25.4\n0,5.7523634,8.2992468,0,25.4,0,-25.4\n0,6.2546992,8.368284,0,25.4,0,-25.4\n0,6.7617594,8.368284,0,25.4,0,-25.4\n0,7.2640952,8.2992468,0,25.4,0,-25.4\n0,7.752334,8.1624424,0,25.4,0,-25.4\n0,8.217408,7.9604362,0,25.4,0,-25.4\n0,8.6506558,7.696962,0,25.4,0,-25.4\n0,9.0439748,7.3769728,0,25.4,0,-25.4\n0,9.3900752,7.0063868,0,25.4,0,-25.4\n0,9.68248,6.5921382,0,25.4,0,-25.4\n0,9.9157536,6.1419486,0,25.4,0,-25.4\n0,10.0855526,5.6641746,0,25.4,0,-25.4\n0,10.1887274,5.1677062,0,25.4,0,-25.4\n0,10.2233222,4.6618398,0,25.4,0,-25.4\n0,18.2143908,14.7408138,0,25.4,0,-25.4\n0,17.687036,14.9496018,0,25.4,0,-25.4\n0,17.1900342,15.222855,0,25.4,0,-25.4\n0,16.7311578,15.55623,0,25.4,0,-25.4\n0,16.317722,15.9444944,0,25.4,0,-25.4\n0,15.9561784,16.3815014,0,25.4,0,-25.4\n0,15.6522674,16.860393,0,25.4,0,-25.4\n0,15.4107896,17.3736,0,25.4,0,-25.4\n0,15.2355042,17.9130198,0,25.4,0,-25.4\n0,15.1292306,18.4701434,0,25.4,0,-25.4\n0,15.0936198,19.0362078,0,25.4,0,-25.4\n0,15.1292306,19.6022722,0,25.4,0,-25.4\n0,15.2355042,20.1593958,0,25.4,0,-25.4\n0,15.4107896,20.6988156,0,25.4,0,-25.4\n0,18.1163722,0.530352,0,25.4,0,-25.4\n0,17.4814484,0.5615432,0,25.4,0,-25.4\n0,16.8526714,0.654812,0,25.4,0,-25.4\n0,16.236061,0.8092694,0,25.4,0,-25.4\n0,15.6375354,1.0234168,0,25.4,0,-25.4\n0,15.0629112,1.2951968,0,25.4,0,-25.4\n0,14.5176748,1.6219932,0,25.4,0,-25.4\n0,14.0071094,2.0006564,0,25.4,0,-25.4\n0,13.5361172,2.4275542,0,25.4,0,-25.4\n0,13.1092194,2.8985464,0,25.4,0,-25.4\n0,12.7305562,3.4091372,0,25.4,0,-25.4\n0,12.4037598,3.9543482,0,25.4,0,-25.4\n0,12.1319798,4.5289978,0,25.4,0,-25.4\n0,11.9178324,5.127498,0,25.4,0,-25.4\n0,11.763375,5.7441084,0,25.4,0,-25.4\n0,11.6701062,6.3729108,0,25.4,0,-25.4\n0,11.638915,7.0078092,0,25.4,0,-25.4\n0,11.6701062,7.6427076,0,25.4,0,-25.4\n0,11.763375,8.2714846,0,25.4,0,-25.4\n0,11.9178324,8.8881204,0,25.4,0,-25.4\n0,12.1319798,9.4866206,0,25.4,0,-25.4\n0,12.4037598,10.0612702,0,25.4,0,-25.4\n0,12.7305562,10.6064812,0,25.4,0,-25.4\n0,13.1092194,11.117072,0,25.4,0,-25.4\n0,13.5361172,11.5880642,0,25.4,0,-25.4\n0,14.0071094,12.0149366,0,25.4,0,-25.4\n0,14.5176748,12.3936252,0,25.4,0,-25.4\n0,15.0629112,12.7204216,0,25.4,0,-25.4\n0,15.6375354,12.9922016,0,25.4,0,-25.4\n0,16.236061,13.206349,0,25.4,0,-25.4\n0,16.8526714,13.3608064,0,25.4,0,-25.4\n0,17.4814484,13.4540752,0,25.4,0,-25.4\n0,18.1163722,13.4852664,0,25.4,0,-25.4\n0,14.3025876,16.7496744,0,25.4,0,-25.4\n0,14.1946122,16.0217104,0,25.4,0,-25.4\n0,14.0157962,15.3078434,0,25.4,0,-25.4\n0,13.7678668,14.6149568,0,25.4,0,-25.4\n0,13.453237,13.94968,0,25.4,0,-25.4\n0,13.0748786,13.3184646,0,25.4,0,-25.4\n0,12.6365,12.7273558,0,25.4,0,-25.4\n0,12.1422922,12.1820686,0,25.4,0,-25.4\n0,11.597005,11.6878608,0,25.4,0,-25.4\n0,11.0058962,11.2494822,0,25.4,0,-25.4\n0,10.3746808,10.8711492,0,25.4,0,-25.4\n0,9.7094294,10.556494,0,25.4,0,-25.4\n0,9.0165174,10.3085646,0,25.4,0,-25.4\n0,8.3026504,10.1297486,0,25.4,0,-25.4\n0,7.5746864,10.0217732,0,25.4,0,-25.4\n0,6.8396612,9.9856544,0,25.4,0,-25.4\n0,6.1046106,10.0217732,0,25.4,0,-25.4\n0,5.376672,10.1297486,0,25.4,0,-25.4\n0,4.662805,10.3085646,0,25.4,0,-25.4\n0,3.969893,10.556494,0,25.4,0,-25.4\n0,3.3046416,10.8711492,0,25.4,0,-25.4\n0,2.6734008,11.2494822,0,25.4,0,-25.4\n0,2.0823174,11.6878608,0,25.4,0,-25.4\n0,1.5370302,12.1820686,0,25.4,0,-25.4\n0,1.0428224,12.7273558,0,25.4,0,-25.4\n0,0.6044184,13.3184646,0,25.4,0,-25.4\n0,0.2260854,13.94968,0,25.4,0,-25.4\n0,13.7678668,20.3544678,0,25.4,0,-25.4\n0,14.0157962,19.6615558,0,25.4,0,-25.4\n0,14.1946122,18.9476888,0,25.4,0,-25.4\n0,14.3025876,18.2197502,0,25.4,0,-25.4\n0,14.3387064,17.4846996,0,25.4,0,-25.4\n0,25.3114302,14.6149568,0,25.4,0,-25.4\n0,25.0635262,15.3078434,0,25.4,0,-25.4\n0,24.8847102,16.0217104,0,25.4,0,-25.4\n0,24.7767094,16.7496744,0,25.4,0,-25.4\n0,24.740616,17.4846996,0,25.4,0,-25.4\n0,24.7767094,18.2197502,0,25.4,0,-25.4\n0,24.8847102,18.9476888,0,25.4,0,-25.4\n0,25.0635262,19.6615558,0,25.4,0,-25.4\n0,25.3114302,20.3544678,0,25.4,0,-25.4\n0,24.090884,18.4701434,0,25.4,0,-25.4\n0,23.984585,17.9130198,0,25.4,0,-25.4\n0,23.809325,17.3736,0,25.4,0,-25.4\n0,23.5678472,16.860393,0,25.4,0,-25.4\n0,23.2639362,16.3815014,0,25.4,0,-25.4\n0,22.9023926,15.9444944,0,25.4,0,-25.4\n0,22.4889314,15.55623,0,25.4,0,-25.4\n0,22.0300804,15.222855,0,25.4,0,-25.4\n0,21.5330532,14.9496018,0,25.4,0,-25.4\n0,21.0056984,14.7408138,0,25.4,0,-25.4\n0,20.4563472,14.5997676,0,25.4,0,-25.4\n0,19.8936356,14.528673,0,25.4,0,-25.4\n0,19.3264536,14.528673,0,25.4,0,-25.4\n0,18.7637674,14.5997676,0,25.4,0,-25.4\n0,15.6522674,21.2120226,0,25.4,0,-25.4\n0,15.9561784,21.6908888,0,25.4,0,-25.4\n0,16.317722,22.1279212,0,25.4,0,-25.4\n0,16.7311578,22.5161856,0,25.4,0,-25.4\n0,17.1900342,22.8495606,0,25.4,0,-25.4\n0,17.687036,23.1227884,0,25.4,0,-25.4\n0,18.2143908,23.3315764,0,25.4,0,-25.4\n0,18.7637674,23.472648,0,25.4,0,-25.4\n0,19.3264536,23.5437172,0,25.4,0,-25.4\n0,19.8936356,23.5437172,0,25.4,0,-25.4\n0,20.4563472,23.472648,0,25.4,0,-25.4\n0,21.0056984,23.3315764,0,25.4,0,-25.4\n0,21.5330532,23.1227884,0,25.4,0,-25.4\n0,22.0300804,22.8495606,0,25.4,0,-25.4\n0,22.4889314,22.5161856,0,25.4,0,-25.4\n0,22.9023926,22.1279212,0,25.4,0,-25.4\n0,23.2639362,21.6908888,0,25.4,0,-25.4\n0,23.5678472,21.2120226,0,25.4,0,-25.4\n0,23.809325,20.6988156,0,25.4,0,-25.4\n0,23.984585,20.1593958,0,25.4,0,-25.4\n0,24.090884,19.6022722,0,25.4,0,-25.4\n0,24.1264948,19.0362078,0,25.4,0,-25.4\n0,24.5626128,6.3729108,0,25.4,0,-25.4\n0,24.469344,5.7441084,0,25.4,0,-25.4\n0,24.3148866,5.127498,0,25.4,0,-25.4\n0,24.1007392,4.5289978,0,25.4,0,-25.4\n0,23.8289592,3.9543482,0,25.4,0,-25.4\n0,23.5021628,3.4091372,0,25.4,0,-25.4\n0,23.1234996,2.8985464,0,25.4,0,-25.4\n0,22.6966018,2.4275542,0,25.4,0,-25.4\n0,22.2256096,2.0006564,0,25.4,0,-25.4\n0,21.7150442,1.6219932,0,25.4,0,-25.4\n0,21.1698078,1.2951968,0,25.4,0,-25.4\n0,20.5951836,1.0234168,0,25.4,0,-25.4\n0,19.996658,0.8092694,0,25.4,0,-25.4\n0,19.3800476,0.654812,0,25.4,0,-25.4\n0,18.7512706,0.5615432,0,25.4,0,-25.4\n0,18.7512706,13.4540752,0,25.4,0,-25.4\n0,19.3800476,13.3608064,0,25.4,0,-25.4\n0,19.996658,13.206349,0,25.4,0,-25.4\n0,20.5951836,12.9922016,0,25.4,0,-25.4\n0,21.1698078,12.7204216,0,25.4,0,-25.4\n0,21.7150442,12.3936252,0,25.4,0,-25.4\n0,22.2256096,12.0149366,0,25.4,0,-25.4\n0,22.6966018,11.5880642,0,25.4,0,-25.4\n0,23.1234996,11.117072,0,25.4,0,-25.4\n0,23.5021628,10.6064812,0,25.4,0,-25.4\n0,23.8289592,10.0612702,0,25.4,0,-25.4\n0,24.1007392,9.4866206,0,25.4,0,-25.4\n0,24.3148866,8.8881204,0,25.4,0,-25.4\n0,24.469344,8.2714846,0,25.4,0,-25.4\n0,24.5626128,7.6427076,0,25.4,0,-25.4\n0,24.593804,7.0078092,0,25.4,0,-25.4\n0,12.6365,22.2420434,0,25.4,0,-25.4\n0,13.0748786,21.65096,0,25.4,0,-25.4\n0,13.453237,21.0197446,0,25.4,0,-25.4\n0,0.2260854,21.0197446,0,25.4,0,-25.4\n0,0.6044184,21.65096,0,25.4,0,-25.4\n0,1.0428224,22.2420434,0,25.4,0,-25.4\n0,1.5370302,22.7873306,0,25.4,0,-25.4\n0,2.0823174,23.2815638,0,25.4,0,-25.4\n0,2.6734008,23.7199424,0,25.4,0,-25.4\n0,3.3046416,24.0982754,0,25.4,0,-25.4\n0,3.969893,24.4129306,0,25.4,0,-25.4\n0,4.662805,24.66086,0,25.4,0,-25.4\n0,5.376672,24.839676,0,25.4,0,-25.4\n0,6.1046106,24.9476514,0,25.4,0,-25.4\n0,6.8396612,24.9837448,0,25.4,0,-25.4\n0,7.5746864,24.9476514,0,25.4,0,-25.4\n0,8.3026504,24.839676,0,25.4,0,-25.4\n0,9.0165174,24.66086,0,25.4,0,-25.4\n0,9.7094294,24.4129306,0,25.4,0,-25.4\n0,10.3746808,24.0982754,0,25.4,0,-25.4\n0,11.0058962,23.7199424,0,25.4,0,-25.4\n0,11.597005,23.2815638,0,25.4,0,-25.4\n0,12.1422922,22.7873306,0,25.4,0,-25.4\n")),Ud(Id.ParsePatFile("\n*CELTIC-01,CELTIC PATTERN 01\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n135,9.144,10.72444439,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.72444439,9.934222194,17.96051221,17.96051221,6.565564974,-29.35545945\n315,9.934222194,14.67555561,17.96051221,17.96051221,2.235085954,-33.68593847\n315,7.662333418,16.15722219,17.96051221,17.96051221,6.565564974,-29.35545945\n225,19.31811122,10.82322219,17.96051221,17.96051221,2.235085954,-33.68593847\n225,21.98511122,12.7,17.96051221,17.96051221,7.124336526,-28.7966879\n225,21.68877781,8.452555612,17.96051221,17.96051221,2.235085954,-33.68593847\n225,25.146,12.7,17.96051221,17.96051221,9.35942248,-26.56160194\n225,19.31811122,18.52788878,17.96051221,17.96051221,2.235085954,-33.68593847\n225,21.68877781,16.15722219,17.96051221,17.96051221,2.235085954,-33.68593847\n90,25.146,22.91091405,0,25.4,2.235085954,-23.16491405\n0,22.91091405,22.35214249,0,25.4,2.235085954,-23.16491405\n0,21.33046966,22.91091405,0,25.4,3.815530342,-21.58446966\n0,20.40466658,25.146,0,25.4,4.741333418,-20.65866658\n90,22.91091405,21.33046966,0,25.4,1.021672836,-24.37832716\n90,25.146,20.40466658,0,25.4,1.947475912,-23.45252409\n180,2.489085954,25.146,0,25.4,2.235085954,-23.16491405\n90,3.047857506,22.91091405,0,25.4,2.235085954,-23.16491405\n90,2.489085954,21.33046966,0,25.4,3.815530342,-21.58446966\n90,0.254,20.40466658,0,25.4,4.741333418,-20.65866658\n180,4.069530342,22.91091405,0,25.4,1.021672836,-24.37832716\n180,4.995333418,25.146,0,25.4,1.947475912,-23.45252409\n270,0.254,2.489085954,0,25.4,2.235085954,-23.16491405\n180,2.489085954,3.047857506,0,25.4,2.235085954,-23.16491405\n180,4.069530342,2.489085954,0,25.4,3.815530342,-21.58446966\n180,4.995333418,0.254,0,25.4,4.741333418,-20.65866658\n270,2.489085954,4.069530342,0,25.4,1.021672836,-24.37832716\n270,0.254,4.995333418,0,25.4,1.947475912,-23.45252409\n45,17.83644439,13.09511122,17.96051221,17.96051221,10.3372727,-25.58375198\n45,13.09511122,7.563555612,17.96051221,17.96051221,2.235085954,-33.68593847\n45,10.82322219,6.081888776,17.96051221,17.96051221,6.565564974,-29.35545945\n45,4.995333418,0.254,17.96051221,17.96051221,4.889250572,-31.03177385\n45,16.256,14.67555561,17.96051221,17.96051221,9.41146962,-26.5095548\n45,10.72444439,9.934222194,17.96051221,17.96051221,2.235085954,-33.68593847\n45,9.242777806,7.662333418,17.96051221,17.96051221,6.565564974,-29.35545945\n45,4.069530342,2.489085954,17.96051221,17.96051221,3.96344775,-31.95757693\n45,16.94744439,21.68877781,17.96051221,17.96051221,4.889250572,-31.03177385\n45,10.72444439,16.256,17.96051221,17.96051221,2.235085954,-33.68593847\n45,3.711222194,9.242777806,17.96051221,17.96051221,2.235085954,-33.68593847\n45,9.934222194,14.67555561,17.96051221,17.96051221,6.565564974,-29.35545945\n45,0.254,4.995333418,17.96051221,17.96051221,10.3372727,-25.58375198\n45,18.52788878,20.10833342,17.96051221,17.96051221,3.96344775,-31.95757693\n45,6.081888776,6.872111224,17.96051221,17.96051221,2.235085954,-33.68593847\n45,13.09511122,13.88533342,17.96051221,17.96051221,2.235085954,-33.68593847\n45,11.51466658,13.09511122,17.96051221,17.96051221,6.565564974,-29.35545945\n45,2.489085954,4.069530342,17.96051221,17.96051221,9.41146962,-26.5095548\n0,22.91091405,0.254,0,25.4,2.235085954,-23.16491405\n135,17.83644439,13.09511122,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.82322219,20.10833342,17.96051221,17.96051221,2.235085954,-33.68593847\n135,12.30488878,17.83644439,17.96051221,17.96051221,10.3372727,-25.58375198\n135,19.31811122,10.82322219,17.96051221,17.96051221,6.565564974,-29.35545945\n135,25.146,4.995333418,17.96051221,17.96051221,4.889250572,-31.03177385\n135,8.452555612,17.73766658,17.96051221,17.96051221,2.235085954,-33.68593847\n135,10.72444439,16.256,17.96051221,17.96051221,9.41146962,-26.5095548\n135,15.46577781,10.72444439,17.96051221,17.96051221,2.235085954,-33.68593847\n135,17.73766658,9.242777806,17.96051221,17.96051221,6.565564974,-29.35545945\n135,22.91091405,4.069530342,17.96051221,17.96051221,3.96344775,-31.95757693\n135,16.15722219,3.711222194,17.96051221,17.96051221,2.235085954,-33.68593847\n135,3.711222194,16.94744439,17.96051221,17.96051221,4.889250572,-31.03177385\n135,20.40466658,0.254,17.96051221,17.96051221,10.3372727,-25.58375198\n135,18.52788878,6.081888776,17.96051221,17.96051221,2.235085954,-33.68593847\n135,5.291666582,18.52788878,17.96051221,17.96051221,3.96344775,-31.95757693\n135,21.33046966,2.489085954,17.96051221,17.96051221,9.41146962,-26.5095548\n270,22.35214249,2.489085954,0,25.4,2.235085954,-23.16491405\n270,22.91091405,4.069530342,0,25.4,3.815530342,-21.58446966\n270,25.146,4.995333418,0,25.4,4.741333418,-20.65866658\n0,21.33046966,2.489085954,0,25.4,1.021672836,-24.37832716\n0,20.40466658,0.254,0,25.4,1.947475912,-23.45252409\n135,25.146,12.7,17.96051221,17.96051221,4.889250572,-31.03177385\n45,12.7,0.254,17.96051221,17.96051221,4.889250572,-31.03177385\n315,6.872111224,5.291666582,17.96051221,17.96051221,2.235085954,-33.68593847\n315,6.081888776,6.872111224,17.96051221,17.96051221,9.35942248,-26.56160194\n315,0.254,12.7,17.96051221,17.96051221,4.889250572,-31.03177385\n225,5.291666582,18.52788878,17.96051221,17.96051221,2.235085954,-33.68593847\n225,6.872111224,19.31811122,17.96051221,17.96051221,9.35942248,-26.56160194\n225,12.7,25.146,17.96051221,17.96051221,4.889250572,-31.03177385\n135,18.52788878,20.10833342,17.96051221,17.96051221,2.235085954,-33.68593847\n135,19.31811122,18.52788878,17.96051221,17.96051221,9.35942248,-26.56160194\n135,21.98511122,12.7,17.96051221,17.96051221,2.654164618,-33.26685981\n45,12.7,3.414888776,17.96051221,17.96051221,2.654164618,-33.26685981\n315,9.242777806,7.662333418,17.96051221,17.96051221,2.235085954,-33.68593847\n315,7.662333418,8.452555612,17.96051221,17.96051221,7.124336526,-28.7966879\n315,3.414888776,12.7,17.96051221,17.96051221,2.654164618,-33.26685981\n225,7.662333418,16.15722219,17.96051221,17.96051221,2.235085954,-33.68593847\n225,8.452555612,17.73766658,17.96051221,17.96051221,7.124336526,-28.7966879\n225,12.7,21.98511122,17.96051221,17.96051221,2.654164618,-33.26685981\n135,16.15722219,17.73766658,17.96051221,17.96051221,2.235085954,-33.68593847\n135,17.73766658,16.94744439,17.96051221,17.96051221,7.124336526,-28.7966879\n")),Ud(Id.ParsePatFile("\n*CELTIC-02,CELTIC PATTERN 02\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern,,,,,,\n180,11.1371634,0.392662664,0,25.4,3.125672946,-22.27432705\n270,25.00733734,11.1371634,0,25.4,3.125672946,-22.27432705\n270,0.392662664,17.38850955,0,25.4,3.125672946,-22.27432705\n180,17.38850955,25.00733734,0,25.4,3.125672946,-22.27432705\n90,25.00733734,11.9185817,0,25.4,13.08875564,-12.31124436\n270,25.00733734,7.230072408,0,25.4,6.837409744,-18.56259026\n180,11.1371634,7.230072408,0,25.4,3.125672946,-22.27432705\n180,13.4814183,8.011490454,0,25.4,9.18166439,-16.21833561\n0,8.011490454,11.9185817,0,25.4,3.125672946,-22.27432705\n0,4.29975391,11.1371634,0,25.4,9.18166439,-16.21833561\n270,21.10024609,17.38850955,0,25.4,3.125672946,-22.27432705\n270,21.88166439,21.88166439,0,25.4,9.96308269,-15.43691731\n270,13.4814183,25.00733734,0,25.4,3.125672946,-22.27432705\n270,18.16992759,25.00733734,0,25.4,3.125672946,-22.27432705\n90,17.38850955,18.16992759,0,25.4,6.837409744,-18.56259026\n90,18.16992759,8.011490454,0,25.4,3.125672946,-22.27432705\n90,17.38850955,4.29975391,0,25.4,9.18166439,-16.21833561\n90,14.2628366,18.16992759,0,25.4,6.837409744,-18.56259026\n90,13.4814183,8.011490454,0,25.4,3.125672946,-22.27432705\n90,14.2628366,4.29975391,0,25.4,9.18166439,-16.21833561\n90,7.230072408,14.2628366,0,25.4,3.125672946,-22.27432705\n90,7.230072408,0.392662664,0,25.4,3.125672946,-22.27432705\n90,8.011490454,11.9185817,0,25.4,9.18166439,-16.21833561\n90,8.011490454,0.392662664,0,25.4,6.837409744,-18.56259026\n90,11.9185817,0.392662664,0,25.4,3.125672946,-22.27432705\n90,11.9185817,14.2628366,0,25.4,3.125672946,-22.27432705\n90,11.1371634,11.9185817,0,25.4,9.18166439,-16.21833561\n90,11.1371634,0.392662664,0,25.4,6.837409744,-18.56259026\n180,17.38850955,18.16992759,0,25.4,3.125672946,-22.27432705\n180,3.51833561,18.16992759,0,25.4,3.125672946,-22.27432705\n180,7.230072408,17.38850955,0,25.4,6.837409744,-18.56259026\n180,21.10024609,17.38850955,0,25.4,9.18166439,-16.21833561\n180,3.51833561,13.4814183,0,25.4,3.125672946,-22.27432705\n180,7.230072408,14.2628366,0,25.4,6.837409744,-18.56259026\n180,17.38850955,13.4814183,0,25.4,3.125672946,-22.27432705\n180,21.10024609,14.2628366,0,25.4,9.18166439,-16.21833561\n180,25.00733734,7.230072408,0,25.4,3.125672946,-22.27432705\n180,25.00733734,8.011490454,0,25.4,6.837409744,-18.56259026\n180,25.00733734,11.9185817,0,25.4,3.125672946,-22.27432705\n180,25.00733734,11.1371634,0,25.4,6.837409744,-18.56259026\n180,25.00733734,25.00733734,0,25.4,6.837409744,-18.56259026\n0,11.9185817,0.392662664,0,25.4,13.08875564,-12.31124436\n0,0.392662664,0.392662664,0,25.4,6.837409744,-18.56259026\n270,0.392662664,13.4814183,0,25.4,13.08875564,-12.31124436\n270,0.392662664,25.00733734,0,25.4,6.837409744,-18.56259026\n180,13.4814183,25.00733734,0,25.4,13.08875564,-12.31124436\n180,21.88166439,21.88166439,0,25.4,3.711736544,-21.68826346\n90,21.88166439,3.51833561,0,25.4,3.711736544,-21.68826346\n0,14.2628366,4.29975391,0,25.4,3.125672946,-22.27432705\n0,11.9185817,3.51833561,0,25.4,9.96308269,-15.43691731\n0,3.51833561,3.51833561,0,25.4,3.711736544,-21.68826346\n270,4.29975391,11.1371634,0,25.4,3.125672946,-22.27432705\n270,3.51833561,13.4814183,0,25.4,9.96308269,-15.43691731\n270,3.51833561,21.88166439,0,25.4,3.711736544,-21.68826346\n180,11.1371634,21.10024609,0,25.4,3.125672946,-22.27432705\n180,13.4814183,21.88166439,0,25.4,9.96308269,-15.43691731\n")),Ud(Id.ParsePatFile("\n*CELTIC-03,CELTIC-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,6.35,13.97,0,25.4,5.08,-20.32\n90,19.05,6.35,0,25.4,5.08,-20.32\n0,6.35,6.35,0,25.4,12.7,-12.7\n270,6.35,11.43,0,25.4,5.08,-20.32\n90,3.81,3.81,0,25.4,7.62,-17.78\n180,21.59,3.81,0,25.4,17.78,-7.62\n270,21.59,11.43,0,25.4,7.62,-17.78\n270,21.59,21.59,0,25.4,7.62,-17.78\n0,3.81,21.59,0,25.4,17.78,-7.62\n90,3.81,13.97,0,25.4,7.62,-17.78\n270,19.05,19.05,0,25.4,5.08,-20.32\n0,6.35,19.05,0,25.4,12.7,-12.7\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n")),Ud(Id.ParsePatFile("\n*CELTIC-04,CELTIC-04\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,3.81,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n135,21.59,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n45,12.7,2.54,17.960512212,17.960512212,12.57235865,-23.348666028\n315,3.81,11.43,17.960512212,17.960512212,12.57235865,-23.348666028\n135,12.7,5.08,17.960512212,17.960512212,8.980256106,-26.940768318\n225,19.05,11.43,17.960512212,17.960512212,8.980256106,-26.940768318\n315,12.7,20.32,17.960512212,17.960512212,8.980256106,-26.940768318\n45,6.35,13.97,17.960512212,17.960512212,8.980256106,-26.940768318\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n")),Ud(Id.ParsePatFile("\n*CIRCLES-02,CIRCLES-02\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,24.3609368,11.9663464,0,25.4,0,-25.4\n0,24.2918742,11.2356138,0,25.4,0,-25.4\n0,24.1770408,10.510647,0,25.4,0,-25.4\n0,24.0169192,9.7943162,0,25.4,0,-25.4\n0,23.8121444,9.0894408,0,25.4,0,-25.4\n0,23.5635038,8.3988402,0,25.4,0,-25.4\n0,23.271988,7.7252068,0,25.4,0,-25.4\n0,22.9387654,7.0711822,0,25.4,0,-25.4\n0,22.5651314,6.439408,0,25.4,0,-25.4\n0,22.1525592,5.8323226,0,25.4,0,-25.4\n0,21.7026744,5.252339,0,25.4,0,-25.4\n0,21.2172804,4.7017432,0,25.4,0,-25.4\n0,20.6982568,4.1827196,0,25.4,0,-25.4\n0,20.147661,3.6973256,0,25.4,0,-25.4\n0,19.5676774,3.2474408,0,25.4,0,-25.4\n0,18.960592,2.8348686,0,25.4,0,-25.4\n0,18.3288178,2.4612346,0,25.4,0,-25.4\n0,17.6747932,2.128012,0,25.4,0,-25.4\n0,17.0011598,1.8364962,0,25.4,0,-25.4\n0,16.3105592,1.5878556,0,25.4,0,-25.4\n0,15.6056838,1.3830808,0,25.4,0,-25.4\n0,14.889353,1.2229592,0,25.4,0,-25.4\n0,14.1643862,1.1081258,0,25.4,0,-25.4\n0,13.4336536,1.0390632,0,25.4,0,-25.4\n0,12.7,1.016,0,25.4,0,-25.4\n0,11.9663464,1.0390632,0,25.4,0,-25.4\n0,11.2356138,1.1081258,0,25.4,0,-25.4\n0,10.510647,1.2229592,0,25.4,0,-25.4\n0,9.7943162,1.3830808,0,25.4,0,-25.4\n0,9.0894408,1.5878556,0,25.4,0,-25.4\n0,8.3988402,1.8364962,0,25.4,0,-25.4\n0,7.7252068,2.128012,0,25.4,0,-25.4\n0,7.0711822,2.4612346,0,25.4,0,-25.4\n0,6.439408,2.8348686,0,25.4,0,-25.4\n0,5.8323226,3.2474408,0,25.4,0,-25.4\n0,5.252339,3.6973256,0,25.4,0,-25.4\n0,4.7017432,4.1827196,0,25.4,0,-25.4\n0,4.1827196,4.7017432,0,25.4,0,-25.4\n0,3.6973256,5.252339,0,25.4,0,-25.4\n0,3.2474408,5.8323226,0,25.4,0,-25.4\n0,2.8348686,6.439408,0,25.4,0,-25.4\n0,2.4612346,7.0711822,0,25.4,0,-25.4\n0,2.128012,7.7252068,0,25.4,0,-25.4\n0,1.8364962,8.3988402,0,25.4,0,-25.4\n0,1.5878556,9.0894408,0,25.4,0,-25.4\n0,1.3830808,9.7943162,0,25.4,0,-25.4\n0,1.2229592,10.510647,0,25.4,0,-25.4\n0,1.1081258,11.2356138,0,25.4,0,-25.4\n0,1.0390632,11.9663464,0,25.4,0,-25.4\n0,1.016,12.7,0,25.4,0,-25.4\n0,1.0390632,13.4336536,0,25.4,0,-25.4\n0,1.1081258,14.1643862,0,25.4,0,-25.4\n0,1.2229592,14.889353,0,25.4,0,-25.4\n0,1.3830808,15.6056838,0,25.4,0,-25.4\n0,1.5878556,16.3105592,0,25.4,0,-25.4\n0,1.8364962,17.0011598,0,25.4,0,-25.4\n0,2.128012,17.6747932,0,25.4,0,-25.4\n0,2.4612346,18.3288178,0,25.4,0,-25.4\n0,2.8348686,18.960592,0,25.4,0,-25.4\n0,3.2474408,19.5676774,0,25.4,0,-25.4\n0,3.6973256,20.147661,0,25.4,0,-25.4\n0,4.1827196,20.6982568,0,25.4,0,-25.4\n0,4.7017432,21.2172804,0,25.4,0,-25.4\n0,5.252339,21.7026744,0,25.4,0,-25.4\n0,5.8323226,22.1525592,0,25.4,0,-25.4\n0,6.439408,22.5651314,0,25.4,0,-25.4\n0,7.0711822,22.9387654,0,25.4,0,-25.4\n0,7.7252068,23.271988,0,25.4,0,-25.4\n0,8.3988402,23.5635038,0,25.4,0,-25.4\n0,9.0894408,23.8121444,0,25.4,0,-25.4\n0,9.7943162,24.0169192,0,25.4,0,-25.4\n0,10.510647,24.1770408,0,25.4,0,-25.4\n0,11.2356138,24.2918742,0,25.4,0,-25.4\n0,11.9663464,24.3609368,0,25.4,0,-25.4\n0,12.7,24.384,0,25.4,0,-25.4\n0,13.4336536,24.3609368,0,25.4,0,-25.4\n0,14.1643862,24.2918742,0,25.4,0,-25.4\n0,14.889353,24.1770408,0,25.4,0,-25.4\n0,15.6056838,24.0169192,0,25.4,0,-25.4\n0,16.3105592,23.8121444,0,25.4,0,-25.4\n0,17.0011598,23.5635038,0,25.4,0,-25.4\n0,17.6747932,23.271988,0,25.4,0,-25.4\n0,18.3288178,22.9387654,0,25.4,0,-25.4\n0,18.960592,22.5651314,0,25.4,0,-25.4\n0,19.5676774,22.1525592,0,25.4,0,-25.4\n0,20.147661,21.7026744,0,25.4,0,-25.4\n0,20.6982568,21.2172804,0,25.4,0,-25.4\n0,21.2172804,20.6982568,0,25.4,0,-25.4\n0,21.7026744,20.147661,0,25.4,0,-25.4\n0,22.1525592,19.5676774,0,25.4,0,-25.4\n0,22.5651314,18.960592,0,25.4,0,-25.4\n0,22.9387654,18.3288178,0,25.4,0,-25.4\n0,23.271988,17.6747932,0,25.4,0,-25.4\n0,23.5635038,17.0011598,0,25.4,0,-25.4\n0,23.8121444,16.3105592,0,25.4,0,-25.4\n0,24.0169192,15.6056838,0,25.4,0,-25.4\n0,24.1770408,14.889353,0,25.4,0,-25.4\n0,24.2918742,14.1643862,0,25.4,0,-25.4\n0,24.3609368,13.4336536,0,25.4,0,-25.4\n0,24.384,12.7,0,25.4,0,-25.4\n")),Ud(Id.ParsePatFile("\n*CIRCLES,CIRCLES\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,23.7384082,10.9516926,0,25.4,0,-25.4\n0,23.329011,9.2464382,0,25.4,0,-25.4\n0,22.6578922,7.6261976,0,25.4,0,-25.4\n0,21.7415618,6.1308996,0,25.4,0,-25.4\n0,20.6026258,4.7973742,0,25.4,0,-25.4\n0,19.2691004,3.6584382,0,25.4,0,-25.4\n0,17.7738024,2.7421078,0,25.4,0,-25.4\n0,16.1535618,2.070989,0,25.4,0,-25.4\n0,14.4483074,1.6615918,0,25.4,0,-25.4\n0,12.7,1.524,0,25.4,0,-25.4\n0,10.9516926,1.6615918,0,25.4,0,-25.4\n0,9.2464382,2.070989,0,25.4,0,-25.4\n0,7.6261976,2.7421078,0,25.4,0,-25.4\n0,6.1308996,3.6584382,0,25.4,0,-25.4\n0,4.7973742,4.7973742,0,25.4,0,-25.4\n0,3.6584382,6.1308996,0,25.4,0,-25.4\n0,2.7421078,7.6261976,0,25.4,0,-25.4\n0,2.070989,9.2464382,0,25.4,0,-25.4\n0,1.6615918,10.9516926,0,25.4,0,-25.4\n0,1.524,12.7,0,25.4,0,-25.4\n0,1.6615918,14.4483074,0,25.4,0,-25.4\n0,2.070989,16.1535618,0,25.4,0,-25.4\n0,2.7421078,17.7738024,0,25.4,0,-25.4\n0,3.6584382,19.2691004,0,25.4,0,-25.4\n0,4.7973742,20.6026258,0,25.4,0,-25.4\n0,6.1308996,21.7415618,0,25.4,0,-25.4\n0,7.6261976,22.6578922,0,25.4,0,-25.4\n0,9.2464382,23.329011,0,25.4,0,-25.4\n0,10.9516926,23.7384082,0,25.4,0,-25.4\n0,12.7,23.876,0,25.4,0,-25.4\n0,14.4483074,23.7384082,0,25.4,0,-25.4\n0,16.1535618,23.329011,0,25.4,0,-25.4\n0,17.7738024,22.6578922,0,25.4,0,-25.4\n0,19.2691004,21.7415618,0,25.4,0,-25.4\n0,20.6026258,20.6026258,0,25.4,0,-25.4\n0,21.7415618,19.2691004,0,25.4,0,-25.4\n0,22.6578922,17.7738024,0,25.4,0,-25.4\n0,23.329011,16.1535618,0,25.4,0,-25.4\n0,23.7384082,14.4483074,0,25.4,0,-25.4\n0,23.876,12.7,0,25.4,0,-25.4\n")),Ud(Id.ParsePatFile("\n*CLAY,CLAY\n0, 0,0, 0,4.7625\n0, 0,.79375, 0,4.7625\n0, 0,1.5875, 0,4.7625\n0, 0,3.175, 0,4.7625, 4.7625,-3.175\n")),Ud(Id.ParsePatFile("\n*CORK,CORK\n0, 0,0, 0,3.175\n135, 1.5875,-1.5875, 0,8.98026, 4.49013,-4.49013\n135, 2.38125,-1.5875, 0,8.98026, 4.49013,-4.49013\n135, 3.175,-1.5875, 0,8.98026, 4.49013,-4.49013\n")),Ud(Id.ParsePatFile("\n*CROSS,CROSS\n0, 0,0, 6.35,6.35, 3.175,-9.525\n90, 1.5875,-1.5875, 6.35,6.35, 3.175,-9.525\n")),Ud(Id.ParsePatFile("\n*DASH,DASH\n0, 0,0, 3.175,3.175, 3.175,-3.175\n")),Ud(Id.ParsePatFile("\n*DOLMIT,DOLMIT\n0, 0,0, 0,6.35\n45, 0,0, 0,17.9605, 8.98026,-17.9605\n")),Ud(Id.ParsePatFile("\n*DOTS,DOTS\n0, 0,0, .79375,1.5875, 0,-1.5875\n")),Ud(Id.ParsePatFile("\n*EARTH,EARTH\n0, 0,0, 6.35,6.35, 6.35,-6.35\n0, 0,2.38125, 6.35,6.35, 6.35,-6.35\n0, 0,4.7625, 6.35,6.35, 6.35,-6.35\n90, .79375,5.55625, 6.35,6.35, 6.35,-6.35\n90, 3.175,5.55625, 6.35,6.35, 6.35,-6.35\n90, 5.55625,5.55625, 6.35,6.35, 6.35,-6.35\n")),Ud(Id.ParsePatFile("\n*ESCHER,ESCHER\n60, 0,0, -15.24,26.3965, 27.94,-2.54\n180, 0,0, -15.24,26.3965, 27.94,-2.54\n300, 0,0, 15.24,26.3965, 27.94,-2.54\n60, 2.54,0, -15.24,26.3965, 5.08,-25.4\n300, 2.54,0, 15.24,26.3965, 5.08,-25.4\n60, -1.27,2.1997, -15.24,26.3965, 5.08,-25.4\n180, -1.27,2.1997, -15.24,26.3965, 5.08,-25.4\n300, -1.27,-2.1997, 15.24,26.3965, 5.08,-25.4\n180, -1.27,-2.1997, -15.24,26.3965, 5.08,-25.4\n60, -10.16,0, -15.24,26.3965, 5.08,-25.4\n300, -10.16,0, 15.24,26.3965, 5.08,-25.4\n60, 5.08,-8.79882, -15.24,26.3965, 5.08,-25.4\n180, 5.08,-8.79882, -15.24,26.3965, 5.08,-25.4\n300, 5.08,8.79882, 15.24,26.3965, 5.08,-25.4\n180, 5.08,8.79882, -15.24,26.3965, 5.08,-25.4\n0, 5.08,4.39941, -15.24,26.3965, 17.78,-12.7\n0, 5.08,-4.39941, -15.24,26.3965, 17.78,-12.7\n120, 1.27,6.59911, 15.24,26.3965, 17.78,-12.7\n120, -6.35,2.1997, 15.24,26.3965, 17.78,-12.7\n240, -6.35,-2.1997, 15.24,26.3965, 17.78,-12.7\n240, 1.27,-6.59911, 15.24,26.3965, 17.78,-12.7\n")),Ud(Id.ParsePatFile("\n*EXPLOSION,EXPLOSION\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n270,11.43,2.794,0,25.4,2.794,-22.606\n143.130102,12.446,2.032,91.44,5.08,1.27,-125.73\n270,12.446,4.318,0,25.4,2.286,-23.114\n112.380135,14.224,0,330.1971097,1.381577882,4.669733104,-462.3035852\n75.256437,12.954,20.574,104.7189028,1.292825964,4.990308282,-494.0405126\n287.525568,11.43,25.4,80.31173574,1.274789424,5.060914186,-501.0305006\n135,1.524,12.446,17.96051221,17.96051221,2.155261374,-33.76576305\n26.565051,0,11.684,34.07767607,11.35922544,1.703883816,-55.09224288\n353.884496,18.288,12.446,485.2654803,0.901980416,7.152705024,-708.1177892\n192.094757,25.4,13.97,234.1697095,1.774012962,7.273453068,-356.3992019\n3.691386,17.526,9.652,381.8448525,0.817654956,7.890370046,-781.1466379\n136.080924,24.384,3.048,916.1619403,0.677634662,9.52076582,-942.5558068\n336.037511,22.098,4.064,193.4234445,2.578979348,2.501609932,-247.6593782\n123.690068,24.638,0.254,35.22346245,7.04469254,4.579050024,-87.00195223\n324.462322,15.748,6.604,91.53339072,2.952690056,10.924953,-207.5741086\n117.645975,18.542,1.27,545.3600756,1.07143423,6.021460906,-596.1246343\n326.309932,13.97,4.318,56.35753981,7.04469254,5.494860232,-86.08614228\n106.38954,15.24,0,265.1799113,1.433404804,4.50089143,-445.5882554\n153.434949,3.048,8.636,22.71845063,11.35922544,3.407767632,-53.38835906\n64.798876,1.016,4.318,420.4426387,1.351905602,4.772226676,-472.4504468\n202.619865,4.064,5.588,193.4307693,1.953846232,3.302,-326.898\n59.036243,2.54,3.048,56.62883289,4.356064186,2.962123616,-145.1440546\n211.75948,7.874,6.35,239.620914,1.028416028,6.273337212,-621.0603858\n79.215702,6.858,1.016,413.4803361,1.188161962,5.429899732,-537.5600816\n212.471192,9.652,2.794,91.56028043,1.9480911,3.31175487,-327.8637273\n63.434949,8.89,1.27,22.71845063,11.35922544,1.703883816,-55.09224288\n135,10.16,0,17.96051221,17.96051221,1.796051272,-34.12497315\n74.357754,8.382,19.05,474.5101503,0.978371424,6.59422354,-652.8281297\n333.434949,0.762,22.86,22.71845063,11.35922544,8.51941908,-48.27670761\n110.556045,4.572,12.7,136.7508764,2.97284521,10.85088483,-206.1668104\n330.945396,0,15.24,56.74251999,2.467066186,5.23018004,-256.2788255\n99.462322,16.002,20.828,129.4477627,4.175734346,4.635065152,-149.8671031\n222.70939,19.304,23.876,35.89232217,1.435692836,4.493718724,-444.8781539\n74.744881,18.542,21.082,104.7031863,2.22772732,2.896045516,-286.7085124\n208.61046,24.13,24.13,261.5011486,2.027140726,6.365221712,-311.8958659\n62.744672,19.812,15.748,56.79200478,0.684240948,9.428841188,-933.4552873\n212.275644,24.638,18.796,331.1735533,1.130285268,5.70794007,-565.0860682\n55.00798,22.86,16.256,91.55735943,2.080849026,3.100465224,-306.9460475\n158.198591,25.4,15.24,80.18324705,4.716661636,2.73566382,-134.0475224\n51.911227,14.986,12.954,741.8363621,0.540303212,11.9407018,-1182.12948\n153.434949,16.51,12.192,22.71845063,11.35922544,1.703883816,-55.09224288\n35.537678,14.732,10.922,126.9656711,2.952690056,2.18499055,-216.3140711\n129.289407,19.304,5.334,198.3722919,1.78713765,7.220036614,-353.7817918\n322.30576,13.716,9.652,416.5899728,0.9135745,7.061931012,-699.1311588\n77.905243,12.954,6.096,129.5029455,1.774012962,3.636726534,-360.0359284\n282.994617,12.192,9.398,104.709577,1.903810518,3.388782656,-335.4894845\n62.525568,8.89,3.048,56.78897304,0.901412218,7.157213524,-708.564129\n267.137595,9.144,8.128,25.36830944,1.268415548,5.086345936,-503.5482576\n12.994617,2.54,6.604,104.709577,1.903810518,6.777565312,-332.1007018\n211.75948,7.874,9.906,239.620914,1.028416028,6.273337212,-621.0603858\n318.366461,5.588,11.938,269.9974641,2.109355192,3.05856513,-302.7979372\n189.462322,7.112,12.192,129.4477627,4.175734346,1.545021802,-152.9571465\n297.299572,3.048,20.066,829.3009284,0.728095572,8.860923858,-877.231464\n132.273689,8.128,14.478,35.8803669,1.708588912,7.551962798,-370.0461832\n282.994617,7.366,17.78,104.709577,1.903810518,3.388782656,-335.4894845\n140.194429,10.414,15.24,162.6068376,3.252136752,3.967606746,-194.4127349\n268.363423,10.668,24.13,25.38963909,0.725418158,8.893627882,-880.4691552\n102.200469,12.7,14.732,597.8446202,0.67098164,9.615166444,-951.9014896\n250.016893,14.732,20.32,80.29253258,2.170068558,5.9459876,-291.3533901\n84.559668,14.224,14.986,280.549586,1.20407557,5.358135842,-530.4554512\n222.184443,22.352,22.352,377.597688,0.588158336,10.96915408,-1085.946248\n")),Ud(Id.ParsePatFile("\n*FLEX,FLEX\n0, 0,0, 0,6.35, 6.35,-6.35\n45, 6.35,0, 4.49013,4.49013, 1.5875,-5.80526,1.5875,-8.98026\n")),Ud(Id.ParsePatFile("\n*GRASS,GRASS\n90, 0,0, 17.9605,17.9605, 4.7625,-31.1585\n45, 0,0, 0,25.4, 4.7625,-20.6375\n135, 0,0, 0,25.4, 4.7625,-20.6375\n")),Ud(Id.ParsePatFile("\n*GRATE,GRATE\n0, 0,0, 0,.79375\n90, 0,0, 0,3.175\n")),Ud(Id.ParsePatFile("\n*GRAVEL-01,GRAVEL-01\n;Optimize to replace existing GRAVEL Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n159.443955,4.064,3.302,80.266818638,2.97284521,4.340353778,-212.677341218\n114.775141,5.588,0,56.76841453,1.774012962,3.636726534,-360.03592839\n249.443955,8.128,2.032,80.266818638,2.97284521,2.170177016,-214.847518234\n186.009006,12.954,2.54,230.002940044,1.329496706,4.852663142,-480.413655376\n165.963757,18.034,1.27,24.6416195,6.160405002,5.236344112,-99.490538636\n101.309932,18.288,0,104.608346536,4.981349956,1.29515108,-128.219944728\n243.434949,21.336,3.556,22.718450626,11.35922544,3.975728904,-52.820397788\n355.426079,12.446,3.302,331.173933536,1.012764294,6.370287488,-630.658471472\n300.256437,10.668,6.35,148.094892532,1.828332132,3.528680776,-349.33939657\n228.012788,15.24,11.43,305.850675318,1.887967014,6.834440992,-334.887609878\n180,21.844,11.43,0,25.4,6.604,-18.796\n303.690068,15.748,15.748,35.223462446,7.04469254,3.66324007,-87.917762188\n225,18.288,18.288,17.960512212,17.960512212,3.592102544,-32.328922134\n110.224859,2.032,5.842,217.014069654,1.254416592,5.143108078,-509.167692864\n177.273689,7.366,5.588,25.371250756,1.20815481,5.340044184,-528.664375232\n217.69424,12.954,9.906,289.603117008,0.9135745,7.061931012,-699.131158758\n252.255328,14.986,16.256,586.403737782,0.967663038,6.667197486,-660.05256356\n301.429566,12.192,20.828,387.712303314,1.20407557,5.358135842,-530.455451152\n355.236358,6.096,21.336,25.312262304,2.109355192,6.117130006,-299.739372326\n43.66778,0.508,16.002,35.911314766,0.83514692,7.725108502,-764.785732808\n87.273689,0.254,10.668,25.371250756,1.20815481,5.340044184,-528.664375232\n30.963757,15.748,18.034,91.477345366,4.356064186,4.443185424,-143.662992836\n291.801409,14.732,20.574,56.599939124,4.716661636,2.73566382,-134.047522354\n203.198591,16.51,21.336,56.698117744,3.335183322,1.934406342,-191.506230398\n161.565051,19.558,20.32,24.09655582,8.032185358,3.212874194,-77.10897837\n4.969741,10.16,22.352,280.550012686,1.100196174,5.864045422,-580.540490682\n16.38954,0,20.574,265.179911346,1.433404804,4.50089143,-445.58825538\n197.354025,25.4,4.826,80.307559222,1.515237,4.25781597,-421.523771378\n74.054604,24.13,5.588,104.668749768,3.488958224,3.69829588,-181.216495326\n27.645975,18.796,2.794,545.360075648,1.07143423,6.021460906,-596.124634266\n145.304846,25.146,9.144,91.566911862,1.60643697,4.016092552,-397.593170268\n353.157227,17.78,12.7,434.77679618,1.008762778,6.395556678,-633.160101724\n171.469234,23.368,17.526,179.600730968,1.255949228,5.136831992,-508.546377622\n138.814075,25.4,15.748,234.164238554,2.389431086,2.700057084,-267.30564649\n90,25.4,14.224,0,25.4,1.524,-23.876\n60.945396,24.13,11.938,56.742519992,2.467066186,2.61509002,-258.893915536\n343.61046,21.082,21.844,184.909235464,1.433404804,4.50089143,-445.58825538\n293.198591,19.558,25.4,56.698117744,3.335183322,3.868812684,-189.571824056\n48.012788,16.002,22.86,305.850675318,1.887967014,3.417220496,-338.304830374\n312.510447,7.366,25.4,35.887120758,1.560309554,4.134820534,-409.347222706\n70.346176,4.318,21.844,80.303678102,1.708588912,3.775981526,-373.822164724\n")),Ud(Id.ParsePatFile("\n*GRAVEL,GRAVEL\n228.0128, 18.288,25.4, 305.851,1.88796, 3.41721,-338.305\n184.9697, 16.002,22.86, -305.855,1.1002, 5.86405,-580.54\n132.5104, 10.16,22.352, -377.595,1.56032, 4.13482,-409.347\n267.2737, .254,16.002, -508.633,1.20815, 5.34005,-528.664\n292.8337, 0,10.668, -330.198,1.23208, 5.23634,-518.398\n357.2737, 2.032,5.842, -508.633,1.20815, 5.34005,-528.664\n37.6942, 7.366,5.588, -416.59,.913587, 7.06194,-699.131\n72.2553, 12.954,9.906, 586.404,.967664, 6.6672,-660.053\n121.4296, 14.986,16.256, 387.712,1.20409, 5.35813,-530.455\n175.2364, 12.192,20.828, -280.544,2.10934, 6.11713,-299.739\n222.3974, 6.096,21.336, 413.481,.815543, 7.91078,-783.168\n138.8141, 25.4,15.748, 234.164,2.38943, 2.70005,-267.306\n171.4692, 23.368,17.526, -334.082,1.25595, 5.13682,-508.546\n225, 18.288,18.288, 17.9605,17.9605, 3.59209,-32.3289\n203.1986, 16.51,21.336, -136.743,3.33517, 1.93441,-191.506\n291.8014, 14.732,20.574, -80.1833,4.71665, 2.73566,-134.048\n30.9638, 15.748,18.034, 91.4773,4.35607, 4.4432,-143.663\n161.5651, 19.558,20.32, -56.2253,8.03219, 3.21287,-77.109\n16.3895, 0,20.574, 265.18,1.4334, 4.50088,-445.588\n70.3462, 4.318,21.844, -297.294,1.70858, 3.77599,-373.822\n293.1986, 19.558,25.4, -136.743,3.33517, 3.8688,-189.572\n343.6105, 21.082,21.844, -265.18,1.4334, 4.50088,-445.588\n339.444, 0,4.826, -136.751,2.97284, 4.34035,-212.677\n294.7751, 4.064,3.302, -306.904,1.77401, 3.63672,-360.036\n66.8014, 19.812,0, 136.743,3.33517, 3.8688,-189.572\n17.354, 21.336,3.556, -345.474,1.51524, 4.25783,-421.524\n69.444, 7.366,0, -136.751,2.97284, 2.17018,-214.848\n101.3099, 18.288,0, 104.608,4.98135, 1.29515,-128.22\n165.9638, 18.034,1.27, -80.0853,6.16041, 5.23634,-99.4905\n186.009, 12.954,2.54, -255.263,1.32949, 4.85267,-480.414\n303.6901, 15.748,15.748, -56.3575,7.04469, 3.66324,-87.9178\n353.1572, 17.78,12.7, 434.777,1.00876, 6.39557,-633.16\n60.9454, 24.13,11.938, -204.766,2.46708, 2.61508,-258.894\n90, 25.4,14.224, 25.4,25.4, 1.524,-23.876\n120.2564, 12.446,3.302, -204.773,1.82834, 3.52867,-349.339\n48.0128, 10.668,6.35, 305.851,1.88796, 6.83443,-334.888\n0, 15.24,11.43, 25.4,25.4, 6.604,-18.796\n325.3048, 21.844,11.43, -310.042,1.60645, 4.0161,-397.593\n254.0546, 25.146,9.144, 104.669,3.48897, 3.69829,-181.217\n207.646, 24.13,5.588, 545.36,1.07142, 6.02145,-596.125\n175.4261, 18.796,2.794, 331.174,1.01277, 6.37029,-630.658\n175.4261, 18.796,2.794, 331.174,1.01277, 6.37029,-630.658\n")),Ud(Id.ParsePatFile("\n*HATCH-DOTS\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n225,14.364914374,2.934914374,17.960512212,17.960512212,11.492295278,-24.428729146\n225,6.359242552,5.089242552,17.960512212,17.960512212,16.19060262,-19.730421804\n225,3.281299762,9.631299762,17.960512212,17.960512212,18.261173282,-17.659851142\n225,19.161365538,5.191365538,17.960512212,17.960512212,11.492295278,-24.428729146\n225,7.864421914,4.054421914,17.960512212,17.960512212,16.85579052,-19.065234158\n225,2.841461932,11.731461932,17.960512212,17.960512212,20.609227006,-15.311797418\n225,9.631299762,3.281299762,17.960512212,17.960512212,18.261173282,-17.659851142\n225,2.934914374,14.364914374,17.960512212,17.960512212,11.492295278,-24.428729146\n225,5.089242552,6.359242552,17.960512212,17.960512212,16.19060262,-19.730421804\n225,11.731462186,2.841462186,17.960512212,17.960512212,20.60922726,-15.311797164\n225,5.191365538,19.161365538,17.960512212,17.960512212,11.492295278,-24.428729146\n225,4.054421914,7.864421914,17.960512212,17.960512212,16.85579052,-19.065234158\n")),Ud(Id.ParsePatFile("\n*HATCH-SQRS\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n225,2.794,9.144,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,21.844,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,6.604,17.960512212,17.960512212,13.290779108,-22.630245316\n225,19.304,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,14.224,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,11.684,17.960512212,17.960512212,7.902625292,-28.018399132\n225,6.604,2.794,17.960512212,17.960512212,13.290779108,-22.630245316\n225,2.794,19.304,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,4.064,17.960512212,17.960512212,9.698676564,-26.22234786\n225,4.064,2.794,17.960512212,17.960512212,9.698676564,-26.22234786\n225,11.684,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,14.224,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,9.144,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,21.844,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n225,2.794,16.764,17.960512212,17.960512212,7.902625292,-28.018399132\n225,16.764,2.794,17.960512212,17.960512212,7.902625292,-28.018399132\n")),Ud(Id.ParsePatFile("\n*HEX,HEX\n0, 0,0, 0,5.49926, 3.175,-6.35\n120, 0,0, 0,5.49926, 3.175,-6.35\n60, 3.175,0, 0,5.49926, 3.175,-6.35\n")),Ud(Id.ParsePatFile("\n*HEXAGONS\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n239.931417,5.587999746,25.399999492,204.778078632,1.15693825,5.576441984,-552.067817376\n239.931417,22.606,4.826,204.778078632,1.15693825,5.576441984,-552.067817376\n300.068583,19.812000254,25.399999492,352.866180728,1.15693825,5.576441984,-552.067817376\n60.068488,3.048,12.7,204.780260492,0.667036766,9.672031964,-957.531152498\n119.931512,7.874,4.318,762.42292397,0.667036766,9.67203171,-957.531152498\n300.068583,2.794,4.826,352.866180728,1.15693825,5.576441984,-552.067817376\n180,2.794,4.826,0,25.4,5.587998984,-19.812001016\n299.931512,17.526,21.082,762.42292397,0.667036766,9.67203171,-957.531152498\n0,7.874,21.082,0,25.4,9.652,-15.748\n180,17.526,4.318,0,25.4,9.652,-15.748\n240.068488,22.352,12.7,204.780260492,0.667036766,9.672031964,-957.531152498\n180,2.794,20.574,0,25.4,5.587998984,-19.812001016\n")),Ud(Id.ParsePatFile("\n*HEXJOIN-01\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n45,3.81,16.51,17.960512212,17.960512212,7.184204834,-28.73681959\n270,21.59,16.51,25.4,25.4,7.62,-17.78\n315,16.51,21.59,17.960512212,17.960512212,7.184204834,-28.73681959\n180,16.51,3.81,0,25.4,7.62,-17.78\n270,13.97,3.81,25.4,25.4,7.62,-17.78\n90,3.81,8.89,25.4,25.4,7.62,-17.78\n135,8.89,3.81,17.960512212,17.960512212,7.184204834,-28.73681959\n180,3.81,13.97,0,25.4,7.62,-17.78\n270,11.43,3.81,25.4,25.4,7.62,-17.78\n180,3.81,11.43,0,25.4,7.62,-17.78\n225,21.59,8.89,17.960512212,17.960512212,7.184204834,-28.73681959\n0,8.89,21.59,0,25.4,7.62,-17.78\n")),Ud(Id.ParsePatFile("\n*HEXJOIN-02\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,21.59,11.43,25.4,25.4,2.54,-22.86\n315,16.51,21.59,17.960512212,17.960512212,7.184204834,-28.73681959\n270,13.97,3.81,25.4,25.4,7.62,-17.78\n180,3.81,13.97,0,25.4,7.62,-17.78\n180,16.51,3.81,0,25.4,2.54,-22.86\n45,3.81,16.51,17.960512212,17.960512212,7.184204834,-28.73681959\n90,3.81,13.97,25.4,25.4,2.54,-22.86\n180,3.81,11.43,0,25.4,7.62,-17.78\n180,11.43,3.81,0,25.4,2.54,-22.86\n270,11.43,3.81,25.4,25.4,7.62,-17.78\n90,3.81,8.89,25.4,25.4,2.54,-22.86\n0,13.97,21.59,0,25.4,2.54,-22.86\n135,8.89,3.81,17.960512212,17.960512212,7.184204834,-28.73681959\n0,8.89,21.59,0,25.4,2.54,-22.86\n225,21.59,8.89,17.960512212,17.960512212,7.184204834,-28.73681959\n270,21.59,16.51,25.4,25.4,2.54,-22.86\n")),Ud(Id.ParsePatFile("\n*HOLLY,HOLLY\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n99.462322,20.32,2.794,129.4477627,4.175734346,1.545021802,-152.9571465\n74.744881,17.018,2.032,104.7031863,2.22772732,2.896045516,-286.7085124\n68.198591,13.462,3.81,80.18324705,4.716661636,2.73566382,-134.0475224\n270,14.732,9.398,0,25.4,1.778,-23.622\n248.198591,19.05,8.89,80.18324705,4.716661636,2.73566382,-134.0475224\n45,20.32,5.08,17.96051221,17.96051221,2.155261374,-33.76576305\n351.869898,22.86,3.302,25.14471705,3.592102544,1.796051272,-177.8090711\n0,21.844,3.302,0,25.4,1.016,-24.384\n26.565051,20.828,2.794,34.07767607,11.35922544,1.135922544,-55.66020415\n45,20.32,2.286,17.96051221,17.96051221,0.718420458,-35.20260397\n341.565051,19.558,2.54,24.09655582,8.032185358,0.803218612,-79.51863395\n0,18.542,2.54,0,25.4,1.016,-24.384\n26.565051,18.034,2.286,34.07767607,11.35922544,0.567961272,-56.22816542\n26.565051,17.526,2.032,34.07767607,11.35922544,0.567961272,-56.22816542\n53.130102,16.764,1.016,91.44,5.08,1.27,-125.73\n270,16.764,2.032,0,25.4,1.016,-24.384\n303.690068,16.256,2.794,35.22346245,7.04469254,0.915809954,-90.6651923\n315,15.748,3.302,17.96051221,17.96051221,0.718420458,-35.20260397\n345.963757,14.732,3.556,24.6416195,6.160405002,1.047268924,-103.6796141\n0,13.716,3.556,0,25.4,1.016,-24.384\n33.690068,12.954,3.048,35.22346245,7.04469254,0.915809954,-90.6651923\n255.963757,13.208,4.064,24.6416195,6.160405002,1.047268924,-103.6796141\n281.309932,12.954,5.334,104.6083465,4.981349956,1.29515108,-128.2199447\n284.036243,12.7,6.35,80.0852635,6.160405002,1.047268924,-103.6796141\n296.565051,12.192,7.366,34.07767607,11.35922544,1.135922544,-55.66020415\n303.690068,11.684,8.128,35.22346245,7.04469254,0.915809954,-90.6651923\n180,12.7,8.128,0,25.4,1.016,-24.384\n180,13.462,8.128,0,25.4,0.762,-24.638\n213.690068,14.224,8.636,35.22346245,7.04469254,0.915809954,-90.6651923\n243.434949,14.478,9.144,22.71845063,11.35922544,0.567961272,-56.22816542\n251.565051,14.732,9.906,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,14.986,9.144,56.22529674,8.032185358,0.803218612,-79.51863395\n135,15.494,8.636,17.96051221,17.96051221,0.718420458,-35.20260397\n153.434949,16.002,8.382,22.71845063,11.35922544,0.567961272,-56.22816542\n161.565051,16.764,8.128,24.09655582,8.032185358,0.803218612,-79.51863395\n180,17.526,8.128,0,25.4,0.762,-24.638\n198.434949,18.288,8.382,56.22529674,8.032185358,0.803218612,-79.51863395\n225,18.796,8.89,17.96051221,17.96051221,0.718420458,-35.20260397\n251.565051,19.05,9.652,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,19.304,8.89,56.22529674,8.032185358,0.803218612,-79.51863395\n116.565051,19.812,7.874,34.07767607,11.35922544,1.135922544,-55.66020415\n135,20.574,7.112,17.96051221,17.96051221,1.077630814,-34.84339386\n161.565051,21.336,6.858,24.09655582,8.032185358,0.803218612,-79.51863395\n180,22.098,6.858,0,25.4,0.762,-24.638\n90,22.098,6.096,0,25.4,0.762,-24.638\n111.801409,22.606,4.826,56.59993912,4.716661636,1.36783191,-135.4153543\n126.869898,23.368,3.81,35.56,5.08,1.27,-125.73\n149.036243,24.638,3.048,56.62883289,4.356064186,1.481061808,-146.6251165\n338.587031,11.684,8.128,627.3335515,0.463661252,13.91447154,-1377.532674\n338.198591,20.32,17.526,80.18324705,4.716661636,1.36783191,-135.4153543\n323.972627,18.034,15.748,218.4910814,1.867445084,3.454773634,-342.0225773\n315,15.24,13.462,17.96051221,17.96051221,2.873681832,-33.04734259\n135,14.732,13.97,17.96051221,17.96051221,1.796051272,-34.12497315\n126.869898,17.272,16.51,35.56,5.08,2.54,-124.46\n105.945396,19.558,18.288,80.24604144,3.488958224,1.84914794,-183.0656433\n30.963757,22.098,20.32,91.47734537,4.356064186,1.481061808,-146.6251165\n14.036243,21.082,20.066,80.0852635,6.160405002,1.047268924,-103.6796141\n0,20.32,20.066,0,25.4,0.762,-24.638\n341.565051,19.558,20.32,24.09655582,8.032185358,0.803218612,-79.51863395\n333.434949,19.05,20.574,22.71845063,11.35922544,0.567961272,-56.22816542\n63.434949,18.796,20.066,22.71845063,11.35922544,0.567961272,-56.22816542\n45,18.288,19.558,17.96051221,17.96051221,0.718420458,-35.20260397\n33.690068,17.526,19.05,35.22346245,7.04469254,0.915809954,-90.6651923\n18.434949,16.764,18.796,56.22529674,8.032185358,0.803218612,-79.51863395\n0,16.002,18.796,0,25.4,0.762,-24.638\n341.565051,15.24,19.05,24.09655582,8.032185358,0.803218612,-79.51863395\n108.434949,15.494,18.288,56.22529674,8.032185358,0.803218612,-79.51863395\n90,15.494,17.526,0,25.4,0.762,-24.638\n75.963757,15.24,16.51,24.6416195,6.160405002,1.047268924,-103.6796141\n45,14.478,15.748,17.96051221,17.96051221,1.077630814,-34.84339386\n14.036243,13.462,15.494,80.0852635,6.160405002,1.047268924,-103.6796141\n0,12.7,15.494,0,25.4,0.762,-24.638\n126.869898,13.462,14.478,35.56,5.08,1.27,-125.73\n90,13.462,13.716,0,25.4,0.762,-24.638\n75.963757,13.208,12.7,24.6416195,6.160405002,1.047268924,-103.6796141\n56.309932,12.7,11.938,56.35753981,7.04469254,0.915809954,-90.6651923\n191.309932,13.97,12.192,104.6083465,4.981349956,1.29515108,-128.2199447\n168.690068,15.24,11.938,24.90674927,4.981349956,1.29515108,-128.2199447\n161.565051,16.764,11.43,24.09655582,8.032185358,1.60643697,-78.71541559\n143.130102,17.78,10.668,91.44,5.08,1.27,-125.73\n270,17.78,10.922,0,25.4,0.254,-25.146\n270,17.78,11.684,0,25.4,0.762,-24.638\n243.434949,18.288,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n213.690068,19.05,13.208,35.22346245,7.04469254,0.915809954,-90.6651923\n198.434949,19.812,13.462,56.22529674,8.032185358,0.803218612,-79.51863395\n180,20.828,13.462,0,25.4,1.016,-24.384\n146.309932,21.59,12.954,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,21.082,13.716,35.22346245,7.04469254,0.915809954,-90.6651923\n270,21.082,14.478,0,25.4,0.762,-24.638\n270,21.082,15.494,0,25.4,1.016,-24.384\n243.434949,21.59,16.51,22.71845063,11.35922544,1.135922544,-55.66020415\n225,22.098,17.018,17.96051221,17.96051221,0.718420458,-35.20260397\n296.565051,21.844,17.526,34.07767607,11.35922544,0.567961272,-56.22816542\n270,21.844,18.034,0,25.4,0.508,-24.892\n255.963757,22.098,19.05,24.6416195,6.160405002,1.047268924,-103.6796141\n243.434949,22.606,20.066,22.71845063,11.35922544,1.135922544,-55.66020415\n233.130102,23.368,21.082,91.44,5.08,1.27,-125.73\n40.601295,12.7,11.938,35.81521869,2.755016842,14.05058582,-220.1258435\n195.945396,6.604,13.716,80.24604144,3.488958224,1.84914794,-183.0656433\n5.194429,7.366,13.97,255.2564824,2.29960805,2.805521694,-277.7466482\n19.983107,7.112,17.272,217.0068451,2.170068558,2.9729938,-294.3263839\n185.710593,5.842,17.272,229.9928961,2.527394488,2.552668504,-252.7141722\n164.054604,5.588,20.066,104.6687498,3.488958224,1.84914794,-183.0656433\n45,6.858,20.066,17.96051221,17.96051221,1.436840916,-34.48418351\n90,5.334,23.368,0,25.4,1.016,-24.384\n75.963757,5.08,22.352,24.6416195,6.160405002,1.047268924,-103.6796141\n243.434949,7.874,11.938,22.71845063,11.35922544,1.135922544,-55.66020415\n236.309932,8.382,12.7,56.35753981,7.04469254,0.915809954,-90.6651923\n225,9.144,13.462,17.96051221,17.96051221,1.077630814,-34.84339386\n213.690068,9.906,13.97,35.22346245,7.04469254,0.915809954,-90.6651923\n189.462322,11.43,14.224,129.4477627,4.175734346,1.545021802,-152.9571465\n333.434949,10.922,14.478,22.71845063,11.35922544,0.567961272,-56.22816542\n326.309932,10.16,14.986,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,9.652,15.748,35.22346245,7.04469254,0.915809954,-90.6651923\n270,9.652,16.764,0,25.4,1.016,-24.384\n251.565051,9.906,17.526,24.09655582,8.032185358,0.803218612,-79.51863395\n236.309932,10.414,18.288,56.35753981,7.04469254,0.915809954,-90.6651923\n213.690068,11.176,18.796,35.22346245,7.04469254,0.915809954,-90.6651923\n0,10.16,18.796,0,25.4,1.016,-24.384\n333.434949,9.144,19.304,22.71845063,11.35922544,1.135922544,-55.66020415\n306.869898,8.382,20.32,35.56,5.08,1.27,-125.73\n284.036243,8.128,21.336,80.0852635,6.160405002,1.047268924,-103.6796141\n341.565051,7.366,21.59,24.09655582,8.032185358,0.803218612,-79.51863395\n326.309932,6.604,22.098,56.35753981,7.04469254,0.915809954,-90.6651923\n303.690068,6.096,22.86,35.22346245,7.04469254,0.915809954,-90.6651923\n296.565051,5.334,24.384,34.07767607,11.35922544,1.703883816,-55.09224288\n56.309932,4.572,21.59,56.35753981,7.04469254,0.915809954,-90.6651923\n45,4.064,21.082,17.96051221,17.96051221,0.718420458,-35.20260397\n33.690068,3.302,20.574,35.22346245,7.04469254,0.915809954,-90.6651923\n116.565051,3.556,20.066,34.07767607,11.35922544,0.567961272,-56.22816542\n108.434949,3.81,19.304,56.22529674,8.032185358,0.803218612,-79.51863395\n90,3.81,18.288,0,25.4,1.016,-24.384\n63.434949,3.302,17.272,22.71845063,11.35922544,1.135922544,-55.66020415\n33.690068,2.54,16.764,35.22346245,7.04469254,0.915809954,-90.6651923\n165.963757,3.556,16.51,24.6416195,6.160405002,1.047268924,-103.6796141\n143.130102,4.572,15.748,91.44,5.08,1.27,-125.73\n116.565051,5.08,14.732,34.07767607,11.35922544,1.135922544,-55.66020415\n75.963757,4.826,13.716,24.6416195,6.160405002,1.047268924,-103.6796141\n63.434949,4.318,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n180,5.334,12.7,0,25.4,1.016,-24.384\n165.963757,6.35,12.446,24.6416195,6.160405002,1.047268924,-103.6796141\n135,6.858,11.938,17.96051221,17.96051221,0.718420458,-35.20260397\n116.565051,7.366,10.922,34.07767607,11.35922544,1.135922544,-55.66020415\n278.583621,5.334,24.384,847.7664863,0.473877386,13.61449474,-1347.834983\n104.036243,7.62,5.08,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,8.128,4.318,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,9.144,3.81,22.71845063,11.35922544,1.135922544,-55.66020415\n180,9.906,3.81,0,25.4,0.762,-24.638\n206.565051,10.922,4.318,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,11.43,5.08,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,11.684,6.096,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,11.43,6.858,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,10.922,7.62,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,9.906,8.128,22.71845063,11.35922544,1.135922544,-55.66020415\n0,9.144,8.128,0,25.4,0.762,-24.638\n26.565051,8.128,7.62,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,7.62,6.858,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,7.366,6.096,24.09655582,8.032185358,0.803218612,-79.51863395\n104.036243,4.064,7.874,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,4.572,7.112,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,5.588,6.604,22.71845063,11.35922544,1.135922544,-55.66020415\n180,6.35,6.604,0,25.4,0.762,-24.638\n206.565051,7.366,7.112,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,7.874,7.874,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,8.128,8.89,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,7.874,9.652,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,7.366,10.414,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,6.35,10.922,22.71845063,11.35922544,1.135922544,-55.66020415\n0,5.588,10.922,0,25.4,0.762,-24.638\n26.565051,4.572,10.414,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,4.064,9.652,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,3.81,8.89,24.09655582,8.032185358,0.803218612,-79.51863395\n104.036243,8.636,9.652,80.0852635,6.160405002,1.047268924,-103.6796141\n123.690068,9.144,8.89,35.22346245,7.04469254,0.915809954,-90.6651923\n153.434949,10.16,8.382,22.71845063,11.35922544,1.135922544,-55.66020415\n180,10.922,8.382,0,25.4,0.762,-24.638\n206.565051,11.938,8.89,34.07767607,11.35922544,1.135922544,-55.66020415\n236.309932,12.446,9.652,56.35753981,7.04469254,0.915809954,-90.6651923\n255.963757,12.7,10.668,24.6416195,6.160405002,1.047268924,-103.6796141\n288.434949,12.446,11.43,56.22529674,8.032185358,0.803218612,-79.51863395\n303.690068,11.938,12.192,35.22346245,7.04469254,0.915809954,-90.6651923\n333.434949,10.922,12.7,22.71845063,11.35922544,1.135922544,-55.66020415\n0,10.16,12.7,0,25.4,0.762,-24.638\n26.565051,9.144,12.192,34.07767607,11.35922544,1.135922544,-55.66020415\n56.309932,8.636,11.43,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,8.382,10.668,24.09655582,8.032185358,0.803218612,-79.51863395\n")),Ud(Id.ParsePatFile("\n*HONEY,HONEY\n0, 0,0, 4.7625,2.74963, 3.175,-6.35\n120, 0,0, 4.7625,2.74963, 3.175,-6.35\n60, 0,0, 4.7625,2.74963, -6.35,3.175\n")),Ud(Id.ParsePatFile("\n*HOUND,HOUND\n0, 0,0, 6.35,1.5875, 25.4,-12.7\n90, 0,0, -6.35,1.5875, 25.4,-12.7\n")),Ud(Id.ParsePatFile("\n*INSUL,INSUL\n0, 0,0, 0,9.525\n0, 0,3.175, 0,9.525, 3.175,-3.175\n0, 0,6.35, 0,9.525, 3.175,-3.175\n")),Ud(Id.ParsePatFile("\n*JIS_LC_20,JIS_LC_20\n45, 0,0, 0,20\n45, .4,0, 0,20\n")),Ud(Id.ParsePatFile("\n*JIS_LC_20A,JIS_LC_20A\n45, 0,0, 0,20\n45, 1,0, 0,20\n")),Ud(Id.ParsePatFile("\n*JIS_LC_8,JIS_LC_8\n45, 0,0, 0,7.8\n45, .4,0, 0,7.8\n")),Ud(Id.ParsePatFile("\n*JIS_LC_8A,JIS_LC_8A\n45, 0,0, 0,7.8\n45, 1,0, 0,7.8\n")),Ud(Id.ParsePatFile("\n*JIS_RC_10,JIS_RC_10\n45, 0,0, 0,10\n45, .725,0, 0,10\n45, 1.45,0, 0,10\n")),Ud(Id.ParsePatFile("\n*JIS_RC_15,JIS_RC_15\n45, 0,0, 0,15\n45, .725,0, 0,15\n45, 1.45,0, 0,15\n")),Ud(Id.ParsePatFile("\n*JIS_RC_18,JIS_RC_18\n45, 0,0, 0,18\n45, 1,0, 0,18\n45, 2,0, 0,18\n")),Ud(Id.ParsePatFile("\n*JIS_RC_30,JIS_RC_30\n45, 0,0, 0,30\n45, 1,0, 0,30\n45, 2,0, 0,30\n")),Ud(Id.ParsePatFile("\n*JIS_STN_1E,JIS_STN_1E\n45, 0,0, 0,1\n45, .705,0, 0,1, 1,-.5\n")),Ud(Id.ParsePatFile("\n*JIS_STN_2.5,JIS_STN_2.5\n45, 0,0, 0,2.5\n45, 1.765,0, 0,2.5, 1.2,-.5\n")),Ud(Id.ParsePatFile("\n*JIS_WOOD,JIS_WOOD\n45, 0,0, 0,.70710678\n")),Ud(Id.ParsePatFile("\n*LATTICE-01\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,2.162738626,10.16,0,25.4,4.325477252,-21.074522748\n270,15.24,2.162738626,25.4,25.4,4.325477252,-21.074522748\n270,10.16,2.162738626,25.4,25.4,4.325477252,-21.074522748\n135,12.7,6.80694346,17.960512212,17.960512212,8.334040482,-27.586983942\n225,18.59305654,12.7,17.960512212,17.960512212,8.334040482,-27.586983942\n45,2.162738626,15.24,17.960512212,17.960512212,11.309835394,-24.61118903\n180,2.162738626,15.24,0,25.4,4.325477252,-21.074522748\n315,12.7,18.59305654,17.960512212,17.960512212,8.334040482,-27.586983942\n45,6.80694346,12.7,17.960512212,17.960512212,8.334040482,-27.586983942\n315,15.24,23.237261374,17.960512212,17.960512212,11.309835394,-24.61118903\n45,15.24,2.162738626,17.960512212,17.960512212,11.309835394,-24.61118903\n315,2.162738626,10.16,17.960512212,17.960512212,11.309835394,-24.61118903\n")),Ud(Id.ParsePatFile("\n*LATTICE-02\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,9.736666582,9.736666582,0,25.4,19.473333164,-5.926666836\n270,15.663333418,25.4,25.4,25.4,25.4;,0 Removed 0 IT RENDERS A POINT\n180,9.736666582,15.663333418,0,25.4,19.473333164,-5.926666836\n270,9.736666582,25.4,25.4,25.4,25.4;,0 Removed 0 IT RENDERS A POINT\n")),Ud(Id.ParsePatFile("\n*LATTICE-03\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,9.736666582,9.736666582,0,25.4,19.473333164,-5.926666836\n180,9.736666582,15.663333418,0,25.4,19.473333164,-5.926666836\n270,15.663333418,9.736666582,25.4,25.4,19.473333164,-5.926666836\n270,9.736666582,9.736666582,25.4,25.4,19.473333164,-5.926666836\n")),Ud(Id.ParsePatFile("\n*LATTICE-04\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n296.565051,3.894666582,11.684,34.077676066,11.35922544,28.776704194,-28.019422498\n296.565051,8.636000254,14.054666582,34.077676066,11.35922544,28.776704194,-28.019422498\n206.565051,11.684,21.505333418,34.077676066,11.35922544,28.776704194,-28.019422498\n206.565051,14.054666582,16.763999746,34.077676066,11.35922544,28.776704194,-28.019422498\n")),Ud(Id.ParsePatFile("\n*LATTICE-05,LATTICE-05\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n0,19.685,1.905,0,25.4,3.81,-21.59\n180,5.715,23.495,0,25.4,3.81,-21.59\n180,15.875,5.715,0,25.4,10.16,-15.24\n180,15.875,1.905,0,25.4,13.97,-11.43\n270,15.875,5.715,0,25.4,3.81,-21.59\n270,19.685,19.685,0,25.4,17.78,-7.62\n270,23.495,23.495,0,25.4,21.59,-3.81\n0,9.525,19.685,0,25.4,10.16,-15.24\n0,9.525,23.495,0,25.4,13.97,-11.43\n90,9.525,19.685,0,25.4,3.81,-21.59\n90,5.715,5.715,0,25.4,17.78,-7.62\n90,1.905,1.905,0,25.4,21.59,-3.81\n")),Ud(Id.ParsePatFile("\n*LATTICE-06,LATTICE-06\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n180,15.875,9.525,0,25.4,6.35,-19.05\n270,15.875,15.875,0,25.4,6.35,-19.05\n0,9.525,15.875,0,25.4,6.35,-19.05\n90,9.525,9.525,0,25.4,6.35,-19.05\n0,19.685,1.905,0,25.4,3.81,-21.59\n180,5.715,23.495,0,25.4,3.81,-21.59\n180,15.875,5.715,0,25.4,10.16,-15.24\n180,15.875,1.905,0,25.4,13.97,-11.43\n270,15.875,5.715,0,25.4,3.81,-21.59\n270,19.685,19.685,0,25.4,17.78,-7.62\n270,23.495,23.495,0,25.4,21.59,-3.81\n0,9.525,19.685,0,25.4,10.16,-15.24\n0,9.525,23.495,0,25.4,13.97,-11.43\n90,9.525,19.685,0,25.4,3.81,-21.59\n90,5.715,5.715,0,25.4,17.78,-7.62\n90,1.905,1.905,0,25.4,21.59,-3.81\n")),Ud(Id.ParsePatFile("\n*LATTICE-07\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,17.568333418,17.568333164,25.4,25.4,22.436666582,-2.963333418\n270,20.531666836,17.568333164,25.4,25.4,22.436666582,-2.963333418\n270,4.868333164,4.868333418,25.4,25.4,22.436666582,-2.963333418\n270,7.831666582,4.868333418,25.4,25.4,22.436666582,-2.963333418\n180,17.568333418,7.831666582,0,25.4,22.436666582,-2.963333418\n180,17.568333418,4.868333164,0,25.4,22.436666582,-2.963333418\n180,4.868333418,20.531666836,0,25.4,22.436666582,-2.963333418\n180,4.868333418,17.568333418,0,25.4,22.436666582,-2.963333418\n")),Ud(Id.ParsePatFile("\n*LEAF-01,LEAF-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n83.659808,22.86,5.08,25.244646742,2.804960862,2.30006779,-227.706714766\n26.565051,22.352,4.826,34.077676066,11.35922544,0.567961272,-56.22816542\n14.036243,21.336,4.572,80.085263502,6.160405002,1.047268924,-103.679614078\n315,21.336,4.572,17.960512212,17.960512212,1.436840916,-34.484183508\n83.659808,21.336,4.572,25.244646742,2.804960862,2.30006779,-227.706714766\n0,20.066,4.572,0,25.4,1.27,-24.13\n345.963757,20.828,3.048,24.6416195,6.160405002,1.047268924,-103.679614078\n326.309932,20.066,3.556,56.357539812,7.04469254,0.915809954,-90.665192304\n303.690068,19.558,4.318,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,18.796,4.064,56.225296744,8.032185358,0.803218612,-79.518633952\n288.434949,18.542,4.826,56.225296744,8.032185358,0.803218612,-79.518633952\n180,19.558,4.826,0,25.4,1.016,-24.384\n258.690068,19.812,6.096,24.906749272,4.981349956,1.29515108,-128.219944728\n243.434949,20.066,6.604,22.718450626,11.35922544,0.567961272,-56.22816542\n225,20.828,7.366,17.960512212,17.960512212,1.077630814,-34.843393864\n213.690068,21.59,7.874,35.223462446,7.04469254,0.915809954,-90.665192304\n191.309932,22.86,8.128,104.608346536,4.981349956,1.29515108,-128.219944728\n128.659808,7.62,10.668,35.701322044,3.966813504,1.626393496,-161.0129622\n143.130102,8.636,9.906,91.44,5.08,1.27,-125.73\n153.434949,9.652,9.398,22.718450626,11.35922544,1.135922544,-55.660204148\n192.528808,9.652,9.398,104.69063898,2.755016842,2.341764176,-231.834664854\n105.945396,9.652,9.398,80.246041438,3.488958224,1.84914794,-183.065643266\n153.434949,10.668,8.89,22.718450626,11.35922544,1.135922544,-55.660204148\n149.036243,11.938,8.128,56.628832894,4.356064186,1.481061808,-146.625116452\n95.710593,11.938,8.128,229.992896122,2.527394488,2.552668504,-252.714172244\n194.931417,11.938,8.128,289.599936166,1.636157764,3.94314045,-390.37089693\n135,12.954,7.112,17.960512212,17.960512212,1.436840916,-34.484183508\n123.690068,13.462,6.35,35.223462446,7.04469254,0.915809954,-90.665192304\n199.653824,13.462,6.35,297.294468148,1.708588912,3.775981526,-373.822164724\n71.565051,13.462,6.35,24.09655582,8.032185358,2.409655582,-77.912196982\n119.054604,14.732,4.064,204.766485564,2.467066186,2.61509002,-258.893915536\n288.434949,14.732,3.556,56.225296744,8.032185358,1.60643697,-78.715415594\n21.801409,13.462,3.048,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,12.192,2.794,104.608346536,4.981349956,1.29515108,-128.219944728\n0,11.43,2.794,0,25.4,0.762,-24.638\n341.565051,9.906,3.302,24.09655582,8.032185358,1.60643697,-78.715415594\n326.309932,8.382,4.318,56.357539812,7.04469254,1.831620162,-89.74938235\n308.659808,7.366,5.588,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,6.604,6.858,91.477345366,4.356064186,1.481061808,-146.625116452\n285.945396,6.096,8.636,80.246041438,3.488958224,1.84914794,-183.065643266\n270,6.096,10.414,0,25.4,1.778,-23.622\n279.462322,5.842,11.938,129.447762694,4.175734346,1.545021802,-152.95714646\n285.945396,5.334,13.716,80.246041438,3.488958224,1.84914794,-183.065643266\n123.690068,5.842,12.954,35.223462446,7.04469254,0.915809954,-90.665192304\n161.565051,6.604,12.7,24.09655582,8.032185358,0.803218612,-79.518633952\n171.869898,8.382,12.446,25.144717046,3.592102544,1.796051272,-177.809071102\n171.869898,10.16,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n161.565051,11.684,11.684,24.09655582,8.032185358,1.60643697,-78.715415594\n161.565051,13.208,11.176,24.09655582,8.032185358,1.60643697,-78.715415594\n146.309932,14.732,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n119.744881,15.748,8.382,148.072666262,3.150482142,2.047813532,-202.733533318\n111.801409,16.256,7.112,56.599939124,4.716661636,1.36783191,-135.415354264\n90,16.256,6.096,0,25.4,1.016,-24.384\n75.963757,16.002,5.08,24.6416195,6.160405002,1.047268924,-103.679614078\n56.309932,15.494,4.318,56.357539812,7.04469254,0.915809954,-90.665192304\n63.434949,15.24,3.81,22.718450626,11.35922544,0.567961272,-56.22816542\n126.869898,16.002,2.794,35.56,5.08,1.27,-125.73\n45,15.24,2.032,17.960512212,17.960512212,1.077630814,-34.843393864\n233.130102,22.606,1.016,91.44,5.08,1.27,-125.73\n258.690068,1.778,1.27,24.906749272,4.981349956,1.29515108,-128.219944728\n258.690068,3.556,1.27,24.906749272,4.981349956,1.29515108,-128.219944728\n198.434949,6.604,0.508,56.225296744,8.032185358,1.60643697,-78.715415594\n225,7.874,0.508,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,8.636,0.762,56.225296744,8.032185358,0.803218612,-79.518633952\n348.690068,7.366,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n345.963757,6.35,1.27,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,5.334,1.778,22.718450626,11.35922544,1.135922544,-55.660204148\n333.434949,3.81,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,2.54,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n0,1.778,2.794,0,25.4,0.762,-24.638\n8.130102,0,2.54,154.460405328,3.592102544,1.796051272,-177.809071102\n236.309932,0.508,5.842,56.357539812,7.04469254,0.915809954,-90.665192304\n236.309932,1.016,6.604,56.357539812,7.04469254,0.915809954,-90.665192304\n213.690068,1.778,7.112,35.223462446,7.04469254,0.915809954,-90.665192304\n0,0.762,7.112,0,25.4,1.016,-24.384\n326.309932,0,7.62,56.357539812,7.04469254,0.915809954,-90.665192304\n18.434949,0,6.604,56.225296744,8.032185358,0.803218612,-79.518633952\n0,0,13.97,0,25.4,1.778,-23.622\n14.036243,2.54,15.494,80.085263502,6.160405002,1.047268924,-103.679614078\n21.801409,1.27,14.986,56.599939124,4.716661636,1.36783191,-135.415354264\n30.963757,0,14.224,91.477345366,4.356064186,1.481061808,-146.625116452\n254.054604,0.508,16.764,104.668749768,3.488958224,1.84914794,-183.065643266\n158.198591,1.27,17.526,80.18324705,4.716661636,1.36783191,-135.415354264\n153.434949,2.794,16.764,22.718450626,11.35922544,1.703883816,-55.092242876\n158.198591,4.064,16.256,80.18324705,4.716661636,1.36783191,-135.415354264\n180,5.334,16.256,0,25.4,1.27,-24.13\n33.690068,4.572,15.748,35.223462446,7.04469254,0.915809954,-90.665192304\n45,4.064,15.24,17.960512212,17.960512212,0.718420458,-35.202603966\n53.130102,3.302,14.224,91.44,5.08,1.27,-125.73\n56.309932,2.286,12.7,56.357539812,7.04469254,1.831620162,-89.74938235\n51.340192,1.27,11.43,126.938033652,3.966813504,1.626393496,-161.0129622\n38.659808,0,10.414,35.701322044,3.966813504,1.626393496,-161.0129622\n180,20.828,12.192,0,25.4,2.54,-22.86\n310.601295,20.828,12.192,35.815218692,2.755016842,2.341764176,-231.834664854\n82.405357,20.828,12.192,204.774468022,1.678479244,3.843717484,-380.528029646\n180,21.336,12.192,0,25.4,0.508,-24.892\n194.036243,22.352,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n198.434949,23.114,12.7,56.225296744,8.032185358,0.803218612,-79.518633952\n0,21.082,9.398,0,25.4,2.032,-23.368\n348.690068,19.812,9.652,24.906749272,4.981349956,1.29515108,-128.219944728\n321.340192,18.542,10.668,126.938033652,3.966813504,1.626393496,-161.0129622\n300.963757,17.78,11.938,91.477345366,4.356064186,1.481061808,-146.625116452\n21.801409,16.51,11.43,56.599939124,4.716661636,1.36783191,-135.415354264\n284.036243,16.256,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n180,17.78,12.446,0,25.4,1.524,-23.876\n261.869898,18.034,14.224,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,18.542,15.494,80.18324705,4.716661636,1.36783191,-135.415354264\n225,19.558,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n216.869898,20.574,17.272,35.56,5.08,1.27,-125.73\n198.434949,22.86,18.034,56.225296744,8.032185358,2.409655582,-77.912196982\n153.434949,9.144,16.51,22.718450626,11.35922544,1.703883816,-55.092242876\n170.537678,10.668,16.256,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,12.446,16.51,154.460405328,3.592102544,1.796051272,-177.809071102\n201.801409,13.716,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n219.805571,15.24,18.288,35.773504272,3.252136752,1.9838035,-196.396538372\n18.434949,24.638,6.35,56.225296744,8.032185358,0.803218612,-79.518633952\n33.690068,23.876,5.842,35.223462446,7.04469254,0.915809954,-90.665192304\n0,23.876,5.842,0,25.4,1.016,-24.384\n80.537678,23.876,5.842,25.054405568,4.175734346,1.545021802,-152.95714646\n36.869898,22.86,5.08,35.56,5.08,1.27,-125.73\n341.565051,22.86,5.08,24.09655582,8.032185358,1.60643697,-78.715415594\n53.130102,24.638,4.064,91.44,5.08,1.27,-125.73\n38.659808,23.368,3.048,35.701322044,3.966813504,1.626393496,-161.0129622\n9.462322,21.844,2.794,129.447762694,4.175734346,1.545021802,-152.95714646\n180,24.13,8.128,0,25.4,1.27,-24.13\n158.198591,25.4,7.62,80.18324705,4.716661636,1.36783191,-135.415354264\n216.869898,23.622,1.778,35.56,5.08,1.27,-125.73\n206.565051,24.638,2.286,34.077676066,11.35922544,1.135922544,-55.660204148\n198.434949,25.4,2.54,56.225296744,8.032185358,0.803218612,-79.518633952\n90,24.638,0,0,25.4,0.508,-24.892\n26.565051,24.384,13.462,34.077676066,11.35922544,1.135922544,-55.660204148\n56.309932,24.384,13.462,56.357539812,7.04469254,1.831620162,-89.74938235\n36.869898,24.384,13.462,35.56,5.08,1.27,-125.73\n30.963757,23.114,12.7,91.477345366,4.356064186,1.481061808,-146.625116452\n78.690068,23.114,12.7,24.906749272,4.981349956,3.885452986,-125.629642822\n156.037511,25.4,11.684,193.423444496,2.578979348,2.501609932,-247.659378188\n30.963757,24.13,9.652,91.477345366,4.356064186,1.481061808,-146.625116452\n14.036243,23.114,9.398,80.085263502,6.160405002,1.047268924,-103.679614078\n180,25.4,18.034,0,25.4,2.54,-22.86\n0,21.844,22.098,0,25.4,2.286,-23.114\n11.309932,24.13,22.098,104.608346536,4.981349956,1.29515108,-128.219944728\n135,25.4,20.828,17.960512212,17.960512212,1.796051272,-34.124973152\n0,24.384,19.304,0,25.4,1.016,-24.384\n345.963757,23.368,19.558,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,22.352,20.066,22.718450626,11.35922544,1.135922544,-55.660204148\n315,21.844,20.574,17.960512212,17.960512212,0.718420458,-35.202603966\n306.869898,21.082,21.59,35.56,5.08,1.27,-125.73\n11.309932,19.812,21.336,104.608346536,4.981349956,1.29515108,-128.219944728\n284.036243,19.558,22.352,80.085263502,6.160405002,1.047268924,-103.679614078\n180,21.082,22.352,0,25.4,1.524,-23.876\n14.036243,16.51,22.606,80.085263502,6.160405002,1.047268924,-103.679614078\n18.434949,15.748,22.352,56.225296744,8.032185358,0.803218612,-79.518633952\n33.690068,14.986,21.844,35.223462446,7.04469254,0.915809954,-90.665192304\n230.194429,16.51,19.812,162.6068376,3.252136752,1.9838035,-196.396538372\n239.036243,17.272,21.082,56.628832894,4.356064186,1.481061808,-146.625116452\n236.309932,18.288,22.606,56.357539812,7.04469254,1.831620162,-89.74938235\n213.690068,19.05,23.114,35.223462446,7.04469254,0.915809954,-90.665192304\n198.434949,19.812,23.368,56.225296744,8.032185358,0.803218612,-79.518633952\n0,18.796,23.368,0,25.4,1.016,-24.384\n345.963757,17.78,23.622,24.6416195,6.160405002,1.047268924,-103.679614078\n261.869898,21.336,24.13,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,21.844,25.4,80.18324705,4.716661636,1.36783191,-135.415354264\n36.869898,13.97,21.082,35.56,5.08,1.27,-125.73\n0,13.97,21.082,0,25.4,2.032,-23.368\n78.690068,13.97,21.082,24.906749272,4.981349956,2.590301906,-126.924793648\n33.690068,13.208,20.574,35.223462446,7.04469254,0.915809954,-90.665192304\n30.963757,11.938,19.812,91.477345366,4.356064186,1.481061808,-146.625116452\n336.037511,11.938,19.812,193.423444496,2.578979348,2.501609932,-247.659378188\n79.380345,11.938,19.812,283.976346702,1.560309554,4.134820534,-409.347222706\n26.565051,10.922,19.304,34.077676066,11.35922544,1.135922544,-55.660204148\n9.462322,9.398,19.05,129.447762694,4.175734346,1.545021802,-152.95714646\n318.814075,9.398,19.05,234.164238554,2.389431086,2.700057084,-267.30564649\n82.405357,9.398,19.05,204.774468022,1.678479244,3.843717484,-380.528029646\n0,8.382,19.05,0,25.4,1.016,-24.384\n0,7.366,19.05,0,25.4,1.016,-24.384\n0,5.08,19.304,0,25.4,1.524,-23.876\n104.036243,5.334,18.288,80.085263502,6.160405002,1.047268924,-103.679614078\n201.801409,6.604,18.796,56.599939124,4.716661636,1.36783191,-135.415354264\n123.690068,7.62,17.272,35.223462446,7.04469254,1.831620162,-89.74938235\n338.198591,16.51,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,14.986,24.892,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,13.716,25.146,24.906749272,4.981349956,1.29515108,-128.219944728\n0,11.684,25.146,0,25.4,2.032,-23.368\n18.434949,10.16,24.638,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,8.636,23.876,34.077676066,11.35922544,1.703883816,-55.092242876\n45,7.366,22.606,17.960512212,17.960512212,1.796051272,-34.124973152\n71.565051,6.858,21.082,24.09655582,8.032185358,1.60643697,-78.715415594\n81.869898,6.604,19.304,25.144717046,3.592102544,1.796051272,-177.809071102\n;0,5.08,19.304,0,25.4,1.524,-23.876\n315,0,20.828,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,0.762,22.606,56.225296744,8.032185358,0.803218612,-79.518633952\n343.300756,0.762,22.606,184.898786158,2.432878802,2.651837978,-262.531947376\n74.744881,0.762,22.606,104.703186326,2.22772732,2.896045516,-286.708512434\n206.565051,1.27,22.86,34.077676066,11.35922544,0.567961272,-56.22816542\n213.690068,2.032,23.368,35.223462446,7.04469254,0.915809954,-90.665192304\n216.869898,3.048,24.13,35.56,5.08,1.27,-125.73\n352.874984,3.048,24.13,25.203858152,3.150482142,2.047813532,-202.733533318\n78.690068,3.048,24.13,24.906749272,4.981349956,1.29515108,-128.219944728\n213.690068,3.81,24.638,35.223462446,7.04469254,0.915809954,-90.665192304\n213.690068,4.572,25.146,35.223462446,7.04469254,0.915809954,-90.665192304\n206.565051,5.08,25.4,34.077676066,11.35922544,0.567961272,-56.22816542\n45,7.112,25.146,17.960512212,17.960512212,0.359210356,-35.561814322\n56.309932,6.604,24.384,56.357539812,7.04469254,0.915809954,-90.665192304\n56.309932,5.588,22.86,56.357539812,7.04469254,1.831620162,-89.74938235\n53.130102,4.826,21.844,91.44,5.08,1.27,-125.73\n45,3.556,20.574,17.960512212,17.960512212,1.796051272,-34.124973152\n36.869898,2.54,19.812,35.56,5.08,1.27,-125.73\n18.434949,1.016,19.304,56.225296744,8.032185358,1.60643697,-78.715415594\n0,0,19.304,0,25.4,1.016,-24.384\n81.253838,24.13,22.098,179.594740378,1.931126186,3.340848284,-330.743991038\n")),Ud(Id.ParsePatFile("\n*LEAF-02,LEAF-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n303.690068,19.558,4.318,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,18.796,4.064,56.225296744,8.032185358,0.803218612,-79.518633952\n288.434949,18.542,4.826,56.225296744,8.032185358,0.803218612,-79.518633952\n180,19.558,4.826,0,25.4,1.016,-24.384\n258.690068,19.812,6.096,24.906749272,4.981349956,1.29515108,-128.219944728\n243.434949,20.066,6.604,22.718450626,11.35922544,0.567961272,-56.22816542\n288.434949,14.732,3.556,56.225296744,8.032185358,1.60643697,-78.715415594\n21.801409,13.462,3.048,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,12.192,2.794,104.608346536,4.981349956,1.29515108,-128.219944728\n0,11.43,2.794,0,25.4,0.762,-24.638\n341.565051,9.906,3.302,24.09655582,8.032185358,1.60643697,-78.715415594\n326.309932,8.382,4.318,56.357539812,7.04469254,1.831620162,-89.74938235\n308.659808,7.366,5.588,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,6.604,6.858,91.477345366,4.356064186,1.481061808,-146.625116452\n285.945396,6.096,8.636,80.246041438,3.488958224,1.84914794,-183.065643266\n270,6.096,10.414,0,25.4,1.778,-23.622\n279.462322,5.842,11.938,129.447762694,4.175734346,1.545021802,-152.95714646\n285.945396,5.334,13.716,80.246041438,3.488958224,1.84914794,-183.065643266\n123.690068,5.842,12.954,35.223462446,7.04469254,0.915809954,-90.665192304\n161.565051,6.604,12.7,24.09655582,8.032185358,0.803218612,-79.518633952\n171.869898,8.382,12.446,25.144717046,3.592102544,1.796051272,-177.809071102\n171.869898,10.16,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n161.565051,11.684,11.684,24.09655582,8.032185358,1.60643697,-78.715415594\n161.565051,13.208,11.176,24.09655582,8.032185358,1.60643697,-78.715415594\n146.309932,14.732,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n119.744881,15.748,8.382,148.072666262,3.150482142,2.047813532,-202.733533318\n111.801409,16.256,7.112,56.599939124,4.716661636,1.36783191,-135.415354264\n90,16.256,6.096,0,25.4,1.016,-24.384\n75.963757,16.002,5.08,24.6416195,6.160405002,1.047268924,-103.679614078\n56.309932,15.494,4.318,56.357539812,7.04469254,0.915809954,-90.665192304\n63.434949,15.24,3.81,22.718450626,11.35922544,0.567961272,-56.22816542\n126.869898,16.002,2.794,35.56,5.08,1.27,-125.73\n45,15.24,2.032,17.960512212,17.960512212,1.077630814,-34.843393864\n225,7.874,0.508,17.960512212,17.960512212,0.718420458,-35.202603966\n198.434949,8.636,0.762,56.225296744,8.032185358,0.803218612,-79.518633952\n348.690068,7.366,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n345.963757,6.35,1.27,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,5.334,1.778,22.718450626,11.35922544,1.135922544,-55.660204148\n333.434949,3.81,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,2.54,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n0,1.778,2.794,0,25.4,0.762,-24.638\n8.130102,0,2.54,154.460405328,3.592102544,1.796051272,-177.809071102\n236.309932,0.508,5.842,56.357539812,7.04469254,0.915809954,-90.665192304\n236.309932,1.016,6.604,56.357539812,7.04469254,0.915809954,-90.665192304\n213.690068,1.778,7.112,35.223462446,7.04469254,0.915809954,-90.665192304\n0,0.762,7.112,0,25.4,1.016,-24.384\n326.309932,0,7.62,56.357539812,7.04469254,0.915809954,-90.665192304\n158.198591,1.27,17.526,80.18324705,4.716661636,1.36783191,-135.415354264\n153.434949,2.794,16.764,22.718450626,11.35922544,1.703883816,-55.092242876\n158.198591,4.064,16.256,80.18324705,4.716661636,1.36783191,-135.415354264\n180,5.334,16.256,0,25.4,1.27,-24.13\n33.690068,4.572,15.748,35.223462446,7.04469254,0.915809954,-90.665192304\n45,4.064,15.24,17.960512212,17.960512212,0.718420458,-35.202603966\n53.130102,3.302,14.224,91.44,5.08,1.27,-125.73\n56.309932,2.286,12.7,56.357539812,7.04469254,1.831620162,-89.74938235\n51.340192,1.27,11.43,126.938033652,3.966813504,1.626393496,-161.0129622\n38.659808,0,10.414,35.701322044,3.966813504,1.626393496,-161.0129622\n321.340192,18.542,10.668,126.938033652,3.966813504,1.626393496,-161.0129622\n300.963757,17.78,11.938,91.477345366,4.356064186,1.481061808,-146.625116452\n21.801409,16.51,11.43,56.599939124,4.716661636,1.36783191,-135.415354264\n284.036243,16.256,12.446,80.085263502,6.160405002,1.047268924,-103.679614078\n180,17.78,12.446,0,25.4,1.524,-23.876\n261.869898,18.034,14.224,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,18.542,15.494,80.18324705,4.716661636,1.36783191,-135.415354264\n225,19.558,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n284.036243,19.558,22.352,80.085263502,6.160405002,1.047268924,-103.679614078\n0,5.08,19.304,0,25.4,1.524,-23.876\n104.036243,5.334,18.288,80.085263502,6.160405002,1.047268924,-103.679614078\n201.801409,6.604,18.796,56.599939124,4.716661636,1.36783191,-135.415354264\n123.690068,7.62,17.272,35.223462446,7.04469254,1.831620162,-89.74938235\n153.434949,9.144,16.51,22.718450626,11.35922544,1.703883816,-55.092242876\n170.537678,10.668,16.256,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,12.446,16.51,154.460405328,3.592102544,1.796051272,-177.809071102\n201.801409,13.716,17.018,56.599939124,4.716661636,1.36783191,-135.415354264\n219.805571,15.24,18.288,35.773504272,3.252136752,1.9838035,-196.396538372\n230.194429,16.51,19.812,162.6068376,3.252136752,1.9838035,-196.396538372\n239.036243,17.272,21.082,56.628832894,4.356064186,1.481061808,-146.625116452\n236.309932,18.288,22.606,56.357539812,7.04469254,1.831620162,-89.74938235\n213.690068,19.05,23.114,35.223462446,7.04469254,0.915809954,-90.665192304\n198.434949,19.812,23.368,56.225296744,8.032185358,0.803218612,-79.518633952\n0,18.796,23.368,0,25.4,1.016,-24.384\n345.963757,17.78,23.622,24.6416195,6.160405002,1.047268924,-103.679614078\n338.198591,16.51,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n45,7.366,22.606,17.960512212,17.960512212,1.796051272,-34.124973152\n71.565051,6.858,21.082,24.09655582,8.032185358,1.60643697,-78.715415594\n81.869898,6.604,19.304,25.144717046,3.592102544,1.796051272,-177.809071102\n;0,5.08,19.304,0,25.4,1.524,-23.876\n53.130102,4.826,21.844,91.44,5.08,1.27,-125.73\n45,3.556,20.574,17.960512212,17.960512212,1.796051272,-34.124973152\n36.869898,2.54,19.812,35.56,5.08,1.27,-125.73\n18.434949,1.016,19.304,56.225296744,8.032185358,1.60643697,-78.715415594\n0,0,19.304,0,25.4,1.016,-24.384\n0,24.384,19.304,0,25.4,1.016,-24.384\n345.963757,23.368,19.558,24.6416195,6.160405002,1.047268924,-103.679614078\n333.434949,22.352,20.066,22.718450626,11.35922544,1.135922544,-55.660204148\n315,21.844,20.574,17.960512212,17.960512212,0.718420458,-35.202603966\n306.869898,21.082,21.59,35.56,5.08,1.27,-125.73\n11.309932,19.812,21.336,104.608346536,4.981349956,1.29515108,-128.219944728\n180,21.082,22.352,0,25.4,1.524,-23.876\n261.869898,21.336,24.13,25.144717046,3.592102544,1.796051272,-177.809071102\n248.198591,21.844,25.4,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,14.986,24.892,22.718450626,11.35922544,1.703883816,-55.092242876\n348.690068,13.716,25.146,24.906749272,4.981349956,1.29515108,-128.219944728\n0,11.684,25.146,0,25.4,2.032,-23.368\n18.434949,10.16,24.638,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,8.636,23.876,34.077676066,11.35922544,1.703883816,-55.092242876\n45,7.112,25.146,17.960512212,17.960512212,0.359210356,-35.561814322\n56.309932,6.604,24.384,56.357539812,7.04469254,0.915809954,-90.665192304\n56.309932,5.588,22.86,56.357539812,7.04469254,1.831620162,-89.74938235\n53.130102,24.638,4.064,91.44,5.08,1.27,-125.73\n38.659808,23.368,3.048,35.701322044,3.966813504,1.626393496,-161.0129622\n9.462322,21.844,2.794,129.447762694,4.175734346,1.545021802,-152.95714646\n345.963757,20.828,3.048,24.6416195,6.160405002,1.047268924,-103.679614078\n326.309932,20.066,3.556,56.357539812,7.04469254,0.915809954,-90.665192304\n225,20.828,7.366,17.960512212,17.960512212,1.077630814,-34.843393864\n213.690068,21.59,7.874,35.223462446,7.04469254,0.915809954,-90.665192304\n191.309932,22.86,8.128,104.608346536,4.981349956,1.29515108,-128.219944728\n180,24.13,8.128,0,25.4,1.27,-24.13\n158.198591,25.4,7.62,80.18324705,4.716661636,1.36783191,-135.415354264\n233.130102,22.606,1.016,91.44,5.08,1.27,-125.73\n216.869898,23.622,1.778,35.56,5.08,1.27,-125.73\n206.565051,24.638,2.286,34.077676066,11.35922544,1.135922544,-55.660204148\n198.434949,25.4,2.54,56.225296744,8.032185358,0.803218612,-79.518633952\n30.963757,24.13,9.652,91.477345366,4.356064186,1.481061808,-146.625116452\n14.036243,23.114,9.398,80.085263502,6.160405002,1.047268924,-103.679614078\n0,21.082,9.398,0,25.4,2.032,-23.368\n348.690068,19.812,9.652,24.906749272,4.981349956,1.29515108,-128.219944728\n216.869898,20.574,17.272,35.56,5.08,1.27,-125.73\n198.434949,22.86,18.034,56.225296744,8.032185358,2.409655582,-77.912196982\n180,25.4,18.034,0,25.4,2.54,-22.86\n")),Ud(Id.ParsePatFile("\n*LEAF-03,LEAF-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n344.054604,21.844,9.652,104.668749768,3.488958224,1.84914794,-183.065643266\n338.198591,20.574,10.16,80.18324705,4.716661636,1.36783191,-135.415354264\n326.309932,19.05,11.176,56.357539812,7.04469254,1.831620162,-89.74938235\n320.194429,17.526,12.446,162.6068376,3.252136752,1.9838035,-196.396538372\n308.659808,16.51,13.716,35.701322044,3.966813504,1.626393496,-161.0129622\n300.963757,15.748,14.986,91.477345366,4.356064186,1.481061808,-146.625116452\n293.198591,14.986,16.764,56.698117744,3.335183322,1.934406342,-191.506230398\n281.309932,14.732,18.034,104.608346536,4.981349956,1.29515108,-128.219944728\n276.340192,14.478,20.32,204.76213556,2.804960862,2.30006779,-227.706714766\n270,14.478,21.59,0,25.4,1.27,-24.13\n257.471192,14.986,23.876,129.485790304,2.755016842,2.341764176,-231.834664854\n164.054604,16.764,23.368,104.668749768,3.488958224,1.84914794,-183.065643266\n158.198591,18.034,22.86,80.18324705,4.716661636,1.36783191,-135.415354264\n146.309932,19.558,21.844,56.357539812,7.04469254,1.831620162,-89.74938235\n140.194429,21.082,20.574,162.6068376,3.252136752,1.9838035,-196.396538372\n125.537678,22.352,18.796,126.965671138,2.952690056,2.18499055,-216.314071054\n116.565051,23.368,16.764,34.077676066,11.35922544,2.271845088,-54.524281604\n105.945396,23.876,14.986,80.246041438,3.488958224,1.84914794,-183.065643266\n97.125016,24.13,12.954,179.577488698,3.150482142,2.047813532,-202.733533318\n90,24.13,11.43,0,25.4,1.524,-23.876\n77.471192,23.622,9.144,129.485790304,2.755016842,2.341764176,-231.834664854\n195.945396,3.556,9.652,80.246041438,3.488958224,1.84914794,-183.065643266\n201.801409,4.826,10.16,56.599939124,4.716661636,1.36783191,-135.415354264\n213.690068,6.35,11.176,35.223462446,7.04469254,1.831620162,-89.74938235\n219.805571,7.874,12.446,35.773504272,3.252136752,1.9838035,-196.396538372\n231.340192,8.89,13.716,126.938033652,3.966813504,1.626393496,-161.0129622\n239.036243,9.652,14.986,56.628832894,4.356064186,1.481061808,-146.625116452\n246.801409,10.414,16.764,136.74251925,3.335183322,1.934406342,-191.506230398\n258.690068,10.668,18.034,24.906749272,4.981349956,1.29515108,-128.219944728\n263.659808,10.922,20.32,25.244646742,2.804960862,2.30006779,-227.706714766\n270,10.922,21.59,0,25.4,1.27,-24.13\n282.528808,10.414,23.876,104.69063898,2.755016842,2.341764176,-231.834664854\n15.945396,8.636,23.368,80.246041438,3.488958224,1.84914794,-183.065643266\n21.801409,7.366,22.86,56.599939124,4.716661636,1.36783191,-135.415354264\n33.690068,5.842,21.844,35.223462446,7.04469254,1.831620162,-89.74938235\n39.805571,4.318,20.574,35.773504272,3.252136752,1.9838035,-196.396538372\n54.462322,3.048,18.796,91.53339072,2.952690056,2.18499055,-216.314071054\n63.434949,2.032,16.764,22.718450626,11.35922544,2.271845088,-54.524281604\n74.054604,1.524,14.986,104.668749768,3.488958224,1.84914794,-183.065643266\n82.874984,1.27,12.954,25.203858152,3.150482142,2.047813532,-202.733533318\n90,1.27,11.43,0,25.4,1.524,-23.876\n102.528808,1.778,9.144,104.69063898,2.755016842,2.341764176,-231.834664854\n128.659808,5.334,3.81,35.701322044,3.966813504,1.626393496,-161.0129622\n146.309932,6.858,2.794,56.357539812,7.04469254,1.831620162,-89.74938235\n153.434949,8.382,2.032,22.718450626,11.35922544,1.703883816,-55.092242876\n164.054604,10.16,1.524,104.668749768,3.488958224,1.84914794,-183.065643266\n171.869898,11.938,1.27,25.144717046,3.592102544,1.796051272,-177.809071102\n180,13.462,1.27,0,25.4,1.524,-23.876\n188.130102,15.24,1.524,154.460405328,3.592102544,1.796051272,-177.809071102\n195.945396,17.018,2.032,80.246041438,3.488958224,1.84914794,-183.065643266\n206.565051,18.542,2.794,34.077676066,11.35922544,1.703883816,-55.092242876\n218.659808,19.812,3.81,35.701322044,3.966813504,1.626393496,-161.0129622\n225,21.082,5.08,17.960512212,17.960512212,1.796051272,-34.124973152\n315,19.812,6.35,17.960512212,17.960512212,1.796051272,-34.124973152\n321.340192,18.542,7.366,126.938033652,3.966813504,1.626393496,-161.0129622\n336.801409,16.764,8.128,136.74251925,3.335183322,1.934406342,-191.506230398\n341.565051,15.24,8.636,24.09655582,8.032185358,1.60643697,-78.715415594\n351.869898,13.462,8.89,25.144717046,3.592102544,1.796051272,-177.809071102\n0,11.938,8.89,0,25.4,1.524,-23.876\n8.130102,10.16,8.636,154.460405328,3.592102544,1.796051272,-177.809071102\n18.434949,8.636,8.128,56.225296744,8.032185358,1.60643697,-78.715415594\n23.198591,6.858,7.366,56.698117744,3.335183322,1.934406342,-191.506230398\n38.659808,5.588,6.35,35.701322044,3.966813504,1.626393496,-161.0129622\n45,4.318,5.08,17.960512212,17.960512212,1.796051272,-34.124973152\n")),Ud(Id.ParsePatFile("\n*LINE,LINE\n0, 0,0, 0,3.175\n")),Ud(Id.ParsePatFile("\n*LOOPLINKS,LOOPLINKS\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n206.565051,13.462,17.018,34.077676066,11.35922544,0.567961272,-56.22816542\n243.434949,13.716,17.526,22.718450626,11.35922544,0.567961272,-56.22816542\n116.565051,11.938,17.018,34.077676066,11.35922544,0.567961272,-56.22816542\n153.434949,12.446,16.764,22.718450626,11.35922544,0.567961272,-56.22816542\n180,12.954,16.764,0,25.4,0.508,-24.892\n258.690068,4.826,14.986,24.906749272,4.981349956,1.29515108,-128.219944728\n251.565051,5.08,15.748,24.09655582,8.032185358,0.803218612,-79.518633952\n243.434949,5.588,16.764,22.718450626,11.35922544,1.135922544,-55.660204148\n230.194429,6.858,18.288,162.6068376,3.252136752,1.9838035,-196.396538372\n225,7.874,19.304,17.960512212,17.960512212,1.436840916,-34.484183508\n209.744881,9.652,20.32,148.072666262,3.150482142,2.047813532,-202.733533318\n194.036243,11.684,20.828,80.085263502,6.160405002,2.094537594,-102.632345154\n251.565051,7.112,15.24,24.09655582,8.032185358,1.60643697,-78.715415594\n239.036243,7.874,16.51,56.628832894,4.356064186,1.481061808,-146.625116452\n225,8.89,17.526,17.960512212,17.960512212,1.436840916,-34.484183508\n210.963757,10.16,18.288,91.477345366,4.356064186,1.481061808,-146.625116452\n198.434949,11.684,18.796,56.225296744,8.032185358,1.60643697,-78.715415594\n116.565051,17.018,11.938,34.077676066,11.35922544,0.567961272,-56.22816542\n153.434949,17.526,11.684,22.718450626,11.35922544,0.567961272,-56.22816542\n26.565051,17.018,13.462,34.077676066,11.35922544,0.567961272,-56.22816542\n63.434949,16.764,12.954,22.718450626,11.35922544,0.567961272,-56.22816542\n90,16.764,12.446,0,25.4,0.508,-24.892\n168.690068,14.986,20.574,24.906749272,4.981349956,1.29515108,-128.219944728\n161.565051,15.748,20.32,24.09655582,8.032185358,0.803218612,-79.518633952\n153.434949,16.764,19.812,22.718450626,11.35922544,1.135922544,-55.660204148\n140.194429,18.288,18.542,162.6068376,3.252136752,1.9838035,-196.396538372\n135,19.304,17.526,17.960512212,17.960512212,1.436840916,-34.484183508\n119.744881,20.32,15.748,148.072666262,3.150482142,2.047813532,-202.733533318\n104.036243,20.828,13.716,80.085263502,6.160405002,2.094537594,-102.632345154\n161.565051,15.24,18.288,24.09655582,8.032185358,1.60643697,-78.715415594\n149.036243,16.51,17.526,56.628832894,4.356064186,1.481061808,-146.625116452\n135,17.526,16.51,17.960512212,17.960512212,1.436840916,-34.484183508\n120.963757,18.288,15.24,91.477345366,4.356064186,1.481061808,-146.625116452\n108.434949,18.796,13.716,56.225296744,8.032185358,1.60643697,-78.715415594\n26.565051,11.938,8.382,34.077676066,11.35922544,0.567961272,-56.22816542\n63.434949,11.684,7.874,22.718450626,11.35922544,0.567961272,-56.22816542\n296.565051,13.462,8.382,34.077676066,11.35922544,0.567961272,-56.22816542\n333.434949,12.954,8.636,22.718450626,11.35922544,0.567961272,-56.22816542\n0,12.446,8.636,0,25.4,0.508,-24.892\n78.690068,20.574,10.414,24.906749272,4.981349956,1.29515108,-128.219944728\n71.565051,20.32,9.652,24.09655582,8.032185358,0.803218612,-79.518633952\n63.434949,19.812,8.636,22.718450626,11.35922544,1.135922544,-55.660204148\n50.194429,18.542,7.112,162.6068376,3.252136752,1.9838035,-196.396538372\n45,17.526,6.096,17.960512212,17.960512212,1.436840916,-34.484183508\n29.744881,15.748,5.08,148.072666262,3.150482142,2.047813532,-202.733533318\n14.036243,13.716,4.572,80.085263502,6.160405002,2.094537594,-102.632345154\n71.565051,18.288,10.16,24.09655582,8.032185358,1.60643697,-78.715415594\n59.036243,17.526,8.89,56.628832894,4.356064186,1.481061808,-146.625116452\n45,16.51,7.874,17.960512212,17.960512212,1.436840916,-34.484183508\n30.963757,15.24,7.112,91.477345366,4.356064186,1.481061808,-146.625116452\n18.434949,13.716,6.604,56.225296744,8.032185358,1.60643697,-78.715415594\n296.565051,8.382,13.462,34.077676066,11.35922544,0.567961272,-56.22816542\n333.434949,7.874,13.716,22.718450626,11.35922544,0.567961272,-56.22816542\n206.565051,8.382,11.938,34.077676066,11.35922544,0.567961272,-56.22816542\n243.434949,8.636,12.446,22.718450626,11.35922544,0.567961272,-56.22816542\n270,8.636,12.954,0,25.4,0.508,-24.892\n348.690068,10.414,4.826,24.906749272,4.981349956,1.29515108,-128.219944728\n341.565051,9.652,5.08,24.09655582,8.032185358,0.803218612,-79.518633952\n333.434949,8.636,5.588,22.718450626,11.35922544,1.135922544,-55.660204148\n320.194429,7.112,6.858,162.6068376,3.252136752,1.9838035,-196.396538372\n315,6.096,7.874,17.960512212,17.960512212,1.436840916,-34.484183508\n299.744881,5.08,9.652,148.072666262,3.150482142,2.047813532,-202.733533318\n284.036243,4.572,11.684,80.085263502,6.160405002,2.094537594,-102.632345154\n341.565051,10.16,7.112,24.09655582,8.032185358,1.60643697,-78.715415594\n329.036243,8.89,7.874,56.628832894,4.356064186,1.481061808,-146.625116452\n315,7.874,8.89,17.960512212,17.960512212,1.436840916,-34.484183508\n300.963757,7.112,10.16,91.477345366,4.356064186,1.481061808,-146.625116452\n288.434949,6.604,11.684,56.225296744,8.032185358,1.60643697,-78.715415594\n90,11.684,-7.874,0,25.4,15.748,-9.652\n270,13.716,7.874,0,25.4,15.748,-9.652\n180,7.874,11.684,0,25.4,15.748,-9.652\n0,-7.874,13.716,0,25.4,15.748,-9.652\n")),Ud(Id.ParsePatFile("\n*MAZE-01\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n180,24.13,23.368,0,25.4,6.35,-19.05\n90,24.13,13.97,25.4,25.4,9.398,-16.002\n90,21.082,13.97,25.4,25.4,6.35,-19.05\n0,17.78,10.668,0,25.4,2.794,-22.606\n180,14.478,20.32,0,25.4,9.652,-15.748\n270,14.478,23.368,25.4,25.4,3.048,-22.352\n0,1.778,23.368,0,25.4,12.7,-12.7\n90,24.13,7.366,25.4,25.4,3.302,-22.098\n180,11.43,1.27,0,25.4,9.652,-15.748\n0,17.78,7.366,0,25.4,6.35,-19.05\n270,11.43,4.318,25.4,25.4,3.048,-22.352\n0,4.826,4.318,0,25.4,6.604,-18.796\n90,17.78,4.318,25.4,25.4,3.048,-22.352\n270,4.826,20.32,25.4,25.4,16.002,-9.398\n0,7.874,7.366,0,25.4,6.604,-18.796\n270,7.874,17.272,25.4,25.4,9.906,-15.494\n180,17.78,17.272,0,25.4,9.906,-15.494\n270,17.78,23.368,25.4,25.4,6.096,-19.304\n180,24.13,4.318,0,25.4,6.35,-19.05\n90,24.13,1.27,25.4,25.4,3.048,-22.352\n0,14.478,1.27,0,25.4,9.652,-15.748\n270,14.478,10.668,25.4,25.4,9.398,-16.002\n270,17.78,13.97,25.4,25.4,3.302,-22.098\n0,11.43,13.97,0,25.4,6.35,-19.05\n90,11.43,10.668,25.4,25.4,3.302,-22.098\n90,1.778,1.27,25.4,25.4,22.098,-3.302\n")),Ud(Id.ParsePatFile("\n*MAZE-02\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,22.859999746,2.54,25.4,25.4,2.54,-22.86\n0,17.779999746,2.54,0,25.4,5.08,-20.32\n90,0,7.62,25.4,25.4,12.7,-12.7\n270,22.859999746,22.86,25.4,25.4,12.7,-12.7\n270,7.619999746,22.86,25.4,25.4,2.54,-22.86\n180,7.619999746,22.86,0,25.4,10.16,-15.24\n0,5.079999746,5.08,0,25.4,3.81,-21.59\n90,5.079999746,7.62,25.4,25.4,5.08,-20.32\n180,12.699999746,7.62,0,25.4,7.62,-17.78\n90,12.699999746,2.54,25.4,25.4,5.08,-20.32\n270,17.779999746,5.08,25.4,25.4,2.54,-22.86\n0,15.239999746,5.08,0,25.4,2.54,-22.86\n270,15.239999746,7.62,25.4,25.4,2.54,-22.86\n180,17.779999746,7.62,0,25.4,2.54,-22.86\n270,15.239999746,15.24,25.4,25.4,2.54,-22.86\n0,7.619999746,15.24,0,25.4,7.62,-17.78\n90,7.619999746,10.16,25.4,25.4,5.08,-20.32\n180,17.779999746,10.16,0,25.4,10.16,-15.24\n180,15.239999746,12.7,0,25.4,5.08,-20.32\n270,20.319999746,20.32,25.4,25.4,12.7,-12.7\n0,2.539999746,2.54,0,25.4,10.16,-15.24\n0,2.539999746,20.32,0,25.4,17.78,-7.62\n270,2.539999746,5.08,25.4,25.4,2.54,-22.86\n90,2.539999746,7.62,25.4,25.4,12.7,-12.7\n180,2.539999746,5.08,0,25.4,7.62,-17.78\n180,0,7.62,0,25.4,5.080000254,-20.319999746\n180,7.619999746,0,0,25.4,7.62,-17.78\n270,17.779999746,17.78,25.4,25.4,5.08,-20.32\n0,10.159999746,0,0,25.4,10.16,-15.24\n0,5.079999746,17.78,0,25.4,12.7,-12.7\n90,5.079999746,15.24,25.4,25.4,2.54,-22.86\n270,15.239999746,2.54,25.4,25.4,2.54,-22.86\n0,10.159999746,22.86,0,25.4,10.16,-15.24\n270,10.159999746,25.4,25.4,25.4,2.54,-22.86\n")),Ud(Id.ParsePatFile("\n*MUDST,MUDST\n0, 0,0, 12.7,6.35, 6.35,-6.35,0,-6.35,0,-6.35\n")),Ud(Id.ParsePatFile("\n*NET,NET\n0, 0,0, 0,3.175\n90, 0,0, 0,3.175\n")),Ud(Id.ParsePatFile("\n*NET3,NET3\n0, 0,0, 0,3.175\n60, 0,0, 0,3.175\n120, 0,0, 0,3.175\n")),Ud(Id.ParsePatFile("\n*PLAST,PLAST\n0, 0,0, 0,6.35\n0, 0,.79375, 0,6.35\n0, 0,1.5875, 0,6.35\n")),Ud(Id.ParsePatFile("\n*PLASTI,PLASTI\n0, 0,0, 0,6.35\n0, 0,.79375, 0,6.35\n0, 0,1.5875, 0,6.35\n0, 0,3.96875, 0,6.35\n")),Ud(Id.ParsePatFile("\n*QCAD-LOGO\n;By John Hyslop,    Line 101 modified by CVH to fix left side of pencil drift when hatching far from Origin\n;Developed in mm as metric QCAD3 pattern\n243.434949,20.32,9.144,22.718450626,11.35922544,0.567961272,-56.22816542\n248.198591,20.828,10.414,80.18324705,4.716661636,1.36783191,-135.415354264\n263.659808,21.082,12.7,25.244646742,2.804960862,2.30006779,-227.706714766\n276.340192,20.828,14.986,204.76213556,2.804960862,2.30006779,-227.706714766\n290.556045,20.066,17.018,136.750876358,2.97284521,2.170177016,-214.847518234\n310.601295,18.542,18.796,35.815218692,2.755016842,2.341764176,-231.834664854\n324.462322,16.764,20.066,91.53339072,2.952690056,2.18499055,-216.314071054\n336.801409,14.986,20.828,136.74251925,3.335183322,1.934406342,-191.506230398\n351.869898,13.208,21.082,25.144717046,3.592102544,1.796051272,-177.809071102\n26.565051,15.494,4.572,34.077676066,11.35922544,1.703883816,-55.092242876\n7.125016,13.462,4.318,179.577488698,3.150482142,2.047813532,-202.733533318\n0,11.43,4.318,0,25.4,2.032,-23.368\n344.054604,9.652,4.826,104.668749768,3.488958224,1.84914794,-183.065643266\n336.801409,7.874,5.588,136.74251925,3.335183322,1.934406342,-191.506230398\n320.194429,6.35,6.858,162.6068376,3.252136752,1.9838035,-196.396538372\n308.659808,5.334,8.128,35.701322044,3.966813504,1.626393496,-161.0129622\n293.198591,4.572,9.906,56.698117744,3.335183322,1.934406342,-191.506230398\n285.945396,4.064,11.684,80.246041438,3.488958224,1.84914794,-183.065643266\n270,4.064,13.208,0,25.4,1.524,-23.876\n261.869898,4.318,14.986,25.144717046,3.592102544,1.796051272,-177.809071102\n246.801409,5.08,16.764,136.74251925,3.335183322,1.934406342,-191.506230398\n234.462322,6.35,18.542,91.53339072,2.952690056,2.18499055,-216.314071054\n219.805571,7.874,19.812,35.773504272,3.252136752,1.9838035,-196.396538372\n206.565051,9.398,20.574,34.077676066,11.35922544,1.703883816,-55.092242876\n195.945396,11.176,21.082,80.246041438,3.488958224,1.84914794,-183.065643266\n180,12.192,21.082,0,25.4,1.016,-24.384\n180,13.208,21.082,0,25.4,1.016,-24.384\n233.130102,23.368,6.858,91.44,5.08,1.27,-125.73\n248.198591,23.876,8.128,80.18324705,4.716661636,1.36783191,-135.415354264\n248.198591,24.384,9.398,80.18324705,4.716661636,1.36783191,-135.415354264\n260.537678,24.638,10.922,25.054405568,4.175734346,1.545021802,-152.95714646\n261.869898,24.892,12.7,25.144717046,3.592102544,1.796051272,-177.809071102\n278.130102,24.638,14.478,154.460405328,3.592102544,1.796051272,-177.809071102\n279.462322,24.384,16.002,129.447762694,4.175734346,1.545021802,-152.95714646\n288.434949,23.876,17.526,56.225296744,8.032185358,1.60643697,-78.715415594\n299.744881,22.86,19.304,148.072666262,3.150482142,2.047813532,-202.733533318\n308.659808,21.844,20.574,35.701322044,3.966813504,1.626393496,-161.0129622\n315,20.574,21.844,17.960512212,17.960512212,1.796051272,-34.124973152\n321.340192,19.304,22.86,126.938033652,3.966813504,1.626393496,-161.0129622\n329.036243,18.034,23.622,56.628832894,4.356064186,1.481061808,-146.625116452\n338.198591,16.764,24.13,80.18324705,4.716661636,1.36783191,-135.415354264\n338.198591,15.494,24.638,80.18324705,4.716661636,1.36783191,-135.415354264\n350.537678,13.97,24.892,25.054405568,4.175734346,1.545021802,-152.95714646\n0,12.7,24.892,0,25.4,1.27,-24.13\n0,11.43,24.892,0,25.4,1.27,-24.13\n11.309932,10.16,24.638,104.608346536,4.981349956,1.29515108,-128.219944728\n14.036243,9.144,24.384,80.085263502,6.160405002,1.047268924,-103.679614078\n21.801409,7.874,23.876,56.599939124,4.716661636,1.36783191,-135.415354264\n21.801409,6.604,23.368,56.599939124,4.716661636,1.36783191,-135.415354264\n36.869898,5.588,22.606,35.56,5.08,1.27,-125.73\n36.869898,4.572,21.844,35.56,5.08,1.27,-125.73\n33.690068,19.05,2.286,35.223462446,7.04469254,0.915809954,-90.665192304\n26.565051,17.526,1.524,34.077676066,11.35922544,1.703883816,-55.092242876\n21.801409,16.256,1.016,56.599939124,4.716661636,1.36783191,-135.415354264\n11.309932,14.986,0.762,104.608346536,4.981349956,1.29515108,-128.219944728\n8.130102,13.208,0.508,154.460405328,3.592102544,1.796051272,-177.809071102\n0,11.684,0.508,0,25.4,1.524,-23.876\n350.537678,10.16,0.762,25.054405568,4.175734346,1.545021802,-152.95714646\n348.690068,8.89,1.016,24.906749272,4.981349956,1.29515108,-128.219944728\n338.198591,7.62,1.524,80.18324705,4.716661636,1.36783191,-135.415354264\n333.434949,6.604,2.032,22.718450626,11.35922544,1.135922544,-55.660204148\n323.130102,5.588,2.794,91.44,5.08,1.27,-125.73\n323.130102,4.572,3.556,91.44,5.08,1.27,-125.73\n315,3.556,4.572,17.960512212,17.960512212,1.436840916,-34.484183508\n306.869898,2.794,5.588,35.56,5.08,1.27,-125.73\n306.869898,2.032,6.604,35.56,5.08,1.27,-125.73\n296.565051,1.524,7.62,34.077676066,11.35922544,1.135922544,-55.660204148\n291.801409,1.016,8.89,56.599939124,4.716661636,1.36783191,-135.415354264\n281.309932,0.762,10.16,104.608346536,4.981349956,1.29515108,-128.219944728\n281.309932,0.508,11.43,104.608346536,4.981349956,1.29515108,-128.219944728\n270,0.508,12.7,0,25.4,1.27,-24.13\n270,0.508,13.97,0,25.4,1.27,-24.13\n258.690068,0.762,15.24,24.906749272,4.981349956,1.29515108,-128.219944728\n258.690068,1.016,16.51,24.906749272,4.981349956,1.29515108,-128.219944728\n248.198591,1.524,17.78,80.18324705,4.716661636,1.36783191,-135.415354264\n243.434949,2.032,18.796,22.718450626,11.35922544,1.135922544,-55.660204148\n233.130102,2.794,19.812,91.44,5.08,1.27,-125.73\n233.130102,3.556,20.828,91.44,5.08,1.27,-125.73\n225,4.572,21.844,17.960512212,17.960512212,1.436840916,-34.484183508\n0,8.89,5.334,0,25.4,7.366,-18.034\n180,14.224,9.906,0,25.4,1.016,-24.384\n270,14.224,11.176,0,25.4,1.27,-24.13\n180,15.748,11.176,0,25.4,1.524,-23.876\n270,15.748,12.192,0,25.4,1.016,-24.384\n270,24.892,2.794,0,25.4,0.254,-25.146\n270,24.892,3.302,0,25.4,0.508,-24.892\n45,20.828,2.032,17.960512212,17.960512212,3.592102544,-32.328922134\n225,22.86,5.08,17.960512212,17.960512212,3.592102544,-32.328922134\n45,20.066,2.794,17.960512212,17.960512212,3.592102544,-32.328922134\n0,13.8209782,14.218285,0,25.4,0,-25.4\n0,14.9935692,16.1227008,0,25.4,0,-25.4\n0,16.2642042,18.3038496,0,25.4,0,-25.4\n135,24.892,3.302,17.960512212,17.960512212,12.57235865,-23.348666028\n56.309932,24.384,1.778,56.357539812,7.04469254,0.915809954,-90.665192304\n45,23.876,1.27,17.960512212,17.960512212,0.718420458,-35.202603966\n33.690068,23.114,0.762,35.223462446,7.04469254,0.915809954,-90.665192304\n18.434949,22.352,0.508,56.225296744,8.032185358,0.803218612,-79.518633952\n135.806929,22.352,0.508,-35.917462074,0.505879862,12.753228494,-1262.569616842\n289.983107,12.192,12.192,217.006845132,2.170068558,2.9729938,-294.326383914\n338.198591,13.462,13.208,80.18324705,4.716661636,2.73566382,-134.047522354\n105.945396,12.192,12.192,80.246041438,3.488958224,1.84914794,-183.065643266\n218.659808,13.462,13.208,35.701322044,3.966813504,1.626393496,-161.0129622\n336.801409,11.684,13.97,136.74251925,3.335183322,1.934406342,-191.506230398\n56.309932,16.764,19.177,56.357539812,7.04469254,0.457905104,-91.123097408\n239.036243,12.065,11.049,56.628832894,4.356064186,0.740530904,-147.365647356\n236.309932,14.478,15.24,56.357539812,7.04469254,0.457905104,-91.123097408\n236.309932,15.748,17.272,56.357539812,7.04469254,0.457905104,-91.123097408\n0,11.684,10.414,0,25.4,0,-25.4\n0,12.446,8.636,0,25.4,0.508,-24.892\n0,13.716,8.636,0,25.4,0,-25.4\n0,11.43,8.636,0,25.4,0,-25.4\n0,9.144,8.636,0,25.4,0,-25.4\n0,6.858,8.636,0,25.4,0,-25.4\n180,6.096,8.636,0,25.4,0.762,-24.638\n180,8.382,8.636,0,25.4,0.762,-24.638\n180,10.668,8.636,0,25.4,0.762,-24.638\n239.036243,11.43,9.906,56.628832894,4.356064186,1.481061808,-146.625116452\n0,11.176,11.176,0,25.4,1.27,-24.13\n341.565051,10.414,11.43,24.09655582,8.032185358,0.803218612,-79.518633952\n315,9.906,11.938,17.960512212,17.960512212,0.718420458,-35.202603966\n296.565051,9.652,12.446,34.077676066,11.35922544,0.567961272,-56.22816542\n180,9.652,12.446,0,25.4,5.334,-20.066\n240.068488,14.478,20.828,204.780260492,0.667036766,9.672031964,-957.531152498\n0,16.002,12.446,0,25.4,4.572,-20.828\n240.255119,19.05,17.78,56.708680588,3.150482142,6.143440342,-198.637906508\n")),Ud(Id.ParsePatFile("\n*REDBACK,REDBACK\n;By John Hyslop\n;Developed in mm as Metric QCAD3 pattern\n63.434949,18.542,19.812,22.71845063,11.35922544,0.567961272,-56.22816542\n33.690068,17.78,19.304,35.22346245,7.04469254,0.915809954,-90.6651923\n75.963757,17.526,18.288,24.6416195,6.160405002,1.047268924,-103.6796141\n0,16.764,18.288,0,25.4,0.762,-24.638\n108.434949,17.018,17.526,56.22529674,8.032185358,0.803218612,-79.51863395\n90,17.018,17.272,0,25.4,0.254,-25.146\n0,13.716,14.478,0,25.4,0.254,-25.146\n270,13.716,14.732,0,25.4,0.254,-25.146\n225,13.97,14.986,17.96051221,17.96051221,0.359210356,-35.56181432\n180,14.224,14.986,0,25.4,0.254,-25.146\n315,13.97,15.24,17.96051221,17.96051221,0.359210356,-35.56181432\n15.524111,9.398,13.97,184.9097925,1.359630758,4.745111668,-469.7660475\n0,8.89,13.97,0,25.4,0.508,-24.892\n45,8.636,13.716,17.96051221,17.96051221,0.359210356,-35.56181432\n0,7.874,13.716,0,25.4,0.762,-24.638\n26.565051,4.826,12.192,34.07767607,11.35922544,3.407767632,-53.38835906\n0,4.572,12.192,0,25.4,0.254,-25.146\n33.690068,3.81,11.684,35.22346245,7.04469254,0.915809954,-90.6651923\n32.005383,1.778,10.414,91.54141687,2.692394666,2.396231174,-237.2268895\n45,1.524,10.16,17.96051221,17.96051221,0.359210356,-35.56181432\n270,1.524,10.414,0,25.4,0.254,-25.146\n225,1.778,10.668,17.96051221,17.96051221,0.359210356,-35.56181432\n213.690068,4.064,12.192,35.22346245,7.04469254,2.747430116,-88.8335724\n243.434949,4.318,12.7,22.71845063,11.35922544,0.567961272,-56.22816542\n205.016893,8.128,14.478,56.77539445,1.534470134,4.20444803,-416.2403639\n189.462322,9.652,14.732,129.4477627,4.175734346,1.545021802,-152.9571465\n194.036243,10.668,14.986,80.0852635,6.160405002,1.047268924,-103.6796141\n194.036243,12.7,15.494,80.0852635,6.160405002,2.094537594,-102.6323452\n198.434949,14.224,16.002,56.22529674,8.032185358,1.60643697,-78.71541559\n6.340192,11.938,15.748,204.7621356,2.804960862,2.30006779,-227.7067148\n315,11.684,16.002,17.96051221,17.96051221,0.359210356,-35.56181432\n45,11.43,15.748,17.96051221,17.96051221,0.359210356,-35.56181432\n23.198591,9.652,14.986,56.69811774,3.335183322,1.934406342,-191.5062304\n0,8.89,14.986,0,25.4,0.762,-24.638\n45,8.128,14.224,17.96051221,17.96051221,1.077630814,-34.84339386\n236.309932,8.636,14.986,56.35753981,7.04469254,0.915809954,-90.6651923\n206.565051,9.144,15.24,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,10.668,16.002,34.07767607,11.35922544,1.703883816,-55.09224288\n206.565051,11.176,16.256,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,11.684,16.51,34.07767607,11.35922544,0.567961272,-56.22816542\n180,14.478,16.51,0,25.4,2.794,-22.606\n225,14.732,16.764,17.96051221,17.96051221,0.359210356,-35.56181432\n321.340192,13.462,17.78,126.9380337,3.966813504,1.626393496,-161.0129622\n296.565051,13.208,18.288,34.07767607,11.35922544,0.567961272,-56.22816542\n285.945396,12.7,20.066,80.24604144,3.488958224,1.84914794,-183.0656433\n254.054604,13.208,21.844,104.6687498,3.488958224,1.84914794,-183.0656433\n135,13.462,21.59,17.96051221,17.96051221,0.359210356,-35.56181432\n90,13.462,20.828,0,25.4,0.762,-24.638\n71.565051,13.208,20.066,24.09655582,8.032185358,0.803218612,-79.51863395\n105.945396,13.716,18.288,80.24604144,3.488958224,1.84914794,-183.0656433\n135,14.732,17.272,17.96051221,17.96051221,1.436840916,-34.48418351\n180,14.986,17.272,0,25.4,0.254,-25.146\n270,14.986,17.526,0,25.4,0.254,-25.146\n270,14.986,18.034,0,25.4,0.508,-24.892\n296.565051,14.732,18.542,34.07767607,11.35922544,0.567961272,-56.22816542\n278.130102,14.478,20.32,154.4604053,3.592102544,1.796051272,-177.8090711\n251.565051,14.732,21.082,24.09655582,8.032185358,0.803218612,-79.51863395\n225,14.986,21.336,17.96051221,17.96051221,0.359210356,-35.56181432\n225,15.24,21.59,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,15.494,22.098,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,16.002,23.114,22.71845063,11.35922544,1.135922544,-55.66020415\n243.434949,16.51,24.13,22.71845063,11.35922544,1.135922544,-55.66020415\n225,16.764,24.384,17.96051221,17.96051221,0.359210356,-35.56181432\n168.690068,20.574,23.622,24.90674927,4.981349956,3.885452986,-125.6296428\n355.601295,17.272,23.876,25.32518405,1.9480911,3.31175487,-327.8637273\n56.309932,16.764,23.114,56.35753981,7.04469254,0.915809954,-90.6651923\n56.309932,16.256,22.352,56.35753981,7.04469254,0.915809954,-90.6651923\n63.434949,16.002,21.844,22.71845063,11.35922544,0.567961272,-56.22816542\n56.309932,15.494,21.082,56.35753981,7.04469254,0.915809954,-90.6651923\n71.565051,15.24,20.32,24.09655582,8.032185358,0.803218612,-79.51863395\n90,15.24,20.066,0,25.4,0.254,-25.146\n90,15.24,19.558,0,25.4,0.508,-24.892\n90,15.24,18.796,0,25.4,0.762,-24.638\n225,15.494,19.05,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,15.748,19.558,22.71845063,11.35922544,0.567961272,-56.22816542\n225,16.002,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,16.51,20.066,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,17.018,20.32,34.07767607,11.35922544,0.567961272,-56.22816542\n180,17.526,20.32,0,25.4,0.508,-24.892\n180,18.034,20.32,0,25.4,0.508,-24.892\n180,18.796,20.32,0,25.4,0.762,-24.638\n153.434949,19.304,20.066,22.71845063,11.35922544,0.567961272,-56.22816542\n135,19.558,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n135,14.224,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n26.565051,19.558,18.796,34.07767607,11.35922544,0.567961272,-56.22816542\n56.309932,19.05,18.034,56.35753981,7.04469254,0.915809954,-90.6651923\n14.036243,18.034,17.78,80.0852635,6.160405002,1.047268924,-103.6796141\n90,18.034,17.018,0,25.4,0.762,-24.638\n341.565051,17.272,17.272,24.09655582,8.032185358,0.803218612,-79.51863395\n0,17.018,17.272,0,25.4,0.254,-25.146\n90,14.224,13.97,0,25.4,0.254,-25.146\n180,14.478,13.97,0,25.4,0.254,-25.146\n225,14.732,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n270,14.732,14.478,0,25.4,0.254,-25.146\n135,14.986,14.224,17.96051221,17.96051221,0.359210356,-35.56181432\n74.475889,13.716,9.652,289.6013664,1.359630758,4.745111668,-469.7660475\n90,13.716,9.144,0,25.4,0.508,-24.892\n45,13.462,8.89,17.96051221,17.96051221,0.359210356,-35.56181432\n90,13.462,8.128,0,25.4,0.762,-24.638\n63.434949,11.938,5.08,22.71845063,11.35922544,3.407767632,-53.38835906\n90,11.938,4.826,0,25.4,0.254,-25.146\n56.309932,11.43,4.064,56.35753981,7.04469254,0.915809954,-90.6651923\n57.994617,10.16,2.032,148.0817038,2.692394666,2.396231174,-237.2268895\n45,9.906,1.778,17.96051221,17.96051221,0.359210356,-35.56181432\n180,10.16,1.778,0,25.4,0.254,-25.146\n225,10.414,2.032,17.96051221,17.96051221,0.359210356,-35.56181432\n236.309932,11.938,4.318,56.35753981,7.04469254,2.747430116,-88.8335724\n206.565051,12.446,4.572,34.07767607,11.35922544,0.567961272,-56.22816542\n244.983107,14.224,8.382,363.6694177,1.534470134,4.20444803,-416.2403639\n260.537678,14.478,9.906,25.05440557,4.175734346,1.545021802,-152.9571465\n255.963757,14.732,10.922,24.6416195,6.160405002,1.047268924,-103.6796141\n255.963757,15.24,12.954,24.6416195,6.160405002,2.094537594,-102.6323452\n251.565051,15.748,14.478,24.09655582,8.032185358,1.60643697,-78.71541559\n83.659808,15.494,12.192,25.24464674,2.804960862,2.30006779,-227.7067148\n135,15.748,11.938,17.96051221,17.96051221,0.359210356,-35.56181432\n45,15.494,11.684,17.96051221,17.96051221,0.359210356,-35.56181432\n66.801409,14.732,9.906,136.7425193,3.335183322,1.934406342,-191.5062304\n90,14.732,9.144,0,25.4,0.762,-24.638\n45,13.97,8.382,17.96051221,17.96051221,1.077630814,-34.84339386\n213.690068,14.732,8.89,35.22346245,7.04469254,0.915809954,-90.6651923\n243.434949,14.986,9.398,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,15.748,10.922,22.71845063,11.35922544,1.703883816,-55.09224288\n243.434949,16.002,11.43,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,16.256,11.938,22.71845063,11.35922544,0.567961272,-56.22816542\n270,16.256,14.732,0,25.4,2.794,-22.606\n225,16.51,14.986,17.96051221,17.96051221,0.359210356,-35.56181432\n128.659808,17.526,13.716,35.70132204,3.966813504,1.626393496,-161.0129622\n153.434949,18.034,13.462,22.71845063,11.35922544,0.567961272,-56.22816542\n164.054604,19.812,12.954,104.6687498,3.488958224,1.84914794,-183.0656433\n195.945396,21.59,13.462,80.24604144,3.488958224,1.84914794,-183.0656433\n315,21.336,13.716,17.96051221,17.96051221,0.359210356,-35.56181432\n0,20.574,13.716,0,25.4,0.762,-24.638\n18.434949,19.812,13.462,56.22529674,8.032185358,0.803218612,-79.51863395\n344.054604,18.034,13.97,104.6687498,3.488958224,1.84914794,-183.0656433\n315,17.018,14.986,17.96051221,17.96051221,1.436840916,-34.48418351\n270,17.018,15.24,0,25.4,0.254,-25.146\n180,17.272,15.24,0,25.4,0.254,-25.146\n180,17.78,15.24,0,25.4,0.508,-24.892\n153.434949,18.288,14.986,22.71845063,11.35922544,0.567961272,-56.22816542\n171.869898,20.066,14.732,25.14471705,3.592102544,1.796051272,-177.8090711\n198.434949,20.828,14.986,56.22529674,8.032185358,0.803218612,-79.51863395\n225,21.082,15.24,17.96051221,17.96051221,0.359210356,-35.56181432\n225,21.336,15.494,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,21.844,15.748,34.07767607,11.35922544,0.567961272,-56.22816542\n206.565051,22.86,16.256,34.07767607,11.35922544,1.135922544,-55.66020415\n206.565051,23.876,16.764,34.07767607,11.35922544,1.135922544,-55.66020415\n225,24.13,17.018,17.96051221,17.96051221,0.359210356,-35.56181432\n281.309932,23.368,20.828,104.6083465,4.981349956,3.885452986,-125.6296428\n94.398705,23.622,17.526,305.8502981,1.9480911,3.31175487,-327.8637273\n33.690068,22.86,17.018,35.22346245,7.04469254,0.915809954,-90.6651923\n33.690068,22.098,16.51,35.22346245,7.04469254,0.915809954,-90.6651923\n26.565051,21.59,16.256,34.07767607,11.35922544,0.567961272,-56.22816542\n33.690068,20.828,15.748,35.22346245,7.04469254,0.915809954,-90.6651923\n18.434949,20.066,15.494,56.22529674,8.032185358,0.803218612,-79.51863395\n0,19.812,15.494,0,25.4,0.254,-25.146\n0,19.304,15.494,0,25.4,0.508,-24.892\n0,18.542,15.494,0,25.4,0.762,-24.638\n225,18.796,15.748,17.96051221,17.96051221,0.359210356,-35.56181432\n206.565051,19.304,16.002,34.07767607,11.35922544,0.567961272,-56.22816542\n225,19.558,16.256,17.96051221,17.96051221,0.359210356,-35.56181432\n243.434949,19.812,16.764,22.71845063,11.35922544,0.567961272,-56.22816542\n243.434949,20.066,17.272,22.71845063,11.35922544,0.567961272,-56.22816542\n270,20.066,17.78,0,25.4,0.508,-24.892\n270,20.066,18.288,0,25.4,0.508,-24.892\n270,20.066,19.05,0,25.4,0.762,-24.638\n296.565051,19.812,19.558,34.07767607,11.35922544,0.567961272,-56.22816542\n315,19.558,19.812,17.96051221,17.96051221,0.359210356,-35.56181432\n")),Ud(Id.ParsePatFile("\n*SACNCR,SACNCR\n45, 0,0, 0,2.38125\n45, 1.6838,0, 0,2.38125, 0,-2.38125\n")),Ud(Id.ParsePatFile("\n*SCAFFOLD\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n270,19.304,21.336,25.4,25.4,0.508,-24.892\n326.3099325,6.604,4.064,56.357539812,7.04469254,14.652960026,-76.928042486\n90,6.096,12.446,25.4,25.4,0.508,-24.892\n270,6.35,4.064,25.4,25.4,8.128,-17.272\n146.3099325,6.096,21.336,56.357539812,7.04469254,14.65296028,-76.928041978\n180,19.304,12.446,0,25.4,0.508,-24.892\n270,18.796,4.572,25.4,25.4,0.508,-24.892\n0,18.796,21.336,0,25.4,0.508,-24.892\n90,6.35,12.954,25.4,25.4,7.874,-17.526\n270,19.304,12.954,25.4,25.4,0.508,-24.892\n0,6.604,4.318,0,25.4,12.192,-13.208\n0,6.096,12.954,0,25.4,0.508,-24.892\n180,19.304,4.572,0,25.4,0.508,-24.892\n90,18.796,20.828,25.4,25.4,0.508,-24.892\n212.855722,6.096,12.446,514.310608918,0.444520828,14.513605212,-1436.846928942\n147.144278,6.096,4.572,937.049925236,0.444520828,14.513605212,-1436.846928942\n213.6900675,6.096,4.064,35.223462446,7.04469254,14.652959772,-76.928042486\n180,6.096,4.318,0,25.4,12.192,-13.208\n0,6.604,21.082,0,25.4,12.192,-13.208\n90,6.604,4.064,25.4,25.4,0.508,-24.892\n180,19.304,20.828,0,25.4,0.508,-24.892\n90,18.796,12.446,25.4,25.4,0.508,-24.892\n147.144278,18.796,4.572,937.049925236,0.444520828,14.513605466,-1436.846928688\n0,6.096,4.064,0,25.4,0.508,-24.892\n0,6.604,12.7,0,25.4,12.192,-13.208\n270,6.604,21.336,25.4,25.4,0.508,-24.892\n90,19.05,4.572,25.4,25.4,7.874,-17.526\n212.855722,18.796,20.828,514.310608918,0.444520828,14.513605466,-1436.846928688\n180,6.604,12.446,0,25.4,0.508,-24.892\n270,6.096,4.572,25.4,25.4,0.508,-24.892\n0,6.096,21.336,0,25.4,0.508,-24.892\n270,6.604,12.954,25.4,25.4,0.508,-24.892\n270,19.05,20.828,25.4,25.4,7.874,-17.526\n32.855722,6.604,4.572,514.310608918,0.444520828,14.513605466,-1436.846928688\n180,6.604,4.572,0,25.4,0.508,-24.892\n0,18.796,12.954,0,25.4,0.508,-24.892\n90,19.304,4.064,25.4,25.4,0.508,-24.892\n90,6.096,20.828,25.4,25.4,0.508,-24.892\n180,6.096,21.082,0,25.4,12.192,-13.208\n147.144278,6.096,12.954,937.049925236,0.444520828,14.513605212,-1436.846928942\n180,6.096,12.7,0,25.4,12.192,-13.208\n270,6.35,12.446,25.4,25.4,7.874,-17.526\n212.855722,6.096,20.828,514.310608918,0.444520828,14.513605466,-1436.846928688\n0,18.796,4.064,0,25.4,0.508,-24.892\n270,19.05,4.064,25.4,25.4,8.128,-17.272\n180,6.604,20.828,0,25.4,0.508,-24.892\n213.6900675,18.796,4.064,35.223462446,7.04469254,14.652960026,-76.928042486\n327.144278,6.604,20.828,937.049925236,0.444520828,14.513605466,-1436.846928688\n")),Ud(Id.ParsePatFile("\n*SQUARE,SQUARE\n0, 0,0, 0,3.175, 3.175,-3.175\n90, 0,0, 0,3.175, 3.175,-3.175\n")),Ud(Id.ParsePatFile("\n*SQUIGGLE-01,SQUIGGLE-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,2.794,-9.906,17.960512212,17.960512212,28.377609234,-7.54341519\n56.309932,1.778,13.97,56.357539812,7.04469254,1.831620162,-89.74938235\n81.869898,1.524,12.192,25.144717046,3.592102544,1.796051272,-177.809071102\n99.462322,1.778,10.668,129.447762694,4.175734346,1.545021802,-152.95714646\n123.690068,2.794,9.144,35.223462446,7.04469254,1.831620162,-89.74938235\n146.309932,4.318,8.128,56.357539812,7.04469254,1.831620162,-89.74938235\n170.537678,5.842,7.874,25.054405568,4.175734346,1.545021802,-152.95714646\n188.130102,7.62,8.128,154.460405328,3.592102544,1.796051272,-177.809071102\n213.690068,9.144,9.144,35.223462446,7.04469254,1.831620162,-89.74938235\n225,16.51,16.51,17.960512212,17.960512212,10.417097022,-25.503927402\n213.690068,18.034,17.526,35.223462446,7.04469254,1.831620162,-89.74938235\n189.462322,19.558,17.78,129.447762694,4.175734346,1.545021802,-152.95714646\n171.869898,21.336,17.526,25.144717046,3.592102544,1.796051272,-177.809071102\n146.309932,22.86,16.51,56.357539812,7.04469254,1.831620162,-89.74938235\n123.690068,23.876,14.986,35.223462446,7.04469254,1.831620162,-89.74938235\n99.462322,24.13,13.462,129.447762694,4.175734346,1.545021802,-152.95714646\n81.869898,23.876,11.684,25.144717046,3.592102544,1.796051272,-177.809071102\n56.309932,22.86,10.16,56.357539812,7.04469254,1.831620162,-89.74938235\n")),Ud(Id.ParsePatFile("\n*SQUIGGLE-02,SQUIGGLE-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n75.963757,25.146,4.064,24.6416195,6.160405002,1.047268924,-103.679614078\n63.434949,24.638,3.048,22.718450626,11.35922544,1.135922544,-55.660204148\n45,23.876,2.286,17.960512212,17.960512212,1.077630814,-34.843393864\n14.036243,22.86,2.032,80.085263502,6.160405002,1.047268924,-103.679614078\n0,21.59,2.032,0,25.4,1.27,-24.13\n345.963757,20.574,2.286,24.6416195,6.160405002,1.047268924,-103.679614078\n315,19.812,3.048,17.960512212,17.960512212,1.077630814,-34.843393864\n296.565051,19.304,4.064,34.077676066,11.35922544,1.135922544,-55.660204148\n284.036243,19.05,5.08,80.085263502,6.160405002,1.047268924,-103.679614078\n281.309932,18.796,21.59,104.608346536,4.981349956,1.29515108,-128.219944728\n303.690068,18.288,22.352,35.223462446,7.04469254,0.915809954,-90.665192304\n315,17.526,23.114,17.960512212,17.960512212,1.077630814,-34.843393864\n345.963757,16.51,23.368,24.6416195,6.160405002,1.047268924,-103.679614078\n0,15.24,23.368,0,25.4,1.27,-24.13\n14.036243,14.224,23.114,80.085263502,6.160405002,1.047268924,-103.679614078\n45,13.462,22.352,17.960512212,17.960512212,1.077630814,-34.843393864\n56.309932,12.954,21.59,56.357539812,7.04469254,0.915809954,-90.665192304\n78.690068,12.7,20.32,24.906749272,4.981349956,1.29515108,-128.219944728\n75.963757,12.446,4.064,24.6416195,6.160405002,1.047268924,-103.679614078\n63.434949,11.938,3.048,22.718450626,11.35922544,1.135922544,-55.660204148\n45,11.176,2.286,17.960512212,17.960512212,1.077630814,-34.843393864\n14.036243,10.16,2.032,80.085263502,6.160405002,1.047268924,-103.679614078\n0,8.89,2.032,0,25.4,1.27,-24.13\n345.963757,7.874,2.286,24.6416195,6.160405002,1.047268924,-103.679614078\n315,7.112,3.048,17.960512212,17.960512212,1.077630814,-34.843393864\n296.565051,6.604,4.064,34.077676066,11.35922544,1.135922544,-55.660204148\n284.036243,6.35,5.08,80.085263502,6.160405002,1.047268924,-103.679614078\n281.309932,6.096,21.59,104.608346536,4.981349956,1.29515108,-128.219944728\n303.690068,5.588,22.352,35.223462446,7.04469254,0.915809954,-90.665192304\n315,4.826,23.114,17.960512212,17.960512212,1.077630814,-34.843393864\n345.963757,3.81,23.368,24.6416195,6.160405002,1.047268924,-103.679614078\n0,2.54,23.368,0,25.4,1.27,-24.13\n14.036243,1.524,23.114,80.085263502,6.160405002,1.047268924,-103.679614078\n45,0.762,22.352,17.960512212,17.960512212,1.077630814,-34.843393864\n56.309932,0.254,21.59,56.357539812,7.04469254,0.915809954,-90.665192304\n78.690068,0,20.32,24.906749272,4.981349956,1.29515108,-128.219944728\n270,19.05,20.32,0,25.4,15.24,-10.16\n270,12.7,20.32,0,25.4,15.24,-10.16\n270,6.35,20.32,0,25.4,15.24,-10.16\n270,0,20.32,0,25.4,15.24,-10.16\n")),Ud(Id.ParsePatFile("\n*STARS,STARS\n0, 0,0, 0,5.49926, 3.175,-3.175\n60, 0,0, 0,5.49926, 3.175,-3.175\n120, 1.5875,2.74963, 0,5.49926, 3.175,-3.175\n")),Ud(Id.ParsePatFile("\n*STEEL,STEEL\n45, 0,0, 0,3.175\n45, 0,1.5875, 0,3.175\n")),Ud(Id.ParsePatFile("\n*SWAMP,SWAMP\n0, 0,0, 12.7,21.997, 3.175,-22.225\n90, 1.5875,0, 21.997,12.7, 1.5875,-42.4066\n90, 1.98438,0, 21.997,12.7, 1.27,-42.7241\n90, 1.19062,0, 21.997,12.7, 1.27,-42.7241\n60, 2.38125,0, 12.7,21.997, 1.016,-24.384\n120, .79375,0, 12.7,21.997, 1.016,-24.384\n")),Ud(Id.ParsePatFile("\n*TRANS,TRANS\n0, 0,0, 0,6.35\n0, 0,3.175, 0,6.35, 3.175,-3.175\n")),Ud(Id.ParsePatFile("\n*TRI-OVERLAP\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n59.641885,2.286000254,3.81,1206.700468992,0.313103514,20.605334202,-2039.928082188\n300.358115,12.7,21.590000254,853.832947398,0.313103514,20.605334202,-2039.928082188\n180,9.129485678,15.494,0,25.4,18.258981262,-7.141018738\n59.036243,22.737590288,4.452650734,56.628832894,4.356064186,5.17479407,-142.931383936\n180,23.114,3.81,0,25.4,20.827999746,-4.572000254\n300.963757,0,8.89,91.477345366,4.356064186,5.174794324,-142.931383682\n300.784147,3.048,3.81,148.105450296,0.464280504,13.89591328,-1375.695350204\n239.215853,22.352,3.81,1241.485813188,0.464280504,13.89591328,-1375.695350204\n")),Ud(Id.ParsePatFile("\n*TRIANG,TRIANG\n60, 0,0, 4.7625,8.24889, 4.7625,-4.7625\n120, 0,0, 4.76250001,8.24889, 4.7625,-4.7625\n0, -2.38125,4.12445, 4.7625,8.24889, 4.7625,-4.7625\n")),Ud(Id.ParsePatFile("\n*WEATHERBOARD,WEATHERBOARD\n; By John Hyslop,    Manually Entered QCAD3 pattern\n; Developed in mm as metric QCAD3 pattern\n; Metric Hatch Scale 1 Makes 152mm horizontally placed boards\n; with a 13mm offset line to simulate a rounded edge\n0,0,0,0,152\n0,0,13,0,152\n")),Ud(Id.ParsePatFile("\n*WEAVING,WEAVING\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n90,22.86,5.08,0,25.4,1.27,-24.13\n75.963757,22.352,3.048,24.6416195,6.160405002,2.094537594,-102.632345154\n66.801409,21.59,1.27,136.74251925,3.335183322,1.934406342,-191.506230398\n54.462322,20.32,-0.508,91.53339072,2.952690056,2.18499055,-216.314071054\n56.309932,19.304,-2.032,56.357539812,7.04469254,1.831620162,-89.74938235\n90,20.066,5.588,0,25.4,1.778,-23.622\n80.537678,19.812,4.064,25.054405568,4.175734346,1.545021802,-152.95714646\n63.434949,19.05,2.54,22.718450626,11.35922544,1.703883816,-55.092242876\n56.309932,18.034,1.016,56.357539812,7.04469254,1.831620162,-89.74938235\n56.309932,17.018,-0.508,56.357539812,7.04469254,1.831620162,-89.74938235\n333.434949,21.844,6.858,22.718450626,11.35922544,1.703883816,-55.092242876\n344.054604,20.066,7.366,104.668749768,3.488958224,1.84914794,-183.065643266\n0,18.034,7.366,0,25.4,2.032,-23.368\n9.462322,16.51,7.112,129.447762694,4.175734346,1.545021802,-152.95714646\n26.565051,14.986,6.35,34.077676066,11.35922544,1.703883816,-55.092242876\n38.659808,13.716,5.334,35.701322044,3.966813504,1.626393496,-161.0129622\n36.869898,11.684,3.81,35.56,5.08,2.54,-124.46\n20.556045,9.652,3.048,136.750876358,2.97284521,2.170177016,-214.847518234\n330.255119,23.114,9.398,56.708680588,3.150482142,2.047813532,-202.733533318\n344.054604,21.336,9.906,104.668749768,3.488958224,1.84914794,-183.065643266\n352.874984,19.304,10.16,25.203858152,3.150482142,2.047813532,-202.733533318\n0,17.526,10.16,0,25.4,1.778,-23.622\n14.036243,15.494,9.652,80.085263502,6.160405002,2.094537594,-102.632345154\n26.565051,13.462,8.636,34.077676066,11.35922544,2.271845088,-54.524281604\n33.690068,11.938,7.62,35.223462446,7.04469254,1.831620162,-89.74938235\n35.537678,10.16,6.35,126.965671138,2.952690056,2.18499055,-216.314071054\n0,5.08,2.54,0,25.4,1.27,-24.13\n348.690068,3.81,2.794,24.906749272,4.981349956,1.29515108,-128.219944728\n341.565051,3.048,3.048,24.09655582,8.032185358,0.803218612,-79.518633952\n336.801409,1.27,3.81,136.74251925,3.335183322,1.934406342,-191.506230398\n326.309932,-0.254,4.826,56.357539812,7.04469254,1.831620162,-89.74938235\n324.462322,-2.032,6.096,91.53339072,2.952690056,2.18499055,-216.314071054\n0,5.588,5.334,0,25.4,1.778,-23.622\n350.537678,4.064,5.588,25.054405568,4.175734346,1.545021802,-152.95714646\n333.434949,2.54,6.35,22.718450626,11.35922544,1.703883816,-55.092242876\n326.309932,1.016,7.366,56.357539812,7.04469254,1.831620162,-89.74938235\n326.309932,-0.508,8.382,56.357539812,7.04469254,1.831620162,-89.74938235\n60.255119,16.002,23.114,56.708680588,3.150482142,2.047813532,-202.733533318\n180,20.066,20.066,0,25.4,2.032,-23.368\n164.054604,21.844,19.558,104.668749768,3.488958224,1.84914794,-183.065643266\n153.434949,23.368,18.796,22.718450626,11.35922544,1.703883816,-55.092242876\n330.255119,23.114,22.098,56.708680588,3.150482142,2.047813532,-202.733533318\n345.963757,21.082,22.606,24.6416195,6.160405002,2.094537594,-102.632345154\n352.874984,19.05,22.86,25.203858152,3.150482142,2.047813532,-202.733533318\n60.255119,18.288,21.59,56.708680588,3.150482142,2.047813532,-202.733533318\n80.537678,18.034,20.066,25.054405568,4.175734346,1.545021802,-152.95714646\n90,18.034,18.034,0,25.4,2.032,-23.368\n104.036243,18.542,16.002,80.085263502,6.160405002,2.094537594,-102.632345154\n116.565051,19.304,14.478,34.077676066,11.35922544,1.703883816,-55.092242876\n129.805571,20.574,12.954,35.773504272,3.252136752,1.9838035,-196.396538372\n123.690068,21.59,11.43,35.223462446,7.04469254,1.831620162,-89.74938235\n113.198591,22.352,9.652,56.698117744,3.335183322,1.934406342,-191.506230398\n309.805571,18.034,11.684,35.773504272,3.252136752,1.9838035,-196.396538372\n305.537678,16.764,13.462,126.965671138,2.952690056,2.18499055,-216.314071054\n299.744881,15.748,15.24,148.072666262,3.150482142,2.047813532,-202.733533318\n285.945396,15.24,17.018,80.246041438,3.488958224,1.84914794,-183.065643266\n270,15.24,19.304,0,25.4,2.286,-23.114\n74.054604,15.494,21.336,104.668749768,3.488958224,1.84914794,-183.065643266\n82.874984,15.24,19.304,25.203858152,3.150482142,2.047813532,-202.733533318\n39.805571,13.716,18.034,35.773504272,3.252136752,1.9838035,-196.396538372\n35.537678,11.938,16.764,126.965671138,2.952690056,2.18499055,-216.314071054\n33.690068,10.414,15.748,35.223462446,7.04469254,1.831620162,-89.74938235\n15.945396,8.636,15.24,80.246041438,3.488958224,1.84914794,-183.065643266\n6.340192,6.35,14.986,204.76213556,2.804960862,2.30006779,-227.706714766\n350.537678,4.826,15.24,25.054405568,4.175734346,1.545021802,-152.95714646\n344.054604,3.048,15.748,104.668749768,3.488958224,1.84914794,-183.065643266\n23.198591,13.97,21.59,56.698117744,3.335183322,1.934406342,-191.506230398\n29.744881,12.192,20.574,148.072666262,3.150482142,2.047813532,-202.733533318\n39.805571,10.668,19.304,35.773504272,3.252136752,1.9838035,-196.396538372\n29.744881,8.89,18.288,148.072666262,3.150482142,2.047813532,-202.733533318\n7.125016,6.858,18.034,179.577488698,3.150482142,2.047813532,-202.733533318\n0,5.334,18.034,0,25.4,1.524,-23.876\n344.054604,3.556,18.542,104.668749768,3.488958224,1.84914794,-183.065643266\n333.434949,2.54,19.05,22.718450626,11.35922544,1.135922544,-55.660204148\n234.462322,7.874,-0.254,91.53339072,2.952690056,2.18499055,-216.314071054\n240.255119,8.89,1.524,56.708680588,3.150482142,2.047813532,-202.733533318\n243.434949,9.906,3.556,22.718450626,11.35922544,2.271845088,-54.524281604\n262.874984,10.16,5.588,25.203858152,3.150482142,2.047813532,-202.733533318\n270,10.16,7.62,0,25.4,2.032,-23.368\n282.528808,9.652,9.906,104.69063898,2.755016842,2.341764176,-231.834664854\n293.198591,8.89,11.684,56.698117744,3.335183322,1.934406342,-191.506230398\n309.805571,7.62,13.208,35.773504272,3.252136752,1.9838035,-196.396538372\n305.537678,6.35,14.986,126.965671138,2.952690056,2.18499055,-216.314071054\n270,5.334,19.812,0,25.4,1.778,-23.622\n254.054604,5.842,21.59,104.668749768,3.488958224,1.84914794,-183.065643266\n246.801409,6.604,23.368,136.74251925,3.335183322,1.934406342,-191.506230398\n236.309932,5.334,1.016,56.357539812,7.04469254,1.831620162,-89.74938235\n234.462322,6.604,2.794,91.53339072,2.952690056,2.18499055,-216.314071054\n249.443955,7.366,4.826,80.266818638,2.97284521,2.170177016,-214.847518234\n270,7.366,6.858,0,25.4,2.032,-23.368\n278.130102,7.112,8.636,154.460405328,3.592102544,1.796051272,-177.809071102\n296.565051,6.096,10.668,34.077676066,11.35922544,2.271845088,-54.524281604\n309.805571,4.826,12.192,35.773504272,3.252136752,1.9838035,-196.396538372\n303.690068,3.81,13.716,35.223462446,7.04469254,1.831620162,-89.74938235\n290.556045,3.048,15.748,136.750876358,2.97284521,2.170177016,-214.847518234\n341.565051,1.524,16.256,24.09655582,8.032185358,1.60643697,-78.715415594\n324.462322,-0.254,17.526,91.53339072,2.952690056,2.18499055,-216.314071054\n324.462322,-2.032,18.796,91.53339072,2.952690056,2.18499055,-216.314071054\n146.309932,1.016,20.066,56.357539812,7.04469254,1.831620162,-89.74938235\n146.309932,2.54,19.05,56.357539812,7.04469254,1.831620162,-89.74938235\n262.874984,2.794,21.082,25.203858152,3.150482142,2.047813532,-202.733533318\n255.963757,3.302,23.114,24.6416195,6.160405002,2.094537594,-102.632345154\n240.255119,4.318,24.892,56.708680588,3.150482142,2.047813532,-202.733533318\n")),Ud(Id.ParsePatFile("\n*WIRE-FENCE\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in mm as metric QCAD3 pattern\n315,11.684,12.7,17.960512212,17.960512212,1.186955462,-34.734068962\n315,13.353142966,14.332857034,17.960512212,17.960512212,1.231577928,-34.689446496\n3.731397,12.767918076,14.294690232,381.845330542,0.55100347,0.586467966,-1170.2956782\n183.17983,11.77579941,14.229987034,432.544118908,1.408938508,23.016097986,-434.888914066\n183.17983,11.714581854,13.209697736,432.544118908,1.408938508,23.012451308,-434.892560744\n153.434949,13.208,12.954,22.718450626,11.35922544,0.567961272,-56.22816542\n266.593556,13.208,12.954,432.546308388,0.301846742,25.69937837,-2111.67704156\n266.593556,14.224,13.462,432.546308388,0.301846742,25.69937837,-2111.67704156\n2.602562,12.523304392,11.860695608,534.003174054,1.153354564,0.622066574,-558.754908396\n")),Ud(Id.ParsePatFile("\n*XMASTREE-01,XMASTREE-01\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n180,1.016,24.13,0,25.4,1.016,-24.384\n90,1.016,20.828,0,25.4,3.302,-22.098\n180,8.382,20.828,0,25.4,7.366,-18.034\n49.763642,5.588,17.526,198.374734568,1.491539308,4.325464044,-428.2209495\n180,7.112,17.526,0,25.4,1.524,-23.876\n51.340192,4.064,13.716,126.938033652,3.966813504,4.879180742,-157.760174954\n180,5.588,13.716,0,25.4,1.524,-23.876\n52.431408,3.048,10.414,126.990557296,1.548665432,4.165909626,-412.425064658\n180,4.318,10.414,0,25.4,1.27,-24.13\n53.130102,2.032,7.366,91.44,5.08,3.81,-123.19\n180,3.302,7.366,0,25.4,1.27,-24.13\n53.972627,1.27,4.572,218.491081432,1.867445084,3.454773634,-342.02257732\n180,2.54,4.572,0,25.4,1.27,-24.13\n54.462322,0,1.016,91.53339072,2.952690056,4.369981354,-214.129080504\n0,24.384,24.13,0,25.4,1.016,-24.384\n90,24.384,20.828,0,25.4,3.302,-22.098\n0,17.018,20.828,0,25.4,7.366,-18.034\n130.236358,19.812,17.526,234.17167923,1.491539308,4.325464044,-428.2209495\n0,18.288,17.526,0,25.4,1.524,-23.876\n128.659808,21.336,13.716,35.701322044,3.966813504,4.879180742,-157.760174954\n0,19.812,13.716,0,25.4,1.524,-23.876\n127.568592,22.352,10.414,289.600417242,1.548665432,4.165909626,-412.425064658\n0,21.082,10.414,0,25.4,1.27,-24.13\n126.869898,23.368,7.366,35.56,5.08,3.81,-123.19\n0,22.098,7.366,0,25.4,1.27,-24.13\n126.027373,24.13,4.572,126.986269522,1.867445084,3.454773634,-342.02257732\n0,22.86,4.572,0,25.4,1.27,-24.13\n125.537678,25.4,1.016,126.965671138,2.952690056,4.369981354,-214.129080504\n0,11.684,1.016,0,25.4,1.016,-24.384\n270,11.684,4.318,0,25.4,3.302,-22.098\n0,4.318,4.318,0,25.4,7.366,-18.034\n229.763642,7.112,7.62,198.374734568,1.491539308,4.325464044,-428.2209495\n0,5.588,7.62,0,25.4,1.524,-23.876\n231.340192,8.636,11.43,126.938033652,3.966813504,4.879180742,-157.760174954\n0,7.112,11.43,0,25.4,1.524,-23.876\n232.431408,9.652,14.732,126.990557296,1.548665432,4.165909626,-412.425064658\n0,8.382,14.732,0,25.4,1.27,-24.13\n233.130102,10.668,17.78,91.44,5.08,3.81,-123.19\n0,9.398,17.78,0,25.4,1.27,-24.13\n233.972627,11.43,20.574,218.491081432,1.867445084,3.454773634,-342.02257732\n0,10.16,20.574,0,25.4,1.27,-24.13\n234.462322,12.7,24.13,91.53339072,2.952690056,4.369981354,-214.129080504\n180,13.716,1.016,0,25.4,1.016,-24.384\n270,13.716,4.318,0,25.4,3.302,-22.098\n180,21.082,4.318,0,25.4,7.366,-18.034\n310.236358,18.288,7.62,234.17167923,1.491539308,4.325464044,-428.2209495\n180,19.812,7.62,0,25.4,1.524,-23.876\n308.659808,16.764,11.43,35.701322044,3.966813504,4.879180742,-157.760174954\n180,18.288,11.43,0,25.4,1.524,-23.876\n307.568592,15.748,14.732,289.600417242,1.548665432,4.165909626,-412.425064658\n180,17.018,14.732,0,25.4,1.27,-24.13\n306.869898,14.732,17.78,35.56,5.08,3.81,-123.19\n180,16.002,17.78,0,25.4,1.27,-24.13\n306.027373,13.97,20.574,126.986269522,1.867445084,3.454773634,-342.02257732\n180,15.24,20.574,0,25.4,1.27,-24.13\n305.537678,12.7,24.13,126.965671138,2.952690056,4.369981354,-214.129080504\n")),Ud(Id.ParsePatFile("\n*XMASTREE-02,XMASTREE-02\n;By John Hyslop\n;Developed in mm as metric QCAD3 pattern\n180,1.016,6.604,0,25.4,1.016,-24.384\n90,1.016,3.302,0,25.4,3.302,-22.098\n180,8.382,3.302,0,25.4,7.366,-18.034\n49.763642,5.588,0,198.374734568,1.491539308,4.325464044,-428.2209495\n180,7.112,25.4,0,25.4,1.524,-23.876\n51.340192,4.064,21.59,126.938033652,3.966813504,4.879180742,-157.760174954\n180,5.588,21.59,0,25.4,1.524,-23.876\n52.431408,3.048,18.288,126.990557296,1.548665432,4.165909626,-412.425064658\n180,4.318,18.288,0,25.4,1.27,-24.13\n53.130102,2.032,15.24,91.44,5.08,3.81,-123.19\n180,3.302,15.24,0,25.4,1.27,-24.13\n53.972627,1.27,12.446,218.491081432,1.867445084,3.454773634,-342.02257732\n180,2.54,12.446,0,25.4,1.27,-24.13\n54.462322,0,8.89,91.53339072,2.952690056,4.369981354,-214.129080504\n0,24.384,6.604,0,25.4,1.016,-24.384\n90,24.384,3.302,0,25.4,3.302,-22.098\n0,17.018,3.302,0,25.4,7.366,-18.034\n130.236358,19.812,0,234.17167923,1.491539308,4.325464044,-428.2209495\n0,18.288,25.4,0,25.4,1.524,-23.876\n128.659808,21.336,21.59,35.701322044,3.966813504,4.879180742,-157.760174954\n0,19.812,21.59,0,25.4,1.524,-23.876\n127.568592,22.352,18.288,289.600417242,1.548665432,4.165909626,-412.425064658\n0,21.082,18.288,0,25.4,1.27,-24.13\n126.869898,23.368,15.24,35.56,5.08,3.81,-123.19\n0,22.098,15.24,0,25.4,1.27,-24.13\n126.027373,24.13,12.446,126.986269522,1.867445084,3.454773634,-342.02257732\n0,22.86,12.446,0,25.4,1.27,-24.13\n125.537678,25.4,8.89,126.965671138,2.952690056,4.369981354,-214.129080504\n0,11.684,2.286,0,25.4,1.016,-24.384\n270,11.684,5.588,0,25.4,3.302,-22.098\n0,4.318,5.588,0,25.4,7.366,-18.034\n229.763642,7.112,8.89,198.374734568,1.491539308,4.325464044,-428.2209495\n0,5.588,8.89,0,25.4,1.524,-23.876\n231.340192,8.636,12.7,126.938033652,3.966813504,4.879180742,-157.760174954\n0,7.112,12.7,0,25.4,1.524,-23.876\n232.431408,9.652,16.002,126.990557296,1.548665432,4.165909626,-412.425064658\n0,8.382,16.002,0,25.4,1.27,-24.13\n233.130102,10.668,19.05,91.44,5.08,3.81,-123.19\n0,9.398,19.05,0,25.4,1.27,-24.13\n233.972627,11.43,21.844,218.491081432,1.867445084,3.454773634,-342.02257732\n0,10.16,21.844,0,25.4,1.27,-24.13\n234.462322,12.7,25.4,91.53339072,2.952690056,4.369981354,-214.129080504\n180,13.716,2.286,0,25.4,1.016,-24.384\n270,13.716,5.588,0,25.4,3.302,-22.098\n180,21.082,5.588,0,25.4,7.366,-18.034\n310.236358,18.288,8.89,234.17167923,1.491539308,4.325464044,-428.2209495\n180,19.812,8.89,0,25.4,1.524,-23.876\n308.659808,16.764,12.7,35.701322044,3.966813504,4.879180742,-157.760174954\n180,18.288,12.7,0,25.4,1.524,-23.876\n307.568592,15.748,16.002,289.600417242,1.548665432,4.165909626,-412.425064658\n180,17.018,16.002,0,25.4,1.27,-24.13\n306.869898,14.732,19.05,35.56,5.08,3.81,-123.19\n180,16.002,19.05,0,25.4,1.27,-24.13\n306.027373,13.97,21.844,126.986269522,1.867445084,3.454773634,-342.02257732\n180,15.24,21.844,0,25.4,1.27,-24.13\n305.537678,12.7,25.4,126.965671138,2.952690056,4.369981354,-214.129080504\n")),Ud(Id.ParsePatFile("\n*ZIGZAG,ZIGZAG\n0, 0,0, 3.175,3.175, 3.175,-3.175\n90, 3.175,0, 3.175,3.175, 3.175,-3.175\n")),Ud(Id.ParsePatFile("\n*ACAD_ISO02W100,ACAD_ISO02W100\n0, 0,0, 0,5, 12,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO03W100,ACAD_ISO03W100\n0, 0,0, 0,5, 12,-18\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO04W100,ACAD_ISO04W100\n0, 0,0, 0,5, 24,-3,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO05W100,ACAD_ISO05W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO06W100,ACAD_ISO06W100\n0, 0,0, 0,5, 24,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -34,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO07W100,ACAD_ISO07W100\n0, 0,0, 0,5, .5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO08W100,ACAD_ISO08W100\n0, 0,0, 0,5, 24,-3,6,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO09W100,ACAD_ISO09W100\n0, 0,0, 0,5, 24,-3,6,-3,6,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO10W100,ACAD_ISO10W100\n0, 0,0, 0,5, 12,-3,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO11W100,ACAD_ISO11W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO12W100,ACAD_ISO12W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO13W100,ACAD_ISO13W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-6.5\n0, 0,0, 0,5, -33.5,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO14W100,ACAD_ISO14W100\n0, 0,0, 0,5, 12,-3,.5,-3,.5,-6.5\n0, 0,0, 0,5, -22,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ACAD_ISO15W100,ACAD_ISO15W100\n0, 0,0, 0,5, 12,-3,12,-3,.5,-10\n0, 0,0, 0,5, -33.5,.5,-3,.5,-3\n"),!1),Ud(Id.ParsePatFile("\n*ANGLE,ANGLE\n0, 0,0, 0,.275, .2,-.075\n90, 0,0, 0,.275, .2,-.075\n"),!1),Ud(Id.ParsePatFile("\n*ANSI31,ANSI31\n45, 0,0, 0,.125\n"),!1),Ud(Id.ParsePatFile("\n*ANSI32,ANSI32\n45, 0,0, 0,.375\n45, .1767767,0, 0,.375\n"),!1),Ud(Id.ParsePatFile("\n*ANSI33,ANSI33\n45, 0,0, 0,.25\n45, .1767767,0, 0,.25, .125,-.0625\n"),!1),Ud(Id.ParsePatFile("\n*ANSI34,ANSI34\n45, 0,0, 0,.75\n45, .1767767,0, 0,.75\n45, .35355339,0, 0,.75\n45, .53033009,0, 0,.75\n"),!1),Ud(Id.ParsePatFile("\n*ANSI35,ANSI35\n45, 0,0, 0,.25\n45, .1767767,0, 0,.25, .3125,-.0625,0,-.0625\n"),!1),Ud(Id.ParsePatFile("\n*ANSI36,ANSI36\n45, 0,0, .21875,.125, .3125,-.0625,0,-.0625\n"),!1),Ud(Id.ParsePatFile("\n*ANSI37,ANSI37\n45, 0,0, 0,.125\n135, 0,0, 0,.125\n"),!1),Ud(Id.ParsePatFile("\n*ANSI38,ANSI38\n45, 0,0, 0,.125\n135, 0,0, .25,.125, .3125,-.1875\n"),!1),Ud(Id.ParsePatFile("\n*AR-B816C,AR-B816C\n0, 0,0, 8,8, 15.625,-.375\n0, -8,.375, 8,8, 15.625,-.375\n90, 0,0, 8,8, -8.375,7.625\n90, -.375,0, 8,8, -8.375,7.625\n"),!1),Ud(Id.ParsePatFile("\n*AR-B816,AR-B816\n0, 0,0, 0,8\n90, 0,0, 8,8, 8,-8\n"),!1),Ud(Id.ParsePatFile("\n*AR-B88,AR-B88\n0, 0,0, 0,8\n90, 0,0, 8,4, 8,-8\n"),!1),Ud(Id.ParsePatFile("\n*AR-BRELM,AR-BRELM\n0, 0,0, 0,5.334, 7.625,-.375\n0, 0,2.25, 0,5.334, 7.625,-.375\n0, 2,2.667, 0,5.334, 3.625,-.375\n0, 2,4.917, 0,5.334, 3.625,-.375\n90, 0,0, 0,8, 2.25,-3.084\n90, -.375,0, 0,8, 2.25,-3.084\n90, 2,2.667, 0,4, 2.25,-3.084\n90, 1.625,2.667, 0,4, 2.25,-3.084\n"),!1),Ud(Id.ParsePatFile("\n*AR-BRSTD,AR-BRSTD\n0, 0,0, 0,2.667\n90, 0,0, 2.667,4, 2.667,-2.667\n"),!1),Ud(Id.ParsePatFile("\n*AR-CONC-01,AR-CONC-01\n;Optimize to replace existing AR-CONC Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n243.434949,0.3,0.8,8.9442719,4.472136,0.2236068,-22.137073\n90,0.3,0.6,0,10,0.2,-9.8\n0,0.2,0.6,0,10,0.1,-9.9\n315,0.1,0.1,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,0.3,0.2,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,0.2,0,8.9442719,4.472136,0.2236068,-22.137073\n45,2,0.4,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,2.3,0.3,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,2.2,0.6,22.1359436,3.1622777,0.3162278,-31.3065488\n315,2.3,0.9,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,2.5,1,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,2.4,0.8,8.9442719,4.472136,0.2236068,-22.137073\n270,4.1,0.6,0,10,0.2,-9.8\n45,3.9,0.4,7.0710678,7.0710678,0.2828427,-13.8592929\n180,4.1,0.4,0,10,0.2,-9.8\n333.434949,3.9,0.2,8.9442719,4.472136,0.2236068,-22.137073\n225,4,0.3,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,4.1,0.1,13.4164079,4.472136,0.2236068,-22.137073\n198.434949,6.3,0.8,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,6.2,0.6,8.9442719,4.472136,0.2236068,-22.137073\n333.434949,6,0.7,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,5.7,0,13.4164079,4.472136,0.2236068,-22.137073\n251.565051,5.8,0.3,9.486833,3.1622777,0.3162278,-31.3065488\n116.565051,5.9,0.1,13.4164079,4.472136,0.2236068,-22.137073\n45,6.7,0.1,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,7,0,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,6.9,0.3,22.1359436,3.1622777,0.3162278,-31.3065488\n315,3,2.8,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,3.2,2.9,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,3.1,2.7,8.9442719,4.472136,0.2236068,-22.137073\n45,1.1,0.8,7.0710678,7.0710678,0.2828427,-13.8592929\n180,1.3,0.8,0,10,0.2,-9.8\n270,1.3,1,0,10,0.2,-9.8\n225,1.8,2.4,7.0710678,7.0710678,0.1414214,-14.0007143\n270,1.8,2.6,0,10,0.2,-9.8\n71.565051,1.7,2.3,9.486833,3.1622777,0.3162278,-31.3065488\n198.434949,1,2.1,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,0.9,1.9,8.9442719,4.472136,0.2236068,-22.137073\n333.434949,0.7,2,8.9442719,4.472136,0.2236068,-22.137073\n0,3.5,2.2,0,10,0.2,-9.8\n225,3.7,2.4,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.7,2.2,0,10,0.2,-9.8\n315,4.5,1.7,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,4.7,1.8,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4.6,1.6,8.9442719,4.472136,0.2236068,-22.137073\n315,5.5,2.1,7.0710678,7.0710678,0.1414214,-14.0007143\n270,5.5,2.3,0,10,0.2,-9.8\n108.434949,5.6,2,22.1359436,3.1622777,0.3162278,-31.3065488\n206.565051,6.9,2.7,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,6.8,2.5,8.9442719,4.472136,0.2236068,-22.137073\n315,6.7,2.6,7.0710678,7.0710678,0.1414214,-14.0007143\n333.434949,7.3,1.9,8.9442719,4.472136,0.2236068,-22.137073\n225,7.4,2,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,7.5,1.8,13.4164079,4.472136,0.2236068,-22.137073\n26.565051,8.2,1.5,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,8.4,1.4,8.9442719,4.472136,0.2236068,-22.137073\n270,8.4,1.6,0,10,0.2,-9.8\n180,9.3,1.7,0,10,0.1,-9.9\n270,9.3,1.8,0,10,0.1,-9.9\n45,9.2,1.7,7.0710678,7.0710678,0.1414214,-14.0007143\n153.434949,9.3,2.4,8.9442719,4.472136,0.2236068,-22.137073\n270,9.3,2.7,0,10,0.3,-9.7\n45,9.1,2.5,7.0710678,7.0710678,0.2828427,-13.8592929\n206.565051,9.1,3.5,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9,3.3,8.9442719,4.472136,0.2236068,-22.137073\n315,8.9,3.4,7.0710678,7.0710678,0.1414214,-14.0007143\n180,6.5,2.9,0,10,0.2,-9.8\n270,6.5,3.2,0,10,0.3,-9.7\n56.309932,6.3,2.9,22.1880078,2.773501,0.3605551,-35.6949576\n198.434949,5.4,3.8,22.1359436,3.1622777,0.3162278,-31.3065488\n71.565051,5.3,3.5,9.486833,3.1622777,0.3162278,-31.3065488\n315,5.1,3.7,7.0710678,7.0710678,0.2828427,-13.8592929\n180,3.8,3.3,0,10,0.3,-9.7\n270,3.8,3.6,0,10,0.3,-9.7\n45,3.5,3.3,7.0710678,7.0710678,0.4242641,-13.7178716\n225,3.3,4.3,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.3,4.1,0,10,0.2,-9.8\n0,3.1,4.1,0,10,0.2,-9.8\n206.565051,1.6,3.9,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,1.5,3.7,8.9442719,4.472136,0.2236068,-22.137073\n315,1.4,3.8,7.0710678,7.0710678,0.1414214,-14.0007143\n108.434949,1,3.7,22.1359436,3.1622777,0.3162278,-31.3065488\n341.565051,0.7,3.8,9.486833,3.1622777,0.3162278,-31.3065488\n225,0.9,4,7.0710678,7.0710678,0.2828427,-13.8592929\n270,1.5,4.5,0,10,0.2,-9.8\n45,1.3,4.3,7.0710678,7.0710678,0.2828427,-13.8592929\n180,1.5,4.3,0,10,0.2,-9.8\n315,3.6,4.7,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,3.8,4.8,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,3.7,4.6,8.9442719,4.472136,0.2236068,-22.137073\n0,5.1,4,0,10,0.1,-9.9\n225,5.2,4.1,7.0710678,7.0710678,0.1414214,-14.0007143\n90,5.2,4,0,10,0.1,-9.9\n0,6.9,3.8,0,10,0.2,-9.8\n243.434949,7,4,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,7.1,3.8,13.4164079,4.472136,0.2236068,-22.137073\n26.565051,7.3,4.5,13.4164079,4.472136,0.2236068,-22.137073\n116.565051,7.4,4.3,13.4164079,4.472136,0.2236068,-22.137073\n251.565051,7.5,4.6,9.486833,3.1622777,0.3162278,-31.3065488\n63.434949,8.8,3.6,8.9442719,4.472136,0.2236068,-22.137073\n180,9,3.6,0,10,0.2,-9.8\n296.565051,8.9,3.8,13.4164079,4.472136,0.2236068,-22.137073\n180,9,5.4,0,10,0.3,-9.7\n270,9,5.7,0,10,0.3,-9.7\n45,8.7,5.4,7.0710678,7.0710678,0.4242641,-13.7178716\n180,8.6,5.6,0,10,0.2,-9.8\n270,8.6,5.8,0,10,0.2,-9.8\n45,8.4,5.6,7.0710678,7.0710678,0.2828427,-13.8592929\n243.434949,8.2,6.5,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,8,6.4,13.4164079,4.472136,0.2236068,-22.137073\n135,8.1,6.3,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6.7,6,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,6.8,5.8,13.4164079,4.472136,0.2236068,-22.137073\n0,6.6,5.8,0,10,0.2,-9.8\n225,6.2,6.1,7.0710678,7.0710678,0.2828427,-13.8592929\n108.434949,6.3,5.8,22.1359436,3.1622777,0.3162278,-31.3065488\n341.565051,6,5.9,9.486833,3.1622777,0.3162278,-31.3065488\n135,5.9,5.4,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6,5.6,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,5.8,5.5,13.4164079,4.472136,0.2236068,-22.137073\n180,4.8,6,0,10,0.1,-9.9\n270,4.8,6.1,0,10,0.1,-9.9\n45,4.7,6,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,4.4,6.7,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4.3,6.5,8.9442719,4.472136,0.2236068,-22.137073\n315,4.2,6.6,7.0710678,7.0710678,0.1414214,-14.0007143\n225,3.4,6.5,7.0710678,7.0710678,0.2828427,-13.8592929\n90,3.4,6.2,0,10,0.3,-9.7\n333.434949,3.2,6.3,8.9442719,4.472136,0.2236068,-22.137073\n180,3,6.1,0,10,0.2,-9.8\n270,3,6.3,0,10,0.2,-9.8\n45,2.8,6.1,7.0710678,7.0710678,0.2828427,-13.8592929\n135,2.1,5.6,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,2.2,5.8,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,2,5.7,13.4164079,4.472136,0.2236068,-22.137073\n180,1.1,6.3,0,10,0.2,-9.8\n270,1.1,6.5,0,10,0.2,-9.8\n45,0.9,6.3,7.0710678,7.0710678,0.2828427,-13.8592929\n270,0.6,7,0,10,0.3,-9.7\n45,0.4,6.8,7.0710678,7.0710678,0.2828427,-13.8592929\n153.434949,0.6,6.7,8.9442719,4.472136,0.2236068,-22.137073\n243.434949,8.2,7.8,8.9442719,4.472136,0.2236068,-22.137073\n90,8.2,7.6,0,10,0.2,-9.8\n0,8.1,7.6,0,10,0.1,-9.9\n135,8.7,8.2,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,8.8,8.4,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,8.6,8.3,13.4164079,4.472136,0.2236068,-22.137073\n180,8.6,8.4,0,10,0.2,-9.8\n251.565051,8.7,8.7,9.486833,3.1622777,0.3162278,-31.3065488\n45,8.4,8.4,7.0710678,7.0710678,0.4242641,-13.7178716\n153.434949,7.2,9.2,8.9442719,4.472136,0.2236068,-22.137073\n135,6.5,7.3,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,6.6,7.5,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,6.4,7.4,13.4164079,4.472136,0.2236068,-22.137073\n135,6.3,7.7,7.0710678,7.0710678,0.1414214,-14.0007143\n251.565051,6.4,8,9.486833,3.1622777,0.3162278,-31.3065488\n45,6.2,7.8,7.0710678,7.0710678,0.2828427,-13.8592929\n26.565051,2.6,7.6,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,2.8,7.5,8.9442719,4.472136,0.2236068,-22.137073\n270,2.8,7.7,0,10,0.2,-9.8\n90,4.5,7.9,0,10,0.2,-9.8\n0,4.3,7.9,0,10,0.2,-9.8\n225,4.5,8.1,7.0710678,7.0710678,0.2828427,-13.8592929\n63.434949,4.9,8.3,8.9442719,4.472136,0.2236068,-22.137073\n315,4.8,8.4,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,5,8.5,13.4164079,4.472136,0.2236068,-22.137073\n153.434949,5.8,8.8,8.9442719,4.472136,0.2236068,-22.137073\n270,5.8,9.1,0,10,0.3,-9.7\n45,5.6,8.9,7.0710678,7.0710678,0.2828427,-13.8592929\n0,2.8,9.3,0,10,0.3,-9.7\n135,2.6,8,7.0710678,7.0710678,0.1414214,-14.0007143\n270,2.6,8.2,0,10,0.2,-9.8\n45,2.5,8.1,7.0710678,7.0710678,0.1414214,-14.0007143\n116.565051,0.8,8.2,13.4164079,4.472136,0.2236068,-22.137073\n333.434949,0.6,8.3,8.9442719,4.472136,0.2236068,-22.137073\n225,0.7,8.4,7.0710678,7.0710678,0.1414214,-14.0007143\n135,1.2,8.6,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,1.3,8.8,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,1.1,8.7,13.4164079,4.472136,0.2236068,-22.137073\n0,8.74875,8.58939,0,10,0,-10\n0,8.12326,9.16255,0,10,0,-10\n0,8.22334,7.41455,0,10,0,-10\n0,7.2264,8.32807,0,10,0,-10\n0,6.60091,8.90123,0,10,0,-10\n0,8.74106,5.28385,0,10,0,-10\n0,8.11556,5.85701,0,10,0,-10\n0,6.70099,7.15323,0,10,0,-10\n0,5.70405,8.06676,0,10,0,-10\n0,5.07855,8.63992,0,10,0,-10\n0,8.21564,4.10901,0,10,0,-10\n0,7.2187,5.02254,0,10,0,-10\n0,6.59321,5.5957,0,10,0,-10\n0,5.17863,6.89192,0,10,0,-10\n0,4.18169,7.80544,0,10,0,-10\n0,3.5562,8.3786,0,10,0,-10\n0,8.73336,1.97832,0,10,0,-10\n0,8.10787,2.55148,0,10,0,-10\n0,6.69329,3.8477,0,10,0,-10\n0,5.69635,4.76122,0,10,0,-10\n0,5.07086,5.33438,0,10,0,-10\n0,3.65628,6.6306,0,10,0,-10\n0,2.65934,7.54413,0,10,0,-10\n0,2.03385,8.11729,0,10,0,-10\n0,8.20795,0.80348,0,10,0,-10\n0,7.21101,1.717,0,10,0,-10\n0,6.58551,2.29016,0,10,0,-10\n0,5.17094,3.58638,0,10,0,-10\n0,4.174,4.49991,0,10,0,-10\n0,3.5485,5.07307,0,10,0,-10\n0,2.13393,6.36929,0,10,0,-10\n0,1.13699,7.28282,0,10,0,-10\n0,0.51149,7.85597,0,10,0,-10\n0,6.68559,0.54216,0,10,0,-10\n0,5.68865,1.45569,0,10,0,-10\n0,5.06316,2.02885,0,10,0,-10\n0,3.53626,3.22649,0,10,0,-10\n0,2.65164,4.23859,0,10,0,-10\n0,2.02615,4.81175,0,10,0,-10\n0,0.61157,6.10797,0,10,0,-10\n0,5.16324,0.28085,0,10,0,-10\n0,4.1663,1.19437,0,10,0,-10\n0,3.54081,1.76753,0,10,0,-10\n0,2.12623,3.06375,0,10,0,-10\n0,1.12929,3.97728,0,10,0,-10\n0,0.5038,4.55044,0,10,0,-10\n0,3.64089,0.01953,0,10,0,-10\n0,2.64395,0.93306,0,10,0,-10\n0,2.01845,1.50622,0,10,0,-10\n0,0.60388,2.80244,0,10,0,-10\n0,1.12159,0.67174,0,10,0,-10\n0,0.4961,1.2449,0,10,0,-10\n0,9.15644,8.35141,0,10,0,-10\n0,8.31335,8.05964,0,10,0,-10\n0,7.76295,8.41028,0,10,0,-10\n0,8.6371,7.02451,0,10,0,-10\n0,6.91985,8.11852,0,10,0,-10\n0,6.36945,8.46916,0,10,0,-10\n0,7.2436,7.08339,0,10,0,-10\n0,5.52636,8.17739,0,10,0,-10\n0,4.97596,8.52804,0,10,0,-10\n0,8.67916,5.33996,0,10,0,-10\n0,8.12876,5.69061,0,10,0,-10\n0,5.85011,7.14227,0,10,0,-10\n0,4.13287,8.23627,0,10,0,-10\n0,3.58247,8.58691,0,10,0,-10\n0,9.00291,4.30484,0,10,0,-10\n0,7.28566,5.39884,0,10,0,-10\n0,6.73527,5.74948,0,10,0,-10\n0,4.45662,7.20114,0,10,0,-10\n0,2.73937,8.29515,0,10,0,-10\n0,2.18897,8.64579,0,10,0,-10\n0,7.60942,4.36371,0,10,0,-10\n0,5.89217,5.45772,0,10,0,-10\n0,5.34177,5.80836,0,10,0,-10\n0,3.06312,7.26002,0,10,0,-10\n0,1.34588,8.35403,0,10,0,-10\n0,0.79548,8.70467,0,10,0,-10\n0,9.04497,2.62029,0,10,0,-10\n0,8.49457,2.97093,0,10,0,-10\n0,6.21592,4.42259,0,10,0,-10\n0,4.49868,5.5166,0,10,0,-10\n0,3.94828,5.86724,0,10,0,-10\n0,1.66963,7.3189,0,10,0,-10\n0,9.36872,1.58516,0,10,0,-10\n0,7.65148,2.67917,0,10,0,-10\n0,7.10108,3.02981,0,10,0,-10\n0,4.82243,4.48147,0,10,0,-10\n0,3.10518,5.57547,0,10,0,-10\n0,2.55479,5.92612,0,10,0,-10\n0,0.27613,7.37778,0,10,0,-10\n0,7.97523,1.64404,0,10,0,-10\n0,6.25798,2.73804,0,10,0,-10\n0,5.70758,3.08869,0,10,0,-10\n0,3.42893,4.54035,0,10,0,-10\n0,1.71169,5.63435,0,10,0,-10\n0,1.16129,5.98499,0,10,0,-10\n0,8.86038,0.25125,0,10,0,-10\n0,6.58173,1.70292,0,10,0,-10\n0,4.86449,2.79692,0,10,0,-10\n0,4.31409,3.14756,0,10,0,-10\n0,2.03544,4.59922,0,10,0,-10\n0,0.3182,5.69323,0,10,0,-10\n0,7.46689,0.31013,0,10,0,-10\n0,5.18824,1.76179,0,10,0,-10\n0,3.471,2.8558,0,10,0,-10\n0,2.9206,3.20644,0,10,0,-10\n0,0.64195,4.6581,0,10,0,-10\n0,6.6238,0.01837,0,10,0,-10\n0,6.0734,0.36901,0,10,0,-10\n0,3.79475,1.82067,0,10,0,-10\n0,2.0775,2.91468,0,10,0,-10\n0,1.5271,3.26532,0,10,0,-10\n0,5.2303,0.07724,0,10,0,-10\n0,4.6799,0.42789,0,10,0,-10\n0,2.40125,1.87955,0,10,0,-10\n0,0.68401,2.97355,0,10,0,-10\n0,0.13361,3.3242,0,10,0,-10\n0,3.83681,0.13612,0,10,0,-10\n0,3.28641,0.48676,0,10,0,-10\n0,1.00776,1.93842,0,10,0,-10\n0,2.44331,0.195,0,10,0,-10\n0,1.89292,0.54564,0,10,0,-10\n0,1.04982,0.25388,0,10,0,-10\n0,0.49942,0.60452,0,10,0,-10\n0,6.42555,9.30607,0,10,0,-10\n0,4.77695,9.08903,0,10,0,-10\n0,3.7883,8.95887,0,10,0,-10\n0,3.13481,8.87284,0,10,0,-10\n0,1.48621,8.6558,0,10,0,-10\n0,0.49757,8.52564,0,10,0,-10\n0,9.02957,8.70973,0,10,0,-10\n0,7.38097,8.49269,0,10,0,-10\n0,6.39232,8.36253,0,10,0,-10\n0,5.73883,8.2765,0,10,0,-10\n0,4.09023,8.05946,0,10,0,-10\n0,3.10158,7.9293,0,10,0,-10\n0,2.4481,7.84327,0,10,0,-10\n0,0.79949,7.62622,0,10,0,-10\n0,8.99634,7.76619,0,10,0,-10\n0,8.34285,7.68016,0,10,0,-10\n0,6.69425,7.46312,0,10,0,-10\n0,5.7056,7.33296,0,10,0,-10\n0,5.05211,7.24692,0,10,0,-10\n0,3.40351,7.02988,0,10,0,-10\n0,2.41487,6.89972,0,10,0,-10\n0,1.76138,6.81369,0,10,0,-10\n0,0.11277,6.59665,0,10,0,-10\n0,9.29827,6.86677,0,10,0,-10\n0,8.30962,6.73662,0,10,0,-10\n0,7.65613,6.65058,0,10,0,-10\n0,6.00753,6.43354,0,10,0,-10\n0,5.01888,6.30338,0,10,0,-10\n0,4.3654,6.21735,0,10,0,-10\n0,2.71679,6.00031,0,10,0,-10\n0,1.72815,5.87015,0,10,0,-10\n0,1.07466,5.78412,0,10,0,-10\n0,8.61155,5.8372,0,10,0,-10\n0,7.6229,5.70704,0,10,0,-10\n0,6.96941,5.62101,0,10,0,-10\n0,5.32081,5.40397,0,10,0,-10\n0,4.33217,5.27381,0,10,0,-10\n0,3.67868,5.18777,0,10,0,-10\n0,2.03007,4.97073,0,10,0,-10\n0,1.04143,4.84057,0,10,0,-10\n0,0.38794,4.75454,0,10,0,-10\n0,7.92483,4.80762,0,10,0,-10\n0,6.93618,4.67747,0,10,0,-10\n0,6.2827,4.59143,0,10,0,-10\n0,4.63409,4.37439,0,10,0,-10\n0,3.64545,4.24423,0,10,0,-10\n0,2.99196,4.1582,0,10,0,-10\n0,1.34336,3.94116,0,10,0,-10\n0,0.35471,3.811,0,10,0,-10\n0,8.88671,3.99509,0,10,0,-10\n0,7.23811,3.77805,0,10,0,-10\n0,6.24947,3.64789,0,10,0,-10\n0,5.59598,3.56186,0,10,0,-10\n0,3.94737,3.34482,0,10,0,-10\n0,2.95873,3.21466,0,10,0,-10\n0,2.30524,3.12862,0,10,0,-10\n0,0.65664,2.91158,0,10,0,-10\n0,8.85348,3.05155,0,10,0,-10\n0,8.19999,2.96552,0,10,0,-10\n0,6.55139,2.74847,0,10,0,-10\n0,5.56275,2.61832,0,10,0,-10\n0,4.90926,2.53228,0,10,0,-10\n0,3.26065,2.31524,0,10,0,-10\n0,2.27201,2.18508,0,10,0,-10\n0,1.61852,2.09905,0,10,0,-10\n0,9.15541,2.15213,0,10,0,-10\n0,8.16676,2.02197,0,10,0,-10\n0,7.51328,1.93594,0,10,0,-10\n0,5.86467,1.7189,0,10,0,-10\n0,4.87603,1.58874,0,10,0,-10\n0,4.22254,1.50271,0,10,0,-10\n0,2.57394,1.28567,0,10,0,-10\n0,1.58529,1.15551,0,10,0,-10\n0,0.9318,1.06947,0,10,0,-10\n0,8.46869,1.12256,0,10,0,-10\n0,7.48005,0.9924,0,10,0,-10\n0,6.82656,0.90637,0,10,0,-10\n0,5.17795,0.68932,0,10,0,-10\n0,4.18931,0.55917,0,10,0,-10\n0,3.53582,0.47313,0,10,0,-10\n0,1.88722,0.25609,0,10,0,-10\n0,0.89857,0.12593,0,10,0,-10\n0,0.24508,0.0399,0,10,0,-10\n0,7.78197,0.09298,0,10,0,-10\n0,1.25458,8.906,0,10,0,-10\n0,2.59486,9.0898,0,10,0,-10\n0,1.22284,8.03701,0,10,0,-10\n0,3.91339,9.25692,0,10,0,-10\n0,2.56312,8.22081,0,10,0,-10\n0,1.19109,7.16803,0,10,0,-10\n0,3.88165,8.38793,0,10,0,-10\n0,2.53137,7.35183,0,10,0,-10\n0,1.15935,6.29904,0,10,0,-10\n0,5.23746,8.58365,0,10,0,-10\n0,3.84991,7.51894,0,10,0,-10\n0,2.49963,6.48284,0,10,0,-10\n0,1.12761,5.43005,0,10,0,-10\n0,6.57774,8.76745,0,10,0,-10\n0,5.20572,7.71466,0,10,0,-10\n0,3.81816,6.64995,0,10,0,-10\n0,2.46789,5.61385,0,10,0,-10\n0,1.09587,4.56106,0,10,0,-10\n0,7.89627,8.93456,0,10,0,-10\n0,6.546,7.89846,0,10,0,-10\n0,5.17398,6.84567,0,10,0,-10\n0,3.78642,5.78096,0,10,0,-10\n0,2.43615,4.74486,0,10,0,-10\n0,1.06413,3.69207,0,10,0,-10\n0,9.25208,9.13028,0,10,0,-10\n0,7.86453,8.06557,0,10,0,-10\n0,6.51425,7.02947,0,10,0,-10\n0,5.14223,5.97668,0,10,0,-10\n0,3.75468,4.91198,0,10,0,-10\n0,2.4044,3.87587,0,10,0,-10\n0,1.03238,2.82308,0,10,0,-10\n0,9.22034,8.26129,0,10,0,-10\n0,7.83279,7.19659,0,10,0,-10\n0,6.48251,6.16048,0,10,0,-10\n0,5.11049,5.10769,0,10,0,-10\n0,3.72294,4.04299,0,10,0,-10\n0,2.37266,3.00688,0,10,0,-10\n0,1.00064,1.9541,0,10,0,-10\n0,9.1886,7.3923,0,10,0,-10\n0,7.80105,6.3276,0,10,0,-10\n0,6.45077,5.29149,0,10,0,-10\n0,5.07875,4.23871,0,10,0,-10\n0,3.6912,3.174,0,10,0,-10\n0,2.34092,2.1379,0,10,0,-10\n0,0.9689,1.08511,0,10,0,-10\n0,9.15686,6.52332,0,10,0,-10\n0,7.7693,5.45861,0,10,0,-10\n0,6.41903,4.42251,0,10,0,-10\n0,5.04701,3.36972,0,10,0,-10\n0,2.30918,1.26891,0,10,0,-10\n0,0.93716,0.21612,0,10,0,-10\n0,9.12511,5.65433,0,10,0,-10\n0,7.73756,4.58962,0,10,0,-10\n0,6.38729,3.55352,0,10,0,-10\n0,5.01527,2.50073,0,10,0,-10\n0,3.62771,1.43602,0,10,0,-10\n0,2.27744,0.39992,0,10,0,-10\n0,9.09337,4.78534,0,10,0,-10\n0,7.70582,3.72063,0,10,0,-10\n0,6.35554,2.68453,0,10,0,-10\n0,4.98352,1.63174,0,10,0,-10\n0,3.59597,0.56703,0,10,0,-10\n0,9.06163,3.91635,0,10,0,-10\n0,7.67408,2.85164,0,10,0,-10\n0,6.3238,1.81554,0,10,0,-10\n0,4.95178,0.76275,0,10,0,-10\n0,9.02989,3.04736,0,10,0,-10\n0,7.64234,1.98266,0,10,0,-10\n0,6.29206,0.94655,0,10,0,-10\n0,8.99815,2.17837,0,10,0,-10\n0,7.61059,1.11367,0,10,0,-10\n0,6.26032,0.07756,0,10,0,-10\n0,8.9664,1.30939,0,10,0,-10\n0,7.57885,0.24468,0,10,0,-10\n0,8.93466,0.4404,0,10,0,-10\n206.565051,10,0.6,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9.9,0.4,8.9442719,4.472136,0.2236068,-22.137073\n315,9.8,0.5,7.0710678,7.0710678,0.1414214,-14.0007143\n206.565051,9.7,5.4,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,9.6,5.2,8.9442719,4.472136,0.2236068,-22.137073\n315,9.5,5.3,7.0710678,7.0710678,0.1414214,-14.0007143\n153.434949,10,7.2,8.9442719,4.472136,0.2236068,-22.137073\n288.434949,9.9,7.5,22.1359436,3.1622777,0.3162278,-31.3065488\n63.434949,9.8,7.3,8.9442719,4.472136,0.2236068,-22.137073\n135,9.7,9.3,7.0710678,7.0710678,0.1414214,-14.0007143\n270,9.7,9.5,0,10,0.2,-9.8\n45,9.6,9.4,7.0710678,7.0710678,0.1414214,-14.0007143\n0,7.7,9.6,0,10,0.2,-9.8\n270,7.2,9.4,0,10,0.2,-9.8\n26.565051,7,9.3,13.4164079,4.472136,0.2236068,-22.137073\n0,9.50621,9.4965,0,10,0,-10\n0,9.74569,7.67586,0,10,0,-10\n0,9.63792,6.11833,0,10,0,-10\n0,9.738,4.37033,0,10,0,-10\n0,9.63022,2.81279,0,10,0,-10\n0,9.7303,1.06479,0,10,0,-10\n0,9.70684,8.00076,0,10,0,-10\n0,9.52225,5.63173,0,10,0,-10\n0,9.88807,2.91205,0,10,0,-10\n0,8.06768,9.52227,0,10,0,-10\n0,7.07904,9.39211,0,10,0,-10\n0,9.68306,8.79577,0,10,0,-10\n0,9.98498,7.89635,0,10,0,-10\n0,9.57343,5.02467,0,10,0,-10\n0,9.5402,4.08112,0,10,0,-10\n0,9.84213,3.18171,0,10,0,-10\n0,9.43058,0.31003,0,10,0,-10\n243.434949,7.8,9.8,8.9442719,4.472136,0.2236068,-22.137073\n116.565051,7.9,9.6,13.4164079,4.472136,0.2236068,-22.137073\n180,6,9.7,0,10,0.2,-9.8\n270,6,9.9,0,10,0.2,-9.8\n45,5.8,9.7,7.0710678,7.0710678,0.2828427,-13.8592929\n296.565051,4.1,10,13.4164079,4.472136,0.2236068,-22.137073\n63.434949,4,9.8,8.9442719,4.472136,0.2236068,-22.137073\n180,4.2,9.8,0,10,0.2,-9.8\n135,3.4,9.4,7.0710678,7.0710678,0.1414214,-14.0007143\n243.434949,3.5,9.6,8.9442719,4.472136,0.2236068,-22.137073\n26.565051,3.3,9.5,13.4164079,4.472136,0.2236068,-22.137073\n116.565051,3.1,9.3,13.4164079,4.472136,0.2236068,-22.137073\n225,3,9.5,7.0710678,7.0710678,0.2828427,-13.8592929\n45,0,9.7,7.0710678,7.0710678,0.2828427,-13.8592929\n161.565051,0.3,9.6,9.486833,3.1622777,0.3162278,-31.3065488\n288.434949,0.2,9.9,22.1359436,3.1622777,0.3162278,-31.3065488\n0,3.66398,9.93614,0,10,0,-10\n0,2.14162,9.67482,0,10,0,-10\n0,0.61927,9.41351,0,10,0,-10\n0,6.87779,9.80307,0,10,0,-10\n0,5.4843,9.86194,0,10,0,-10\n0,2.69731,9.9797,0,10,0,-10\n0,4.47502,9.98845,0,10,0,-10\n0,3.82153,9.90242,0,10,0,-10\n0,2.17293,9.68537,0,10,0,-10\n0,1.18429,9.55522,0,10,0,-10\n0,0.5308,9.46918,0,10,0,-10\n0,1.28632,9.77499,0,10,0,-10\n0,2.6266,9.95879,0,10,0,-10\n0,5.2692,9.45264,0,10,0,-10\n0,6.60948,9.63644,0,10,0,-10\n0,7.92801,9.80355,0,10,0,-10\n0,9.66478,9.68531,0,10,0,-10\n0,8.27128,9.74419,0,10,0,-10\n0,9.71629,9.73931,0,10,0,-10\n0,9.28383,9.99927,0,10,0,-10\n"),!1),Ud(Id.ParsePatFile("\n*AR-CONC,AR-CONC\n50, 0,0, 4.12975034,-5.89789472, .75,-8.25\n355, 0,0, -2.03781207,7.3723684, .6,-6.6\n100.4514, .5977168,-.0522934, 5.7305871,-6.9397673, .6374019,-7.01142112\n46.1842, 0,2, 6.19462551,-8.84684208, 1.125,-12.375\n96.6356, .88936745,1.86206693, 8.59588071,-10.40965104, .95610288,-10.51713\n351.1842, 0,2, 7.74328189,11.0585526, .9,-9.9\n21, 1,1.5, 4.12975034,-5.89789472, .75,-8.25\n326, 1,1.5, -2.03781207,7.3723684, .6,-6.6\n71.4514, 1.49742233,1.16448394, 5.7305871,-6.9397673, .6374019,-7.01142112\n37.5, 0,0, 2.123,2.567, 0,-6.52,0,-6.7,0,-6.625\n7.5, 0,0, 3.123,3.567, 0,-3.82,0,-6.37,0,-2.525\n-32.5, -2.23,0, 4.6234,2.678, 0,-2.5,0,-7.8,0,-10.35\n-42.5, -3.23,0, 3.6234,4.678, 0,-3.25,0,-5.18,0,-7.35\n"),!1),Ud(Id.ParsePatFile("\n*AR-HBONE,AR-HBONE\n45, 0,0, 4,4, 12,-4\n135, 2.82842713,2.82842713, 4,-4, 12,-4\n"),!1),Ud(Id.ParsePatFile("\n*AR-PARQ1,AR-PARQ1\n90, 0,0, 12,12, 12,-12\n90, 2,0, 12,12, 12,-12\n90, 4,0, 12,12, 12,-12\n90, 6,0, 12,12, 12,-12\n90, 8,0, 12,12, 12,-12\n90, 10,0, 12,12, 12,-12\n90, 12,0, 12,12, 12,-12\n0, 0,12, 12,-12, 12,-12\n0, 0,14, 12,-12, 12,-12\n0, 0,16, 12,-12, 12,-12\n0, 0,18, 12,-12, 12,-12\n0, 0,20, 12,-12, 12,-12\n0, 0,22, 12,-12, 12,-12\n0, 0,24, 12,-12, 12,-12\n"),!1),Ud(Id.ParsePatFile("\n*AR-RROOF,AR-RROOF\n0, 0,0, 2.2,1, 15,-2,5,-1\n0, 1.33,.5, -1,1.33, 3,-.33,6,-.75\n0, .5,.85, 5.2,.67, 8,-1.4,4,-1\n"),!1),Ud(Id.ParsePatFile("\n*AR-RSHKE,AR-RSHKE\n0, 0,0, 25.5,12, 6,-5,7,-3,9,-4\n0, 6,.5, 25.5,12, 5,-19,4,-6\n0, 18,-.75, 25.5,12, 3,-31\n90, 0,0, 12,8.5, 11.5,-36.5\n90, 6,0, 12,8.5, 11.25,-36.75\n90, 11,0, 12,8.5, 10.5,-37.5\n90, 18,-.75, 12,8.5, 11.5,-36.5\n90, 21,-.75, 12,8.5, 11.5,-36.5\n90, 30,0, 12,8.5, 11,-37\n"),!1),Ud(Id.ParsePatFile("\n*AR-SAND,AR-SAND\n37.5, 0,0, 1.123,1.567, 0,-1.52,0,-1.7,0,-1.625\n7.5, 0,0, 2.123,2.567, 0,-.82,0,-1.37,0,-.525\n-32.5, -1.23,0, 2.6234,1.678, 0,-.5,0,-1.8,0,-2.35\n-42.5, -1.23,0, 1.6234,2.678, 0,-.25,0,-1.18,0,-1.35\n"),!1),Ud(Id.ParsePatFile("\n*BARBWIRE,BARBWIRE\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n315,0.3,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n288.434949,0.26,0.68,2.21359436,0.31622777,0.12649111,-3.03578655\n158.198591,0.31,0.66,3.15682075,0.18569534,0.05385165,-5.33131316\n116.565051,0.32,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n116.565051,0.34,0.6,1.34164079,0.4472136,0.04472136,-2.19134662\n111.801409,0.44,0.39,2.22834406,0.18569534,0.05385165,-5.33131316\n156.801409,0.51,0.36,5.38356375,0.13130643,0.07615773,-7.53961537\n289.653824,0.46,0.5,11.70450662,0.06726728,0.14866069,-14.71740806\n194.036243,0.31,0.36,3.15296313,0.24253563,0.04123106,-4.08187457\n251.565051,0.32,0.39,0.9486833,0.31622777,0.03162278,-3.13065488\n254.054604,0.34,0.46,4.12081692,0.13736056,0.0728011,-7.20730879\n74.744881,0.34,0.46,4.12217269,0.0877058,0.11401754,-11.28773671\n135,0.36,0.44,0.70710678,0.70710678,0.02828427,-1.38592929\n180,0.39,0.44,0,1,0.03,-0.97\n270,0.39,0.45,0,1,0.01,-0.99\n74.054604,0.39,0.45,4.12081692,0.13736056,0.1456022,-7.13450769\n161.565051,0.42,0.44,0.9486833,0.31622777,0.03162278,-3.13065488\n198.434949,0.45,0.45,2.21359436,0.31622777,0.03162278,-3.13065488\n258.231711,0.5,0.69,5.09885635,0.04079085,0.24515301,-24.27014833\n21.801409,0.45,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n75.963757,0.43,0.59,0.9701425,0.24253563,0.08246211,-4.04064351\n341.565051,0.4,0.6,0.9486833,0.31622777,0.03162278,-3.13065488\n45,0.37,0.57,0.70710678,0.70710678,0.04242641,-1.37178716\n288.434949,0.36,0.6,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.34,0.6,0,1,0.02,-0.98\n26.565051,0.32,0.59,1.34164079,0.4472136,0.02236068,-2.2137073\n78.231711,0.27,0.35,5.09885635,0.04079085,0.24515301,-24.27014833\n4.085617,0.78,0.48,13.03821015,0.07124705,0.14035669,-13.89531216\n0,0.69,0.48,0,1,0.09,-0.91\n354.289407,0.59,0.49,0.99503719,0.09950372,0.10049876,-9.94937686\n356.185925,0.47,0.55,0.99778516,0.06651901,0.15033296,-14.88296341\n351.469234,0.8,0.55,7.07089492,0.04944682,0.20223748,-20.02151093\n0,0.66,0.55,0,1,0.14,-0.86\n14.036243,0.46,0.5,3.15296313,0.24253563,0.20615528,-3.91695034\n189.865807,0.7,0.51,17.26262336,0.04283529,0.23345235,-23.11178271\n180,0.8,0.51,0,1,0.1,-0.9\n171.469234,1,0.48,7.07089492,0.04944682,0.20223748,-20.02151093\n186.115504,1,0.56,9.05531551,0.03551104,0.15644586,-28.00380982\n5.52754,0.13777778,0.53333333,10.04982433,0.03210806,0.17302679,-30.97179621\n3.691386,0,0.48,15.03326191,0.03219114,0.1515339,-30.91291524\n348.310631,0,0.52,5.0989077,0.0337676,0.29614186,-29.31804393\n348.690068,0,0.56,0.98058068,0.19611614,0.30594117,-4.79307834\n"),!1),Ud(Id.ParsePatFile("\n*BLOCKS-01,BLOCKS-01 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.31,0.66,1,1,0.22,-0.78\n180,0.08,0.09,0,1,0.57,-0.43\n270,0.08,0.09,1,1,0.21,-0.79\n180,0.08,0.88,0,1,0.57,-0.43\n270,0.51,0.09,1,1,0.21,-0.79\n270,0.89,0.32,1,1,0.2,-0.8\n0,0.49,0.32,0,1,0.4,-0.6\n90,0.49,0.12,1,1,0.2,-0.8\n180,0.89,0.12,0,1,0.4,-0.6\n270,0.69,0.84,1,1,0.48,-0.52\n0,0.48,0.84,0,1,0.21,-0.79\n90,0.48,0.36,1,1,0.48,-0.52\n180,0.69,0.36,0,1,0.21,-0.79\n270,0.12,0.03,1,1,0.33,-0.67\n0,0.12,0.7,0,1,0.32,-0.68\n270,0.44,0.03,1,1,0.33,-0.67\n0,0.12,0.03,0,1,0.32,-0.68\n270,0.45,0.67,1,1,0.24,-0.76\n0,0.36,0.67,0,1,0.09,-0.91\n90,0.36,0.43,1,1,0.24,-0.76\n180,0.45,0.43,0,1,0.09,-0.91\n270,0.45,0.4,1,1,0.33,-0.67\n0,0.11,0.4,0,1,0.34,-0.66\n90,0.11,0.07,1,1,0.33,-0.67\n180,0.45,0.07,0,1,0.34,-0.66\n270,0.89,0.41,1,1,0.06,-0.94\n0,0.73,0.41,0,1,0.16,-0.84\n90,0.73,0.35,1,1,0.06,-0.94\n180,0.89,0.35,0,1,0.16,-0.84\n180,0.07,0.4,0,1,0.14,-0.86\n270,0.93,0.4,1,1,0.27,-0.73\n180,0.07,0.13,0,1,0.14,-0.86\n270,0.07,0.4,1,1,0.27,-0.73\n180,0.08,0.81,0,1,0.34,-0.66\n270,0.74,0.81,1,1,0.1,-0.9\n180,0.08,0.71,0,1,0.34,-0.66\n270,0.08,0.81,1,1,0.1,-0.9\n180,0.31,0.66,0,1,0.59,-0.41\n270,0.72,0.66,1,1,0.22,-0.78\n180,0.31,0.44,0,1,0.59,-0.41\n"),!1),Ud(Id.ParsePatFile("\n*BLOCKS-02,BLOCKS-02 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.32,0.18,0,1,0.49,-0.51\n270,0.32,0.55,1,1,0.37,-0.63\n0,0.37,0.96,0,1,0.42,-0.58\n0,0.17,0.98,0,1,0.17,-0.83\n90,0.82,0,1,1,0.15,-0.85\n180,0.92,0,0,1,0.1,-0.9\n180,0.32,0.55,0,1,0.49,-0.51\n270,0.83,0.55,1,1,0.37,-0.63\n180,0.13,0.8,0,1,0.18,-0.82\n90,0.14,0.59,1,1,0.17,-0.83\n270,0.13,0.15,1,1,0.35,-0.65\n180,0.71,0.59,0,1,0.57,-0.43\n270,0.92,0.15,1,1,0.15,-0.85\n0,0.82,0.15,0,1,0.1,-0.9\n270,0.71,0.76,1,1,0.17,-0.83\n0,0.14,0.76,0,1,0.57,-0.43\n180,0.08,0.59,0,1,0.32,-0.68\n270,0.08,0.76,1,1,0.17,-0.83\n180,0.13,0.15,0,1,0.18,-0.82\n270,0.95,0.15,1,1,0.35,-0.65\n90,0.18,0.8,1,1,0.13,-0.87\n180,0.91,0.8,0,1,0.73,-0.27\n180,0.08,0.76,0,1,0.32,-0.68\n270,0.76,0.76,1,1,0.17,-0.83\n270,0.34,0.15,1,1,0.17,-0.83\n0,0.17,0.15,0,1,0.17,-0.83\n270,0.91,0.93,1,1,0.13,-0.87\n0,0.18,0.93,0,1,0.73,-0.27\n0,0.37,0.55,0,1,0.42,-0.58\n270,0.37,0.55,1,1,0.59,-0.41\n270,0.17,0.15,1,1,0.17,-0.83\n270,0.79,0.55,1,1,0.59,-0.41\n"),!1),Ud(Id.ParsePatFile("\n*BOXJOIN-01,BOXJOIN-01 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n90,0.15000001,0.15,1,1,0.7,-0.3\n0,0.15000001,0.85,0,1,0.7,-0.3\n270,0.45000001,0.15,1,1,0.3,-0.7\n180,0.15000001,0.45,0,1,0.3,-0.7\n270,0.55000001,0.15,1,1,0.3,-0.7\n180,0.85000001,0.15,0,1,0.7,-0.3\n270,0.85000001,0.85,1,1,0.7,-0.3\n180,0.15000001,0.55,0,1,0.3,-0.7\n"),!1),Ud(Id.ParsePatFile("\n*BOXJOIN-02,BOXJOIN-02 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n90,0.15000001,0.55,1,1,0.3,-0.7\n270,0.85000001,0.85,1,1,0.3,-0.7\n0,0.55000001,0.85,0,1,0.3,-0.7\n180,0.15000001,0.55,0,1,0.3,-0.7\n90,0.15000001,0.15,1,1,0.3,-0.7\n180,0.45000001,0.15,0,1,0.3,-0.7\n180,0.15000001,0.45,0,1,0.3,-0.7\n180,0.85000001,0.15,0,1,0.3,-0.7\n270,0.85000001,0.45,1,1,0.3,-0.7\n270,0.45000001,0.15,1,1,0.3,-0.7\n270,0.55000001,0.15,1,1,0.3,-0.7\n0,0.15000001,0.85,0,1,0.3,-0.7\n"),!1),Ud(Id.ParsePatFile("\n*BOX,BOX\n90, 0,0, 0,1\n90, .25,0, 0,1\n0, 0,0, 0,1, -.25,.25\n0, 0,.25, 0,1, -.25,.25\n0, 0,.5, 0,1, .25,-.25\n0, 0,.75, 0,1, .25,-.25\n90, .5,0, 0,1, .25,-.25\n90, .75,0, 0,1, .25,-.25\n"),!1),Ud(Id.ParsePatFile("\n*BOX-OVERLAP,BOX-OVERLAP verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.2,0.7,0,1,0.4,-0.6\n90,0.2,0.2,1,1,0.6,-0.4\n270,0.3,0.2,1,1,0.4,-0.6\n180,0.2,0.3,0,1,0.4,-0.6\n0,0.2,0.8,0,1,0.6,-0.4\n180,0.8,0.2,0,1,0.6,-0.4\n270,0.8,0.8,1,1,0.6,-0.4\n270,0.7,0.2,1,1,0.4,-0.6\n"),!1),Ud(Id.ParsePatFile("\n*BRASS,BRASS\n0, 0,0, 0,.25\n0, 0,.125, 0,.25, .125,-.0625\n"),!1),Ud(Id.ParsePatFile("\n*BRICK,BRICK\n0, 0,0, 0,.25\n90, 0,0, 0,.5, .25,-.25\n90, .25,0, 0,.5, -.25,.25\n"),!1),Ud(Id.ParsePatFile("\n*BRSTONE,BRSTONE\n0, 0,0, 0,.33\n90, .9,0, .33,.5, .33,-.33\n90, .8,0, .33,.5, .33,-.33\n0, .9,.055, .5,.33, -.9,.1\n0, .9,.11, .5,.33, -.9,.1\n0, .9,.165, .5,.33, -.9,.1\n0, .9,.22, .5,.33, -.9,.1\n0, .9,.275, .5,.33, -.9,.1\n"),!1),Ud(Id.ParsePatFile("\n*BUBBLES-01,BUBBLES-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.058964,0.016739,0,1,0,-1\n0,0.062236,0.033193,0,1,0,-1\n0,0.067629,0.049078,0,1,0,-1\n0,0.075048,0.064123,0,1,0,-1\n0,0.084368,0.078071,0,1,0,-1\n0,0.095429,0.090684,0,1,0,-1\n0,0.108041,0.101745,0,1,0,-1\n0,0.12199,0.111065,0,1,0,-1\n0,0.137035,0.118484,0,1,0,-1\n0,0.15292,0.123876,0,1,0,-1\n0,0.169373,0.127149,0,1,0,-1\n0,0.186113,0.128246,0,1,0,-1\n0,0.202852,0.127149,0,1,0,-1\n0,0.219305,0.123876,0,1,0,-1\n0,0.23519,0.118484,0,1,0,-1\n0,0.250236,0.111065,0,1,0,-1\n0,0.264184,0.101745,0,1,0,-1\n0,0.276796,0.090684,0,1,0,-1\n0,0.287857,0.078071,0,1,0,-1\n0,0.297177,0.064123,0,1,0,-1\n0,0.304597,0.049078,0,1,0,-1\n0,0.309989,0.033193,0,1,0,-1\n0,0.313262,0.016739,0,1,0,-1\n0,0.120008,0.220248,0,1,0,-1\n0,0.117478,0.203192,0,1,0,-1\n0,0.113288,0.186467,0,1,0,-1\n0,0.10748,0.170233,0,1,0,-1\n0,0.100108,0.154647,0,1,0,-1\n0,0.091244,0.139858,0,1,0,-1\n0,0.080973,0.126009,0,1,0,-1\n0,0.069394,0.113234,0,1,0,-1\n0,0.056618,0.101655,0,1,0,-1\n0,0.04277,0.091384,0,1,0,-1\n0,0.027981,0.08252,0,1,0,-1\n0,0.012394,0.075148,0,1,0,-1\n0,0.012394,0.39979,0,1,0,-1\n0,0.027981,0.392418,0,1,0,-1\n0,0.04277,0.383554,0,1,0,-1\n0,0.056618,0.373283,0,1,0,-1\n0,0.069394,0.361704,0,1,0,-1\n0,0.080973,0.348929,0,1,0,-1\n0,0.091244,0.33508,0,1,0,-1\n0,0.100108,0.320291,0,1,0,-1\n0,0.10748,0.304704,0,1,0,-1\n0,0.113288,0.28847,0,1,0,-1\n0,0.117478,0.271745,0,1,0,-1\n0,0.120008,0.25469,0,1,0,-1\n0,0.120854,0.237469,0,1,0,-1\n0,0.738076,0.372319,0,1,0,-1\n0,0.732613,0.356706,0,1,0,-1\n0,0.723812,0.3427,0,1,0,-1\n0,0.712116,0.331003,0,1,0,-1\n0,0.69811,0.322203,0,1,0,-1\n0,0.682497,0.316739,0,1,0,-1\n0,0.666059,0.314887,0,1,0,-1\n0,0.649622,0.316739,0,1,0,-1\n0,0.634009,0.322203,0,1,0,-1\n0,0.620003,0.331003,0,1,0,-1\n0,0.608306,0.3427,0,1,0,-1\n0,0.599506,0.356706,0,1,0,-1\n0,0.594042,0.372319,0,1,0,-1\n0,0.59219,0.388756,0,1,0,-1\n0,0.594042,0.405194,0,1,0,-1\n0,0.599506,0.420807,0,1,0,-1\n0,0.608306,0.434813,0,1,0,-1\n0,0.620003,0.44651,0,1,0,-1\n0,0.634009,0.45531,0,1,0,-1\n0,0.649622,0.460773,0,1,0,-1\n0,0.666059,0.462625,0,1,0,-1\n0,0.682497,0.460773,0,1,0,-1\n0,0.69811,0.45531,0,1,0,-1\n0,0.712116,0.44651,0,1,0,-1\n0,0.723812,0.434813,0,1,0,-1\n0,0.732613,0.420807,0,1,0,-1\n0,0.738076,0.405194,0,1,0,-1\n0,0.739928,0.388756,0,1,0,-1\n0,0.834916,0.831041,0,1,0,-1\n0,0.821448,0.840826,0,1,0,-1\n0,0.810309,0.853198,0,1,0,-1\n0,0.462763,0.750408,0,1,0,-1\n0,0.458683,0.734294,0,1,0,-1\n0,0.452005,0.71907,0,1,0,-1\n0,0.442913,0.705153,0,1,0,-1\n0,0.431654,0.692923,0,1,0,-1\n0,0.418536,0.682713,0,1,0,-1\n0,0.403916,0.674801,0,1,0,-1\n0,0.388193,0.669403,0,1,0,-1\n0,0.371796,0.666667,0,1,0,-1\n0,0.355172,0.666667,0,1,0,-1\n0,0.338776,0.669403,0,1,0,-1\n0,0.323053,0.674801,0,1,0,-1\n0,0.308433,0.682713,0,1,0,-1\n0,0.295314,0.692923,0,1,0,-1\n0,0.284056,0.705153,0,1,0,-1\n0,0.274963,0.71907,0,1,0,-1\n0,0.268286,0.734294,0,1,0,-1\n0,0.264205,0.750408,0,1,0,-1\n0,0.262832,0.766975,0,1,0,-1\n0,0.264205,0.783542,0,1,0,-1\n0,0.268286,0.799657,0,1,0,-1\n0,0.274963,0.81488,0,1,0,-1\n0,0.284056,0.828797,0,1,0,-1\n0,0.295314,0.841027,0,1,0,-1\n0,0.308433,0.851238,0,1,0,-1\n0,0.323053,0.85915,0,1,0,-1\n0,0.403916,0.85915,0,1,0,-1\n0,0.418536,0.851238,0,1,0,-1\n0,0.431654,0.841027,0,1,0,-1\n0,0.442913,0.828797,0,1,0,-1\n0,0.452005,0.81488,0,1,0,-1\n0,0.458683,0.799657,0,1,0,-1\n0,0.462763,0.783542,0,1,0,-1\n0,0.464136,0.766975,0,1,0,-1\n0,0.821196,0.648394,0,1,0,-1\n0,0.818556,0.631724,0,1,0,-1\n0,0.814188,0.615423,0,1,0,-1\n0,0.808139,0.599667,0,1,0,-1\n0,0.800477,0.584629,0,1,0,-1\n0,0.791286,0.570475,0,1,0,-1\n0,0.780665,0.557359,0,1,0,-1\n0,0.768731,0.545425,0,1,0,-1\n0,0.755615,0.534804,0,1,0,-1\n0,0.741461,0.525612,0,1,0,-1\n0,0.726423,0.51795,0,1,0,-1\n0,0.710667,0.511902,0,1,0,-1\n0,0.694365,0.507534,0,1,0,-1\n0,0.677696,0.504894,0,1,0,-1\n0,0.660842,0.504011,0,1,0,-1\n0,0.643989,0.504894,0,1,0,-1\n0,0.627319,0.507534,0,1,0,-1\n0,0.611018,0.511902,0,1,0,-1\n0,0.595262,0.51795,0,1,0,-1\n0,0.580224,0.525612,0,1,0,-1\n0,0.56607,0.534804,0,1,0,-1\n0,0.552954,0.545425,0,1,0,-1\n0,0.54102,0.557359,0,1,0,-1\n0,0.530399,0.570475,0,1,0,-1\n0,0.521207,0.584629,0,1,0,-1\n0,0.513545,0.599667,0,1,0,-1\n0,0.507497,0.615423,0,1,0,-1\n0,0.503129,0.631724,0,1,0,-1\n0,0.500489,0.648394,0,1,0,-1\n0,0.499606,0.665247,0,1,0,-1\n0,0.500489,0.682101,0,1,0,-1\n0,0.503129,0.69877,0,1,0,-1\n0,0.507497,0.715072,0,1,0,-1\n0,0.513545,0.730828,0,1,0,-1\n0,0.521207,0.745866,0,1,0,-1\n0,0.530399,0.76002,0,1,0,-1\n0,0.54102,0.773136,0,1,0,-1\n0,0.552954,0.785069,0,1,0,-1\n0,0.56607,0.795691,0,1,0,-1\n0,0.580224,0.804882,0,1,0,-1\n0,0.595262,0.812544,0,1,0,-1\n0,0.611018,0.818592,0,1,0,-1\n0,0.627319,0.822961,0,1,0,-1\n0,0.643989,0.825601,0,1,0,-1\n0,0.660842,0.826484,0,1,0,-1\n0,0.677696,0.825601,0,1,0,-1\n0,0.694365,0.822961,0,1,0,-1\n0,0.710667,0.818592,0,1,0,-1\n0,0.726423,0.812544,0,1,0,-1\n0,0.741461,0.804882,0,1,0,-1\n0,0.755615,0.795691,0,1,0,-1\n0,0.768731,0.785069,0,1,0,-1\n0,0.780665,0.773136,0,1,0,-1\n0,0.791286,0.76002,0,1,0,-1\n0,0.800477,0.745866,0,1,0,-1\n0,0.808139,0.730828,0,1,0,-1\n0,0.814188,0.715072,0,1,0,-1\n0,0.818556,0.69877,0,1,0,-1\n0,0.821196,0.682101,0,1,0,-1\n0,0.822079,0.665247,0,1,0,-1\n0,0.524311,0.381738,0,1,0,-1\n0,0.521577,0.364477,0,1,0,-1\n0,0.517054,0.347597,0,1,0,-1\n0,0.510791,0.331282,0,1,0,-1\n0,0.502858,0.315711,0,1,0,-1\n0,0.49334,0.301054,0,1,0,-1\n0,0.482342,0.287473,0,1,0,-1\n0,0.469984,0.275116,0,1,0,-1\n0,0.456403,0.264118,0,1,0,-1\n0,0.441747,0.2546,0,1,0,-1\n0,0.426175,0.246666,0,1,0,-1\n0,0.40986,0.240403,0,1,0,-1\n0,0.39298,0.23588,0,1,0,-1\n0,0.375719,0.233146,0,1,0,-1\n0,0.358267,0.232232,0,1,0,-1\n0,0.340816,0.233146,0,1,0,-1\n0,0.323555,0.23588,0,1,0,-1\n0,0.306674,0.240403,0,1,0,-1\n0,0.290359,0.246666,0,1,0,-1\n0,0.274788,0.2546,0,1,0,-1\n0,0.260132,0.264118,0,1,0,-1\n0,0.246551,0.275116,0,1,0,-1\n0,0.234193,0.287473,0,1,0,-1\n0,0.223195,0.301054,0,1,0,-1\n0,0.213677,0.315711,0,1,0,-1\n0,0.205743,0.331282,0,1,0,-1\n0,0.199481,0.347597,0,1,0,-1\n0,0.194958,0.364477,0,1,0,-1\n0,0.192224,0.381738,0,1,0,-1\n0,0.191309,0.39919,0,1,0,-1\n0,0.192224,0.416642,0,1,0,-1\n0,0.194958,0.433903,0,1,0,-1\n0,0.199481,0.450783,0,1,0,-1\n0,0.205743,0.467098,0,1,0,-1\n0,0.213677,0.482669,0,1,0,-1\n0,0.223195,0.497326,0,1,0,-1\n0,0.234193,0.510907,0,1,0,-1\n0,0.246551,0.523264,0,1,0,-1\n0,0.260132,0.534262,0,1,0,-1\n0,0.274788,0.54378,0,1,0,-1\n0,0.290359,0.551714,0,1,0,-1\n0,0.306674,0.557977,0,1,0,-1\n0,0.323555,0.5625,0,1,0,-1\n0,0.340816,0.565234,0,1,0,-1\n0,0.358267,0.566148,0,1,0,-1\n0,0.375719,0.565234,0,1,0,-1\n0,0.39298,0.5625,0,1,0,-1\n0,0.40986,0.557977,0,1,0,-1\n0,0.426175,0.551714,0,1,0,-1\n0,0.441747,0.54378,0,1,0,-1\n0,0.456403,0.534262,0,1,0,-1\n0,0.469984,0.523264,0,1,0,-1\n0,0.482342,0.510907,0,1,0,-1\n0,0.49334,0.497326,0,1,0,-1\n0,0.502858,0.482669,0,1,0,-1\n0,0.510791,0.467098,0,1,0,-1\n0,0.517054,0.450783,0,1,0,-1\n0,0.521577,0.433903,0,1,0,-1\n0,0.524311,0.416642,0,1,0,-1\n0,0.525226,0.39919,0,1,0,-1\n0,0.847548,0.091384,0,1,0,-1\n0,0.833699,0.101655,0,1,0,-1\n0,0.820923,0.113234,0,1,0,-1\n0,0.809345,0.126009,0,1,0,-1\n0,0.799074,0.139858,0,1,0,-1\n0,0.790209,0.154647,0,1,0,-1\n0,0.782838,0.170233,0,1,0,-1\n0,0.777029,0.186467,0,1,0,-1\n0,0.77284,0.203192,0,1,0,-1\n0,0.77031,0.220248,0,1,0,-1\n0,0.769464,0.237469,0,1,0,-1\n0,0.77031,0.25469,0,1,0,-1\n0,0.77284,0.271745,0,1,0,-1\n0,0.777029,0.28847,0,1,0,-1\n0,0.782838,0.304704,0,1,0,-1\n0,0.790209,0.320291,0,1,0,-1\n0,0.799074,0.33508,0,1,0,-1\n0,0.809345,0.348929,0,1,0,-1\n0,0.820923,0.361704,0,1,0,-1\n0,0.833699,0.373283,0,1,0,-1\n0,0.847548,0.383554,0,1,0,-1\n0,0.241252,0.63247,0,1,0,-1\n0,0.238633,0.614814,0,1,0,-1\n0,0.234297,0.5975,0,1,0,-1\n0,0.228283,0.580695,0,1,0,-1\n0,0.220652,0.56456,0,1,0,-1\n0,0.211476,0.54925,0,1,0,-1\n0,0.200843,0.534914,0,1,0,-1\n0,0.188857,0.521689,0,1,0,-1\n0,0.175632,0.509702,0,1,0,-1\n0,0.161296,0.49907,0,1,0,-1\n0,0.145986,0.489894,0,1,0,-1\n0,0.129851,0.482262,0,1,0,-1\n0,0.113046,0.476249,0,1,0,-1\n0,0.095732,0.471912,0,1,0,-1\n0,0.078076,0.469293,0,1,0,-1\n0,0.060249,0.468417,0,1,0,-1\n0,0.042421,0.469293,0,1,0,-1\n0,0.024766,0.471912,0,1,0,-1\n0,0.007452,0.476249,0,1,0,-1\n0,0.007452,0.824345,0,1,0,-1\n0,0.024766,0.828682,0,1,0,-1\n0,0.042421,0.831301,0,1,0,-1\n0,0.060249,0.832177,0,1,0,-1\n0,0.078076,0.831301,0,1,0,-1\n0,0.095732,0.828682,0,1,0,-1\n0,0.113046,0.824345,0,1,0,-1\n0,0.129851,0.818332,0,1,0,-1\n0,0.145986,0.8107,0,1,0,-1\n0,0.161296,0.801524,0,1,0,-1\n0,0.175632,0.790892,0,1,0,-1\n0,0.188857,0.778905,0,1,0,-1\n0,0.200843,0.76568,0,1,0,-1\n0,0.211476,0.751344,0,1,0,-1\n0,0.220652,0.736034,0,1,0,-1\n0,0.228283,0.719899,0,1,0,-1\n0,0.234297,0.703094,0,1,0,-1\n0,0.238633,0.68578,0,1,0,-1\n0,0.241252,0.668124,0,1,0,-1\n0,0.242128,0.650297,0,1,0,-1\n0,0.771442,0.048085,0,1,0,-1\n0,0.768672,0.029409,0,1,0,-1\n0,0.764084,0.011095,0,1,0,-1\n0,0.39588,0.011095,0,1,0,-1\n0,0.391292,0.029409,0,1,0,-1\n0,0.388522,0.048085,0,1,0,-1\n0,0.387595,0.066942,0,1,0,-1\n0,0.388522,0.085799,0,1,0,-1\n0,0.391292,0.104475,0,1,0,-1\n0,0.39588,0.122789,0,1,0,-1\n0,0.40224,0.140565,0,1,0,-1\n0,0.410312,0.157632,0,1,0,-1\n0,0.420018,0.173826,0,1,0,-1\n0,0.431265,0.18899,0,1,0,-1\n0,0.443944,0.20298,0,1,0,-1\n0,0.457933,0.215659,0,1,0,-1\n0,0.473098,0.226905,0,1,0,-1\n0,0.489292,0.236612,0,1,0,-1\n0,0.506359,0.244684,0,1,0,-1\n0,0.524135,0.251044,0,1,0,-1\n0,0.542449,0.255632,0,1,0,-1\n0,0.561125,0.258402,0,1,0,-1\n0,0.579982,0.259328,0,1,0,-1\n0,0.598839,0.258402,0,1,0,-1\n0,0.617515,0.255632,0,1,0,-1\n0,0.635829,0.251044,0,1,0,-1\n0,0.653605,0.244684,0,1,0,-1\n0,0.670672,0.236612,0,1,0,-1\n0,0.686866,0.226905,0,1,0,-1\n0,0.702031,0.215659,0,1,0,-1\n0,0.71602,0.20298,0,1,0,-1\n0,0.728699,0.18899,0,1,0,-1\n0,0.739945,0.173826,0,1,0,-1\n0,0.749652,0.157632,0,1,0,-1\n0,0.757724,0.140565,0,1,0,-1\n0,0.764084,0.122789,0,1,0,-1\n0,0.768672,0.104475,0,1,0,-1\n0,0.771442,0.085799,0,1,0,-1\n0,0.772368,0.066942,0,1,0,-1\n0,0.990646,0.482262,0,1,0,-1\n0,0.974511,0.489894,0,1,0,-1\n0,0.959202,0.49907,0,1,0,-1\n0,0.944866,0.509702,0,1,0,-1\n0,0.93164,0.521689,0,1,0,-1\n0,0.919654,0.534914,0,1,0,-1\n0,0.909021,0.54925,0,1,0,-1\n0,0.899845,0.56456,0,1,0,-1\n0,0.892214,0.580695,0,1,0,-1\n0,0.886201,0.5975,0,1,0,-1\n0,0.881864,0.614814,0,1,0,-1\n0,0.879245,0.63247,0,1,0,-1\n0,0.878369,0.650297,0,1,0,-1\n0,0.879245,0.668124,0,1,0,-1\n0,0.881864,0.68578,0,1,0,-1\n0,0.886201,0.703094,0,1,0,-1\n0,0.892214,0.719899,0,1,0,-1\n0,0.899845,0.736034,0,1,0,-1\n0,0.909021,0.751344,0,1,0,-1\n0,0.919654,0.76568,0,1,0,-1\n0,0.93164,0.778905,0,1,0,-1\n0,0.944866,0.790892,0,1,0,-1\n0,0.959202,0.801524,0,1,0,-1\n0,0.974511,0.8107,0,1,0,-1\n0,0.990646,0.818332,0,1,0,-1\n0,0.947478,0.867615,0,1,0,-1\n0,0.939155,0.853198,0,1,0,-1\n0,0.928015,0.840826,0,1,0,-1\n0,0.914547,0.831041,0,1,0,-1\n0,0.899339,0.82427,0,1,0,-1\n0,0.883055,0.820809,0,1,0,-1\n0,0.866408,0.820809,0,1,0,-1\n0,0.850124,0.82427,0,1,0,-1\n0,0.801985,0.867615,0,1,0,-1\n0,0.99616,0.069339,0,1,0,-1\n0,0.979435,0.06515,0,1,0,-1\n0,0.96238,0.06262,0,1,0,-1\n0,0.945159,0.061774,0,1,0,-1\n0,0.927938,0.06262,0,1,0,-1\n0,0.910882,0.06515,0,1,0,-1\n0,0.894157,0.069339,0,1,0,-1\n0,0.877923,0.075148,0,1,0,-1\n0,0.862337,0.08252,0,1,0,-1\n0,0.862337,0.392418,0,1,0,-1\n0,0.877923,0.39979,0,1,0,-1\n0,0.894157,0.405599,0,1,0,-1\n0,0.910882,0.409788,0,1,0,-1\n0,0.927938,0.412318,0,1,0,-1\n0,0.945159,0.413164,0,1,0,-1\n0,0.96238,0.412318,0,1,0,-1\n0,0.979435,0.409788,0,1,0,-1\n0,0.99616,0.405599,0,1,0,-1\n0,0.757724,0.993319,0,1,0,-1\n0,0.749652,0.976251,0,1,0,-1\n0,0.739945,0.960058,0,1,0,-1\n0,0.728699,0.944893,0,1,0,-1\n0,0.71602,0.930904,0,1,0,-1\n0,0.702031,0.918225,0,1,0,-1\n0,0.686866,0.906978,0,1,0,-1\n0,0.670672,0.897272,0,1,0,-1\n0,0.653605,0.8892,0,1,0,-1\n0,0.635829,0.882839,0,1,0,-1\n0,0.617515,0.878252,0,1,0,-1\n0,0.598839,0.875482,0,1,0,-1\n0,0.579982,0.874555,0,1,0,-1\n0,0.561125,0.875482,0,1,0,-1\n0,0.542449,0.878252,0,1,0,-1\n0,0.524135,0.882839,0,1,0,-1\n0,0.506359,0.8892,0,1,0,-1\n0,0.489292,0.897272,0,1,0,-1\n0,0.473098,0.906978,0,1,0,-1\n0,0.457933,0.918225,0,1,0,-1\n0,0.443944,0.930904,0,1,0,-1\n0,0.431265,0.944893,0,1,0,-1\n0,0.420018,0.960058,0,1,0,-1\n0,0.410312,0.976251,0,1,0,-1\n0,0.40224,0.993319,0,1,0,-1\n0,0.796841,0.883448,0,1,0,-1\n0,0.795101,0.900004,0,1,0,-1\n0,0.796841,0.91656,0,1,0,-1\n0,0.801985,0.932393,0,1,0,-1\n0,0.810309,0.94681,0,1,0,-1\n0,0.821448,0.959181,0,1,0,-1\n0,0.834916,0.968966,0,1,0,-1\n0,0.338776,0.864547,0,1,0,-1\n0,0.355172,0.867283,0,1,0,-1\n0,0.371796,0.867283,0,1,0,-1\n0,0.388193,0.864547,0,1,0,-1\n0,0.313262,0.983261,0,1,0,-1\n0,0.309989,0.966807,0,1,0,-1\n0,0.304597,0.950922,0,1,0,-1\n0,0.297177,0.935877,0,1,0,-1\n0,0.287857,0.921929,0,1,0,-1\n0,0.276796,0.909316,0,1,0,-1\n0,0.264184,0.898255,0,1,0,-1\n0,0.250236,0.888935,0,1,0,-1\n0,0.23519,0.881516,0,1,0,-1\n0,0.219305,0.876124,0,1,0,-1\n0,0.202852,0.872851,0,1,0,-1\n0,0.186113,0.871754,0,1,0,-1\n0,0.169373,0.872851,0,1,0,-1\n0,0.15292,0.876124,0,1,0,-1\n0,0.137035,0.881516,0,1,0,-1\n0,0.12199,0.888935,0,1,0,-1\n0,0.108041,0.898255,0,1,0,-1\n0,0.095429,0.909316,0,1,0,-1\n0,0.084368,0.921929,0,1,0,-1\n0,0.075048,0.935877,0,1,0,-1\n0,0.067629,0.950922,0,1,0,-1\n0,0.062236,0.966807,0,1,0,-1\n0,0.058964,0.983261,0,1,0,-1\n0,0.057866,1,0,1,0,-1\n0,0.314359,1,0,1,0,-1\n0,0.952623,0.883448,0,1,0,-1\n0,0.850124,0.975738,0,1,0,-1\n0,0.866408,0.979199,0,1,0,-1\n0,0.883055,0.979199,0,1,0,-1\n0,0.899339,0.975738,0,1,0,-1\n0,0.914547,0.968966,0,1,0,-1\n0,0.928015,0.959181,0,1,0,-1\n0,0.939155,0.94681,0,1,0,-1\n0,0.947478,0.932393,0,1,0,-1\n0,0.952623,0.91656,0,1,0,-1\n0,0.954363,0.900004,0,1,0,-1\n"),!1),Ud(Id.ParsePatFile("\n*BUBBLES-02,BUBBLES-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.01243,0.139689,0,1,0,-1\n0,0.004689,0.124495,0,1,0,-1\n0,0.004689,0.188567,0,1,0,-1\n0,0.01243,0.173373,0,1,0,-1\n0,0.015098,0.156531,0,1,0,-1\n0,0.039159,0.550628,0,1,0,-1\n0,0.03308,0.534599,0,1,0,-1\n0,0.023341,0.52049,0,1,0,-1\n0,0.010509,0.509122,0,1,0,-1\n0,0.010509,0.626172,0,1,0,-1\n0,0.023341,0.614804,0,1,0,-1\n0,0.03308,0.600695,0,1,0,-1\n0,0.039159,0.584666,0,1,0,-1\n0,0.041226,0.567647,0,1,0,-1\n0,0.012655,0.061217,0,1,0,-1\n0,0.029343,0.064052,0,1,0,-1\n0,0.046244,0.065001,0,1,0,-1\n0,0.063146,0.064052,0,1,0,-1\n0,0.079834,0.061217,0,1,0,-1\n0,0.0961,0.05653,0,1,0,-1\n0,0.11174,0.050052,0,1,0,-1\n0,0.126555,0.041864,0,1,0,-1\n0,0.140361,0.032069,0,1,0,-1\n0,0.152983,0.020789,0,1,0,-1\n0,0.164263,0.008167,0,1,0,-1\n0,0.211752,0.623376,0,1,0,-1\n0,0.203326,0.608782,0,1,0,-1\n0,0.190416,0.597949,0,1,0,-1\n0,0.17458,0.592185,0,1,0,-1\n0,0.157727,0.592185,0,1,0,-1\n0,0.141891,0.597949,0,1,0,-1\n0,0.128981,0.608782,0,1,0,-1\n0,0.120555,0.623376,0,1,0,-1\n0,0.117628,0.639973,0,1,0,-1\n0,0.120555,0.65657,0,1,0,-1\n0,0.128981,0.671164,0,1,0,-1\n0,0.141891,0.681997,0,1,0,-1\n0,0.157727,0.687761,0,1,0,-1\n0,0.17458,0.687761,0,1,0,-1\n0,0.190416,0.681997,0,1,0,-1\n0,0.203326,0.671164,0,1,0,-1\n0,0.211752,0.65657,0,1,0,-1\n0,0.214678,0.639973,0,1,0,-1\n0,0.063146,0.764048,0,1,0,-1\n0,0.046244,0.763099,0,1,0,-1\n0,0.029343,0.764048,0,1,0,-1\n0,0.3178,0.248563,0,1,0,-1\n0,0.314583,0.232388,0,1,0,-1\n0,0.309282,0.216771,0,1,0,-1\n0,0.301988,0.20198,0,1,0,-1\n0,0.292825,0.188268,0,1,0,-1\n0,0.281951,0.175868,0,1,0,-1\n0,0.269552,0.164994,0,1,0,-1\n0,0.255839,0.155832,0,1,0,-1\n0,0.241048,0.148538,0,1,0,-1\n0,0.225431,0.143237,0,1,0,-1\n0,0.209256,0.140019,0,1,0,-1\n0,0.1928,0.138941,0,1,0,-1\n0,0.176343,0.140019,0,1,0,-1\n0,0.160168,0.143237,0,1,0,-1\n0,0.144551,0.148538,0,1,0,-1\n0,0.12976,0.155832,0,1,0,-1\n0,0.116047,0.164994,0,1,0,-1\n0,0.103648,0.175868,0,1,0,-1\n0,0.092774,0.188268,0,1,0,-1\n0,0.083612,0.20198,0,1,0,-1\n0,0.076318,0.216771,0,1,0,-1\n0,0.071016,0.232388,0,1,0,-1\n0,0.067799,0.248563,0,1,0,-1\n0,0.06672,0.26502,0,1,0,-1\n0,0.067799,0.281477,0,1,0,-1\n0,0.071016,0.297652,0,1,0,-1\n0,0.076318,0.313268,0,1,0,-1\n0,0.083612,0.32806,0,1,0,-1\n0,0.092774,0.341772,0,1,0,-1\n0,0.103648,0.354171,0,1,0,-1\n0,0.116047,0.365045,0,1,0,-1\n0,0.12976,0.374208,0,1,0,-1\n0,0.144551,0.381502,0,1,0,-1\n0,0.160168,0.386803,0,1,0,-1\n0,0.176343,0.390021,0,1,0,-1\n0,0.1928,0.391099,0,1,0,-1\n0,0.209256,0.390021,0,1,0,-1\n0,0.225431,0.386803,0,1,0,-1\n0,0.241048,0.381502,0,1,0,-1\n0,0.255839,0.374208,0,1,0,-1\n0,0.269552,0.365045,0,1,0,-1\n0,0.281951,0.354171,0,1,0,-1\n0,0.292825,0.341772,0,1,0,-1\n0,0.301988,0.32806,0,1,0,-1\n0,0.309282,0.313268,0,1,0,-1\n0,0.314583,0.297652,0,1,0,-1\n0,0.3178,0.281477,0,1,0,-1\n0,0.318879,0.26502,0,1,0,-1\n0,0.710254,0.515012,0,1,0,-1\n0,0.707834,0.498698,0,1,0,-1\n0,0.703826,0.482701,0,1,0,-1\n0,0.69827,0.467173,0,1,0,-1\n0,0.691219,0.452264,0,1,0,-1\n0,0.682741,0.438119,0,1,0,-1\n0,0.672916,0.424872,0,1,0,-1\n0,0.661841,0.412653,0,1,0,-1\n0,0.649621,0.401577,0,1,0,-1\n0,0.636375,0.391753,0,1,0,-1\n0,0.622229,0.383274,0,1,0,-1\n0,0.607321,0.376223,0,1,0,-1\n0,0.591793,0.370667,0,1,0,-1\n0,0.575795,0.36666,0,1,0,-1\n0,0.559482,0.36424,0,1,0,-1\n0,0.54301,0.363431,0,1,0,-1\n0,0.526538,0.36424,0,1,0,-1\n0,0.510224,0.36666,0,1,0,-1\n0,0.494226,0.370667,0,1,0,-1\n0,0.478698,0.376223,0,1,0,-1\n0,0.46379,0.383274,0,1,0,-1\n0,0.449644,0.391753,0,1,0,-1\n0,0.436398,0.401577,0,1,0,-1\n0,0.424178,0.412653,0,1,0,-1\n0,0.413103,0.424872,0,1,0,-1\n0,0.403279,0.438119,0,1,0,-1\n0,0.3948,0.452264,0,1,0,-1\n0,0.387749,0.467173,0,1,0,-1\n0,0.382193,0.482701,0,1,0,-1\n0,0.378186,0.498698,0,1,0,-1\n0,0.375766,0.515012,0,1,0,-1\n0,0.374957,0.531484,0,1,0,-1\n0,0.375766,0.547956,0,1,0,-1\n0,0.378186,0.56427,0,1,0,-1\n0,0.382193,0.580267,0,1,0,-1\n0,0.387749,0.595795,0,1,0,-1\n0,0.3948,0.610704,0,1,0,-1\n0,0.403279,0.624849,0,1,0,-1\n0,0.413103,0.638096,0,1,0,-1\n0,0.424178,0.650315,0,1,0,-1\n0,0.436398,0.661391,0,1,0,-1\n0,0.449644,0.671215,0,1,0,-1\n0,0.46379,0.679694,0,1,0,-1\n0,0.478698,0.686745,0,1,0,-1\n0,0.494226,0.692301,0,1,0,-1\n0,0.510224,0.696308,0,1,0,-1\n0,0.526538,0.698728,0,1,0,-1\n0,0.54301,0.699537,0,1,0,-1\n0,0.559482,0.698728,0,1,0,-1\n0,0.575795,0.696308,0,1,0,-1\n0,0.591793,0.692301,0,1,0,-1\n0,0.607321,0.686745,0,1,0,-1\n0,0.622229,0.679694,0,1,0,-1\n0,0.636375,0.671215,0,1,0,-1\n0,0.649621,0.661391,0,1,0,-1\n0,0.661841,0.650315,0,1,0,-1\n0,0.672916,0.638096,0,1,0,-1\n0,0.682741,0.624849,0,1,0,-1\n0,0.691219,0.610704,0,1,0,-1\n0,0.69827,0.595795,0,1,0,-1\n0,0.703826,0.580267,0,1,0,-1\n0,0.707834,0.56427,0,1,0,-1\n0,0.710254,0.547956,0,1,0,-1\n0,0.711063,0.531484,0,1,0,-1\n0,0.353512,0.012986,0,1,0,-1\n0,0.351649,0.029516,0,1,0,-1\n0,0.351027,0.046139,0,1,0,-1\n0,0.351649,0.062761,0,1,0,-1\n0,0.353512,0.079291,0,1,0,-1\n0,0.356604,0.095635,0,1,0,-1\n0,0.360909,0.111703,0,1,0,-1\n0,0.366403,0.127404,0,1,0,-1\n0,0.373055,0.14265,0,1,0,-1\n0,0.380828,0.157356,0,1,0,-1\n0,0.389678,0.171441,0,1,0,-1\n0,0.399556,0.184825,0,1,0,-1\n0,0.410406,0.197433,0,1,0,-1\n0,0.422168,0.209196,0,1,0,-1\n0,0.434776,0.220046,0,1,0,-1\n0,0.44816,0.229924,0,1,0,-1\n0,0.462245,0.238774,0,1,0,-1\n0,0.476951,0.246546,0,1,0,-1\n0,0.492198,0.253198,0,1,0,-1\n0,0.507899,0.258692,0,1,0,-1\n0,0.523966,0.262997,0,1,0,-1\n0,0.54031,0.26609,0,1,0,-1\n0,0.55684,0.267952,0,1,0,-1\n0,0.573463,0.268574,0,1,0,-1\n0,0.590085,0.267952,0,1,0,-1\n0,0.606615,0.26609,0,1,0,-1\n0,0.622959,0.262997,0,1,0,-1\n0,0.639027,0.258692,0,1,0,-1\n0,0.654727,0.253198,0,1,0,-1\n0,0.669974,0.246546,0,1,0,-1\n0,0.68468,0.238774,0,1,0,-1\n0,0.698765,0.229924,0,1,0,-1\n0,0.712149,0.220046,0,1,0,-1\n0,0.724757,0.209196,0,1,0,-1\n0,0.736519,0.197433,0,1,0,-1\n0,0.74737,0.184825,0,1,0,-1\n0,0.757248,0.171441,0,1,0,-1\n0,0.766098,0.157356,0,1,0,-1\n0,0.77387,0.14265,0,1,0,-1\n0,0.780522,0.127404,0,1,0,-1\n0,0.928226,0.008167,0,1,0,-1\n0,0.939506,0.020789,0,1,0,-1\n0,0.952128,0.032069,0,1,0,-1\n0,0.965934,0.041864,0,1,0,-1\n0,0.980749,0.050052,0,1,0,-1\n0,0.996388,0.05653,0,1,0,-1\n0,0.992631,0.112437,0,1,0,-1\n0,0.977438,0.104696,0,1,0,-1\n0,0.960595,0.102028,0,1,0,-1\n0,0.943753,0.104696,0,1,0,-1\n0,0.928559,0.112437,0,1,0,-1\n0,0.916502,0.124495,0,1,0,-1\n0,0.90876,0.139689,0,1,0,-1\n0,0.906093,0.156531,0,1,0,-1\n0,0.90876,0.173373,0,1,0,-1\n0,0.916502,0.188567,0,1,0,-1\n0,0.928559,0.200625,0,1,0,-1\n0,0.943753,0.208366,0,1,0,-1\n0,0.960595,0.211034,0,1,0,-1\n0,0.977438,0.208366,0,1,0,-1\n0,0.992631,0.200625,0,1,0,-1\n0,0.995329,0.501155,0,1,0,-1\n0,0.978684,0.497052,0,1,0,-1\n0,0.96154,0.497052,0,1,0,-1\n0,0.944895,0.501155,0,1,0,-1\n0,0.929715,0.509122,0,1,0,-1\n0,0.916882,0.52049,0,1,0,-1\n0,0.907144,0.534599,0,1,0,-1\n0,0.901065,0.550628,0,1,0,-1\n0,0.898998,0.567647,0,1,0,-1\n0,0.901065,0.584666,0,1,0,-1\n0,0.907144,0.600695,0,1,0,-1\n0,0.916882,0.614804,0,1,0,-1\n0,0.929715,0.626172,0,1,0,-1\n0,0.944895,0.634139,0,1,0,-1\n0,0.96154,0.638242,0,1,0,-1\n0,0.978684,0.638242,0,1,0,-1\n0,0.995329,0.634139,0,1,0,-1\n0,0.795276,0.029516,0,1,0,-1\n0,0.793414,0.012986,0,1,0,-1\n0,0.786016,0.111703,0,1,0,-1\n0,0.790321,0.095635,0,1,0,-1\n0,0.793414,0.079291,0,1,0,-1\n0,0.795276,0.062761,0,1,0,-1\n0,0.795898,0.046139,0,1,0,-1\n0,0.790321,0.996642,0,1,0,-1\n0,0.786016,0.980575,0,1,0,-1\n0,0.780522,0.964874,0,1,0,-1\n0,0.77387,0.949628,0,1,0,-1\n0,0.766098,0.934921,0,1,0,-1\n0,0.757248,0.920836,0,1,0,-1\n0,0.74737,0.907452,0,1,0,-1\n0,0.736519,0.894844,0,1,0,-1\n0,0.724757,0.883082,0,1,0,-1\n0,0.712149,0.872232,0,1,0,-1\n0,0.698765,0.862354,0,1,0,-1\n0,0.68468,0.853504,0,1,0,-1\n0,0.669974,0.845731,0,1,0,-1\n0,0.654727,0.839079,0,1,0,-1\n0,0.639027,0.833585,0,1,0,-1\n0,0.622959,0.82928,0,1,0,-1\n0,0.606615,0.826188,0,1,0,-1\n0,0.590085,0.824325,0,1,0,-1\n0,0.573463,0.823703,0,1,0,-1\n0,0.55684,0.824325,0,1,0,-1\n0,0.54031,0.826188,0,1,0,-1\n0,0.523966,0.82928,0,1,0,-1\n0,0.507899,0.833585,0,1,0,-1\n0,0.492198,0.839079,0,1,0,-1\n0,0.476951,0.845731,0,1,0,-1\n0,0.462245,0.853504,0,1,0,-1\n0,0.44816,0.862354,0,1,0,-1\n0,0.434776,0.872232,0,1,0,-1\n0,0.422168,0.883082,0,1,0,-1\n0,0.410406,0.894844,0,1,0,-1\n0,0.399556,0.907452,0,1,0,-1\n0,0.389678,0.920836,0,1,0,-1\n0,0.380828,0.934921,0,1,0,-1\n0,0.373055,0.949628,0,1,0,-1\n0,0.366403,0.964874,0,1,0,-1\n0,0.360909,0.980575,0,1,0,-1\n0,0.356604,0.996642,0,1,0,-1\n0,0.196246,0.897149,0,1,0,-1\n0,0.193411,0.880461,0,1,0,-1\n0,0.188725,0.864194,0,1,0,-1\n0,0.182247,0.848555,0,1,0,-1\n0,0.174058,0.83374,0,1,0,-1\n0,0.164263,0.819934,0,1,0,-1\n0,0.152983,0.807312,0,1,0,-1\n0,0.140361,0.796032,0,1,0,-1\n0,0.126555,0.786236,0,1,0,-1\n0,0.11174,0.778048,0,1,0,-1\n0,0.0961,0.77157,0,1,0,-1\n0,0.079834,0.766884,0,1,0,-1\n0,0.012655,0.766884,0,1,0,-1\n0,0.174058,0.994361,0,1,0,-1\n0,0.182247,0.979545,0,1,0,-1\n0,0.188725,0.963906,0,1,0,-1\n0,0.193411,0.94764,0,1,0,-1\n0,0.196246,0.930951,0,1,0,-1\n0,0.197195,0.91405,0,1,0,-1\n0,0.996388,0.77157,0,1,0,-1\n0,0.980749,0.778048,0,1,0,-1\n0,0.965934,0.786236,0,1,0,-1\n0,0.952128,0.796032,0,1,0,-1\n0,0.939506,0.807312,0,1,0,-1\n0,0.928226,0.819934,0,1,0,-1\n0,0.918431,0.83374,0,1,0,-1\n0,0.910242,0.848555,0,1,0,-1\n0,0.903764,0.864194,0,1,0,-1\n0,0.899078,0.880461,0,1,0,-1\n0,0.896243,0.897149,0,1,0,-1\n0,0.895293,0.91405,0,1,0,-1\n0,0.896243,0.930951,0,1,0,-1\n0,0.899078,0.94764,0,1,0,-1\n0,0.903764,0.963906,0,1,0,-1\n0,0.910242,0.979545,0,1,0,-1\n0,0.918431,0.994361,0,1,0,-1\n"),!1),Ud(Id.ParsePatFile("\n*BUBBLES-03,BUBBLES-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n0,0.401131,0.163621,0,1,0,-1\n0,0.397069,0.144076,0,1,0,-1\n0,0.390384,0.125265,0,1,0,-1\n0,0.3812,0.107541,0,1,0,-1\n0,0.369688,0.091232,0,1,0,-1\n0,0.356062,0.076642,0,1,0,-1\n0,0.340577,0.064044,0,1,0,-1\n0,0.32352,0.053672,0,1,0,-1\n0,0.30521,0.045718,0,1,0,-1\n0,0.285988,0.040333,0,1,0,-1\n0,0.266211,0.037614,0,1,0,-1\n0,0.246248,0.037614,0,1,0,-1\n0,0.226471,0.040333,0,1,0,-1\n0,0.207249,0.045718,0,1,0,-1\n0,0.188938,0.053672,0,1,0,-1\n0,0.171882,0.064044,0,1,0,-1\n0,0.156397,0.076642,0,1,0,-1\n0,0.142771,0.091232,0,1,0,-1\n0,0.131259,0.107541,0,1,0,-1\n0,0.122075,0.125265,0,1,0,-1\n0,0.115389,0.144076,0,1,0,-1\n0,0.111328,0.163621,0,1,0,-1\n0,0.109966,0.183537,0,1,0,-1\n0,0.111328,0.203453,0,1,0,-1\n0,0.115389,0.222999,0,1,0,-1\n0,0.122075,0.241809,0,1,0,-1\n0,0.131259,0.259533,0,1,0,-1\n0,0.142771,0.275842,0,1,0,-1\n0,0.156397,0.290432,0,1,0,-1\n0,0.171882,0.30303,0,1,0,-1\n0,0.188938,0.313403,0,1,0,-1\n0,0.207249,0.321356,0,1,0,-1\n0,0.226471,0.326742,0,1,0,-1\n0,0.246248,0.32946,0,1,0,-1\n0,0.266211,0.32946,0,1,0,-1\n0,0.285988,0.326742,0,1,0,-1\n0,0.30521,0.321356,0,1,0,-1\n0,0.32352,0.313403,0,1,0,-1\n0,0.340577,0.30303,0,1,0,-1\n0,0.356062,0.290432,0,1,0,-1\n0,0.369688,0.275842,0,1,0,-1\n0,0.3812,0.259533,0,1,0,-1\n0,0.390384,0.241809,0,1,0,-1\n0,0.397069,0.222999,0,1,0,-1\n0,0.401131,0.203453,0,1,0,-1\n0,0.402493,0.183537,0,1,0,-1\n0,0.717102,0.580347,0,1,0,-1\n0,0.69634,0.588567,0,1,0,-1\n0,0.676773,0.599325,0,1,0,-1\n0,0.658707,0.61245,0,1,0,-1\n0,0.64243,0.627736,0,1,0,-1\n0,0.628196,0.644941,0,1,0,-1\n0,0.616231,0.663795,0,1,0,-1\n0,0.606724,0.684,0,1,0,-1\n0,0.599823,0.705237,0,1,0,-1\n0,0.595639,0.727171,0,1,0,-1\n0,0.594237,0.749457,0,1,0,-1\n0,0.595639,0.771743,0,1,0,-1\n0,0.599823,0.793677,0,1,0,-1\n0,0.606724,0.814914,0,1,0,-1\n0,0.713243,0.02088,0,1,0,-1\n0,0.688246,0.022108,0,1,0,-1\n0,0.663491,0.02578,0,1,0,-1\n0,0.639215,0.031861,0,1,0,-1\n0,0.615651,0.040292,0,1,0,-1\n0,0.593028,0.050992,0,1,0,-1\n0,0.571562,0.063858,0,1,0,-1\n0,0.551461,0.078766,0,1,0,-1\n0,0.532918,0.095573,0,1,0,-1\n0,0.516111,0.114116,0,1,0,-1\n0,0.501203,0.134218,0,1,0,-1\n0,0.488337,0.155683,0,1,0,-1\n0,0.477637,0.178307,0,1,0,-1\n0,0.469206,0.20187,0,1,0,-1\n0,0.463125,0.226146,0,1,0,-1\n0,0.459453,0.250902,0,1,0,-1\n0,0.458225,0.275898,0,1,0,-1\n0,0.459453,0.300894,0,1,0,-1\n0,0.463125,0.325649,0,1,0,-1\n0,0.469206,0.349926,0,1,0,-1\n0,0.477637,0.373489,0,1,0,-1\n0,0.488337,0.396113,0,1,0,-1\n0,0.501203,0.417578,0,1,0,-1\n0,0.516111,0.43768,0,1,0,-1\n0,0.532918,0.456223,0,1,0,-1\n0,0.551461,0.473029,0,1,0,-1\n0,0.571562,0.487938,0,1,0,-1\n0,0.593028,0.500804,0,1,0,-1\n0,0.615651,0.511504,0,1,0,-1\n0,0.639215,0.519935,0,1,0,-1\n0,0.663491,0.526016,0,1,0,-1\n0,0.688246,0.529688,0,1,0,-1\n0,0.713243,0.530916,0,1,0,-1\n0,0.563094,0.659436,0,1,0,-1\n0,0.558843,0.630776,0,1,0,-1\n0,0.551803,0.602671,0,1,0,-1\n0,0.542042,0.575392,0,1,0,-1\n0,0.529655,0.5492,0,1,0,-1\n0,0.514759,0.524349,0,1,0,-1\n0,0.4975,0.501077,0,1,0,-1\n0,0.478043,0.479609,0,1,0,-1\n0,0.456575,0.460152,0,1,0,-1\n0,0.433303,0.442893,0,1,0,-1\n0,0.408452,0.427998,0,1,0,-1\n0,0.382261,0.41561,0,1,0,-1\n0,0.354981,0.405849,0,1,0,-1\n0,0.326876,0.398809,0,1,0,-1\n0,0.298216,0.394558,0,1,0,-1\n0,0.269278,0.393136,0,1,0,-1\n0,0.240339,0.394558,0,1,0,-1\n0,0.21168,0.398809,0,1,0,-1\n0,0.183575,0.405849,0,1,0,-1\n0,0.156295,0.41561,0,1,0,-1\n0,0.130104,0.427998,0,1,0,-1\n0,0.105252,0.442893,0,1,0,-1\n0,0.081981,0.460152,0,1,0,-1\n0,0.060513,0.479609,0,1,0,-1\n0,0.041056,0.501077,0,1,0,-1\n0,0.023796,0.524349,0,1,0,-1\n0,0.008901,0.5492,0,1,0,-1\n0,0.542042,0.801357,0,1,0,-1\n0,0.551803,0.774077,0,1,0,-1\n0,0.558843,0.745972,0,1,0,-1\n0,0.563094,0.717313,0,1,0,-1\n0,0.564516,0.688374,0,1,0,-1\n0,0.996513,0.575392,0,1,0,-1\n0,0.986753,0.602671,0,1,0,-1\n0,0.979713,0.630776,0,1,0,-1\n0,0.975461,0.659436,0,1,0,-1\n0,0.97404,0.688374,0,1,0,-1\n0,0.975461,0.717313,0,1,0,-1\n0,0.979713,0.745972,0,1,0,-1\n0,0.986753,0.774077,0,1,0,-1\n0,0.996513,0.801357,0,1,0,-1\n0,0.94846,0.727171,0,1,0,-1\n0,0.944275,0.705237,0,1,0,-1\n0,0.937375,0.684,0,1,0,-1\n0,0.927868,0.663795,0,1,0,-1\n0,0.915903,0.644941,0,1,0,-1\n0,0.901669,0.627736,0,1,0,-1\n0,0.885391,0.61245,0,1,0,-1\n0,0.867326,0.599325,0,1,0,-1\n0,0.847758,0.588567,0,1,0,-1\n0,0.826996,0.580347,0,1,0,-1\n0,0.805368,0.574794,0,1,0,-1\n0,0.783214,0.571995,0,1,0,-1\n0,0.760884,0.571995,0,1,0,-1\n0,0.738731,0.574794,0,1,0,-1\n0,0.616231,0.835119,0,1,0,-1\n0,0.628196,0.853972,0,1,0,-1\n0,0.64243,0.871178,0,1,0,-1\n0,0.658707,0.886464,0,1,0,-1\n0,0.676773,0.899589,0,1,0,-1\n0,0.69634,0.910346,0,1,0,-1\n0,0.717102,0.918566,0,1,0,-1\n0,0.738731,0.92412,0,1,0,-1\n0,0.760884,0.926918,0,1,0,-1\n0,0.783214,0.926918,0,1,0,-1\n0,0.805368,0.92412,0,1,0,-1\n0,0.826996,0.918566,0,1,0,-1\n0,0.847758,0.910346,0,1,0,-1\n0,0.867326,0.899589,0,1,0,-1\n0,0.885391,0.886464,0,1,0,-1\n0,0.901669,0.871178,0,1,0,-1\n0,0.915903,0.853972,0,1,0,-1\n0,0.927868,0.835119,0,1,0,-1\n0,0.937375,0.814914,0,1,0,-1\n0,0.944275,0.793677,0,1,0,-1\n0,0.94846,0.771743,0,1,0,-1\n0,0.949862,0.749457,0,1,0,-1\n0,0.967032,0.250902,0,1,0,-1\n0,0.96336,0.226146,0,1,0,-1\n0,0.957279,0.20187,0,1,0,-1\n0,0.948848,0.178307,0,1,0,-1\n0,0.938148,0.155683,0,1,0,-1\n0,0.925282,0.134218,0,1,0,-1\n0,0.910374,0.114116,0,1,0,-1\n0,0.893567,0.095573,0,1,0,-1\n0,0.875024,0.078766,0,1,0,-1\n0,0.854923,0.063858,0,1,0,-1\n0,0.833457,0.050992,0,1,0,-1\n0,0.810834,0.040292,0,1,0,-1\n0,0.78727,0.031861,0,1,0,-1\n0,0.762994,0.02578,0,1,0,-1\n0,0.738239,0.022108,0,1,0,-1\n0,0.738239,0.529688,0,1,0,-1\n0,0.762994,0.526016,0,1,0,-1\n0,0.78727,0.519935,0,1,0,-1\n0,0.810834,0.511504,0,1,0,-1\n0,0.833457,0.500804,0,1,0,-1\n0,0.854923,0.487938,0,1,0,-1\n0,0.875024,0.473029,0,1,0,-1\n0,0.893567,0.456223,0,1,0,-1\n0,0.910374,0.43768,0,1,0,-1\n0,0.925282,0.417578,0,1,0,-1\n0,0.938148,0.396113,0,1,0,-1\n0,0.948848,0.373489,0,1,0,-1\n0,0.957279,0.349926,0,1,0,-1\n0,0.96336,0.325649,0,1,0,-1\n0,0.967032,0.300894,0,1,0,-1\n0,0.96826,0.275898,0,1,0,-1\n0,0.4975,0.875671,0,1,0,-1\n0,0.514759,0.8524,0,1,0,-1\n0,0.529655,0.827549,0,1,0,-1\n0,0.008901,0.827549,0,1,0,-1\n0,0.023796,0.8524,0,1,0,-1\n0,0.041056,0.875671,0,1,0,-1\n0,0.060513,0.897139,0,1,0,-1\n0,0.081981,0.916597,0,1,0,-1\n0,0.105252,0.933856,0,1,0,-1\n0,0.130104,0.948751,0,1,0,-1\n0,0.156295,0.961139,0,1,0,-1\n0,0.183575,0.9709,0,1,0,-1\n0,0.21168,0.97794,0,1,0,-1\n0,0.240339,0.982191,0,1,0,-1\n0,0.269278,0.983612,0,1,0,-1\n0,0.298216,0.982191,0,1,0,-1\n0,0.326876,0.97794,0,1,0,-1\n0,0.354981,0.9709,0,1,0,-1\n0,0.382261,0.961139,0,1,0,-1\n0,0.408452,0.948751,0,1,0,-1\n0,0.433303,0.933856,0,1,0,-1\n0,0.456575,0.916597,0,1,0,-1\n0,0.478043,0.897139,0,1,0,-1\n"),!1),Ud(Id.ParsePatFile("\n*CELTIC-01,CELTIC PATTERN 01\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n135,0.36,0.42222222,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42222222,0.39111111,0.70710678,0.70710678,0.25848681,-1.15572675\n315,0.39111111,0.57777778,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.30166667,0.63611111,0.70710678,0.70710678,0.25848681,-1.15572675\n225,0.76055556,0.42611111,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.86555556,0.5,0.70710678,0.70710678,0.28048569,-1.13372787\n225,0.85388889,0.33277778,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.99,0.5,0.70710678,0.70710678,0.3684812,-1.04573236\n225,0.76055556,0.72944444,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.85388889,0.63611111,0.70710678,0.70710678,0.08799551,-1.32621805\n90,0.99,0.90200449,0,1,0.08799551,-0.91200449\n0,0.90200449,0.88000561,0,1,0.08799551,-0.91200449\n0,0.83978227,0.90200449,0,1,0.15021773,-0.84978227\n0,0.80333333,0.99,0,1,0.18666667,-0.81333333\n90,0.90200449,0.83978227,0,1,0.04022334,-0.95977666\n90,0.99,0.80333333,0,1,0.07667228,-0.92332772\n180,0.09799551,0.99,0,1,0.08799551,-0.91200449\n90,0.11999439,0.90200449,0,1,0.08799551,-0.91200449\n90,0.09799551,0.83978227,0,1,0.15021773,-0.84978227\n90,0.01,0.80333333,0,1,0.18666667,-0.81333333\n180,0.16021773,0.90200449,0,1,0.04022334,-0.95977666\n180,0.19666667,0.99,0,1,0.07667228,-0.92332772\n270,0.01,0.09799551,0,1,0.08799551,-0.91200449\n180,0.09799551,0.11999439,0,1,0.08799551,-0.91200449\n180,0.16021773,0.09799551,0,1,0.15021773,-0.84978227\n180,0.19666667,0.01,0,1,0.18666667,-0.81333333\n270,0.09799551,0.16021773,0,1,0.04022334,-0.95977666\n270,0.01,0.19666667,0,1,0.07667228,-0.92332772\n45,0.70222222,0.51555556,0.70710678,0.70710678,0.40697924,-1.00723433\n45,0.51555556,0.29777778,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.42611111,0.23944444,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.19666667,0.01,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.64,0.57777778,0.70710678,0.70710678,0.3705303,-1.04368326\n45,0.42222222,0.39111111,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.36388889,0.30166667,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.16021773,0.09799551,0.70710678,0.70710678,0.15604125,-1.25817232\n45,0.66722222,0.85388889,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.42222222,0.64,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.14611111,0.36388889,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.39111111,0.57777778,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.01,0.19666667,0.70710678,0.70710678,0.40697924,-1.00723433\n45,0.72944444,0.79166667,0.70710678,0.70710678,0.15604125,-1.25817232\n45,0.23944444,0.27055556,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.51555556,0.54666667,0.70710678,0.70710678,0.08799551,-1.32621805\n45,0.45333333,0.51555556,0.70710678,0.70710678,0.25848681,-1.15572675\n45,0.09799551,0.16021773,0.70710678,0.70710678,0.3705303,-1.04368326\n0,0.90200449,0.01,0,1,0.08799551,-0.91200449\n135,0.70222222,0.51555556,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42611111,0.79166667,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.48444444,0.70222222,0.70710678,0.70710678,0.40697924,-1.00723433\n135,0.76055556,0.42611111,0.70710678,0.70710678,0.25848681,-1.15572675\n135,0.99,0.19666667,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.33277778,0.69833333,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.42222222,0.64,0.70710678,0.70710678,0.3705303,-1.04368326\n135,0.60888889,0.42222222,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.69833333,0.36388889,0.70710678,0.70710678,0.25848681,-1.15572675\n135,0.90200449,0.16021773,0.70710678,0.70710678,0.15604125,-1.25817232\n135,0.63611111,0.14611111,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.14611111,0.66722222,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.80333333,0.01,0.70710678,0.70710678,0.40697924,-1.00723433\n135,0.72944444,0.23944444,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.20833333,0.72944444,0.70710678,0.70710678,0.15604125,-1.25817232\n135,0.83978227,0.09799551,0.70710678,0.70710678,0.3705303,-1.04368326\n270,0.88000561,0.09799551,0,1,0.08799551,-0.91200449\n270,0.90200449,0.16021773,0,1,0.15021773,-0.84978227\n270,0.99,0.19666667,0,1,0.18666667,-0.81333333\n0,0.83978227,0.09799551,0,1,0.04022334,-0.95977666\n0,0.80333333,0.01,0,1,0.07667228,-0.92332772\n135,0.99,0.5,0.70710678,0.70710678,0.19249018,-1.22172338\n45,0.5,0.01,0.70710678,0.70710678,0.19249018,-1.22172338\n315,0.27055556,0.20833333,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.23944444,0.27055556,0.70710678,0.70710678,0.3684812,-1.04573236\n315,0.01,0.5,0.70710678,0.70710678,0.19249018,-1.22172338\n225,0.20833333,0.72944444,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.27055556,0.76055556,0.70710678,0.70710678,0.3684812,-1.04573236\n225,0.5,0.99,0.70710678,0.70710678,0.19249018,-1.22172338\n135,0.72944444,0.79166667,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.76055556,0.72944444,0.70710678,0.70710678,0.3684812,-1.04573236\n135,0.86555556,0.5,0.70710678,0.70710678,0.10449467,-1.30971889\n45,0.5,0.13444444,0.70710678,0.70710678,0.10449467,-1.30971889\n315,0.36388889,0.30166667,0.70710678,0.70710678,0.08799551,-1.32621805\n315,0.30166667,0.33277778,0.70710678,0.70710678,0.28048569,-1.13372787\n315,0.13444444,0.5,0.70710678,0.70710678,0.10449467,-1.30971889\n225,0.30166667,0.63611111,0.70710678,0.70710678,0.08799551,-1.32621805\n225,0.33277778,0.69833333,0.70710678,0.70710678,0.28048569,-1.13372787\n225,0.5,0.86555556,0.70710678,0.70710678,0.10449467,-1.30971889\n135,0.63611111,0.69833333,0.70710678,0.70710678,0.08799551,-1.32621805\n135,0.69833333,0.66722222,0.70710678,0.70710678,0.28048569,-1.13372787\n"),!1),Ud(Id.ParsePatFile("\n*CELTIC-02,CELTIC PATTERN 02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.438471,0.01545916,0,1,0.12305799,-0.87694201\n270,0.98454084,0.438471,0,1,0.12305799,-0.87694201\n270,0.01545916,0.68458699,0,1,0.12305799,-0.87694201\n180,0.68458699,0.98454084,0,1,0.12305799,-0.87694201\n90,0.98454084,0.4692355,0,1,0.51530534,-0.48469466\n270,0.98454084,0.28464852,0,1,0.26918936,-0.73081064\n180,0.438471,0.28464852,0,1,0.12305799,-0.87694201\n180,0.5307645,0.31541301,0,1,0.36148285,-0.63851715\n0,0.31541301,0.4692355,0,1,0.12305799,-0.87694201\n0,0.16928165,0.438471,0,1,0.36148285,-0.63851715\n270,0.83071835,0.68458699,0,1,0.12305799,-0.87694201\n270,0.86148285,0.86148285,0,1,0.39224735,-0.60775265\n270,0.5307645,0.98454084,0,1,0.12305799,-0.87694201\n270,0.71535148,0.98454084,0,1,0.12305799,-0.87694201\n90,0.68458699,0.71535148,0,1,0.26918936,-0.73081064\n90,0.71535148,0.31541301,0,1,0.12305799,-0.87694201\n90,0.68458699,0.16928165,0,1,0.36148285,-0.63851715\n90,0.561529,0.71535148,0,1,0.26918936,-0.73081064\n90,0.5307645,0.31541301,0,1,0.12305799,-0.87694201\n90,0.561529,0.16928165,0,1,0.36148285,-0.63851715\n90,0.28464852,0.561529,0,1,0.12305799,-0.87694201\n90,0.28464852,0.01545916,0,1,0.12305799,-0.87694201\n90,0.31541301,0.4692355,0,1,0.36148285,-0.63851715\n90,0.31541301,0.01545916,0,1,0.26918936,-0.73081064\n90,0.4692355,0.01545916,0,1,0.12305799,-0.87694201\n90,0.4692355,0.561529,0,1,0.12305799,-0.87694201\n90,0.438471,0.4692355,0,1,0.36148285,-0.63851715\n90,0.438471,0.01545916,0,1,0.26918936,-0.73081064\n180,0.68458699,0.71535148,0,1,0.12305799,-0.87694201\n180,0.13851715,0.71535148,0,1,0.12305799,-0.87694201\n180,0.28464852,0.68458699,0,1,0.26918936,-0.73081064\n180,0.83071835,0.68458699,0,1,0.36148285,-0.63851715\n180,0.13851715,0.5307645,0,1,0.12305799,-0.87694201\n180,0.28464852,0.561529,0,1,0.26918936,-0.73081064\n180,0.68458699,0.5307645,0,1,0.12305799,-0.87694201\n180,0.83071835,0.561529,0,1,0.36148285,-0.63851715\n180,0.98454084,0.28464852,0,1,0.12305799,-0.87694201\n180,0.98454084,0.31541301,0,1,0.26918936,-0.73081064\n180,0.98454084,0.4692355,0,1,0.12305799,-0.87694201\n180,0.98454084,0.438471,0,1,0.26918936,-0.73081064\n180,0.98454084,0.98454084,0,1,0.26918936,-0.73081064\n0,0.4692355,0.01545916,0,1,0.51530534,-0.48469466\n0,0.01545916,0.01545916,0,1,0.26918936,-0.73081064\n270,0.01545916,0.5307645,0,1,0.51530534,-0.48469466\n270,0.01545916,0.98454084,0,1,0.26918936,-0.73081064\n180,0.5307645,0.98454084,0,1,0.51530534,-0.48469466\n180,0.86148285,0.86148285,0,1,0.14613136,-0.85386864\n90,0.86148285,0.13851715,0,1,0.14613136,-0.85386864\n0,0.561529,0.16928165,0,1,0.12305799,-0.87694201\n0,0.4692355,0.13851715,0,1,0.39224735,-0.60775265\n0,0.13851715,0.13851715,0,1,0.14613136,-0.85386864\n270,0.16928165,0.438471,0,1,0.12305799,-0.87694201\n270,0.13851715,0.5307645,0,1,0.39224735,-0.60775265\n270,0.13851715,0.86148285,0,1,0.14613136,-0.85386864\n180,0.438471,0.83071835,0,1,0.12305799,-0.87694201\n180,0.5307645,0.86148285,0,1,0.39224735,-0.60775265\n"),!1),Ud(Id.ParsePatFile("\n*CELTIC-03,CELTIC-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,6.35,13.97,0,25.4,5.08,-20.32\n90,19.05,6.35,0,25.4,5.08,-20.32\n0,6.35,6.35,0,25.4,12.7,-12.7\n270,6.35,11.43,0,25.4,5.08,-20.32\n90,3.81,3.81,0,25.4,7.62,-17.78\n180,21.59,3.81,0,25.4,17.78,-7.62\n270,21.59,11.43,0,25.4,7.62,-17.78\n270,21.59,21.59,0,25.4,7.62,-17.78\n0,3.81,21.59,0,25.4,17.78,-7.62\n90,3.81,13.97,0,25.4,7.62,-17.78\n270,19.05,19.05,0,25.4,5.08,-20.32\n0,6.35,19.05,0,25.4,12.7,-12.7\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n"),!1),Ud(Id.ParsePatFile("\n*CELTIC-04,CELTIC-04\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in mm as metric QCAD3 pattern\n45,3.81,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n135,21.59,13.97,17.960512212,17.960512212,12.57235865,-23.348666028\n45,12.7,2.54,17.960512212,17.960512212,12.57235865,-23.348666028\n315,3.81,11.43,17.960512212,17.960512212,12.57235865,-23.348666028\n135,12.7,5.08,17.960512212,17.960512212,8.980256106,-26.940768318\n225,19.05,11.43,17.960512212,17.960512212,8.980256106,-26.940768318\n315,12.7,20.32,17.960512212,17.960512212,8.980256106,-26.940768318\n45,6.35,13.97,17.960512212,17.960512212,8.980256106,-26.940768318\n90,13.97,6.35,0,25.4,12.7,-12.7\n90,11.43,6.35,0,25.4,12.7,-12.7\n270,13.97,3.81,0,25.4,7.62,-17.78\n90,11.43,-3.81,0,25.4,7.62,-17.78\n180,11.43,11.43,0,25.4,22.86,-2.54\n0,-11.43,13.97,0,25.4,22.86,-2.54\n"),!1),Ud(Id.ParsePatFile("\n*CIRCLES-02,CIRCLES-02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.959092,0.471116,0,1,0,-1\n0,0.956373,0.442347,0,1,0,-1\n0,0.951852,0.413805,0,1,0,-1\n0,0.945548,0.385603,0,1,0,-1\n0,0.937486,0.357852,0,1,0,-1\n0,0.927697,0.330663,0,1,0,-1\n0,0.91622,0.304142,0,1,0,-1\n0,0.903101,0.278393,0,1,0,-1\n0,0.888391,0.25352,0,1,0,-1\n0,0.872148,0.229619,0,1,0,-1\n0,0.854436,0.206785,0,1,0,-1\n0,0.835326,0.185108,0,1,0,-1\n0,0.814892,0.164674,0,1,0,-1\n0,0.793215,0.145564,0,1,0,-1\n0,0.770381,0.127852,0,1,0,-1\n0,0.74648,0.111609,0,1,0,-1\n0,0.721607,0.096899,0,1,0,-1\n0,0.695858,0.08378,0,1,0,-1\n0,0.669337,0.072303,0,1,0,-1\n0,0.642148,0.062514,0,1,0,-1\n0,0.614397,0.054452,0,1,0,-1\n0,0.586195,0.048148,0,1,0,-1\n0,0.557653,0.043627,0,1,0,-1\n0,0.528884,0.040908,0,1,0,-1\n0,0.5,0.04,0,1,0,-1\n0,0.471116,0.040908,0,1,0,-1\n0,0.442347,0.043627,0,1,0,-1\n0,0.413805,0.048148,0,1,0,-1\n0,0.385603,0.054452,0,1,0,-1\n0,0.357852,0.062514,0,1,0,-1\n0,0.330663,0.072303,0,1,0,-1\n0,0.304142,0.08378,0,1,0,-1\n0,0.278393,0.096899,0,1,0,-1\n0,0.25352,0.111609,0,1,0,-1\n0,0.229619,0.127852,0,1,0,-1\n0,0.206785,0.145564,0,1,0,-1\n0,0.185108,0.164674,0,1,0,-1\n0,0.164674,0.185108,0,1,0,-1\n0,0.145564,0.206785,0,1,0,-1\n0,0.127852,0.229619,0,1,0,-1\n0,0.111609,0.25352,0,1,0,-1\n0,0.096899,0.278393,0,1,0,-1\n0,0.08378,0.304142,0,1,0,-1\n0,0.072303,0.330663,0,1,0,-1\n0,0.062514,0.357852,0,1,0,-1\n0,0.054452,0.385603,0,1,0,-1\n0,0.048148,0.413805,0,1,0,-1\n0,0.043627,0.442347,0,1,0,-1\n0,0.040908,0.471116,0,1,0,-1\n0,0.04,0.5,0,1,0,-1\n0,0.040908,0.528884,0,1,0,-1\n0,0.043627,0.557653,0,1,0,-1\n0,0.048148,0.586195,0,1,0,-1\n0,0.054452,0.614397,0,1,0,-1\n0,0.062514,0.642148,0,1,0,-1\n0,0.072303,0.669337,0,1,0,-1\n0,0.08378,0.695858,0,1,0,-1\n0,0.096899,0.721607,0,1,0,-1\n0,0.111609,0.74648,0,1,0,-1\n0,0.127852,0.770381,0,1,0,-1\n0,0.145564,0.793215,0,1,0,-1\n0,0.164674,0.814892,0,1,0,-1\n0,0.185108,0.835326,0,1,0,-1\n0,0.206785,0.854436,0,1,0,-1\n0,0.229619,0.872148,0,1,0,-1\n0,0.25352,0.888391,0,1,0,-1\n0,0.278393,0.903101,0,1,0,-1\n0,0.304142,0.91622,0,1,0,-1\n0,0.330663,0.927697,0,1,0,-1\n0,0.357852,0.937486,0,1,0,-1\n0,0.385603,0.945548,0,1,0,-1\n0,0.413805,0.951852,0,1,0,-1\n0,0.442347,0.956373,0,1,0,-1\n0,0.471116,0.959092,0,1,0,-1\n0,0.5,0.96,0,1,0,-1\n0,0.528884,0.959092,0,1,0,-1\n0,0.557653,0.956373,0,1,0,-1\n0,0.586195,0.951852,0,1,0,-1\n0,0.614397,0.945548,0,1,0,-1\n0,0.642148,0.937486,0,1,0,-1\n0,0.669337,0.927697,0,1,0,-1\n0,0.695858,0.91622,0,1,0,-1\n0,0.721607,0.903101,0,1,0,-1\n0,0.74648,0.888391,0,1,0,-1\n0,0.770381,0.872148,0,1,0,-1\n0,0.793215,0.854436,0,1,0,-1\n0,0.814892,0.835326,0,1,0,-1\n0,0.835326,0.814892,0,1,0,-1\n0,0.854436,0.793215,0,1,0,-1\n0,0.872148,0.770381,0,1,0,-1\n0,0.888391,0.74648,0,1,0,-1\n0,0.903101,0.721607,0,1,0,-1\n0,0.91622,0.695858,0,1,0,-1\n0,0.927697,0.669337,0,1,0,-1\n0,0.937486,0.642148,0,1,0,-1\n0,0.945548,0.614397,0,1,0,-1\n0,0.951852,0.586195,0,1,0,-1\n0,0.956373,0.557653,0,1,0,-1\n0,0.959092,0.528884,0,1,0,-1\n0,0.96,0.5,0,1,0,-1\n"),!1),Ud(Id.ParsePatFile("\n*CIRCLES,CIRCLES\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.934583,0.431169,0,1,0,-1\n0,0.918465,0.364033,0,1,0,-1\n0,0.892043,0.300244,0,1,0,-1\n0,0.855967,0.241374,0,1,0,-1\n0,0.811127,0.188873,0,1,0,-1\n0,0.758626,0.144033,0,1,0,-1\n0,0.699756,0.107957,0,1,0,-1\n0,0.635967,0.081535,0,1,0,-1\n0,0.568831,0.065417,0,1,0,-1\n0,0.5,0.06,0,1,0,-1\n0,0.431169,0.065417,0,1,0,-1\n0,0.364033,0.081535,0,1,0,-1\n0,0.300244,0.107957,0,1,0,-1\n0,0.241374,0.144033,0,1,0,-1\n0,0.188873,0.188873,0,1,0,-1\n0,0.144033,0.241374,0,1,0,-1\n0,0.107957,0.300244,0,1,0,-1\n0,0.081535,0.364033,0,1,0,-1\n0,0.065417,0.431169,0,1,0,-1\n0,0.06,0.5,0,1,0,-1\n0,0.065417,0.568831,0,1,0,-1\n0,0.081535,0.635967,0,1,0,-1\n0,0.107957,0.699756,0,1,0,-1\n0,0.144033,0.758626,0,1,0,-1\n0,0.188873,0.811127,0,1,0,-1\n0,0.241374,0.855967,0,1,0,-1\n0,0.300244,0.892043,0,1,0,-1\n0,0.364033,0.918465,0,1,0,-1\n0,0.431169,0.934583,0,1,0,-1\n0,0.5,0.94,0,1,0,-1\n0,0.568831,0.934583,0,1,0,-1\n0,0.635967,0.918465,0,1,0,-1\n0,0.699756,0.892043,0,1,0,-1\n0,0.758626,0.855967,0,1,0,-1\n0,0.811127,0.811127,0,1,0,-1\n0,0.855967,0.758626,0,1,0,-1\n0,0.892043,0.699756,0,1,0,-1\n0,0.918465,0.635967,0,1,0,-1\n0,0.934583,0.568831,0,1,0,-1\n0,0.94,0.5,0,1,0,-1\n"),!1),Ud(Id.ParsePatFile("\n*CLAY,CLAY\n0, 0,0, 0,.1875\n0, 0,.03125, 0,.1875\n0, 0,.0625, 0,.1875\n0, 0,.125, 0,.1875, .1875,-.125\n"),!1),Ud(Id.ParsePatFile("\n*CORK,CORK\n0, 0,0, 0,.125\n135, .0625,-.0625, 0,.35355339, .1767767,-.1767767\n135, .09375,-.0625, 0,.35355339, .1767767,-.1767767\n135, .125,-.0625, 0,.35355339, .1767767,-.1767767\n"),!1),Ud(Id.ParsePatFile("\n*CROSS,CROSS\n0, 0,0, .25,.25, .125,-.375\n90, .0625,-.0625, .25,.25, .125,-.375\n"),!1),Ud(Id.ParsePatFile("\n*DASH,DASH\n0, 0,0, .125,.125, .125,-.125\n"),!1),Ud(Id.ParsePatFile("\n*DOLMIT,DOLMIT\n0, 0,0, 0,.25\n45, 0,0, 0,.70710678, .35355339,-.70710768\n"),!1),Ud(Id.ParsePatFile("\n*DOTS,DOTS\n0, 0,0, .03125,.0625, 0,-.0625\n"),!1),Ud(Id.ParsePatFile("\n*EARTH,EARTH\n0, 0,0, .25,.25, .25,-.25\n0, 0,.09375, .25,.25, .25,-.25\n0, 0,.1875, .25,.25, .25,-.25\n90, .03125,.21875, .25,.25, .25,-.25\n90, .125,.21875, .25,.25, .25,-.25\n90, .21875,.21875, .25,.25, .25,-.25\n"),!1),Ud(Id.ParsePatFile("\n*ESCHER,ESCHER\n60, 0,0, -.6,1.03923048, 1.1,-.1\n180, 0,0, -.6,1.03923048, 1.1,-.1\n300, 0,0, .6,1.03923048, 1.1,-.1\n60, .1,0, -.6,1.03923048, .2,-1\n300, .1,0, .6,1.03923048, .2,-1\n60, -.05,.08660254, -.6,1.03923048, .2,-1\n180, -.05,.08660254, -.6,1.03923048, .2,-1\n300, -.05,-.08660254, .6,1.03923048, .2,-1\n180, -.05,-.08660254, -.6,1.03923048, .2,-1\n60, -.4,0, -.6,1.03923048, .2,-1\n300, -.4,0, .6,1.03923048, .2,-1\n60, .2,-.34641016, -.6,1.03923048, .2,-1\n180, .2,-.34641016, -.6,1.03923048, .2,-1\n300, .2,.34641016, .6,1.03923048, .2,-1\n180, .2,.34641016, -.6,1.03923048, .2,-1\n0, .2,.17320508, -.6,1.03923048, .7,-.5\n0, .2,-.17320508, -.6,1.03923048, .7,-.5\n120, .05,.25980762, .6,1.03923048, .7,-.5\n120, -.25,.08660254, .6,1.03923048, .7,-.5\n240, -.25,-.08660254, .6,1.03923048, .7,-.5\n240, .05,-.25980762, .6,1.03923048, .7,-.5\n"),!1),Ud(Id.ParsePatFile("\n*EXPLOSION,EXPLOSION\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n270,0.45,0.11,0,1,0.11,-0.89\n143.130102,0.49,0.08,3.6,0.2,0.05,-4.95\n270,0.49,0.17,0,1,0.09,-0.91\n112.380135,0.56,0,12.99988621,0.05439283,0.18384776,-18.20092855\n75.256437,0.51,0.81,4.12279145,0.05089866,0.19646883,-19.45041388\n287.525568,0.45,1,3.16187936,0.05018856,0.19924859,-19.72561026\n135,0.06,0.49,0.70710678,0.70710678,0.08485281,-1.32936075\n26.565051,0,0.46,1.34164079,0.4472136,0.06708204,-2.16898594\n353.884496,0.72,0.49,19.10494017,0.03551104,0.28160256,-27.87865312\n192.094757,1,0.55,9.2192799,0.06984303,0.28635642,-14.03146464\n3.691386,0.69,0.38,15.03326191,0.03219114,0.31064449,-30.75380464\n136.080924,0.96,0.12,36.06936773,0.02667853,0.3748333,-37.10849633\n336.037511,0.87,0.16,7.61509624,0.10153462,0.09848858,-9.75036922\n123.690068,0.97,0.01,1.38675049,0.2773501,0.18027756,-3.42527371\n324.462322,0.62,0.26,3.6036768,0.11624764,0.43011626,-8.172209\n117.645975,0.73,0.05,21.47086912,0.04218245,0.23706539,-23.46947379\n326.309932,0.55,0.17,2.21880078,0.2773501,0.21633308,-3.3892182\n106.38954,0.6,0,10.44015399,0.05643326,0.17720045,-17.5428447\n153.434949,0.12,0.34,0.89442719,0.4472136,0.13416408,-2.1019039\n64.798876,0.04,0.17,16.55285979,0.05322463,0.18788294,-18.60041129\n202.619865,0.16,0.22,7.61538462,0.07692308,0.13,-12.87\n59.036243,0.1,0.12,2.22948161,0.17149859,0.11661904,-5.71433286\n211.75948,0.31,0.25,9.43389425,0.04048882,0.24698178,-24.45119629\n79.215702,0.27,0.04,16.27875339,0.04677803,0.21377558,-21.16378274\n212.471192,0.38,0.11,3.60473545,0.0766965,0.13038405,-12.90802076\n63.434949,0.35,0.05,0.89442719,0.4472136,0.06708204,-2.16898594\n135,0.4,0,0.70710678,0.70710678,0.07071068,-1.34350288\n74.357754,0.33,0.75,18.68150198,0.03851856,0.2596151,-25.70189487\n333.434949,0.03,0.9,0.89442719,0.4472136,0.3354102,-1.90065778\n110.556045,0.18,0.5,5.38389277,0.11704115,0.42720019,-8.11680356\n330.945396,0,0.6,2.23395748,0.09712859,0.2059126,-10.08971754\n99.462322,0.63,0.82,5.09636861,0.16439899,0.18248288,-5.90027965\n222.70939,0.76,0.94,1.41308355,0.05652334,0.17691806,-17.51488795\n74.744881,0.73,0.83,4.12217269,0.0877058,0.11401754,-11.28773671\n208.61046,0.95,0.95,10.29532081,0.07980869,0.25059928,-12.2793648\n62.744672,0.78,0.62,2.2359057,0.02693862,0.37121422,-36.75020816\n212.275644,0.97,0.74,13.03832887,0.04449942,0.22472205,-22.247483\n55.00798,0.9,0.64,3.60462045,0.08192319,0.12206556,-12.08449006\n158.198591,1,0.6,3.15682075,0.18569534,0.1077033,-5.27746151\n51.911227,0.59,0.51,29.20615599,0.02127178,0.47010637,-46.54053072\n153.434949,0.65,0.48,0.89442719,0.4472136,0.06708204,-2.16898594\n35.537678,0.58,0.43,4.99864847,0.11624764,0.08602325,-8.51630201\n129.289407,0.76,0.21,7.80993275,0.07035975,0.28425341,-13.928417\n322.30576,0.54,0.38,16.40118003,0.0359675,0.27802878,-27.52484877\n77.905243,0.51,0.24,5.09854116,0.06984303,0.14317821,-14.17464285\n282.994617,0.48,0.37,4.12242429,0.07495317,0.13341664,-13.20824742\n62.525568,0.35,0.12,2.23578634,0.03548867,0.28178006,-27.89622555\n267.137595,0.36,0.32,0.99875234,0.04993762,0.20024984,-19.82473455\n12.994617,0.1,0.26,4.12242429,0.07495317,0.26683328,-13.07483078\n211.75948,0.31,0.39,9.43389425,0.04048882,0.24698178,-24.45119629\n318.366461,0.22,0.47,10.62982142,0.08304548,0.12041595,-11.92117863\n189.462322,0.28,0.48,5.09636861,0.16439899,0.06082763,-6.0219349\n297.299572,0.12,0.79,32.64964285,0.02866518,0.34885527,-34.53667181\n132.273689,0.32,0.57,1.41261287,0.06726728,0.29732137,-14.56874737\n282.994617,0.29,0.7,4.12242429,0.07495317,0.13341664,-13.20824742\n140.194429,0.41,0.6,6.401844,0.12803688,0.15620499,-7.65404468\n268.363423,0.42,0.95,0.99959209,0.02855977,0.35014283,-34.66413997\n102.200469,0.5,0.58,23.53718977,0.0264166,0.37854986,-37.4764366\n250.016893,0.58,0.8,3.16112333,0.08543577,0.234094,-11.47060591\n84.559668,0.56,0.59,11.04525929,0.04740455,0.21095023,-20.88407288\n222.184443,0.88,0.88,14.86605071,0.02315584,0.43185646,-42.75378931\n"),!1),Ud(Id.ParsePatFile("\n*FLEX,FLEX\n0, 0,0, 0,.25, .25,-.25\n45, .25,0, .1767767,.1767767, .0625,-.22855339,.0625,-.35355339\n"),!1),Ud(Id.ParsePatFile("\n*GRASS,GRASS\n90, 0,0, .70710678,.70710678, .1875,-1.22671356\n45, 0,0, 0,1, .1875,-.8125\n135, 0,0, 0,1, .1875,-.8125\n"),!1),Ud(Id.ParsePatFile("\n*GRATE,GRATE\n0, 0,0, 0,.03125\n90, 0,0, 0,.125\n"),!1),Ud(Id.ParsePatFile("\n*GRAVEL-01,GRAVEL-01\n;Optimize to replace existing GRAVEL Pattern\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n159.443955,0.16,0.13,3.16011097,0.11704115,0.17088007,-8.37312367\n114.775141,0.22,0,2.23497695,0.06984303,0.14317821,-14.17464285\n249.443955,0.32,0.08,3.16011097,0.11704115,0.08544004,-8.45856371\n186.009006,0.51,0.1,9.05523386,0.05234239,0.19104973,-18.91392344\n165.963757,0.71,0.05,0.9701425,0.24253563,0.20615528,-3.91695034\n101.309932,0.72,0,4.11843884,0.19611614,0.0509902,-5.04802932\n243.434949,0.84,0.14,0.89442719,0.4472136,0.15652476,-2.07954322\n355.426079,0.49,0.13,13.03834384,0.03987261,0.25079872,-24.82907368\n300.256437,0.42,0.25,5.83050758,0.07198158,0.13892444,-13.75351955\n228.012788,0.6,0.45,12.04136517,0.07432941,0.26907248,-13.18455157\n180,0.86,0.45,0,1,0.26,-0.74\n303.690068,0.62,0.62,1.38675049,0.2773501,0.14422205,-3.46132922\n225,0.72,0.72,0.70710678,0.70710678,0.14142136,-1.27279221\n110.224859,0.08,0.23,8.54386101,0.04938648,0.20248457,-20.04597216\n177.273689,0.29,0.22,0.99886814,0.04756515,0.21023796,-20.81355808\n217.69424,0.51,0.39,11.40169752,0.0359675,0.27802878,-27.52484877\n252.255328,0.59,0.64,23.08676133,0.03809697,0.26248809,-25.9863214\n301.429566,0.48,0.82,15.26426391,0.04740455,0.21095023,-20.88407288\n355.236358,0.24,0.84,0.99654576,0.08304548,0.24083189,-11.80076269\n43.66778,0.02,0.63,1.41383129,0.0328798,0.30413813,-30.10967452\n87.273689,0.01,0.42,0.99886814,0.04756515,0.21023796,-20.81355808\n30.963757,0.62,0.71,3.60147029,0.17149859,0.17492856,-5.65602334\n291.801409,0.58,0.81,2.22834406,0.18569534,0.1077033,-5.27746151\n203.198591,0.65,0.84,2.23220936,0.13130643,0.07615773,-7.53961537\n161.565051,0.77,0.8,0.9486833,0.31622777,0.12649111,-3.03578655\n4.969741,0.4,0.88,11.04527609,0.04331481,0.23086793,-22.85592483\n16.38954,0,0.81,10.44015399,0.05643326,0.17720045,-17.5428447\n197.354025,1,0.19,3.16171493,0.059655,0.16763055,-16.59542407\n74.054604,0.95,0.22,4.12081692,0.13736056,0.1456022,-7.13450769\n27.645975,0.74,0.11,21.47086912,0.04218245,0.23706539,-23.46947379\n145.304846,0.99,0.36,3.60499653,0.06324555,0.15811388,-15.65327442\n353.157227,0.7,0.5,17.1171967,0.03971507,0.25179357,-24.92756306\n171.469234,0.92,0.69,7.07089492,0.04944682,0.20223748,-20.02151093\n138.814075,1,0.62,9.21906451,0.09407209,0.10630146,-10.52384435\n90,1,0.56,0,1,0.06,-0.94\n60.945396,0.95,0.47,2.23395748,0.09712859,0.1029563,-10.19267384\n343.61046,0.83,0.86,7.27989116,0.05643326,0.17720045,-17.5428447\n293.198591,0.77,1,2.23220936,0.13130643,0.15231546,-7.46345764\n48.012788,0.63,0.9,12.04136517,0.07432941,0.13453624,-13.31908781\n312.510447,0.29,1,1.41287877,0.06142951,0.16278821,-16.11603239\n70.346176,0.17,0.86,3.16156213,0.06726728,0.14866069,-14.71740806\n"),!1),Ud(Id.ParsePatFile("\n*GRAVEL,GRAVEL\n228.0128, .72,1, 12.041365,.074329, .134536,-13.319088\n184.9697, .63,.9, -12.041517,.043315, .230868,-22.855925\n132.5104, .4,.88, -14.865942,.06143, .162788,-16.116032\n267.2737, .01,.63, -20.024928,.047565, .210238,-20.813558\n292.8337, 0,.42, -12.99991,.048507, .206155,-20.409373\n357.2737, .08,.23, -20.024928,.047565, .210238,-20.813558\n37.6942, .29,.22, -16.40118,.035968, .278029,-27.524849\n72.2553, .51,.39, 23.086761,.038097, .262488,-25.986321\n121.4296, .59,.64, 15.264264,.047405, .21095,-20.884073\n175.2364, .48,.82, -11.045049,.083045, .240832,-11.800763\n222.3974, .24,.84, 16.278789,.032108, .311448,-30.833375\n138.8141, 1,.62, 9.219065,.094072, .106301,-10.523844\n171.4692, .92,.69, -13.152853,.049447, .202237,-20.021511\n225, .72,.72, .707107,.707107, .141421,-1.272792\n203.1986, .65,.84, -5.383564,.131306, .076158,-7.539615\n291.8014, .58,.81, -3.156821,.185695, .107703,-5.277462\n30.9638, .62,.71, 3.60147,.171499, .174929,-5.656023\n161.5651, .77,.8, -2.213594,.316228, .126491,-3.035787\n16.3895, 0,.81, 10.440154,.056433, .1772,-17.542845\n70.3462, .17,.86, -11.704507,.067267, .148661,-14.717408\n293.1986, .77,1, -5.383564,.131306, .152315,-7.463458\n343.6105, .83,.86, -10.440154,.056433, .1772,-17.542845\n339.444, 0,.19, -5.383893,.117041, .17088,-8.373124\n294.7751, .16,.13, -12.082844,.069843, .143178,-14.174643\n66.8014, .78,0, 5.383564,.131306, .152315,-7.463458\n17.354, .84,.14, -13.60134,.059655, .167631,-16.595424\n69.444, .29,0, -5.383893,.117041, .08544,-8.458564\n101.3099, .72,0, 4.118439,.196116, .05099,-5.048029\n165.9638, .71,.05, -3.152963,.242536, .206155,-3.91695\n186.009, .51,.1, -10.049739,.052342, .19105,-18.913923\n303.6901, .62,.62, -2.218801,.27735, .144222,-3.461329\n353.1572, .7,.5, 17.117197,.039715, .251794,-24.927563\n60.9454, .95,.47, -8.061673,.097129, .102956,-10.192674\n90, 1,.56, 1,1, .06,-.94\n120.2564, .49,.13, -8.061936,.071982, .138924,-13.75352\n48.0128, .42,.25, 12.041365,.074329, .269072,-13.184552\n0, .6,.45, 1,1, .26,-.74\n325.3048, .86,.45, -12.206392,.063246, .158114,-15.653274\n254.0546, .99,.36, 4.120817,.137361, .145602,-7.134508\n207.646, .95,.22, 21.470869,.042182, .237065,-23.469474\n175.4261, .74,.11, 13.038344,.039873, .250799,-24.829074\n"),!1),Ud(Id.ParsePatFile("\n*HATCH-DOTS,HATCH-DOTS verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n225,0.56554781,0.11554781,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.25036388,0.20036388,0.70710678,0.70710678,0.6374253,-0.77678826\n225,0.12918503,0.37918503,0.70710678,0.70710678,0.71894383,-0.69526973\n225,0.75438447,0.20438447,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.30962291,0.15962291,0.70710678,0.70710678,0.6636138,-0.75059977\n225,0.11186858,0.46186858,0.70710678,0.70710678,0.81138689,-0.60282667\n225,0.37918503,0.12918503,0.70710678,0.70710678,0.71894383,-0.69526973\n225,0.11554781,0.56554781,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.20036388,0.25036388,0.70710678,0.70710678,0.6374253,-0.77678826\n225,0.46186859,0.11186859,0.70710678,0.70710678,0.8113869,-0.60282666\n225,0.20438447,0.75438447,0.70710678,0.70710678,0.45245257,-0.96176099\n225,0.15962291,0.30962291,0.70710678,0.70710678,0.6636138,-0.75059977\n"),!1),Ud(Id.ParsePatFile("\n*HATCH-SQRS,HATCH-SQRS verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n225,0.11,0.36,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.86,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.26,0.70710678,0.70710678,0.52325902,-0.89095454\n225,0.76,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.56,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.46,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.26,0.11,0.70710678,0.70710678,0.52325902,-0.89095454\n225,0.11,0.76,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.16,0.70710678,0.70710678,0.38183766,-1.0323759\n225,0.16,0.11,0.70710678,0.70710678,0.38183766,-1.0323759\n225,0.46,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.56,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.36,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.86,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.11,0.66,0.70710678,0.70710678,0.31112698,-1.10308658\n225,0.66,0.11,0.70710678,0.70710678,0.31112698,-1.10308658\n"),!1),Ud(Id.ParsePatFile("\n*HEXAGONS,HEXAGONS verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n239.931417,0.21999999,0.99999998,8.06212908,0.04554875,0.21954496,-21.73495344\n239.931417,0.89,0.19,8.06212908,0.04554875,0.21954496,-21.73495344\n300.068583,0.78000001,0.99999998,13.89236932,0.04554875,0.21954496,-21.73495344\n60.068488,0.12,0.5,8.06221498,0.02626129,0.38078866,-37.69807687\n119.931512,0.31,0.17,30.01665055,0.02626129,0.38078865,-37.69807687\n300.068583,0.11,0.19,13.89236932,0.04554875,0.21954496,-21.73495344\n180,0.11,0.19,0,1,0.21999996,-0.78000004\n299.931512,0.69,0.83,30.01665055,0.02626129,0.38078865,-37.69807687\n0,0.31,0.83,0,1,0.38,-0.62\n180,0.69,0.17,0,1,0.38,-0.62\n240.068488,0.88,0.5,8.06221498,0.02626129,0.38078866,-37.69807687\n180,0.11,0.81,0,1,0.21999996,-0.78000004\n"),!1),Ud(Id.ParsePatFile("\n*HEXJOIN-01,HEXJOIN-01 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n45,0.15,0.65,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.85,0.65,1,1,0.3,-0.7\n315,0.65,0.85,0.70710678,0.70710678,0.28284271,-1.13137085\n180,0.65,0.15,0,1,0.3,-0.7\n270,0.55,0.15,1,1,0.3,-0.7\n90,0.15,0.35,1,1,0.3,-0.7\n135,0.35,0.15,0.70710678,0.70710678,0.28284271,-1.13137085\n180,0.15,0.55,0,1,0.3,-0.7\n270,0.45,0.15,1,1,0.3,-0.7\n180,0.15,0.45,0,1,0.3,-0.7\n225,0.85,0.35,0.70710678,0.70710678,0.28284271,-1.13137085\n0,0.35,0.85,0,1,0.3,-0.7\n"),!1),Ud(Id.ParsePatFile("\n*HEXJOIN-02,HEXJOIN-02 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.85,0.45,1,1,0.1,-0.9\n315,0.65,0.85,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.55,0.15,1,1,0.3,-0.7\n180,0.15,0.55,0,1,0.3,-0.7\n180,0.65,0.15,0,1,0.1,-0.9\n45,0.15,0.65,0.70710678,0.70710678,0.28284271,-1.13137085\n90,0.15,0.55,1,1,0.1,-0.9\n180,0.15,0.45,0,1,0.3,-0.7\n180,0.45,0.15,0,1,0.1,-0.9\n270,0.45,0.15,1,1,0.3,-0.7\n90,0.15,0.35,1,1,0.1,-0.9\n0,0.55,0.85,0,1,0.1,-0.9\n135,0.35,0.15,0.70710678,0.70710678,0.28284271,-1.13137085\n0,0.35,0.85,0,1,0.1,-0.9\n225,0.85,0.35,0.70710678,0.70710678,0.28284271,-1.13137085\n270,0.85,0.65,1,1,0.1,-0.9\n"),!1),Ud(Id.ParsePatFile("\n*HEX,HEX\n0, 0,0, 0,.21650635, .125,-.25\n120, 0,0, 0,.21650635, .125,-.25\n60, .125,0, 0,.21650635, .125,-.25\n"),!1),Ud(Id.ParsePatFile("\n*HOLLY,HOLLY\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n99.462322,0.8,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n74.744881,0.67,0.08,4.12217269,0.0877058,0.11401754,-11.28773671\n68.198591,0.53,0.15,3.15682075,0.18569534,0.1077033,-5.27746151\n270,0.58,0.37,0,1,0.07,-0.93\n248.198591,0.75,0.35,3.15682075,0.18569534,0.1077033,-5.27746151\n45,0.8,0.2,0.70710678,0.70710678,0.08485281,-1.32936075\n351.869898,0.9,0.13,0.98994949,0.14142136,0.07071068,-7.00035713\n0,0.86,0.13,0,1,0.04,-0.96\n26.565051,0.82,0.11,1.34164079,0.4472136,0.04472136,-2.19134662\n45,0.8,0.09,0.70710678,0.70710678,0.02828427,-1.38592929\n341.565051,0.77,0.1,0.9486833,0.31622777,0.03162278,-3.13065488\n0,0.73,0.1,0,1,0.04,-0.96\n26.565051,0.71,0.09,1.34164079,0.4472136,0.02236068,-2.2137073\n26.565051,0.69,0.08,1.34164079,0.4472136,0.02236068,-2.2137073\n53.130102,0.66,0.04,3.6,0.2,0.05,-4.95\n270,0.66,0.08,0,1,0.04,-0.96\n303.690068,0.64,0.11,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.62,0.13,0.70710678,0.70710678,0.02828427,-1.38592929\n345.963757,0.58,0.14,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.54,0.14,0,1,0.04,-0.96\n33.690068,0.51,0.12,1.38675049,0.2773501,0.03605551,-3.56949576\n255.963757,0.52,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n281.309932,0.51,0.21,4.11843884,0.19611614,0.0509902,-5.04802932\n284.036243,0.5,0.25,3.15296313,0.24253563,0.04123106,-4.08187457\n296.565051,0.48,0.29,1.34164079,0.4472136,0.04472136,-2.19134662\n303.690068,0.46,0.32,1.38675049,0.2773501,0.03605551,-3.56949576\n180,0.5,0.32,0,1,0.04,-0.96\n180,0.53,0.32,0,1,0.03,-0.97\n213.690068,0.56,0.34,1.38675049,0.2773501,0.03605551,-3.56949576\n243.434949,0.57,0.36,0.89442719,0.4472136,0.02236068,-2.2137073\n251.565051,0.58,0.39,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.59,0.36,2.21359436,0.31622777,0.03162278,-3.13065488\n135,0.61,0.34,0.70710678,0.70710678,0.02828427,-1.38592929\n153.434949,0.63,0.33,0.89442719,0.4472136,0.02236068,-2.2137073\n161.565051,0.66,0.32,0.9486833,0.31622777,0.03162278,-3.13065488\n180,0.69,0.32,0,1,0.03,-0.97\n198.434949,0.72,0.33,2.21359436,0.31622777,0.03162278,-3.13065488\n225,0.74,0.35,0.70710678,0.70710678,0.02828427,-1.38592929\n251.565051,0.75,0.38,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.76,0.35,2.21359436,0.31622777,0.03162278,-3.13065488\n116.565051,0.78,0.31,1.34164079,0.4472136,0.04472136,-2.19134662\n135,0.81,0.28,0.70710678,0.70710678,0.04242641,-1.37178716\n161.565051,0.84,0.27,0.9486833,0.31622777,0.03162278,-3.13065488\n180,0.87,0.27,0,1,0.03,-0.97\n90,0.87,0.24,0,1,0.03,-0.97\n111.801409,0.89,0.19,2.22834406,0.18569534,0.05385165,-5.33131316\n126.869898,0.92,0.15,1.4,0.2,0.05,-4.95\n149.036243,0.97,0.12,2.22948161,0.17149859,0.05830952,-5.77264238\n338.587031,0.46,0.32,24.69817132,0.01825438,0.54781384,-54.23356986\n338.198591,0.8,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n323.972627,0.71,0.62,8.60201108,0.07352146,0.13601471,-13.4654558\n315,0.6,0.53,0.70710678,0.70710678,0.11313708,-1.30107648\n135,0.58,0.55,0.70710678,0.70710678,0.07071068,-1.34350288\n126.869898,0.68,0.65,1.4,0.2,0.1,-4.9\n105.945396,0.77,0.72,3.15929297,0.13736056,0.0728011,-7.20730879\n30.963757,0.87,0.8,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.83,0.79,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.8,0.79,0,1,0.03,-0.97\n341.565051,0.77,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n333.434949,0.75,0.81,0.89442719,0.4472136,0.02236068,-2.2137073\n63.434949,0.74,0.79,0.89442719,0.4472136,0.02236068,-2.2137073\n45,0.72,0.77,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.69,0.75,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.66,0.74,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.63,0.74,0,1,0.03,-0.97\n341.565051,0.6,0.75,0.9486833,0.31622777,0.03162278,-3.13065488\n108.434949,0.61,0.72,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.61,0.69,0,1,0.03,-0.97\n75.963757,0.6,0.65,0.9701425,0.24253563,0.04123106,-4.08187457\n45,0.57,0.62,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.53,0.61,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.5,0.61,0,1,0.03,-0.97\n126.869898,0.53,0.57,1.4,0.2,0.05,-4.95\n90,0.53,0.54,0,1,0.03,-0.97\n75.963757,0.52,0.5,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.5,0.47,2.21880078,0.2773501,0.03605551,-3.56949576\n191.309932,0.55,0.48,4.11843884,0.19611614,0.0509902,-5.04802932\n168.690068,0.6,0.47,0.98058068,0.19611614,0.0509902,-5.04802932\n161.565051,0.66,0.45,0.9486833,0.31622777,0.06324555,-3.09903211\n143.130102,0.7,0.42,3.6,0.2,0.05,-4.95\n270,0.7,0.43,0,1,0.01,-0.99\n270,0.7,0.46,0,1,0.03,-0.97\n243.434949,0.72,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n213.690068,0.75,0.52,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.53,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.82,0.53,0,1,0.04,-0.96\n146.309932,0.85,0.51,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.83,0.54,1.38675049,0.2773501,0.03605551,-3.56949576\n270,0.83,0.57,0,1,0.03,-0.97\n270,0.83,0.61,0,1,0.04,-0.96\n243.434949,0.85,0.65,0.89442719,0.4472136,0.04472136,-2.19134662\n225,0.87,0.67,0.70710678,0.70710678,0.02828427,-1.38592929\n296.565051,0.86,0.69,1.34164079,0.4472136,0.02236068,-2.2137073\n270,0.86,0.71,0,1,0.02,-0.98\n255.963757,0.87,0.75,0.9701425,0.24253563,0.04123106,-4.08187457\n243.434949,0.89,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n233.130102,0.92,0.83,3.6,0.2,0.05,-4.95\n40.601295,0.5,0.47,1.41004798,0.10846523,0.55317267,-8.66637179\n195.945396,0.26,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n5.194429,0.29,0.55,10.04946781,0.09053575,0.11045361,-10.93490741\n19.983107,0.28,0.68,8.54357658,0.08543577,0.117047,-11.58765291\n185.710593,0.23,0.68,9.05483843,0.09950372,0.10049876,-9.94937686\n164.054604,0.22,0.79,4.12081692,0.13736056,0.0728011,-7.20730879\n45,0.27,0.79,0.70710678,0.70710678,0.05656854,-1.35764502\n90,0.21,0.92,0,1,0.04,-0.96\n75.963757,0.2,0.88,0.9701425,0.24253563,0.04123106,-4.08187457\n243.434949,0.31,0.47,0.89442719,0.4472136,0.04472136,-2.19134662\n236.309932,0.33,0.5,2.21880078,0.2773501,0.03605551,-3.56949576\n225,0.36,0.53,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.39,0.55,1.38675049,0.2773501,0.03605551,-3.56949576\n189.462322,0.45,0.56,5.09636861,0.16439899,0.06082763,-6.0219349\n333.434949,0.43,0.57,0.89442719,0.4472136,0.02236068,-2.2137073\n326.309932,0.4,0.59,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.38,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n270,0.38,0.66,0,1,0.04,-0.96\n251.565051,0.39,0.69,0.9486833,0.31622777,0.03162278,-3.13065488\n236.309932,0.41,0.72,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.44,0.74,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.4,0.74,0,1,0.04,-0.96\n333.434949,0.36,0.76,0.89442719,0.4472136,0.04472136,-2.19134662\n306.869898,0.33,0.8,1.4,0.2,0.05,-4.95\n284.036243,0.32,0.84,3.15296313,0.24253563,0.04123106,-4.08187457\n341.565051,0.29,0.85,0.9486833,0.31622777,0.03162278,-3.13065488\n326.309932,0.26,0.87,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.24,0.9,1.38675049,0.2773501,0.03605551,-3.56949576\n296.565051,0.21,0.96,1.34164079,0.4472136,0.06708204,-2.16898594\n56.309932,0.18,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n45,0.16,0.83,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.13,0.81,1.38675049,0.2773501,0.03605551,-3.56949576\n116.565051,0.14,0.79,1.34164079,0.4472136,0.02236068,-2.2137073\n108.434949,0.15,0.76,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.15,0.72,0,1,0.04,-0.96\n63.434949,0.13,0.68,0.89442719,0.4472136,0.04472136,-2.19134662\n33.690068,0.1,0.66,1.38675049,0.2773501,0.03605551,-3.56949576\n165.963757,0.14,0.65,0.9701425,0.24253563,0.04123106,-4.08187457\n143.130102,0.18,0.62,3.6,0.2,0.05,-4.95\n116.565051,0.2,0.58,1.34164079,0.4472136,0.04472136,-2.19134662\n75.963757,0.19,0.54,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.17,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.21,0.5,0,1,0.04,-0.96\n165.963757,0.25,0.49,0.9701425,0.24253563,0.04123106,-4.08187457\n135,0.27,0.47,0.70710678,0.70710678,0.02828427,-1.38592929\n116.565051,0.29,0.43,1.34164079,0.4472136,0.04472136,-2.19134662\n278.583621,0.21,0.96,33.37663332,0.01865659,0.53600373,-53.0643694\n104.036243,0.3,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.32,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.36,0.15,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.39,0.15,0,1,0.03,-0.97\n206.565051,0.43,0.17,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.45,0.2,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.46,0.24,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.45,0.27,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.43,0.3,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.39,0.32,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.36,0.32,0,1,0.03,-0.97\n26.565051,0.32,0.3,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.3,0.27,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.29,0.24,0.9486833,0.31622777,0.03162278,-3.13065488\n104.036243,0.16,0.31,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.18,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.22,0.26,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.25,0.26,0,1,0.03,-0.97\n206.565051,0.29,0.28,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.31,0.31,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.32,0.35,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.31,0.38,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.29,0.41,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.25,0.43,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.22,0.43,0,1,0.03,-0.97\n26.565051,0.18,0.41,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.16,0.38,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.15,0.35,0.9486833,0.31622777,0.03162278,-3.13065488\n104.036243,0.34,0.38,3.15296313,0.24253563,0.04123106,-4.08187457\n123.690068,0.36,0.35,1.38675049,0.2773501,0.03605551,-3.56949576\n153.434949,0.4,0.33,0.89442719,0.4472136,0.04472136,-2.19134662\n180,0.43,0.33,0,1,0.03,-0.97\n206.565051,0.47,0.35,1.34164079,0.4472136,0.04472136,-2.19134662\n236.309932,0.49,0.38,2.21880078,0.2773501,0.03605551,-3.56949576\n255.963757,0.5,0.42,0.9701425,0.24253563,0.04123106,-4.08187457\n288.434949,0.49,0.45,2.21359436,0.31622777,0.03162278,-3.13065488\n303.690068,0.47,0.48,1.38675049,0.2773501,0.03605551,-3.56949576\n333.434949,0.43,0.5,0.89442719,0.4472136,0.04472136,-2.19134662\n0,0.4,0.5,0,1,0.03,-0.97\n26.565051,0.36,0.48,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.34,0.45,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.33,0.42,0.9486833,0.31622777,0.03162278,-3.13065488\n"),!1),Ud(Id.ParsePatFile("\n*HONEY,HONEY\n0, 0,0, .1875,.10825317, .125,-.25\n120, 0,0, .1875,.10825317, .125,-.25\n60, 0,0, .1875,.10825317, -.25,.125\n"),!1),Ud(Id.ParsePatFile("\n*HOUND,HOUND\n0, 0,0, .25,.0625, 1,-.5\n90, 0,0, -.25,.0625, 1,-.5\n"),!1),Ud(Id.ParsePatFile("\n*INSUL,INSUL\n0, 0,0, 0,.375\n0, 0,.125, 0,.375, .125,-.125\n0, 0,.25, 0,.375, .125,-.125\n"),!1),Ud(Id.ParsePatFile("\n*LATTICE-01,LATTICE-01 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.08514719,0.4,0,1,0.17029438,-0.82970562\n270,0.6,0.08514719,1,1,0.17029438,-0.82970562\n270,0.4,0.08514719,1,1,0.17029438,-0.82970562\n135,0.5,0.2679899,0.70710678,0.70710678,0.32811183,-1.08610173\n225,0.7320101,0.5,0.70710678,0.70710678,0.32811183,-1.08610173\n45,0.08514719,0.6,0.70710678,0.70710678,0.44526911,-0.96894445\n180,0.08514719,0.6,0,1,0.17029438,-0.82970562\n315,0.5,0.7320101,0.70710678,0.70710678,0.32811183,-1.08610173\n45,0.2679899,0.5,0.70710678,0.70710678,0.32811183,-1.08610173\n315,0.6,0.91485281,0.70710678,0.70710678,0.44526911,-0.96894445\n45,0.6,0.08514719,0.70710678,0.70710678,0.44526911,-0.96894445\n315,0.08514719,0.4,0.70710678,0.70710678,0.44526911,-0.96894445\n"),!1),Ud(Id.ParsePatFile("\n*LATTICE-02,LATTICE-02 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.38333333,0.38333333,0,1,0.76666666,-0.23333334\n270,0.61666667,1,1,1,1;,0 Removed 0 IT RENDERS A POINT\n180,0.38333333,0.61666667,0,1,0.76666666,-0.23333334\n270,0.38333333,1,1,1,1,;0 Removed 0 IT RENDERS A POINT\n"),!1),Ud(Id.ParsePatFile("\n*LATTICE-03,LATTICE-03 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.38333333,0.38333333,0,1,0.76666666,-0.23333334\n180,0.38333333,0.61666667,0,1,0.76666666,-0.23333334\n270,0.61666667,0.38333333,1,1,0.76666666,-0.23333334\n270,0.38333333,0.38333333,1,1,0.76666666,-0.23333334\n"),!1),Ud(Id.ParsePatFile("\n*LATTICE-04,LATTICE-04 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n296.565051,0.15333333,0.46,1.34164079,0.4472136,1.13294111,-1.10312687\n296.565051,0.34000001,0.55333333,1.34164079,0.4472136,1.13294111,-1.10312687\n206.565051,0.46,0.84666667,1.34164079,0.4472136,1.13294111,-1.10312687\n206.565051,0.55333333,0.65999999,1.34164079,0.4472136,1.13294111,-1.10312687\n"),!1),Ud(Id.ParsePatFile("\n*LATTICE-05,LATTICE-05\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n0,0.775,0.075,0,1,0.15,-0.85\n180,0.225,0.925,0,1,0.15,-0.85\n180,0.625,0.225,0,1,0.4,-0.6\n180,0.625,0.075,0,1,0.55,-0.45\n270,0.625,0.225,0,1,0.15,-0.85\n270,0.775,0.775,0,1,0.7,-0.3\n270,0.925,0.925,0,1,0.85,-0.15\n0,0.375,0.775,0,1,0.4,-0.6\n0,0.375,0.925,0,1,0.55,-0.45\n90,0.375,0.775,0,1,0.15,-0.85\n90,0.225,0.225,0,1,0.7,-0.3\n90,0.075,0.075,0,1,0.85,-0.15\n"),!1),Ud(Id.ParsePatFile("\n*LATTICE-06,LATTICE-06\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.625,0.375,0,1,0.25,-0.75\n270,0.625,0.625,0,1,0.25,-0.75\n0,0.375,0.625,0,1,0.25,-0.75\n90,0.375,0.375,0,1,0.25,-0.75\n0,0.775,0.075,0,1,0.15,-0.85\n180,0.225,0.925,0,1,0.15,-0.85\n180,0.625,0.225,0,1,0.4,-0.6\n180,0.625,0.075,0,1,0.55,-0.45\n270,0.625,0.225,0,1,0.15,-0.85\n270,0.775,0.775,0,1,0.7,-0.3\n270,0.925,0.925,0,1,0.85,-0.15\n0,0.375,0.775,0,1,0.4,-0.6\n0,0.375,0.925,0,1,0.55,-0.45\n90,0.375,0.775,0,1,0.15,-0.85\n90,0.225,0.225,0,1,0.7,-0.3\n90,0.075,0.075,0,1,0.85,-0.15\n"),!1),Ud(Id.ParsePatFile("\n*LATTICE-07, verbose comment\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.69166667,0.69166666,1,1,0.88333333,-0.11666667\n270,0.80833334,0.69166666,1,1,0.88333333,-0.11666667\n270,0.19166666,0.19166667,1,1,0.88333333,-0.11666667\n270,0.30833333,0.19166667,1,1,0.88333333,-0.11666667\n180,0.69166667,0.30833333,0,1,0.88333333,-0.11666667\n180,0.69166667,0.19166666,0,1,0.88333333,-0.11666667\n180,0.19166667,0.80833334,0,1,0.88333333,-0.11666667\n180,0.19166667,0.69166667,0,1,0.88333333,-0.11666667\n"),!1),Ud(Id.ParsePatFile("\n*LEAF-01,LEAF-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n83.659808,0.9,0.2,0.99388373,0.11043153,0.09055385,-8.96483129\n26.565051,0.88,0.19,1.34164079,0.4472136,0.02236068,-2.2137073\n14.036243,0.84,0.18,3.15296313,0.24253563,0.04123106,-4.08187457\n315,0.84,0.18,0.70710678,0.70710678,0.05656854,-1.35764502\n83.659808,0.84,0.18,0.99388373,0.11043153,0.09055385,-8.96483129\n0,0.79,0.18,0,1,0.05,-0.95\n345.963757,0.82,0.12,0.9701425,0.24253563,0.04123106,-4.08187457\n326.309932,0.79,0.14,2.21880078,0.2773501,0.03605551,-3.56949576\n303.690068,0.77,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.74,0.16,2.21359436,0.31622777,0.03162278,-3.13065488\n288.434949,0.73,0.19,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.77,0.19,0,1,0.04,-0.96\n258.690068,0.78,0.24,0.98058068,0.19611614,0.0509902,-5.04802932\n243.434949,0.79,0.26,0.89442719,0.4472136,0.02236068,-2.2137073\n225,0.82,0.29,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.85,0.31,1.38675049,0.2773501,0.03605551,-3.56949576\n191.309932,0.9,0.32,4.11843884,0.19611614,0.0509902,-5.04802932\n128.659808,0.3,0.42,1.40556386,0.15617376,0.06403124,-6.339093\n143.130102,0.34,0.39,3.6,0.2,0.05,-4.95\n153.434949,0.38,0.37,0.89442719,0.4472136,0.04472136,-2.19134662\n192.528808,0.38,0.37,4.1216787,0.10846523,0.09219544,-9.12734901\n105.945396,0.38,0.37,3.15929297,0.13736056,0.0728011,-7.20730879\n153.434949,0.42,0.35,0.89442719,0.4472136,0.04472136,-2.19134662\n149.036243,0.47,0.32,2.22948161,0.17149859,0.05830952,-5.77264238\n95.710593,0.47,0.32,9.05483843,0.09950372,0.10049876,-9.94937686\n194.931417,0.47,0.32,11.40157229,0.06441566,0.15524175,-15.36893295\n135,0.51,0.28,0.70710678,0.70710678,0.05656854,-1.35764502\n123.690068,0.53,0.25,1.38675049,0.2773501,0.03605551,-3.56949576\n199.653824,0.53,0.25,11.70450662,0.06726728,0.14866069,-14.71740806\n71.565051,0.53,0.25,0.9486833,0.31622777,0.09486833,-3.06740933\n119.054604,0.58,0.16,8.06167266,0.09712859,0.1029563,-10.19267384\n288.434949,0.58,0.14,2.21359436,0.31622777,0.06324555,-3.09903211\n21.801409,0.53,0.12,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.48,0.11,4.11843884,0.19611614,0.0509902,-5.04802932\n0,0.45,0.11,0,1,0.03,-0.97\n341.565051,0.39,0.13,0.9486833,0.31622777,0.06324555,-3.09903211\n326.309932,0.33,0.17,2.21880078,0.2773501,0.07211103,-3.53344025\n308.659808,0.29,0.22,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.26,0.27,3.60147029,0.17149859,0.05830952,-5.77264238\n285.945396,0.24,0.34,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.24,0.41,0,1,0.07,-0.93\n279.462322,0.23,0.47,5.09636861,0.16439899,0.06082763,-6.0219349\n285.945396,0.21,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n123.690068,0.23,0.51,1.38675049,0.2773501,0.03605551,-3.56949576\n161.565051,0.26,0.5,0.9486833,0.31622777,0.03162278,-3.13065488\n171.869898,0.33,0.49,0.98994949,0.14142136,0.07071068,-7.00035713\n171.869898,0.4,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n161.565051,0.46,0.46,0.9486833,0.31622777,0.06324555,-3.09903211\n161.565051,0.52,0.44,0.9486833,0.31622777,0.06324555,-3.09903211\n146.309932,0.58,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n119.744881,0.62,0.33,5.82963253,0.12403473,0.08062258,-7.98163517\n111.801409,0.64,0.28,2.22834406,0.18569534,0.05385165,-5.33131316\n90,0.64,0.24,0,1,0.04,-0.96\n75.963757,0.63,0.2,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.61,0.17,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.6,0.15,0.89442719,0.4472136,0.02236068,-2.2137073\n126.869898,0.63,0.11,1.4,0.2,0.05,-4.95\n45,0.6,0.08,0.70710678,0.70710678,0.04242641,-1.37178716\n233.130102,0.89,0.04,3.6,0.2,0.05,-4.95\n258.690068,0.07,0.05,0.98058068,0.19611614,0.0509902,-5.04802932\n258.690068,0.14,0.05,0.98058068,0.19611614,0.0509902,-5.04802932\n198.434949,0.26,0.02,2.21359436,0.31622777,0.06324555,-3.09903211\n225,0.31,0.02,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.34,0.03,2.21359436,0.31622777,0.03162278,-3.13065488\n348.690068,0.29,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n345.963757,0.25,0.05,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.21,0.07,0.89442719,0.4472136,0.04472136,-2.19134662\n333.434949,0.15,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.1,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.07,0.11,0,1,0.03,-0.97\n8.130102,0,0.1,6.08111832,0.14142136,0.07071068,-7.00035713\n236.309932,0.02,0.23,2.21880078,0.2773501,0.03605551,-3.56949576\n236.309932,0.04,0.26,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.07,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.03,0.28,0,1,0.04,-0.96\n326.309932,0,0.3,2.21880078,0.2773501,0.03605551,-3.56949576\n18.434949,0,0.26,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0,0.55,0,1,0.07,-0.93\n14.036243,0.1,0.61,3.15296313,0.24253563,0.04123106,-4.08187457\n21.801409,0.05,0.59,2.22834406,0.18569534,0.05385165,-5.33131316\n30.963757,0,0.56,3.60147029,0.17149859,0.05830952,-5.77264238\n254.054604,0.02,0.66,4.12081692,0.13736056,0.0728011,-7.20730879\n158.198591,0.05,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n153.434949,0.11,0.66,0.89442719,0.4472136,0.06708204,-2.16898594\n158.198591,0.16,0.64,3.15682075,0.18569534,0.05385165,-5.33131316\n180,0.21,0.64,0,1,0.05,-0.95\n33.690068,0.18,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n45,0.16,0.6,0.70710678,0.70710678,0.02828427,-1.38592929\n53.130102,0.13,0.56,3.6,0.2,0.05,-4.95\n56.309932,0.09,0.5,2.21880078,0.2773501,0.07211103,-3.53344025\n51.340192,0.05,0.45,4.99756038,0.15617376,0.06403124,-6.339093\n38.659808,0,0.41,1.40556386,0.15617376,0.06403124,-6.339093\n180,0.82,0.48,0,1,0.1,-0.9\n310.601295,0.82,0.48,1.41004798,0.10846523,0.09219544,-9.12734901\n82.405357,0.82,0.48,8.06198693,0.06608186,0.15132746,-14.98141849\n180,0.84,0.48,0,1,0.02,-0.98\n194.036243,0.88,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n198.434949,0.91,0.5,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.83,0.37,0,1,0.08,-0.92\n348.690068,0.78,0.38,0.98058068,0.19611614,0.0509902,-5.04802932\n321.340192,0.73,0.42,4.99756038,0.15617376,0.06403124,-6.339093\n300.963757,0.7,0.47,3.60147029,0.17149859,0.05830952,-5.77264238\n21.801409,0.65,0.45,2.22834406,0.18569534,0.05385165,-5.33131316\n284.036243,0.64,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.7,0.49,0,1,0.06,-0.94\n261.869898,0.71,0.56,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.73,0.61,3.15682075,0.18569534,0.05385165,-5.33131316\n225,0.77,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n216.869898,0.81,0.68,1.4,0.2,0.05,-4.95\n198.434949,0.9,0.71,2.21359436,0.31622777,0.09486833,-3.06740933\n153.434949,0.36,0.65,0.89442719,0.4472136,0.06708204,-2.16898594\n170.537678,0.42,0.64,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.49,0.65,6.08111832,0.14142136,0.07071068,-7.00035713\n201.801409,0.54,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n219.805571,0.6,0.72,1.40840568,0.12803688,0.0781025,-7.73214718\n18.434949,0.97,0.25,2.21359436,0.31622777,0.03162278,-3.13065488\n33.690068,0.94,0.23,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.94,0.23,0,1,0.04,-0.96\n80.537678,0.94,0.23,0.98639392,0.16439899,0.06082763,-6.0219349\n36.869898,0.9,0.2,1.4,0.2,0.05,-4.95\n341.565051,0.9,0.2,0.9486833,0.31622777,0.06324555,-3.09903211\n53.130102,0.97,0.16,3.6,0.2,0.05,-4.95\n38.659808,0.92,0.12,1.40556386,0.15617376,0.06403124,-6.339093\n9.462322,0.86,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n180,0.95,0.32,0,1,0.05,-0.95\n158.198591,1,0.3,3.15682075,0.18569534,0.05385165,-5.33131316\n216.869898,0.93,0.07,1.4,0.2,0.05,-4.95\n206.565051,0.97,0.09,1.34164079,0.4472136,0.04472136,-2.19134662\n198.434949,1,0.1,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.97,0,0,1,0.02,-0.98\n26.565051,0.96,0.53,1.34164079,0.4472136,0.04472136,-2.19134662\n56.309932,0.96,0.53,2.21880078,0.2773501,0.07211103,-3.53344025\n36.869898,0.96,0.53,1.4,0.2,0.05,-4.95\n30.963757,0.91,0.5,3.60147029,0.17149859,0.05830952,-5.77264238\n78.690068,0.91,0.5,0.98058068,0.19611614,0.15297059,-4.94604893\n156.037511,1,0.46,7.61509624,0.10153462,0.09848858,-9.75036922\n30.963757,0.95,0.38,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.91,0.37,3.15296313,0.24253563,0.04123106,-4.08187457\n180,1,0.71,0,1,0.1,-0.9\n0,0.86,0.87,0,1,0.09,-0.91\n11.309932,0.95,0.87,4.11843884,0.19611614,0.0509902,-5.04802932\n135,1,0.82,0.70710678,0.70710678,0.07071068,-1.34350288\n0,0.96,0.76,0,1,0.04,-0.96\n345.963757,0.92,0.77,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.88,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n315,0.86,0.81,0.70710678,0.70710678,0.02828427,-1.38592929\n306.869898,0.83,0.85,1.4,0.2,0.05,-4.95\n11.309932,0.78,0.84,4.11843884,0.19611614,0.0509902,-5.04802932\n284.036243,0.77,0.88,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.83,0.88,0,1,0.06,-0.94\n14.036243,0.65,0.89,3.15296313,0.24253563,0.04123106,-4.08187457\n18.434949,0.62,0.88,2.21359436,0.31622777,0.03162278,-3.13065488\n33.690068,0.59,0.86,1.38675049,0.2773501,0.03605551,-3.56949576\n230.194429,0.65,0.78,6.401844,0.12803688,0.0781025,-7.73214718\n239.036243,0.68,0.83,2.22948161,0.17149859,0.05830952,-5.77264238\n236.309932,0.72,0.89,2.21880078,0.2773501,0.07211103,-3.53344025\n213.690068,0.75,0.91,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.92,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.74,0.92,0,1,0.04,-0.96\n345.963757,0.7,0.93,0.9701425,0.24253563,0.04123106,-4.08187457\n261.869898,0.84,0.95,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.86,1,3.15682075,0.18569534,0.05385165,-5.33131316\n36.869898,0.55,0.83,1.4,0.2,0.05,-4.95\n0,0.55,0.83,0,1,0.08,-0.92\n78.690068,0.55,0.83,0.98058068,0.19611614,0.10198039,-4.99703912\n33.690068,0.52,0.81,1.38675049,0.2773501,0.03605551,-3.56949576\n30.963757,0.47,0.78,3.60147029,0.17149859,0.05830952,-5.77264238\n336.037511,0.47,0.78,7.61509624,0.10153462,0.09848858,-9.75036922\n79.380345,0.47,0.78,11.18017113,0.06142951,0.16278821,-16.11603239\n26.565051,0.43,0.76,1.34164079,0.4472136,0.04472136,-2.19134662\n9.462322,0.37,0.75,5.09636861,0.16439899,0.06082763,-6.0219349\n318.814075,0.37,0.75,9.21906451,0.09407209,0.10630146,-10.52384435\n82.405357,0.37,0.75,8.06198693,0.06608186,0.15132746,-14.98141849\n0,0.33,0.75,0,1,0.04,-0.96\n0,0.29,0.75,0,1,0.04,-0.96\n0,0.2,0.76,0,1,0.06,-0.94\n104.036243,0.21,0.72,3.15296313,0.24253563,0.04123106,-4.08187457\n201.801409,0.26,0.74,2.22834406,0.18569534,0.05385165,-5.33131316\n123.690068,0.3,0.68,1.38675049,0.2773501,0.07211103,-3.53344025\n338.198591,0.65,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.59,0.98,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.54,0.99,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.46,0.99,0,1,0.08,-0.92\n18.434949,0.4,0.97,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.34,0.94,1.34164079,0.4472136,0.06708204,-2.16898594\n45,0.29,0.89,0.70710678,0.70710678,0.07071068,-1.34350288\n71.565051,0.27,0.83,0.9486833,0.31622777,0.06324555,-3.09903211\n81.869898,0.26,0.76,0.98994949,0.14142136,0.07071068,-7.00035713\n;0,0.2,0.76,0,1,0.06,-0.94\n315,0,0.82,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.03,0.89,2.21359436,0.31622777,0.03162278,-3.13065488\n343.300756,0.03,0.89,7.27947977,0.09578263,0.10440307,-10.33590344\n74.744881,0.03,0.89,4.12217269,0.0877058,0.11401754,-11.28773671\n206.565051,0.05,0.9,1.34164079,0.4472136,0.02236068,-2.2137073\n213.690068,0.08,0.92,1.38675049,0.2773501,0.03605551,-3.56949576\n216.869898,0.12,0.95,1.4,0.2,0.05,-4.95\n352.874984,0.12,0.95,0.99227788,0.12403473,0.08062258,-7.98163517\n78.690068,0.12,0.95,0.98058068,0.19611614,0.0509902,-5.04802932\n213.690068,0.15,0.97,1.38675049,0.2773501,0.03605551,-3.56949576\n213.690068,0.18,0.99,1.38675049,0.2773501,0.03605551,-3.56949576\n206.565051,0.2,1,1.34164079,0.4472136,0.02236068,-2.2137073\n45,0.28,0.99,0.70710678,0.70710678,0.01414214,-1.40007143\n56.309932,0.26,0.96,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.22,0.9,2.21880078,0.2773501,0.07211103,-3.53344025\n53.130102,0.19,0.86,3.6,0.2,0.05,-4.95\n45,0.14,0.81,0.70710678,0.70710678,0.07071068,-1.34350288\n36.869898,0.1,0.78,1.4,0.2,0.05,-4.95\n18.434949,0.04,0.76,2.21359436,0.31622777,0.06324555,-3.09903211\n0,0,0.76,0,1,0.04,-0.96\n81.253838,0.95,0.87,7.07065907,0.07602859,0.13152946,-13.02141697\n"),!1),Ud(Id.ParsePatFile("\n*LEAF-02,LEAF-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n303.690068,0.77,0.17,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.74,0.16,2.21359436,0.31622777,0.03162278,-3.13065488\n288.434949,0.73,0.19,2.21359436,0.31622777,0.03162278,-3.13065488\n180,0.77,0.19,0,1,0.04,-0.96\n258.690068,0.78,0.24,0.98058068,0.19611614,0.0509902,-5.04802932\n243.434949,0.79,0.26,0.89442719,0.4472136,0.02236068,-2.2137073\n288.434949,0.58,0.14,2.21359436,0.31622777,0.06324555,-3.09903211\n21.801409,0.53,0.12,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.48,0.11,4.11843884,0.19611614,0.0509902,-5.04802932\n0,0.45,0.11,0,1,0.03,-0.97\n341.565051,0.39,0.13,0.9486833,0.31622777,0.06324555,-3.09903211\n326.309932,0.33,0.17,2.21880078,0.2773501,0.07211103,-3.53344025\n308.659808,0.29,0.22,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.26,0.27,3.60147029,0.17149859,0.05830952,-5.77264238\n285.945396,0.24,0.34,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.24,0.41,0,1,0.07,-0.93\n279.462322,0.23,0.47,5.09636861,0.16439899,0.06082763,-6.0219349\n285.945396,0.21,0.54,3.15929297,0.13736056,0.0728011,-7.20730879\n123.690068,0.23,0.51,1.38675049,0.2773501,0.03605551,-3.56949576\n161.565051,0.26,0.5,0.9486833,0.31622777,0.03162278,-3.13065488\n171.869898,0.33,0.49,0.98994949,0.14142136,0.07071068,-7.00035713\n171.869898,0.4,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n161.565051,0.46,0.46,0.9486833,0.31622777,0.06324555,-3.09903211\n161.565051,0.52,0.44,0.9486833,0.31622777,0.06324555,-3.09903211\n146.309932,0.58,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n119.744881,0.62,0.33,5.82963253,0.12403473,0.08062258,-7.98163517\n111.801409,0.64,0.28,2.22834406,0.18569534,0.05385165,-5.33131316\n90,0.64,0.24,0,1,0.04,-0.96\n75.963757,0.63,0.2,0.9701425,0.24253563,0.04123106,-4.08187457\n56.309932,0.61,0.17,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.6,0.15,0.89442719,0.4472136,0.02236068,-2.2137073\n126.869898,0.63,0.11,1.4,0.2,0.05,-4.95\n45,0.6,0.08,0.70710678,0.70710678,0.04242641,-1.37178716\n225,0.31,0.02,0.70710678,0.70710678,0.02828427,-1.38592929\n198.434949,0.34,0.03,2.21359436,0.31622777,0.03162278,-3.13065488\n348.690068,0.29,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n345.963757,0.25,0.05,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.21,0.07,0.89442719,0.4472136,0.04472136,-2.19134662\n333.434949,0.15,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.1,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.07,0.11,0,1,0.03,-0.97\n8.130102,0,0.1,6.08111832,0.14142136,0.07071068,-7.00035713\n236.309932,0.02,0.23,2.21880078,0.2773501,0.03605551,-3.56949576\n236.309932,0.04,0.26,2.21880078,0.2773501,0.03605551,-3.56949576\n213.690068,0.07,0.28,1.38675049,0.2773501,0.03605551,-3.56949576\n0,0.03,0.28,0,1,0.04,-0.96\n326.309932,0,0.3,2.21880078,0.2773501,0.03605551,-3.56949576\n158.198591,0.05,0.69,3.15682075,0.18569534,0.05385165,-5.33131316\n153.434949,0.11,0.66,0.89442719,0.4472136,0.06708204,-2.16898594\n158.198591,0.16,0.64,3.15682075,0.18569534,0.05385165,-5.33131316\n180,0.21,0.64,0,1,0.05,-0.95\n33.690068,0.18,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n45,0.16,0.6,0.70710678,0.70710678,0.02828427,-1.38592929\n53.130102,0.13,0.56,3.6,0.2,0.05,-4.95\n56.309932,0.09,0.5,2.21880078,0.2773501,0.07211103,-3.53344025\n51.340192,0.05,0.45,4.99756038,0.15617376,0.06403124,-6.339093\n38.659808,0,0.41,1.40556386,0.15617376,0.06403124,-6.339093\n321.340192,0.73,0.42,4.99756038,0.15617376,0.06403124,-6.339093\n300.963757,0.7,0.47,3.60147029,0.17149859,0.05830952,-5.77264238\n21.801409,0.65,0.45,2.22834406,0.18569534,0.05385165,-5.33131316\n284.036243,0.64,0.49,3.15296313,0.24253563,0.04123106,-4.08187457\n180,0.7,0.49,0,1,0.06,-0.94\n261.869898,0.71,0.56,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.73,0.61,3.15682075,0.18569534,0.05385165,-5.33131316\n225,0.77,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n284.036243,0.77,0.88,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.2,0.76,0,1,0.06,-0.94\n104.036243,0.21,0.72,3.15296313,0.24253563,0.04123106,-4.08187457\n201.801409,0.26,0.74,2.22834406,0.18569534,0.05385165,-5.33131316\n123.690068,0.3,0.68,1.38675049,0.2773501,0.07211103,-3.53344025\n153.434949,0.36,0.65,0.89442719,0.4472136,0.06708204,-2.16898594\n170.537678,0.42,0.64,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.49,0.65,6.08111832,0.14142136,0.07071068,-7.00035713\n201.801409,0.54,0.67,2.22834406,0.18569534,0.05385165,-5.33131316\n219.805571,0.6,0.72,1.40840568,0.12803688,0.0781025,-7.73214718\n230.194429,0.65,0.78,6.401844,0.12803688,0.0781025,-7.73214718\n239.036243,0.68,0.83,2.22948161,0.17149859,0.05830952,-5.77264238\n236.309932,0.72,0.89,2.21880078,0.2773501,0.07211103,-3.53344025\n213.690068,0.75,0.91,1.38675049,0.2773501,0.03605551,-3.56949576\n198.434949,0.78,0.92,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.74,0.92,0,1,0.04,-0.96\n345.963757,0.7,0.93,0.9701425,0.24253563,0.04123106,-4.08187457\n338.198591,0.65,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n45,0.29,0.89,0.70710678,0.70710678,0.07071068,-1.34350288\n71.565051,0.27,0.83,0.9486833,0.31622777,0.06324555,-3.09903211\n81.869898,0.26,0.76,0.98994949,0.14142136,0.07071068,-7.00035713\n;0,0.2,0.76,0,1,0.06,-0.94\n53.130102,0.19,0.86,3.6,0.2,0.05,-4.95\n45,0.14,0.81,0.70710678,0.70710678,0.07071068,-1.34350288\n36.869898,0.1,0.78,1.4,0.2,0.05,-4.95\n18.434949,0.04,0.76,2.21359436,0.31622777,0.06324555,-3.09903211\n0,0,0.76,0,1,0.04,-0.96\n0,0.96,0.76,0,1,0.04,-0.96\n345.963757,0.92,0.77,0.9701425,0.24253563,0.04123106,-4.08187457\n333.434949,0.88,0.79,0.89442719,0.4472136,0.04472136,-2.19134662\n315,0.86,0.81,0.70710678,0.70710678,0.02828427,-1.38592929\n306.869898,0.83,0.85,1.4,0.2,0.05,-4.95\n11.309932,0.78,0.84,4.11843884,0.19611614,0.0509902,-5.04802932\n180,0.83,0.88,0,1,0.06,-0.94\n261.869898,0.84,0.95,0.98994949,0.14142136,0.07071068,-7.00035713\n248.198591,0.86,1,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.59,0.98,0.89442719,0.4472136,0.06708204,-2.16898594\n348.690068,0.54,0.99,0.98058068,0.19611614,0.0509902,-5.04802932\n0,0.46,0.99,0,1,0.08,-0.92\n18.434949,0.4,0.97,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.34,0.94,1.34164079,0.4472136,0.06708204,-2.16898594\n45,0.28,0.99,0.70710678,0.70710678,0.01414214,-1.40007143\n56.309932,0.26,0.96,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.22,0.9,2.21880078,0.2773501,0.07211103,-3.53344025\n53.130102,0.97,0.16,3.6,0.2,0.05,-4.95\n38.659808,0.92,0.12,1.40556386,0.15617376,0.06403124,-6.339093\n9.462322,0.86,0.11,5.09636861,0.16439899,0.06082763,-6.0219349\n345.963757,0.82,0.12,0.9701425,0.24253563,0.04123106,-4.08187457\n326.309932,0.79,0.14,2.21880078,0.2773501,0.03605551,-3.56949576\n225,0.82,0.29,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.85,0.31,1.38675049,0.2773501,0.03605551,-3.56949576\n191.309932,0.9,0.32,4.11843884,0.19611614,0.0509902,-5.04802932\n180,0.95,0.32,0,1,0.05,-0.95\n158.198591,1,0.3,3.15682075,0.18569534,0.05385165,-5.33131316\n233.130102,0.89,0.04,3.6,0.2,0.05,-4.95\n216.869898,0.93,0.07,1.4,0.2,0.05,-4.95\n206.565051,0.97,0.09,1.34164079,0.4472136,0.04472136,-2.19134662\n198.434949,1,0.1,2.21359436,0.31622777,0.03162278,-3.13065488\n30.963757,0.95,0.38,3.60147029,0.17149859,0.05830952,-5.77264238\n14.036243,0.91,0.37,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.83,0.37,0,1,0.08,-0.92\n348.690068,0.78,0.38,0.98058068,0.19611614,0.0509902,-5.04802932\n216.869898,0.81,0.68,1.4,0.2,0.05,-4.95\n198.434949,0.9,0.71,2.21359436,0.31622777,0.09486833,-3.06740933\n180,1,0.71,0,1,0.1,-0.9\n"),!1),Ud(Id.ParsePatFile("\n*LEAF-03,LEAF-03\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n344.054604,0.86,0.38,4.12081692,0.13736056,0.0728011,-7.20730879\n338.198591,0.81,0.4,3.15682075,0.18569534,0.05385165,-5.33131316\n326.309932,0.75,0.44,2.21880078,0.2773501,0.07211103,-3.53344025\n320.194429,0.69,0.49,6.401844,0.12803688,0.0781025,-7.73214718\n308.659808,0.65,0.54,1.40556386,0.15617376,0.06403124,-6.339093\n300.963757,0.62,0.59,3.60147029,0.17149859,0.05830952,-5.77264238\n293.198591,0.59,0.66,2.23220936,0.13130643,0.07615773,-7.53961537\n281.309932,0.58,0.71,4.11843884,0.19611614,0.0509902,-5.04802932\n276.340192,0.57,0.8,8.0615014,0.11043153,0.09055385,-8.96483129\n270,0.57,0.85,0,1,0.05,-0.95\n257.471192,0.59,0.94,5.09786576,0.10846523,0.09219544,-9.12734901\n164.054604,0.66,0.92,4.12081692,0.13736056,0.0728011,-7.20730879\n158.198591,0.71,0.9,3.15682075,0.18569534,0.05385165,-5.33131316\n146.309932,0.77,0.86,2.21880078,0.2773501,0.07211103,-3.53344025\n140.194429,0.83,0.81,6.401844,0.12803688,0.0781025,-7.73214718\n125.537678,0.88,0.74,4.99864847,0.11624764,0.08602325,-8.51630201\n116.565051,0.92,0.66,1.34164079,0.4472136,0.08944272,-2.14662526\n105.945396,0.94,0.59,3.15929297,0.13736056,0.0728011,-7.20730879\n97.125016,0.95,0.51,7.06997987,0.12403473,0.08062258,-7.98163517\n90,0.95,0.45,0,1,0.06,-0.94\n77.471192,0.93,0.36,5.09786576,0.10846523,0.09219544,-9.12734901\n195.945396,0.14,0.38,3.15929297,0.13736056,0.0728011,-7.20730879\n201.801409,0.19,0.4,2.22834406,0.18569534,0.05385165,-5.33131316\n213.690068,0.25,0.44,1.38675049,0.2773501,0.07211103,-3.53344025\n219.805571,0.31,0.49,1.40840568,0.12803688,0.0781025,-7.73214718\n231.340192,0.35,0.54,4.99756038,0.15617376,0.06403124,-6.339093\n239.036243,0.38,0.59,2.22948161,0.17149859,0.05830952,-5.77264238\n246.801409,0.41,0.66,5.38356375,0.13130643,0.07615773,-7.53961537\n258.690068,0.42,0.71,0.98058068,0.19611614,0.0509902,-5.04802932\n263.659808,0.43,0.8,0.99388373,0.11043153,0.09055385,-8.96483129\n270,0.43,0.85,0,1,0.05,-0.95\n282.528808,0.41,0.94,4.1216787,0.10846523,0.09219544,-9.12734901\n15.945396,0.34,0.92,3.15929297,0.13736056,0.0728011,-7.20730879\n21.801409,0.29,0.9,2.22834406,0.18569534,0.05385165,-5.33131316\n33.690068,0.23,0.86,1.38675049,0.2773501,0.07211103,-3.53344025\n39.805571,0.17,0.81,1.40840568,0.12803688,0.0781025,-7.73214718\n54.462322,0.12,0.74,3.6036768,0.11624764,0.08602325,-8.51630201\n63.434949,0.08,0.66,0.89442719,0.4472136,0.08944272,-2.14662526\n74.054604,0.06,0.59,4.12081692,0.13736056,0.0728011,-7.20730879\n82.874984,0.05,0.51,0.99227788,0.12403473,0.08062258,-7.98163517\n90,0.05,0.45,0,1,0.06,-0.94\n102.528808,0.07,0.36,4.1216787,0.10846523,0.09219544,-9.12734901\n128.659808,0.21,0.15,1.40556386,0.15617376,0.06403124,-6.339093\n146.309932,0.27,0.11,2.21880078,0.2773501,0.07211103,-3.53344025\n153.434949,0.33,0.08,0.89442719,0.4472136,0.06708204,-2.16898594\n164.054604,0.4,0.06,4.12081692,0.13736056,0.0728011,-7.20730879\n171.869898,0.47,0.05,0.98994949,0.14142136,0.07071068,-7.00035713\n180,0.53,0.05,0,1,0.06,-0.94\n188.130102,0.6,0.06,6.08111832,0.14142136,0.07071068,-7.00035713\n195.945396,0.67,0.08,3.15929297,0.13736056,0.0728011,-7.20730879\n206.565051,0.73,0.11,1.34164079,0.4472136,0.06708204,-2.16898594\n218.659808,0.78,0.15,1.40556386,0.15617376,0.06403124,-6.339093\n225,0.83,0.2,0.70710678,0.70710678,0.07071068,-1.34350288\n315,0.78,0.25,0.70710678,0.70710678,0.07071068,-1.34350288\n321.340192,0.73,0.29,4.99756038,0.15617376,0.06403124,-6.339093\n336.801409,0.66,0.32,5.38356375,0.13130643,0.07615773,-7.53961537\n341.565051,0.6,0.34,0.9486833,0.31622777,0.06324555,-3.09903211\n351.869898,0.53,0.35,0.98994949,0.14142136,0.07071068,-7.00035713\n0,0.47,0.35,0,1,0.06,-0.94\n8.130102,0.4,0.34,6.08111832,0.14142136,0.07071068,-7.00035713\n18.434949,0.34,0.32,2.21359436,0.31622777,0.06324555,-3.09903211\n23.198591,0.27,0.29,2.23220936,0.13130643,0.07615773,-7.53961537\n38.659808,0.22,0.25,1.40556386,0.15617376,0.06403124,-6.339093\n45,0.17,0.2,0.70710678,0.70710678,0.07071068,-1.34350288\n"),!1),Ud(Id.ParsePatFile("\n*LINE,LINE\n0, 0,0, 0,.125\n"),!1),Ud(Id.ParsePatFile("\n*LOOPLINKS,LOOPLINKS\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n206.565051,0.53,0.67,1.34164079,0.4472136,0.02236068,-2.2137073\n243.434949,0.54,0.69,0.89442719,0.4472136,0.02236068,-2.2137073\n116.565051,0.47,0.67,1.34164079,0.4472136,0.02236068,-2.2137073\n153.434949,0.49,0.66,0.89442719,0.4472136,0.02236068,-2.2137073\n180,0.51,0.66,0,1,0.02,-0.98\n258.690068,0.19,0.59,0.98058068,0.19611614,0.0509902,-5.04802932\n251.565051,0.2,0.62,0.9486833,0.31622777,0.03162278,-3.13065488\n243.434949,0.22,0.66,0.89442719,0.4472136,0.04472136,-2.19134662\n230.194429,0.27,0.72,6.401844,0.12803688,0.0781025,-7.73214718\n225,0.31,0.76,0.70710678,0.70710678,0.05656854,-1.35764502\n209.744881,0.38,0.8,5.82963253,0.12403473,0.08062258,-7.98163517\n194.036243,0.46,0.82,3.15296313,0.24253563,0.08246211,-4.04064351\n251.565051,0.28,0.6,0.9486833,0.31622777,0.06324555,-3.09903211\n239.036243,0.31,0.65,2.22948161,0.17149859,0.05830952,-5.77264238\n225,0.35,0.69,0.70710678,0.70710678,0.05656854,-1.35764502\n210.963757,0.4,0.72,3.60147029,0.17149859,0.05830952,-5.77264238\n198.434949,0.46,0.74,2.21359436,0.31622777,0.06324555,-3.09903211\n116.565051,0.67,0.47,1.34164079,0.4472136,0.02236068,-2.2137073\n153.434949,0.69,0.46,0.89442719,0.4472136,0.02236068,-2.2137073\n26.565051,0.67,0.53,1.34164079,0.4472136,0.02236068,-2.2137073\n63.434949,0.66,0.51,0.89442719,0.4472136,0.02236068,-2.2137073\n90,0.66,0.49,0,1,0.02,-0.98\n168.690068,0.59,0.81,0.98058068,0.19611614,0.0509902,-5.04802932\n161.565051,0.62,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n153.434949,0.66,0.78,0.89442719,0.4472136,0.04472136,-2.19134662\n140.194429,0.72,0.73,6.401844,0.12803688,0.0781025,-7.73214718\n135,0.76,0.69,0.70710678,0.70710678,0.05656854,-1.35764502\n119.744881,0.8,0.62,5.82963253,0.12403473,0.08062258,-7.98163517\n104.036243,0.82,0.54,3.15296313,0.24253563,0.08246211,-4.04064351\n161.565051,0.6,0.72,0.9486833,0.31622777,0.06324555,-3.09903211\n149.036243,0.65,0.69,2.22948161,0.17149859,0.05830952,-5.77264238\n135,0.69,0.65,0.70710678,0.70710678,0.05656854,-1.35764502\n120.963757,0.72,0.6,3.60147029,0.17149859,0.05830952,-5.77264238\n108.434949,0.74,0.54,2.21359436,0.31622777,0.06324555,-3.09903211\n26.565051,0.47,0.33,1.34164079,0.4472136,0.02236068,-2.2137073\n63.434949,0.46,0.31,0.89442719,0.4472136,0.02236068,-2.2137073\n296.565051,0.53,0.33,1.34164079,0.4472136,0.02236068,-2.2137073\n333.434949,0.51,0.34,0.89442719,0.4472136,0.02236068,-2.2137073\n0,0.49,0.34,0,1,0.02,-0.98\n78.690068,0.81,0.41,0.98058068,0.19611614,0.0509902,-5.04802932\n71.565051,0.8,0.38,0.9486833,0.31622777,0.03162278,-3.13065488\n63.434949,0.78,0.34,0.89442719,0.4472136,0.04472136,-2.19134662\n50.194429,0.73,0.28,6.401844,0.12803688,0.0781025,-7.73214718\n45,0.69,0.24,0.70710678,0.70710678,0.05656854,-1.35764502\n29.744881,0.62,0.2,5.82963253,0.12403473,0.08062258,-7.98163517\n14.036243,0.54,0.18,3.15296313,0.24253563,0.08246211,-4.04064351\n71.565051,0.72,0.4,0.9486833,0.31622777,0.06324555,-3.09903211\n59.036243,0.69,0.35,2.22948161,0.17149859,0.05830952,-5.77264238\n45,0.65,0.31,0.70710678,0.70710678,0.05656854,-1.35764502\n30.963757,0.6,0.28,3.60147029,0.17149859,0.05830952,-5.77264238\n18.434949,0.54,0.26,2.21359436,0.31622777,0.06324555,-3.09903211\n296.565051,0.33,0.53,1.34164079,0.4472136,0.02236068,-2.2137073\n333.434949,0.31,0.54,0.89442719,0.4472136,0.02236068,-2.2137073\n206.565051,0.33,0.47,1.34164079,0.4472136,0.02236068,-2.2137073\n243.434949,0.34,0.49,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.34,0.51,0,1,0.02,-0.98\n348.690068,0.41,0.19,0.98058068,0.19611614,0.0509902,-5.04802932\n341.565051,0.38,0.2,0.9486833,0.31622777,0.03162278,-3.13065488\n333.434949,0.34,0.22,0.89442719,0.4472136,0.04472136,-2.19134662\n320.194429,0.28,0.27,6.401844,0.12803688,0.0781025,-7.73214718\n315,0.24,0.31,0.70710678,0.70710678,0.05656854,-1.35764502\n299.744881,0.2,0.38,5.82963253,0.12403473,0.08062258,-7.98163517\n284.036243,0.18,0.46,3.15296313,0.24253563,0.08246211,-4.04064351\n341.565051,0.4,0.28,0.9486833,0.31622777,0.06324555,-3.09903211\n329.036243,0.35,0.31,2.22948161,0.17149859,0.05830952,-5.77264238\n315,0.31,0.35,0.70710678,0.70710678,0.05656854,-1.35764502\n300.963757,0.28,0.4,3.60147029,0.17149859,0.05830952,-5.77264238\n288.434949,0.26,0.46,2.21359436,0.31622777,0.06324555,-3.09903211\n90,0.46,-0.31,0,1,0.62,-0.38\n270,0.54,0.31,0,1,0.62,-0.38\n180,0.31,0.46,0,1,0.62,-0.38\n0,-0.31,0.54,0,1,0.62,-0.38\n"),!1),Ud(Id.ParsePatFile("\n*MAZE-01,MAZE-01 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n180,0.95,0.92,0,1,0.25,-0.75\n90,0.95,0.55,1,1,0.37,-0.63\n90,0.83,0.55,1,1,0.25,-0.75\n0,0.7,0.42,0,1,0.11,-0.89\n180,0.57,0.8,0,1,0.38,-0.62\n270,0.57,0.92,1,1,0.12,-0.88\n0,0.07,0.92,0,1,0.5,-0.5\n90,0.95,0.29,1,1,0.13,-0.87\n180,0.45,0.05,0,1,0.38,-0.62\n0,0.7,0.29,0,1,0.25,-0.75\n270,0.45,0.17,1,1,0.12,-0.88\n0,0.19,0.17,0,1,0.26,-0.74\n90,0.7,0.17,1,1,0.12,-0.88\n270,0.19,0.8,1,1,0.63,-0.37\n0,0.31,0.29,0,1,0.26,-0.74\n270,0.31,0.68,1,1,0.39,-0.61\n180,0.7,0.68,0,1,0.39,-0.61\n270,0.7,0.92,1,1,0.24,-0.76\n180,0.95,0.17,0,1,0.25,-0.75\n90,0.95,0.05,1,1,0.12,-0.88\n0,0.57,0.05,0,1,0.38,-0.62\n270,0.57,0.42,1,1,0.37,-0.63\n270,0.7,0.55,1,1,0.13,-0.87\n0,0.45,0.55,0,1,0.25,-0.75\n90,0.45,0.42,1,1,0.13,-0.87\n90,0.07,0.05,1,1,0.87,-0.13\n"),!1),Ud(Id.ParsePatFile("\n*MAZE-02,MAZE-02 verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.89999999,0.1,1,1,0.1,-0.9\n0,0.69999999,0.1,0,1,0.2,-0.8\n90,0,0.3,1,1,0.5,-0.5\n270,0.89999999,0.9,1,1,0.5,-0.5\n270,0.29999999,0.9,1,1,0.1,-0.9\n180,0.29999999,0.9,0,1,0.4,-0.6\n0,0.19999999,0.2,0,1,0.15,-0.85\n90,0.19999999,0.3,1,1,0.2,-0.8\n180,0.49999999,0.3,0,1,0.3,-0.7\n90,0.49999999,0.1,1,1,0.2,-0.8\n270,0.69999999,0.2,1,1,0.1,-0.9\n0,0.59999999,0.2,0,1,0.1,-0.9\n270,0.59999999,0.3,1,1,0.1,-0.9\n180,0.69999999,0.3,0,1,0.1,-0.9\n270,0.59999999,0.6,1,1,0.1,-0.9\n0,0.29999999,0.6,0,1,0.3,-0.7\n90,0.29999999,0.4,1,1,0.2,-0.8\n180,0.69999999,0.4,0,1,0.4,-0.6\n180,0.59999999,0.5,0,1,0.2,-0.8\n270,0.79999999,0.8,1,1,0.5,-0.5\n0,0.09999999,0.1,0,1,0.4,-0.6\n0,0.09999999,0.8,0,1,0.7,-0.3\n270,0.09999999,0.2,1,1,0.1,-0.9\n90,0.09999999,0.3,1,1,0.5,-0.5\n180,0.09999999,0.2,0,1,0.3,-0.7\n180,0,0.3,0,1,0.20000001,-0.79999999\n180,0.29999999,0,0,1,0.3,-0.7\n270,0.69999999,0.7,1,1,0.2,-0.8\n0,0.39999999,0,0,1,0.4,-0.6\n0,0.19999999,0.7,0,1,0.5,-0.5\n90,0.19999999,0.6,1,1,0.1,-0.9\n270,0.59999999,0.1,1,1,0.1,-0.9\n0,0.39999999,0.9,0,1,0.4,-0.6\n270,0.39999999,1,1,1,0.1,-0.9\n"),!1),Ud(Id.ParsePatFile("\n*MUDST,MUDST\n0, 0,0, .5,.25, .25,-.25,0,-.25,0,-.25\n"),!1),Ud(Id.ParsePatFile("\n*NET3,NET3\n0, 0,0, 0,.125\n60, 0,0, 0,.125\n120, 0,0, 0,.125\n"),!1),Ud(Id.ParsePatFile("\n*NET,NET\n0, 0,0, 0,.125\n90, 0,0, 0,.125\n"),!1),Ud(Id.ParsePatFile("\n*PLASTI,PLASTI\n0, 0,0, 0,.25\n0, 0,.03125, 0,.25\n0, 0,.0625, 0,.25\n0, 0,.15625, 0,.25\n"),!1),Ud(Id.ParsePatFile("\n*PLAST,PLAST\n0, 0,0, 0,.25\n0, 0,.03125, 0,.25\n0, 0,.0625, 0,.25\n"),!1),Ud(Id.ParsePatFile("\n*QCAD-LOGO,QCAD-LOGO\n;By John Hyslop, Line 101 modified by CVH to fix left side of pencil drift when hatching far from Origin\n;Developed in inch as imperial QCAD3 pattern\n243.434949,0.8,0.36,0.89442719,0.4472136,0.02236068,-2.2137073\n248.198591,0.82,0.41,3.15682075,0.18569534,0.05385165,-5.33131316\n263.659808,0.83,0.5,0.99388373,0.11043153,0.09055385,-8.96483129\n276.340192,0.82,0.59,8.0615014,0.11043153,0.09055385,-8.96483129\n290.556045,0.79,0.67,5.38389277,0.11704115,0.08544004,-8.45856371\n310.601295,0.73,0.74,1.41004798,0.10846523,0.09219544,-9.12734901\n324.462322,0.66,0.79,3.6036768,0.11624764,0.08602325,-8.51630201\n336.801409,0.59,0.82,5.38356375,0.13130643,0.07615773,-7.53961537\n351.869898,0.52,0.83,0.98994949,0.14142136,0.07071068,-7.00035713\n26.565051,0.61,0.18,1.34164079,0.4472136,0.06708204,-2.16898594\n7.125016,0.53,0.17,7.06997987,0.12403473,0.08062258,-7.98163517\n0,0.45,0.17,0,1,0.08,-0.92\n344.054604,0.38,0.19,4.12081692,0.13736056,0.0728011,-7.20730879\n336.801409,0.31,0.22,5.38356375,0.13130643,0.07615773,-7.53961537\n320.194429,0.25,0.27,6.401844,0.12803688,0.0781025,-7.73214718\n308.659808,0.21,0.32,1.40556386,0.15617376,0.06403124,-6.339093\n293.198591,0.18,0.39,2.23220936,0.13130643,0.07615773,-7.53961537\n285.945396,0.16,0.46,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.16,0.52,0,1,0.06,-0.94\n261.869898,0.17,0.59,0.98994949,0.14142136,0.07071068,-7.00035713\n246.801409,0.2,0.66,5.38356375,0.13130643,0.07615773,-7.53961537\n234.462322,0.25,0.73,3.6036768,0.11624764,0.08602325,-8.51630201\n219.805571,0.31,0.78,1.40840568,0.12803688,0.0781025,-7.73214718\n206.565051,0.37,0.81,1.34164079,0.4472136,0.06708204,-2.16898594\n195.945396,0.44,0.83,3.15929297,0.13736056,0.0728011,-7.20730879\n180,0.48,0.83,0,1,0.04,-0.96\n180,0.52,0.83,0,1,0.04,-0.96\n233.130102,0.92,0.27,3.6,0.2,0.05,-4.95\n248.198591,0.94,0.32,3.15682075,0.18569534,0.05385165,-5.33131316\n248.198591,0.96,0.37,3.15682075,0.18569534,0.05385165,-5.33131316\n260.537678,0.97,0.43,0.98639392,0.16439899,0.06082763,-6.0219349\n261.869898,0.98,0.5,0.98994949,0.14142136,0.07071068,-7.00035713\n278.130102,0.97,0.57,6.08111832,0.14142136,0.07071068,-7.00035713\n279.462322,0.96,0.63,5.09636861,0.16439899,0.06082763,-6.0219349\n288.434949,0.94,0.69,2.21359436,0.31622777,0.06324555,-3.09903211\n299.744881,0.9,0.76,5.82963253,0.12403473,0.08062258,-7.98163517\n308.659808,0.86,0.81,1.40556386,0.15617376,0.06403124,-6.339093\n315,0.81,0.86,0.70710678,0.70710678,0.07071068,-1.34350288\n321.340192,0.76,0.9,4.99756038,0.15617376,0.06403124,-6.339093\n329.036243,0.71,0.93,2.22948161,0.17149859,0.05830952,-5.77264238\n338.198591,0.66,0.95,3.15682075,0.18569534,0.05385165,-5.33131316\n338.198591,0.61,0.97,3.15682075,0.18569534,0.05385165,-5.33131316\n350.537678,0.55,0.98,0.98639392,0.16439899,0.06082763,-6.0219349\n0,0.5,0.98,0,1,0.05,-0.95\n0,0.45,0.98,0,1,0.05,-0.95\n11.309932,0.4,0.97,4.11843884,0.19611614,0.0509902,-5.04802932\n14.036243,0.36,0.96,3.15296313,0.24253563,0.04123106,-4.08187457\n21.801409,0.31,0.94,2.22834406,0.18569534,0.05385165,-5.33131316\n21.801409,0.26,0.92,2.22834406,0.18569534,0.05385165,-5.33131316\n36.869898,0.22,0.89,1.4,0.2,0.05,-4.95\n36.869898,0.18,0.86,1.4,0.2,0.05,-4.95\n33.690068,0.75,0.09,1.38675049,0.2773501,0.03605551,-3.56949576\n26.565051,0.69,0.06,1.34164079,0.4472136,0.06708204,-2.16898594\n21.801409,0.64,0.04,2.22834406,0.18569534,0.05385165,-5.33131316\n11.309932,0.59,0.03,4.11843884,0.19611614,0.0509902,-5.04802932\n8.130102,0.52,0.02,6.08111832,0.14142136,0.07071068,-7.00035713\n0,0.46,0.02,0,1,0.06,-0.94\n350.537678,0.4,0.03,0.98639392,0.16439899,0.06082763,-6.0219349\n348.690068,0.35,0.04,0.98058068,0.19611614,0.0509902,-5.04802932\n338.198591,0.3,0.06,3.15682075,0.18569534,0.05385165,-5.33131316\n333.434949,0.26,0.08,0.89442719,0.4472136,0.04472136,-2.19134662\n323.130102,0.22,0.11,3.6,0.2,0.05,-4.95\n323.130102,0.18,0.14,3.6,0.2,0.05,-4.95\n315,0.14,0.18,0.70710678,0.70710678,0.05656854,-1.35764502\n306.869898,0.11,0.22,1.4,0.2,0.05,-4.95\n306.869898,0.08,0.26,1.4,0.2,0.05,-4.95\n296.565051,0.06,0.3,1.34164079,0.4472136,0.04472136,-2.19134662\n291.801409,0.04,0.35,2.22834406,0.18569534,0.05385165,-5.33131316\n281.309932,0.03,0.4,4.11843884,0.19611614,0.0509902,-5.04802932\n281.309932,0.02,0.45,4.11843884,0.19611614,0.0509902,-5.04802932\n270,0.02,0.5,0,1,0.05,-0.95\n270,0.02,0.55,0,1,0.05,-0.95\n258.690068,0.03,0.6,0.98058068,0.19611614,0.0509902,-5.04802932\n258.690068,0.04,0.65,0.98058068,0.19611614,0.0509902,-5.04802932\n248.198591,0.06,0.7,3.15682075,0.18569534,0.05385165,-5.33131316\n243.434949,0.08,0.74,0.89442719,0.4472136,0.04472136,-2.19134662\n233.130102,0.11,0.78,3.6,0.2,0.05,-4.95\n233.130102,0.14,0.82,3.6,0.2,0.05,-4.95\n225,0.18,0.86,0.70710678,0.70710678,0.05656854,-1.35764502\n0,0.35,0.21,0,1,0.29,-0.71\n180,0.56,0.39,0,1,0.04,-0.96\n270,0.56,0.44,0,1,0.05,-0.95\n180,0.62,0.44,0,1,0.06,-0.94\n270,0.62,0.48,0,1,0.04,-0.96\n270,0.98,0.11,0,1,0.01,-0.99\n270,0.98,0.13,0,1,0.02,-0.98\n45,0.82,0.08,0.70710678,0.70710678,0.14142136,-1.27279221\n225,0.9,0.2,0.70710678,0.70710678,0.14142136,-1.27279221\n45,0.79,0.11,0.70710678,0.70710678,0.14142136,-1.27279221\n0,0.544133,0.559775,0,1,0,-1\n0,0.590298,0.634752,0,1,0,-1\n0,0.640323,0.720624,0,1,0,-1\n135,0.98,0.13,0.70710678,0.70710678,0.49497475,-0.91923882\n56.309932,0.96,0.07,2.21880078,0.2773501,0.03605551,-3.56949576\n45,0.94,0.05,0.70710678,0.70710678,0.02828427,-1.38592929\n33.690068,0.91,0.03,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.88,0.02,2.21359436,0.31622777,0.03162278,-3.13065488\n135.806929,0.88,0.02,-1.41407331,0.01991653,0.50209561,-49.70746523\n289.983107,0.48,0.48,8.54357658,0.08543577,0.117047,-11.58765291\n338.198591,0.53,0.52,3.15682075,0.18569534,0.1077033,-5.27746151\n105.945396,0.48,0.48,3.15929297,0.13736056,0.0728011,-7.20730879\n218.659808,0.53,0.52,1.40556386,0.15617376,0.06403124,-6.339093\n336.801409,0.46,0.55,5.38356375,0.13130643,0.07615773,-7.53961537\n56.309932,0.66,0.755,2.21880078,0.2773501,0.01802776,-3.58752352\n239.036243,0.475,0.435,2.22948161,0.17149859,0.02915476,-5.80179714\n236.309932,0.57,0.6,2.21880078,0.2773501,0.01802776,-3.58752352\n236.309932,0.62,0.68,2.21880078,0.2773501,0.01802776,-3.58752352\n0,0.46,0.41,0,1,0,-1\n0,0.49,0.34,0,1,0.02,-0.98\n0,0.54,0.34,0,1,0,-1\n0,0.45,0.34,0,1,0,-1\n0,0.36,0.34,0,1,0,-1\n0,0.27,0.34,0,1,0,-1\n180,0.24,0.34,0,1,0.03,-0.97\n180,0.33,0.34,0,1,0.03,-0.97\n180,0.42,0.34,0,1,0.03,-0.97\n239.036243,0.45,0.39,2.22948161,0.17149859,0.05830952,-5.77264238\n0,0.44,0.44,0,1,0.05,-0.95\n341.565051,0.41,0.45,0.9486833,0.31622777,0.03162278,-3.13065488\n315,0.39,0.47,0.70710678,0.70710678,0.02828427,-1.38592929\n296.565051,0.38,0.49,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.38,0.49,0,1,0.21,-0.79\n240.068488,0.57,0.82,8.06221498,0.02626129,0.38078866,-37.69807687\n0,0.63,0.49,0,1,0.18,-0.82\n240.255119,0.75,0.7,2.23262522,0.12403473,0.24186773,-7.82039002\n"),!1),Ud(Id.ParsePatFile("\n*REDBACK,REDBACK\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n63.434949,0.73,0.78,0.89442719,0.4472136,0.02236068,-2.2137073\n33.690068,0.7,0.76,1.38675049,0.2773501,0.03605551,-3.56949576\n75.963757,0.69,0.72,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.66,0.72,0,1,0.03,-0.97\n108.434949,0.67,0.69,2.21359436,0.31622777,0.03162278,-3.13065488\n90,0.67,0.68,0,1,0.01,-0.99\n0,0.54,0.57,0,1,0.01,-0.99\n270,0.54,0.58,0,1,0.01,-0.99\n225,0.55,0.59,0.70710678,0.70710678,0.01414214,-1.40007143\n180,0.56,0.59,0,1,0.01,-0.99\n315,0.55,0.6,0.70710678,0.70710678,0.01414214,-1.40007143\n15.524111,0.37,0.55,7.27991309,0.05352877,0.18681542,-18.49472628\n0,0.35,0.55,0,1,0.02,-0.98\n45,0.34,0.54,0.70710678,0.70710678,0.01414214,-1.40007143\n0,0.31,0.54,0,1,0.03,-0.97\n26.565051,0.19,0.48,1.34164079,0.4472136,0.13416408,-2.1019039\n0,0.18,0.48,0,1,0.01,-0.99\n33.690068,0.15,0.46,1.38675049,0.2773501,0.03605551,-3.56949576\n32.005383,0.07,0.41,3.60399279,0.10599979,0.09433981,-9.33964132\n45,0.06,0.4,0.70710678,0.70710678,0.01414214,-1.40007143\n270,0.06,0.41,0,1,0.01,-0.99\n225,0.07,0.42,0.70710678,0.70710678,0.01414214,-1.40007143\n213.690068,0.16,0.48,1.38675049,0.2773501,0.10816654,-3.49738474\n243.434949,0.17,0.5,0.89442719,0.4472136,0.02236068,-2.2137073\n205.016893,0.32,0.57,2.23525175,0.06041221,0.16552945,-16.3874159\n189.462322,0.38,0.58,5.09636861,0.16439899,0.06082763,-6.0219349\n194.036243,0.42,0.59,3.15296313,0.24253563,0.04123106,-4.08187457\n194.036243,0.5,0.61,3.15296313,0.24253563,0.08246211,-4.04064351\n198.434949,0.56,0.63,2.21359436,0.31622777,0.06324555,-3.09903211\n6.340192,0.47,0.62,8.0615014,0.11043153,0.09055385,-8.96483129\n315,0.46,0.63,0.70710678,0.70710678,0.01414214,-1.40007143\n45,0.45,0.62,0.70710678,0.70710678,0.01414214,-1.40007143\n23.198591,0.38,0.59,2.23220936,0.13130643,0.07615773,-7.53961537\n0,0.35,0.59,0,1,0.03,-0.97\n45,0.32,0.56,0.70710678,0.70710678,0.04242641,-1.37178716\n236.309932,0.34,0.59,2.21880078,0.2773501,0.03605551,-3.56949576\n206.565051,0.36,0.6,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.42,0.63,1.34164079,0.4472136,0.06708204,-2.16898594\n206.565051,0.44,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.46,0.65,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.57,0.65,0,1,0.11,-0.89\n225,0.58,0.66,0.70710678,0.70710678,0.01414214,-1.40007143\n321.340192,0.53,0.7,4.99756038,0.15617376,0.06403124,-6.339093\n296.565051,0.52,0.72,1.34164079,0.4472136,0.02236068,-2.2137073\n285.945396,0.5,0.79,3.15929297,0.13736056,0.0728011,-7.20730879\n254.054604,0.52,0.86,4.12081692,0.13736056,0.0728011,-7.20730879\n135,0.53,0.85,0.70710678,0.70710678,0.01414214,-1.40007143\n90,0.53,0.82,0,1,0.03,-0.97\n71.565051,0.52,0.79,0.9486833,0.31622777,0.03162278,-3.13065488\n105.945396,0.54,0.72,3.15929297,0.13736056,0.0728011,-7.20730879\n135,0.58,0.68,0.70710678,0.70710678,0.05656854,-1.35764502\n180,0.59,0.68,0,1,0.01,-0.99\n270,0.59,0.69,0,1,0.01,-0.99\n270,0.59,0.71,0,1,0.02,-0.98\n296.565051,0.58,0.73,1.34164079,0.4472136,0.02236068,-2.2137073\n278.130102,0.57,0.8,6.08111832,0.14142136,0.07071068,-7.00035713\n251.565051,0.58,0.83,0.9486833,0.31622777,0.03162278,-3.13065488\n225,0.59,0.84,0.70710678,0.70710678,0.01414214,-1.40007143\n225,0.6,0.85,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.61,0.87,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.63,0.91,0.89442719,0.4472136,0.04472136,-2.19134662\n243.434949,0.65,0.95,0.89442719,0.4472136,0.04472136,-2.19134662\n225,0.66,0.96,0.70710678,0.70710678,0.01414214,-1.40007143\n168.690068,0.81,0.93,0.98058068,0.19611614,0.15297059,-4.94604893\n355.601295,0.68,0.94,0.99705449,0.0766965,0.13038405,-12.90802076\n56.309932,0.66,0.91,2.21880078,0.2773501,0.03605551,-3.56949576\n56.309932,0.64,0.88,2.21880078,0.2773501,0.03605551,-3.56949576\n63.434949,0.63,0.86,0.89442719,0.4472136,0.02236068,-2.2137073\n56.309932,0.61,0.83,2.21880078,0.2773501,0.03605551,-3.56949576\n71.565051,0.6,0.8,0.9486833,0.31622777,0.03162278,-3.13065488\n90,0.6,0.79,0,1,0.01,-0.99\n90,0.6,0.77,0,1,0.02,-0.98\n90,0.6,0.74,0,1,0.03,-0.97\n225,0.61,0.75,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.62,0.77,0.89442719,0.4472136,0.02236068,-2.2137073\n225,0.63,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.65,0.79,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.67,0.8,1.34164079,0.4472136,0.02236068,-2.2137073\n180,0.69,0.8,0,1,0.02,-0.98\n180,0.71,0.8,0,1,0.02,-0.98\n180,0.74,0.8,0,1,0.03,-0.97\n153.434949,0.76,0.79,0.89442719,0.4472136,0.02236068,-2.2137073\n135,0.77,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n135,0.56,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n26.565051,0.77,0.74,1.34164079,0.4472136,0.02236068,-2.2137073\n56.309932,0.75,0.71,2.21880078,0.2773501,0.03605551,-3.56949576\n14.036243,0.71,0.7,3.15296313,0.24253563,0.04123106,-4.08187457\n90,0.71,0.67,0,1,0.03,-0.97\n341.565051,0.68,0.68,0.9486833,0.31622777,0.03162278,-3.13065488\n0,0.67,0.68,0,1,0.01,-0.99\n90,0.56,0.55,0,1,0.01,-0.99\n180,0.57,0.55,0,1,0.01,-0.99\n225,0.58,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n270,0.58,0.57,0,1,0.01,-0.99\n135,0.59,0.56,0.70710678,0.70710678,0.01414214,-1.40007143\n74.475889,0.54,0.38,11.4016286,0.05352877,0.18681542,-18.49472628\n90,0.54,0.36,0,1,0.02,-0.98\n45,0.53,0.35,0.70710678,0.70710678,0.01414214,-1.40007143\n90,0.53,0.32,0,1,0.03,-0.97\n63.434949,0.47,0.2,0.89442719,0.4472136,0.13416408,-2.1019039\n90,0.47,0.19,0,1,0.01,-0.99\n56.309932,0.45,0.16,2.21880078,0.2773501,0.03605551,-3.56949576\n57.994617,0.4,0.08,5.82998834,0.10599979,0.09433981,-9.33964132\n45,0.39,0.07,0.70710678,0.70710678,0.01414214,-1.40007143\n180,0.4,0.07,0,1,0.01,-0.99\n225,0.41,0.08,0.70710678,0.70710678,0.01414214,-1.40007143\n236.309932,0.47,0.17,2.21880078,0.2773501,0.10816654,-3.49738474\n206.565051,0.49,0.18,1.34164079,0.4472136,0.02236068,-2.2137073\n244.983107,0.56,0.33,14.31769361,0.06041221,0.16552945,-16.3874159\n260.537678,0.57,0.39,0.98639392,0.16439899,0.06082763,-6.0219349\n255.963757,0.58,0.43,0.9701425,0.24253563,0.04123106,-4.08187457\n255.963757,0.6,0.51,0.9701425,0.24253563,0.08246211,-4.04064351\n251.565051,0.62,0.57,0.9486833,0.31622777,0.06324555,-3.09903211\n83.659808,0.61,0.48,0.99388373,0.11043153,0.09055385,-8.96483129\n135,0.62,0.47,0.70710678,0.70710678,0.01414214,-1.40007143\n45,0.61,0.46,0.70710678,0.70710678,0.01414214,-1.40007143\n66.801409,0.58,0.39,5.38356375,0.13130643,0.07615773,-7.53961537\n90,0.58,0.36,0,1,0.03,-0.97\n45,0.55,0.33,0.70710678,0.70710678,0.04242641,-1.37178716\n213.690068,0.58,0.35,1.38675049,0.2773501,0.03605551,-3.56949576\n243.434949,0.59,0.37,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.62,0.43,0.89442719,0.4472136,0.06708204,-2.16898594\n243.434949,0.63,0.45,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.64,0.47,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.64,0.58,0,1,0.11,-0.89\n225,0.65,0.59,0.70710678,0.70710678,0.01414214,-1.40007143\n128.659808,0.69,0.54,1.40556386,0.15617376,0.06403124,-6.339093\n153.434949,0.71,0.53,0.89442719,0.4472136,0.02236068,-2.2137073\n164.054604,0.78,0.51,4.12081692,0.13736056,0.0728011,-7.20730879\n195.945396,0.85,0.53,3.15929297,0.13736056,0.0728011,-7.20730879\n315,0.84,0.54,0.70710678,0.70710678,0.01414214,-1.40007143\n0,0.81,0.54,0,1,0.03,-0.97\n18.434949,0.78,0.53,2.21359436,0.31622777,0.03162278,-3.13065488\n344.054604,0.71,0.55,4.12081692,0.13736056,0.0728011,-7.20730879\n315,0.67,0.59,0.70710678,0.70710678,0.05656854,-1.35764502\n270,0.67,0.6,0,1,0.01,-0.99\n180,0.68,0.6,0,1,0.01,-0.99\n180,0.7,0.6,0,1,0.02,-0.98\n153.434949,0.72,0.59,0.89442719,0.4472136,0.02236068,-2.2137073\n171.869898,0.79,0.58,0.98994949,0.14142136,0.07071068,-7.00035713\n198.434949,0.82,0.59,2.21359436,0.31622777,0.03162278,-3.13065488\n225,0.83,0.6,0.70710678,0.70710678,0.01414214,-1.40007143\n225,0.84,0.61,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.86,0.62,1.34164079,0.4472136,0.02236068,-2.2137073\n206.565051,0.9,0.64,1.34164079,0.4472136,0.04472136,-2.19134662\n206.565051,0.94,0.66,1.34164079,0.4472136,0.04472136,-2.19134662\n225,0.95,0.67,0.70710678,0.70710678,0.01414214,-1.40007143\n281.309932,0.92,0.82,4.11843884,0.19611614,0.15297059,-4.94604893\n94.398705,0.93,0.69,12.04135032,0.0766965,0.13038405,-12.90802076\n33.690068,0.9,0.67,1.38675049,0.2773501,0.03605551,-3.56949576\n33.690068,0.87,0.65,1.38675049,0.2773501,0.03605551,-3.56949576\n26.565051,0.85,0.64,1.34164079,0.4472136,0.02236068,-2.2137073\n33.690068,0.82,0.62,1.38675049,0.2773501,0.03605551,-3.56949576\n18.434949,0.79,0.61,2.21359436,0.31622777,0.03162278,-3.13065488\n0,0.78,0.61,0,1,0.01,-0.99\n0,0.76,0.61,0,1,0.02,-0.98\n0,0.73,0.61,0,1,0.03,-0.97\n225,0.74,0.62,0.70710678,0.70710678,0.01414214,-1.40007143\n206.565051,0.76,0.63,1.34164079,0.4472136,0.02236068,-2.2137073\n225,0.77,0.64,0.70710678,0.70710678,0.01414214,-1.40007143\n243.434949,0.78,0.66,0.89442719,0.4472136,0.02236068,-2.2137073\n243.434949,0.79,0.68,0.89442719,0.4472136,0.02236068,-2.2137073\n270,0.79,0.7,0,1,0.02,-0.98\n270,0.79,0.72,0,1,0.02,-0.98\n270,0.79,0.75,0,1,0.03,-0.97\n296.565051,0.78,0.77,1.34164079,0.4472136,0.02236068,-2.2137073\n315,0.77,0.78,0.70710678,0.70710678,0.01414214,-1.40007143\n"),!1),Ud(Id.ParsePatFile("\n*SACNCR,SACNCR\n45, 0,0, 0,.09375\n45, .06629126,0, 0,.09375, 0,-.09375\n"),!1),Ud(Id.ParsePatFile("\n*SCAFFOLD, verbose comment\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n270,0.76,0.84,1,1,0.02,-0.98\n326.3099325,0.26,0.16,2.21880078,0.2773501,0.57688819,-3.02866309\n90,0.24,0.49,1,1,0.02,-0.98\n270,0.25,0.16,1,1,0.32,-0.68\n146.3099325,0.24,0.84,2.21880078,0.2773501,0.5768882,-3.02866307\n180,0.76,0.49,0,1,0.02,-0.98\n270,0.74,0.18,1,1,0.02,-0.98\n0,0.74,0.84,0,1,0.02,-0.98\n90,0.25,0.51,1,1,0.31,-0.69\n270,0.76,0.51,1,1,0.02,-0.98\n0,0.26,0.17,0,1,0.48,-0.52\n0,0.24,0.51,0,1,0.02,-0.98\n180,0.76,0.18,0,1,0.02,-0.98\n90,0.74,0.82,1,1,0.02,-0.98\n212.855722,0.24,0.49,20.24844917,0.01750082,0.57140178,-56.56877673\n147.144278,0.24,0.18,36.89172934,0.01750082,0.57140178,-56.56877673\n213.6900675,0.24,0.16,1.38675049,0.2773501,0.57688818,-3.02866309\n180,0.24,0.17,0,1,0.48,-0.52\n0,0.26,0.83,0,1,0.48,-0.52\n90,0.26,0.16,1,1,0.02,-0.98\n180,0.76,0.82,0,1,0.02,-0.98\n90,0.74,0.49,1,1,0.02,-0.98\n147.144278,0.74,0.18,36.89172934,0.01750082,0.57140179,-56.56877672\n0,0.24,0.16,0,1,0.02,-0.98\n0,0.26,0.5,0,1,0.48,-0.52\n270,0.26,0.84,1,1,0.02,-0.98\n90,0.75,0.18,1,1,0.31,-0.69\n212.855722,0.74,0.82,20.24844917,0.01750082,0.57140179,-56.56877672\n180,0.26,0.49,0,1,0.02,-0.98\n270,0.24,0.18,1,1,0.02,-0.98\n0,0.24,0.84,0,1,0.02,-0.98\n270,0.26,0.51,1,1,0.02,-0.98\n270,0.75,0.82,1,1,0.31,-0.69\n32.855722,0.26,0.18,20.24844917,0.01750082,0.57140179,-56.56877672\n180,0.26,0.18,0,1,0.02,-0.98\n0,0.74,0.51,0,1,0.02,-0.98\n90,0.76,0.16,1,1,0.02,-0.98\n90,0.24,0.82,1,1,0.02,-0.98\n180,0.24,0.83,0,1,0.48,-0.52\n147.144278,0.24,0.51,36.89172934,0.01750082,0.57140178,-56.56877673\n180,0.24,0.5,0,1,0.48,-0.52\n270,0.25,0.49,1,1,0.31,-0.69\n212.855722,0.24,0.82,20.24844917,0.01750082,0.57140179,-56.56877672\n0,0.74,0.16,0,1,0.02,-0.98\n270,0.75,0.16,1,1,0.32,-0.68\n180,0.26,0.82,0,1,0.02,-0.98\n213.6900675,0.74,0.16,1.38675049,0.2773501,0.57688819,-3.02866309\n327.144278,0.26,0.82,36.89172934,0.01750082,0.57140179,-56.56877672\n"),!1),Ud(Id.ParsePatFile("\n*SQUARE,SQUARE\n0, 0,0, 0,.125, .125,-.125\n90, 0,0, 0,.125, .125,-.125\n"),!1),Ud(Id.ParsePatFile("\n*SQUIGGLE-01,SQUIGGLE-01\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n45,0.11,-0.39,0.70710678,0.70710678,1.11722871,-0.29698485\n56.309932,0.07,0.55,2.21880078,0.2773501,0.07211103,-3.53344025\n81.869898,0.06,0.48,0.98994949,0.14142136,0.07071068,-7.00035713\n99.462322,0.07,0.42,5.09636861,0.16439899,0.06082763,-6.0219349\n123.690068,0.11,0.36,1.38675049,0.2773501,0.07211103,-3.53344025\n146.309932,0.17,0.32,2.21880078,0.2773501,0.07211103,-3.53344025\n170.537678,0.23,0.31,0.98639392,0.16439899,0.06082763,-6.0219349\n188.130102,0.3,0.32,6.08111832,0.14142136,0.07071068,-7.00035713\n213.690068,0.36,0.36,1.38675049,0.2773501,0.07211103,-3.53344025\n225,0.65,0.65,0.70710678,0.70710678,0.41012193,-1.00409163\n213.690068,0.71,0.69,1.38675049,0.2773501,0.07211103,-3.53344025\n189.462322,0.77,0.7,5.09636861,0.16439899,0.06082763,-6.0219349\n171.869898,0.84,0.69,0.98994949,0.14142136,0.07071068,-7.00035713\n146.309932,0.9,0.65,2.21880078,0.2773501,0.07211103,-3.53344025\n123.690068,0.94,0.59,1.38675049,0.2773501,0.07211103,-3.53344025\n99.462322,0.95,0.53,5.09636861,0.16439899,0.06082763,-6.0219349\n81.869898,0.94,0.46,0.98994949,0.14142136,0.07071068,-7.00035713\n56.309932,0.9,0.4,2.21880078,0.2773501,0.07211103,-3.53344025\n"),!1),Ud(Id.ParsePatFile("\n*SQUIGGLE-02,SQUIGGLE-02\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n75.963757,0.99,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.97,0.12,0.89442719,0.4472136,0.04472136,-2.19134662\n45,0.94,0.09,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.9,0.08,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.85,0.08,0,1,0.05,-0.95\n345.963757,0.81,0.09,0.9701425,0.24253563,0.04123106,-4.08187457\n315,0.78,0.12,0.70710678,0.70710678,0.04242641,-1.37178716\n296.565051,0.76,0.16,1.34164079,0.4472136,0.04472136,-2.19134662\n284.036243,0.75,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n281.309932,0.74,0.85,4.11843884,0.19611614,0.0509902,-5.04802932\n303.690068,0.72,0.88,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.69,0.91,0.70710678,0.70710678,0.04242641,-1.37178716\n345.963757,0.65,0.92,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.6,0.92,0,1,0.05,-0.95\n14.036243,0.56,0.91,3.15296313,0.24253563,0.04123106,-4.08187457\n45,0.53,0.88,0.70710678,0.70710678,0.04242641,-1.37178716\n56.309932,0.51,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n78.690068,0.5,0.8,0.98058068,0.19611614,0.0509902,-5.04802932\n75.963757,0.49,0.16,0.9701425,0.24253563,0.04123106,-4.08187457\n63.434949,0.47,0.12,0.89442719,0.4472136,0.04472136,-2.19134662\n45,0.44,0.09,0.70710678,0.70710678,0.04242641,-1.37178716\n14.036243,0.4,0.08,3.15296313,0.24253563,0.04123106,-4.08187457\n0,0.35,0.08,0,1,0.05,-0.95\n345.963757,0.31,0.09,0.9701425,0.24253563,0.04123106,-4.08187457\n315,0.28,0.12,0.70710678,0.70710678,0.04242641,-1.37178716\n296.565051,0.26,0.16,1.34164079,0.4472136,0.04472136,-2.19134662\n284.036243,0.25,0.2,3.15296313,0.24253563,0.04123106,-4.08187457\n281.309932,0.24,0.85,4.11843884,0.19611614,0.0509902,-5.04802932\n303.690068,0.22,0.88,1.38675049,0.2773501,0.03605551,-3.56949576\n315,0.19,0.91,0.70710678,0.70710678,0.04242641,-1.37178716\n345.963757,0.15,0.92,0.9701425,0.24253563,0.04123106,-4.08187457\n0,0.1,0.92,0,1,0.05,-0.95\n14.036243,0.06,0.91,3.15296313,0.24253563,0.04123106,-4.08187457\n45,0.03,0.88,0.70710678,0.70710678,0.04242641,-1.37178716\n56.309932,0.01,0.85,2.21880078,0.2773501,0.03605551,-3.56949576\n78.690068,0,0.8,0.98058068,0.19611614,0.0509902,-5.04802932\n270,0.75,0.8,0,1,0.6,-0.4\n270,0.5,0.8,0,1,0.6,-0.4\n270,0.25,0.8,0,1,0.6,-0.4\n270,0,0.8,0,1,0.6,-0.4\n"),!1),Ud(Id.ParsePatFile("\n*STARS,STARS\n0, 0,0, 0,.21650635, .125,-.125\n60, 0,0, 0,.21650635, .125,-.125\n120, .0625,.10825318, 0,.21650635, .125,-.125\n"),!1),Ud(Id.ParsePatFile("\n*STEEL,STEEL\n45, 0,0, 0,.125\n45, 0,.0625, 0,.125\n"),!1),Ud(Id.ParsePatFile("\n*SWAMP,SWAMP\n0, 0,0, .5,.8660254, .125,-.875\n90, .0625,0, .8660254,.5, .0625,-1.66955081\n90, .078125,0, .8660254,.5, .05,-1.68205081\n90, .046875,0, .8660254,.5, .05,-1.68205081\n60, .09375,0, .5,.8660254, .04,-.96\n120, .03125,0, .5,.8660254, .04,-.96\n"),!1),Ud(Id.ParsePatFile("\n*TRANS,TRANS\n0, 0,0, 0,.25\n0, 0,.125, 0,.25, .125,-.125\n"),!1),Ud(Id.ParsePatFile("\n*TRIANG,TRIANG\n60, 0,0, .1875,.32475953, .1875,-.1875\n120, 0,0, .1875,.32475953, .1875,-.1875\n0, -.09375,.16237976, .1875,.32475953, .1875,-.1875\n"),!1),Ud(Id.ParsePatFile("\n*TRI-OVERLAP,TRI-OVERLAP verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n59.641885,0.09000001,0.15,47.50789248,0.01232691,0.81123363,-80.31212922\n300.358115,0.5,0.85000001,33.61547037,0.01232691,0.81123363,-80.31212922\n180,0.35942857,0.61,0,1,0.71885753,-0.28114247\n59.036243,0.89518072,0.17530121,2.22948161,0.17149859,0.20373205,-5.62721984\n180,0.91,0.15,0,1,0.81999999,-0.18000001\n300.963757,0,0.35,3.60147029,0.17149859,0.20373206,-5.62721983\n300.784147,0.12,0.15,5.83092324,0.01827876,0.5470832,-54.16123426\n239.215853,0.88,0.15,48.87739422,0.01827876,0.5470832,-54.16123426\n"),!1),Ud(Id.ParsePatFile("\n*WEATHERBOARD,WEATHERBOARD\n; By John Hyslop,    Manually Entered QCAD3 pattern\n; Developed in inch as imperial QCAD3 pattern\n; Imperial Hatch Scale 1 Makes 6inch horizontally placed boards\n; with a 0.5in offset line to simulate a rounded edge\n0,0,0,0,6\n0,0,0.5,0,6\n"),!1),Ud(Id.ParsePatFile("\n*WEAVING,WEAVING\n;By John Hyslop,    Using AutoCAD Lisp Tool\n;Developed in inch as imperial QCAD3 pattern\n90,0.9,0.2,0,1,0.05,-0.95\n75.963757,0.88,0.12,0.9701425,0.24253563,0.08246211,-4.04064351\n66.801409,0.85,0.05,5.38356375,0.13130643,0.07615773,-7.53961537\n54.462322,0.8,-0.02,3.6036768,0.11624764,0.08602325,-8.51630201\n56.309932,0.76,-0.08,2.21880078,0.2773501,0.07211103,-3.53344025\n90,0.79,0.22,0,1,0.07,-0.93\n80.537678,0.78,0.16,0.98639392,0.16439899,0.06082763,-6.0219349\n63.434949,0.75,0.1,0.89442719,0.4472136,0.06708204,-2.16898594\n56.309932,0.71,0.04,2.21880078,0.2773501,0.07211103,-3.53344025\n56.309932,0.67,-0.02,2.21880078,0.2773501,0.07211103,-3.53344025\n333.434949,0.86,0.27,0.89442719,0.4472136,0.06708204,-2.16898594\n344.054604,0.79,0.29,4.12081692,0.13736056,0.0728011,-7.20730879\n0,0.71,0.29,0,1,0.08,-0.92\n9.462322,0.65,0.28,5.09636861,0.16439899,0.06082763,-6.0219349\n26.565051,0.59,0.25,1.34164079,0.4472136,0.06708204,-2.16898594\n38.659808,0.54,0.21,1.40556386,0.15617376,0.06403124,-6.339093\n36.869898,0.46,0.15,1.4,0.2,0.1,-4.9\n20.556045,0.38,0.12,5.38389277,0.11704115,0.08544004,-8.45856371\n330.255119,0.91,0.37,2.23262522,0.12403473,0.08062258,-7.98163517\n344.054604,0.84,0.39,4.12081692,0.13736056,0.0728011,-7.20730879\n352.874984,0.76,0.4,0.99227788,0.12403473,0.08062258,-7.98163517\n0,0.69,0.4,0,1,0.07,-0.93\n14.036243,0.61,0.38,3.15296313,0.24253563,0.08246211,-4.04064351\n26.565051,0.53,0.34,1.34164079,0.4472136,0.08944272,-2.14662526\n33.690068,0.47,0.3,1.38675049,0.2773501,0.07211103,-3.53344025\n35.537678,0.4,0.25,4.99864847,0.11624764,0.08602325,-8.51630201\n0,0.2,0.1,0,1,0.05,-0.95\n348.690068,0.15,0.11,0.98058068,0.19611614,0.0509902,-5.04802932\n341.565051,0.12,0.12,0.9486833,0.31622777,0.03162278,-3.13065488\n336.801409,0.05,0.15,5.38356375,0.13130643,0.07615773,-7.53961537\n326.309932,-0.01,0.19,2.21880078,0.2773501,0.07211103,-3.53344025\n324.462322,-0.08,0.24,3.6036768,0.11624764,0.08602325,-8.51630201\n0,0.22,0.21,0,1,0.07,-0.93\n350.537678,0.16,0.22,0.98639392,0.16439899,0.06082763,-6.0219349\n333.434949,0.1,0.25,0.89442719,0.4472136,0.06708204,-2.16898594\n326.309932,0.04,0.29,2.21880078,0.2773501,0.07211103,-3.53344025\n326.309932,-0.02,0.33,2.21880078,0.2773501,0.07211103,-3.53344025\n60.255119,0.63,0.91,2.23262522,0.12403473,0.08062258,-7.98163517\n180,0.79,0.79,0,1,0.08,-0.92\n164.054604,0.86,0.77,4.12081692,0.13736056,0.0728011,-7.20730879\n153.434949,0.92,0.74,0.89442719,0.4472136,0.06708204,-2.16898594\n330.255119,0.91,0.87,2.23262522,0.12403473,0.08062258,-7.98163517\n345.963757,0.83,0.89,0.9701425,0.24253563,0.08246211,-4.04064351\n352.874984,0.75,0.9,0.99227788,0.12403473,0.08062258,-7.98163517\n60.255119,0.72,0.85,2.23262522,0.12403473,0.08062258,-7.98163517\n80.537678,0.71,0.79,0.98639392,0.16439899,0.06082763,-6.0219349\n90,0.71,0.71,0,1,0.08,-0.92\n104.036243,0.73,0.63,3.15296313,0.24253563,0.08246211,-4.04064351\n116.565051,0.76,0.57,1.34164079,0.4472136,0.06708204,-2.16898594\n129.805571,0.81,0.51,1.40840568,0.12803688,0.0781025,-7.73214718\n123.690068,0.85,0.45,1.38675049,0.2773501,0.07211103,-3.53344025\n113.198591,0.88,0.38,2.23220936,0.13130643,0.07615773,-7.53961537\n309.805571,0.71,0.46,1.40840568,0.12803688,0.0781025,-7.73214718\n305.537678,0.66,0.53,4.99864847,0.11624764,0.08602325,-8.51630201\n299.744881,0.62,0.6,5.82963253,0.12403473,0.08062258,-7.98163517\n285.945396,0.6,0.67,3.15929297,0.13736056,0.0728011,-7.20730879\n270,0.6,0.76,0,1,0.09,-0.91\n74.054604,0.61,0.84,4.12081692,0.13736056,0.0728011,-7.20730879\n82.874984,0.6,0.76,0.99227788,0.12403473,0.08062258,-7.98163517\n39.805571,0.54,0.71,1.40840568,0.12803688,0.0781025,-7.73214718\n35.537678,0.47,0.66,4.99864847,0.11624764,0.08602325,-8.51630201\n33.690068,0.41,0.62,1.38675049,0.2773501,0.07211103,-3.53344025\n15.945396,0.34,0.6,3.15929297,0.13736056,0.0728011,-7.20730879\n6.340192,0.25,0.59,8.0615014,0.11043153,0.09055385,-8.96483129\n350.537678,0.19,0.6,0.98639392,0.16439899,0.06082763,-6.0219349\n344.054604,0.12,0.62,4.12081692,0.13736056,0.0728011,-7.20730879\n23.198591,0.55,0.85,2.23220936,0.13130643,0.07615773,-7.53961537\n29.744881,0.48,0.81,5.82963253,0.12403473,0.08062258,-7.98163517\n39.805571,0.42,0.76,1.40840568,0.12803688,0.0781025,-7.73214718\n29.744881,0.35,0.72,5.82963253,0.12403473,0.08062258,-7.98163517\n7.125016,0.27,0.71,7.06997987,0.12403473,0.08062258,-7.98163517\n0,0.21,0.71,0,1,0.06,-0.94\n344.054604,0.14,0.73,4.12081692,0.13736056,0.0728011,-7.20730879\n333.434949,0.1,0.75,0.89442719,0.4472136,0.04472136,-2.19134662\n234.462322,0.31,-0.01,3.6036768,0.11624764,0.08602325,-8.51630201\n240.255119,0.35,0.06,2.23262522,0.12403473,0.08062258,-7.98163517\n243.434949,0.39,0.14,0.89442719,0.4472136,0.08944272,-2.14662526\n262.874984,0.4,0.22,0.99227788,0.12403473,0.08062258,-7.98163517\n270,0.4,0.3,0,1,0.08,-0.92\n282.528808,0.38,0.39,4.1216787,0.10846523,0.09219544,-9.12734901\n293.198591,0.35,0.46,2.23220936,0.13130643,0.07615773,-7.53961537\n309.805571,0.3,0.52,1.40840568,0.12803688,0.0781025,-7.73214718\n305.537678,0.25,0.59,4.99864847,0.11624764,0.08602325,-8.51630201\n270,0.21,0.78,0,1,0.07,-0.93\n254.054604,0.23,0.85,4.12081692,0.13736056,0.0728011,-7.20730879\n246.801409,0.26,0.92,5.38356375,0.13130643,0.07615773,-7.53961537\n236.309932,0.21,0.04,2.21880078,0.2773501,0.07211103,-3.53344025\n234.462322,0.26,0.11,3.6036768,0.11624764,0.08602325,-8.51630201\n249.443955,0.29,0.19,3.16011097,0.11704115,0.08544004,-8.45856371\n270,0.29,0.27,0,1,0.08,-0.92\n278.130102,0.28,0.34,6.08111832,0.14142136,0.07071068,-7.00035713\n296.565051,0.24,0.42,1.34164079,0.4472136,0.08944272,-2.14662526\n309.805571,0.19,0.48,1.40840568,0.12803688,0.0781025,-7.73214718\n303.690068,0.15,0.54,1.38675049,0.2773501,0.07211103,-3.53344025\n290.556045,0.12,0.62,5.38389277,0.11704115,0.08544004,-8.45856371\n341.565051,0.06,0.64,0.9486833,0.31622777,0.06324555,-3.09903211\n324.462322,-0.01,0.69,3.6036768,0.11624764,0.08602325,-8.51630201\n324.462322,-0.08,0.74,3.6036768,0.11624764,0.08602325,-8.51630201\n146.309932,0.04,0.79,2.21880078,0.2773501,0.07211103,-3.53344025\n146.309932,0.1,0.75,2.21880078,0.2773501,0.07211103,-3.53344025\n262.874984,0.11,0.83,0.99227788,0.12403473,0.08062258,-7.98163517\n255.963757,0.13,0.91,0.9701425,0.24253563,0.08246211,-4.04064351\n240.255119,0.17,0.98,2.23262522,0.12403473,0.08062258,-7.98163517\n"),!1),Ud(Id.ParsePatFile("\n*WIRE-FENCE,WIRE-FENCE verbose\n;By John Hyslop,    Tile2Hatch tool \xa9 CVH 2020\n;Developed in inch as imperial QCAD3 pattern\n315,0.46,0.5,0.70710678,0.70710678,0.04673053,-1.36748303\n315,0.52571429,0.56428571,0.70710678,0.70710678,0.04848732,-1.36572624\n3.731397,0.50267394,0.56278308,15.03328073,0.02169305,0.02308929,-46.074633\n183.17983,0.46361415,0.56023571,17.02929602,0.05547002,0.90614559,-17.12161079\n183.17983,0.46120401,0.52006684,17.02929602,0.05547002,0.90600202,-17.12175436\n153.434949,0.52,0.51,0.89442719,0.4472136,0.02236068,-2.2137073\n266.593556,0.52,0.51,17.02938222,0.01188373,1.01178655,-83.1368914\n266.593556,0.56,0.53,17.02938222,0.01188373,1.01178655,-83.1368914\n2.602562,0.49304348,0.46695652,21.02374701,0.04540766,0.02449081,-21.99822474\n"),!1),Ud(Id.ParsePatFile("\n*XMASTREE-01,XMASTREE-01\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.04,0.95,0,1,0.04,-0.96\n90,0.04,0.82,0,1,0.13,-0.87\n180,0.33,0.82,0,1,0.29,-0.71\n49.763642,0.22,0.69,7.81002892,0.05872202,0.17029386,-16.8590925\n180,0.28,0.69,0,1,0.06,-0.94\n51.340192,0.16,0.54,4.99756038,0.15617376,0.19209373,-6.21103051\n180,0.22,0.54,0,1,0.06,-0.94\n52.431408,0.12,0.41,4.99962824,0.06097108,0.16401219,-16.23720727\n180,0.17,0.41,0,1,0.05,-0.95\n53.130102,0.08,0.29,3.6,0.2,0.15,-4.85\n180,0.13,0.29,0,1,0.05,-0.95\n53.972627,0.05,0.18,8.60201108,0.07352146,0.13601471,-13.4654558\n180,0.1,0.18,0,1,0.05,-0.95\n54.462322,0,0.04,3.6036768,0.11624764,0.17204651,-8.43027876\n0,0.96,0.95,0,1,0.04,-0.96\n90,0.96,0.82,0,1,0.13,-0.87\n0,0.67,0.82,0,1,0.29,-0.71\n130.236358,0.78,0.69,9.21935745,0.05872202,0.17029386,-16.8590925\n0,0.72,0.69,0,1,0.06,-0.94\n128.659808,0.84,0.54,1.40556386,0.15617376,0.19209373,-6.21103051\n0,0.78,0.54,0,1,0.06,-0.94\n127.568592,0.88,0.41,11.40159123,0.06097108,0.16401219,-16.23720727\n0,0.83,0.41,0,1,0.05,-0.95\n126.869898,0.92,0.29,1.4,0.2,0.15,-4.85\n0,0.87,0.29,0,1,0.05,-0.95\n126.027373,0.95,0.18,4.99945943,0.07352146,0.13601471,-13.4654558\n0,0.9,0.18,0,1,0.05,-0.95\n125.537678,1,0.04,4.99864847,0.11624764,0.17204651,-8.43027876\n0,0.46,0.04,0,1,0.04,-0.96\n270,0.46,0.17,0,1,0.13,-0.87\n0,0.17,0.17,0,1,0.29,-0.71\n229.763642,0.28,0.3,7.81002892,0.05872202,0.17029386,-16.8590925\n0,0.22,0.3,0,1,0.06,-0.94\n231.340192,0.34,0.45,4.99756038,0.15617376,0.19209373,-6.21103051\n0,0.28,0.45,0,1,0.06,-0.94\n232.431408,0.38,0.58,4.99962824,0.06097108,0.16401219,-16.23720727\n0,0.33,0.58,0,1,0.05,-0.95\n233.130102,0.42,0.7,3.6,0.2,0.15,-4.85\n0,0.37,0.7,0,1,0.05,-0.95\n233.972627,0.45,0.81,8.60201108,0.07352146,0.13601471,-13.4654558\n0,0.4,0.81,0,1,0.05,-0.95\n234.462322,0.5,0.95,3.6036768,0.11624764,0.17204651,-8.43027876\n180,0.54,0.04,0,1,0.04,-0.96\n270,0.54,0.17,0,1,0.13,-0.87\n180,0.83,0.17,0,1,0.29,-0.71\n310.236358,0.72,0.3,9.21935745,0.05872202,0.17029386,-16.8590925\n180,0.78,0.3,0,1,0.06,-0.94\n308.659808,0.66,0.45,1.40556386,0.15617376,0.19209373,-6.21103051\n180,0.72,0.45,0,1,0.06,-0.94\n307.568592,0.62,0.58,11.40159123,0.06097108,0.16401219,-16.23720727\n180,0.67,0.58,0,1,0.05,-0.95\n306.869898,0.58,0.7,1.4,0.2,0.15,-4.85\n180,0.63,0.7,0,1,0.05,-0.95\n306.027373,0.55,0.81,4.99945943,0.07352146,0.13601471,-13.4654558\n180,0.6,0.81,0,1,0.05,-0.95\n305.537678,0.5,0.95,4.99864847,0.11624764,0.17204651,-8.43027876\n"),!1),Ud(Id.ParsePatFile("\n*XMASTREE-02,XMASTREE-02\n;By John Hyslop\n;Developed in inch as imperial QCAD3 pattern\n180,0.04,0.26,0,1,0.04,-0.96\n90,0.04,0.13,0,1,0.13,-0.87\n180,0.33,0.13,0,1,0.29,-0.71\n49.763642,0.22,0,7.81002892,0.05872202,0.17029386,-16.8590925\n180,0.28,1,0,1,0.06,-0.94\n51.340192,0.16,0.85,4.99756038,0.15617376,0.19209373,-6.21103051\n180,0.22,0.85,0,1,0.06,-0.94\n52.431408,0.12,0.72,4.99962824,0.06097108,0.16401219,-16.23720727\n180,0.17,0.72,0,1,0.05,-0.95\n53.130102,0.08,0.6,3.6,0.2,0.15,-4.85\n180,0.13,0.6,0,1,0.05,-0.95\n53.972627,0.05,0.49,8.60201108,0.07352146,0.13601471,-13.4654558\n180,0.1,0.49,0,1,0.05,-0.95\n54.462322,0,0.35,3.6036768,0.11624764,0.17204651,-8.43027876\n0,0.96,0.26,0,1,0.04,-0.96\n90,0.96,0.13,0,1,0.13,-0.87\n0,0.67,0.13,0,1,0.29,-0.71\n130.236358,0.78,0,9.21935745,0.05872202,0.17029386,-16.8590925\n0,0.72,1,0,1,0.06,-0.94\n128.659808,0.84,0.85,1.40556386,0.15617376,0.19209373,-6.21103051\n0,0.78,0.85,0,1,0.06,-0.94\n127.568592,0.88,0.72,11.40159123,0.06097108,0.16401219,-16.23720727\n0,0.83,0.72,0,1,0.05,-0.95\n126.869898,0.92,0.6,1.4,0.2,0.15,-4.85\n0,0.87,0.6,0,1,0.05,-0.95\n126.027373,0.95,0.49,4.99945943,0.07352146,0.13601471,-13.4654558\n0,0.9,0.49,0,1,0.05,-0.95\n125.537678,1,0.35,4.99864847,0.11624764,0.17204651,-8.43027876\n0,0.46,0.09,0,1,0.04,-0.96\n270,0.46,0.22,0,1,0.13,-0.87\n0,0.17,0.22,0,1,0.29,-0.71\n229.763642,0.28,0.35,7.81002892,0.05872202,0.17029386,-16.8590925\n0,0.22,0.35,0,1,0.06,-0.94\n231.340192,0.34,0.5,4.99756038,0.15617376,0.19209373,-6.21103051\n0,0.28,0.5,0,1,0.06,-0.94\n232.431408,0.38,0.63,4.99962824,0.06097108,0.16401219,-16.23720727\n0,0.33,0.63,0,1,0.05,-0.95\n233.130102,0.42,0.75,3.6,0.2,0.15,-4.85\n0,0.37,0.75,0,1,0.05,-0.95\n233.972627,0.45,0.86,8.60201108,0.07352146,0.13601471,-13.4654558\n0,0.4,0.86,0,1,0.05,-0.95\n234.462322,0.5,1,3.6036768,0.11624764,0.17204651,-8.43027876\n180,0.54,0.09,0,1,0.04,-0.96\n270,0.54,0.22,0,1,0.13,-0.87\n180,0.83,0.22,0,1,0.29,-0.71\n310.236358,0.72,0.35,9.21935745,0.05872202,0.17029386,-16.8590925\n180,0.78,0.35,0,1,0.06,-0.94\n308.659808,0.66,0.5,1.40556386,0.15617376,0.19209373,-6.21103051\n180,0.72,0.5,0,1,0.06,-0.94\n307.568592,0.62,0.63,11.40159123,0.06097108,0.16401219,-16.23720727\n180,0.67,0.63,0,1,0.05,-0.95\n306.869898,0.58,0.75,1.4,0.2,0.15,-4.85\n180,0.63,0.75,0,1,0.05,-0.95\n306.027373,0.55,0.86,4.99945943,0.07352146,0.13601471,-13.4654558\n180,0.6,0.86,0,1,0.05,-0.95\n305.537678,0.5,1,4.99864847,0.11624764,0.17204651,-8.43027876\n"),!1),Ud(Id.ParsePatFile("\n*ZIGZAG,ZIGZAG\n0, 0,0, .125,.125, .125,-.125\n90, .125,0, .125,.125, .125,-.125\n"),!1);var zd=k().mark(Qd),Hd=65536,Gd=15*Math.PI/180,jd="__point_shape",Vd={DIMTXT:function(){return 2.5},DIMASZ:2.5,DIMCLRD:0,DIMCLRE:0,DIMCLRT:0,DIMDEC:2,DIMDLE:0,DIMDSEP:".".charCodeAt(0),DIMEXE:1.25,DIMEXO:.625,DIMFXL:1,DIMFXLON:!1,DIMGAP:.625,DIMLFAC:1,DIMRND:0,DIMSAH:0,DIMSCALE:1,DIMSD1:0,DIMSD2:0,DIMSE1:0,DIMSE2:0,DIMSOXD:!1,DIMTSZ:0,DIMZIN:8},Wd=function(){return M((function e(t){T(this,e),this.options=Object.create(e.DefaultOptions),t&&Object.assign(this.options,t.sceneOptions),this.origin=null,this.batches=new _d((function(e,t){return e.key.Compare(t.key)})),this.layers=new Map,this.blocks=new Map,this.dimStyles=new Map,this.vars=new Map,this.fontStyles=new Map,this.inserts=new Map,this.bounds=null,this.pointShapeBlock=null,this.numBlocksFlattened=0,this.numEntitiesFiltered=0}),[{key:"Build",value:function(){var e=S(k().mark((function e(t,n){var r,i,a,o,s,l,u,c,h,f,d,p,v,g,m,y,b,x,w,S,E,_,M,T,C,A,P,O,L,N,I,D,F,U,B,z,H,G,j,V,W,X;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=t.header||{},l=0,u=Object.entries(s);l<u.length;l++)c=R(u[l],2),h=c[0],f=c[1],h.startsWith("$")&&this.vars.set(h.slice(1),f);if(this.angBase=null!==(r=this.vars.get("ANGBASE"))&&void 0!==r?r:0,this.angDir=null!==(i=this.vars.get("ANGDIR"))&&void 0!==i?i:0,this.pdSize=null!==(a=this.vars.get("PDSIZE"))&&void 0!==a?a:0,this.isMetric=1==(null!==(o=this.vars.get("MEASUREMENT"))&&void 0!==o?o:1),t.tables&&t.tables.layer)for(d=0,p=Object.entries(t.tables.layer.layers);d<p.length;d++)v=R(p[d],2),(g=v[1]).displayName=gd(g.name),this.layers.set(g.name,g);if(t.tables&&t.tables.dimstyle)for(m=0,y=Object.entries(t.tables.dimstyle.dimStyles);m<y.length;m++)b=R(y[m],2),x=b[1],this.dimStyles.set(x.name,x);if(t.tables&&t.tables.style)for(w=0,S=Object.entries(t.tables.style.styles);w<S.length;w++)E=R(S[w],2),_=E[1],this.fontStyles.set(_.styleName,_);if(t.blocks)for(M=0,T=Object.entries(t.blocks);M<T.length;M++)C=R(T[M],2),A=C[1],this.blocks.set(A.name,new qd(A));return this.textRenderer=new md(n,this.options.textOptions),this.hasMissingChars=!1,e.next=14,this._FetchFonts(t);case 14:P=q(t.entities),e.prev=15,P.s();case 17:if((O=P.n()).done){e.next=24;break}if(L=O.value,this._FilterEntity(L)){e.next=21;break}return e.abrupt("continue",22);case 21:"INSERT"===L.type?(this.inserts.set(L.handle,L),null===(N=this.blocks.get(L.name))||void 0===N||N.RegisterInsert(L)):"DIMENSION"==L.type&&null!==(null!==(I=L.block)&&void 0!==I?I:null)&&(null===(D=this.blocks.get(L.block))||void 0===D||D.RegisterInsert(L));case 22:e.next=17;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(15),P.e(e.t0);case 29:return e.prev=29,P.f(),e.finish(29);case 32:F=q(this.blocks.values()),e.prev=33,F.s();case 35:if((U=F.n()).done){e.next=60;break}if(!(B=U.value).data.hasOwnProperty("entities")){e.next=57;break}z=B.DefinitionContext(),H=q(B.data.entities),e.prev=40,H.s();case 42:if((G=H.n()).done){e.next=49;break}if(j=G.value,this._FilterEntity(j)){e.next=46;break}return e.abrupt("continue",47);case 46:this._ProcessDxfEntity(j,z);case 47:e.next=42;break;case 49:e.next=54;break;case 51:e.prev=51,e.t1=e.catch(40),H.e(e.t1);case 54:return e.prev=54,H.f(),e.finish(54);case 57:B.SetFlatten()&&this.numBlocksFlattened++;case 58:e.next=35;break;case 60:e.next=65;break;case 62:e.prev=62,e.t2=e.catch(33),F.e(e.t2);case 65:return e.prev=65,F.f(),e.finish(65);case 68:console.log("".concat(this.numBlocksFlattened," blocks flattened")),V=q(t.entities),e.prev=70,V.s();case 72:if((W=V.n()).done){e.next=80;break}if(X=W.value,this._FilterEntity(X)){e.next=77;break}return this.numEntitiesFiltered++,e.abrupt("continue",78);case 77:this._ProcessDxfEntity(X);case 78:e.next=72;break;case 80:e.next=85;break;case 82:e.prev=82,e.t3=e.catch(70),V.e(e.t3);case 85:return e.prev=85,V.f(),e.finish(85);case 88:console.log("".concat(this.numEntitiesFiltered," entities filtered")),this.scene=this._BuildScene(),delete this.batches,delete this.layers,delete this.blocks,delete this.textRenderer;case 94:case"end":return e.stop()}}),e,this,[[15,26,29,32],[33,62,65,68],[40,51,54,57],[70,82,85,88]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_FilterEntity",value:function(e){return!this.options.suppressPaperSpace||!e.inPaperSpace}},{key:"_FetchFonts",value:function(){var e=S(k().mark((function e(t){var n,r,i,a,o,s,l,u,c,h,f,d=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e){return"TEXT"===e.type||"MTEXT"===e.type||"DIMENSION"===e.type||"ATTDEF"===e.type||"ATTRIB"===e.type},r=function(){var e=S(k().mark((function e(t){var n,r,i,a,o,s,l,u,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d._FilterEntity(t)){e.next=2;break}return e.abrupt("return");case 2:if("TEXT"!==t.type&&"ATTRIB"!==t.type&&"ATTDEF"!==t.type){e.next=8;break}return e.next=5,d.textRenderer.FetchFonts(gd(t.text));case 5:n=e.sent,e.next=61;break;case 8:if("MTEXT"!==t.type){e.next=34;break}(r=new pd).Parse(t.text),n=!0,i=q(r.GetText()),e.prev=13,i.s();case 15:if((a=i.n()).done){e.next=24;break}return o=a.value,e.next=19,d.textRenderer.FetchFonts(gd(o));case 19:if(e.sent){e.next=22;break}return n=!1,e.abrupt("break",24);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),i.e(e.t0);case 29:return e.prev=29,i.f(),e.finish(29);case 32:e.next=61;break;case 34:if("DIMENSION"!==t.type){e.next=60;break}if(n=!0,!(s=d._CreateLinearDimension(t))){e.next=58;break}l=q(s.GetTexts()),e.prev=39,l.s();case 41:if((u=l.n()).done){e.next=50;break}return c=u.value,e.next=45,d.textRenderer.FetchFonts(c);case 45:if(e.sent){e.next=48;break}return n=!1,e.abrupt("break",50);case 48:e.next=41;break;case 50:e.next=55;break;case 52:e.prev=52,e.t1=e.catch(39),l.e(e.t1);case 55:return e.prev=55,l.f(),e.finish(55);case 58:e.next=61;break;case 60:throw new Error("Bad entity type");case 61:return n||(d.hasMissingChars=!0),e.abrupt("return",n);case 63:case"end":return e.stop()}}),e,null,[[13,26,29,32],[39,52,55,58]])})));return function(t){return e.apply(this,arguments)}}(),i=q(t.entities),e.prev=3,i.s();case 5:if((a=i.n()).done){e.next=14;break}if(o=a.value,!n(o)){e.next=12;break}return e.next=10,r(o);case 10:if(e.sent){e.next=12;break}return e.abrupt("return");case 12:e.next=5;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:s=q(this.blocks.values()),e.prev=23,s.s();case 25:if((l=s.n()).done){e.next=50;break}if(!(u=l.value).data.hasOwnProperty("entities")){e.next=48;break}c=q(u.data.entities),e.prev=29,c.s();case 31:if((h=c.n()).done){e.next=40;break}if(f=h.value,!n(f)){e.next=38;break}return e.next=36,r(f);case 36:if(e.sent){e.next=38;break}return e.abrupt("return");case 38:e.next=31;break;case 40:e.next=45;break;case 42:e.prev=42,e.t1=e.catch(29),c.e(e.t1);case 45:return e.prev=45,c.f(),e.finish(45);case 48:e.next=25;break;case 50:e.next=55;break;case 52:e.prev=52,e.t2=e.catch(23),s.e(e.t2);case 55:return e.prev=55,s.f(),e.finish(55);case 58:case"end":return e.stop()}}),e,this,[[3,16,19,22],[23,52,55,58],[29,42,45,48]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_ProcessDxfEntity",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e.type){case"LINE":t=this._DecomposeLine(e,n);break;case"POLYLINE":case"LWPOLYLINE":t=this._DecomposePolyline(e,n);break;case"ARC":t=this._DecomposeArc(e,n);break;case"CIRCLE":t=this._DecomposeCircle(e,n);break;case"ELLIPSE":t=this._DecomposeEllipse(e,n);break;case"POINT":t=this._DecomposePoint(e,n);break;case"SPLINE":t=this._DecomposeSpline(e,n);break;case"INSERT":return void this._ProcessInsert(e,n);case"TEXT":t=this._DecomposeText(e,n);break;case"MTEXT":t=this._DecomposeMText(e,n);break;case"3DFACE":t=this._Decompose3DFace(e,n);break;case"SOLID":t=this._DecomposeSolid(e,n);break;case"DIMENSION":t=this._DecomposeDimension(e,n);break;case"ATTRIB":t=this._DecomposeAttribute(e,n);break;case"HATCH":t=this._DecomposeHatch(e,n);break;default:return void console.log("Unhandled entity type: "+e.type)}var r,i=q(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;this._ProcessEntity(a,n)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_ProcessEntity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(e.type){case Zd.Type.POINTS:this._ProcessPoints(e,t);break;case Zd.Type.LINE_SEGMENTS:this._ProcessLineSegments(e,t);break;case Zd.Type.POLYLINE:this._ProcessPolyline(e,t);break;case Zd.Type.TRIANGLES:this._ProcessTriangles(e,t);break;default:throw new Error("Unhandled entity type: "+e.type)}}},{key:"_GetLineType",value:function(e){return 0}},{key:"_IsPlainLine",value:function(e){return!Boolean(e.startWidth||e.endWidth)}},{key:"_DecomposeLine",value:k().mark((function e(t,n){var r,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2===t.vertices.length){e.next=2;break}return e.abrupt("return");case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),e.next=6,new Zd({type:Zd.Type.LINE_SEGMENTS,vertices:t.vertices,layer:r,color:i,lineType:this._GetLineType(t,t.vertices[0])});case 6:case"end":return e.stop()}}),e,this)}))},{key:"_GenerateBulgeVertices",value:function(e,t,n,r){var i=4*Math.atan(r),a=Math.abs(i);if(a<this.options.arcTessellationAngle)e.push(new Bi(n.x,n.y));else{var o=i/2,s=Math.sin(o),l=Math.cos(o),u={x:n.x-t.x,y:n.y-t.y},c=u.x*u.x+u.y*u.y;if(!(c<2*Number.MIN_VALUE)){var h=Math.sqrt(c),f=h/2/s;u.x/=h,u.y/=h;var d=(u.x*s-u.y*l)*f+t.x,p=(u.x*l+u.y*s)*f+t.y,v=Math.floor(a/this.options.arcTessellationAngle);if(v<this.options.minArcTessellationSubdivisions&&(v=this.options.minArcTessellationSubdivisions),v>1){var g=Math.atan2(t.y-p,t.x-d),m=i/v;i<0&&(f=-f);for(var y=1;y<v;y++){var b=g+y*m,x=new Bi(d+f*Math.cos(b),p+f*Math.sin(b));e.push(x)}}e.push(new Bi(n.x,n.y))}}}},{key:"_GenerateArcVertices",value:function(e){var t=e.vertices,n=e.center,r=e.radius,i=e.startAngle,a=void 0===i?null:i,o=e.endAngle,s=void 0===o?null:o,l=e.tessellationAngle,u=void 0===l?null:l,c=e.yRadius,h=void 0===c?null:c,f=e.transform,d=void 0===f?null:f,p=e.rotation,v=void 0===p?null:p,g=e.ccwAngleDir,m=void 0===g||g;if(n&&r){u||(u=this.options.arcTessellationAngle),null===h&&(h=r),void 0===a||null===a?a=0:a+=this.angBase;var y=!1;if(void 0===s||null===s?(s=a+2*Math.PI,y=!0):s+=this.angBase,!m){var b=a;a=-s,s=-b}for(;s<=a;)s+=2*Math.PI;var x=s-a,k=Math.floor(x/u);0===k&&(k=1);var w=x/k,S=null;v&&(S=(new zi).makeRotation(v));for(var E=0;E<=k&&(E!==k||!y);E++){var _=void 0;_=m?a+E*w:a+(k-E)*w;var M=new Bi(r*Math.cos(_),h*Math.sin(_));S&&M.applyMatrix3(S),M.add(n),d&&M.applyMatrix3(d),t.push(M)}}}},{key:"_DecomposeArc",value:k().mark((function e(t,n){var r,i,a,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),a=this._GetLineType(t,null,n),o=[],this._GenerateArcVertices({vertices:o,center:t.center,radius:t.radius,startAngle:t.startAngle,endAngle:t.endAngle,transform:this._GetEntityExtrusionTransform(t)}),e.next=7,new Zd({type:Zd.Type.POLYLINE,vertices:o,layer:i,color:r,lineType:a,shape:void 0===t.endAngle});case 7:case"end":return e.stop()}}),e,this)}))},{key:"_DecomposeCircle",value:k().mark((function e(t,n){var r,i,a,o;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),a=this._GetLineType(t,null,n),o=[],this._GenerateArcVertices({vertices:o,center:t.center,radius:t.radius,transform:this._GetEntityExtrusionTransform(t)}),e.next=7,new Zd({type:Zd.Type.POLYLINE,vertices:o,layer:i,color:r,lineType:a,shape:!0});case 7:case"end":return e.stop()}}),e,this)}))},{key:"_DecomposeEllipse",value:k().mark((function e(t,n){var r,i,a,o,s,l,u,c,h,f,d,p,v;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this._GetEntityColor(t,n),s=this._GetEntityLayer(t,n),l=this._GetLineType(t,null,n),u=[],c=Math.sqrt(t.majorAxisEndPoint.x*t.majorAxisEndPoint.x+t.majorAxisEndPoint.y*t.majorAxisEndPoint.y),h=c*t.axisRatio,f=Math.atan2(t.majorAxisEndPoint.y,t.majorAxisEndPoint.x),d=null!==(r=t.startAngle)&&void 0!==r?r:0,p=null!==(i=t.endAngle)&&void 0!==i?i:d+2*Math.PI;p<=d;)p+=2*Math.PI;return v=null===(null!==(a=t.endAngle)&&void 0!==a?a:null)||Math.abs(p-d-2*Math.PI)<1e-6,this._GenerateArcVertices({vertices:u,center:t.center,radius:c,startAngle:t.startAngle,endAngle:v?null:t.endAngle,yRadius:h,rotation:f,ccwAngleDir:!this._GetEntityExtrusionTransform(t)}),e.next=14,new Zd({type:Zd.Type.POLYLINE,vertices:u,layer:s,color:o,lineType:l,shape:v});case 14:case"end":return e.stop()}}),e,this)}))},{key:"_DecomposePoint",value:k().mark((function e(t,n){var r,i,a,o,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pdMode!==$d.NONE){e.next=2;break}return e.abrupt("return");case 2:if(!(this.pdMode!==$d.DOT&&this.pdSize<=0)){e.next=4;break}return e.abrupt("return");case 4:if(r=this._GetEntityColor(t,n),i=this._GetEntityLayer(t,n),a=this.pdMode&$d.MARK_MASK,!(0!==(this.pdMode&$d.SHAPE_MASK))){e.next=14;break}return o=new xh(i,jd,xh.GeometryType.POINT_INSTANCE,r,0),this._GetBatch(o).PushVertex(this._TransformVertex(t.position)),this._CreatePointShapeBlock(),e.abrupt("return");case 14:if(a!==$d.DOT){e.next=18;break}return e.next=17,new Zd({type:Zd.Type.POINTS,vertices:[t.position],layer:i,color:r,lineType:null});case 17:return e.abrupt("return");case 18:return s=[],this._CreatePointMarker(s,a,t.position),e.next=22,new Zd({type:Zd.Type.LINE_SEGMENTS,vertices:s,layer:i,color:r,lineType:null});case 22:case"end":return e.stop()}}),e,this)}))},{key:"_DecomposeAttribute",value:k().mark((function e(t,n){var r,i,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return r=this.inserts.get(t.ownerHandle),i=this._GetEntityLayer(null!==r&&void 0!==r?r:t,n),a=this._GetEntityColor(null!==r&&void 0!==r?r:t,n),e.delegateYield(this.textRenderer.Render({text:gd(t.text),fontSize:t.textHeight*t.scale,startPos:t.startPoint,endPos:t.endPoint,rotation:t.rotation,hAlign:t.horizontalJustification,vAlign:t.verticalJustification,color:a,layer:i}),"t0",6);case 6:case"end":return e.stop()}}),e,this)}))},{key:"_CreatePointMarker",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this;function i(t,i){var a,o;e.push({x:(null!==(a=null===n||void 0===n?void 0:n.x)&&void 0!==a?a:0)+t*r.pdSize*.5,y:(null!==(o=null===n||void 0===n?void 0:n.y)&&void 0!==o?o:0)+i*r.pdSize*.5})}switch(t){case $d.PLUS:i(0,1.5),i(0,-1.5),i(-1.5,0),i(1.5,0);break;case $d.CROSS:i(-1,1),i(1,-1),i(1,1),i(-1,-1);break;case $d.TICK:i(0,1),i(0,0);break;default:console.warn("Unsupported point display type: "+t)}}},{key:"_CreatePointShapeBlock",value:function(){if(!this.pointShapeBlock){this.pointShapeBlock=new qd({name:jd,position:{x:0,y:0}}),this.pointShapeBlock.offset=new Bi(0,0);var e=this.pointShapeBlock.DefinitionContext(),t=this.pdMode&$d.MARK_MASK;if(t!==$d.DOT&&t!==$d.NONE){var n=[];this._CreatePointMarker(n,t);var r=new Zd({type:Zd.Type.LINE_SEGMENTS,vertices:n,color:ep.BY_BLOCK});this._ProcessEntity(r,e)}if(this.pdMode&$d.SQUARE){var i=.5*this.pdSize,a=[{x:-i,y:i},{x:i,y:i},{x:i,y:-i},{x:-i,y:-i}],o=new Zd({type:Zd.Type.POLYLINE,vertices:a,color:ep.BY_BLOCK,shape:!0});this._ProcessEntity(o,e)}if(this.pdMode&$d.CIRCLE){var s=[];this._GenerateArcVertices({vertices:s,center:{x:0,y:0},radius:.5*this.pdSize,tessellationAngle:Gd});var l=new Zd({type:Zd.Type.POLYLINE,vertices:s,color:ep.BY_BLOCK,shape:!0});this._ProcessEntity(l,e)}}}},{key:"_Decompose3DFace",value:k().mark((function e(t,n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._DecomposeFace(t,t.vertices,n,this.options.wireframeMesh),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_DecomposeSolid",value:k().mark((function e(t,n){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._DecomposeFace(t,t.points,n,!1,this._GetEntityExtrusionTransform(t)),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))},{key:"_DecomposeFace",value:function(e,t,n,r){var i=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return k().mark((function o(){var s,l,u,c,h,f,d,p,v,g,m,y;return k().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u=function(e,t,n){var r=(new Bi).subVectors(t,e),i=(new Bi).subVectors(n,e);return Math.abs(r.cross(i))>Number.EPSILON},s=i._GetEntityLayer(e,n),l=i._GetEntityColor(e,n),c=new Bi(t[0].x,t[0].y),h=new Bi(t[1].x,t[1].y),f=new Bi(t[2].x,t[2].y),d=null,p=u(c,h,f),v=!1,t.length>3&&(d=new Bi(t[3].x,t[3].y),v=u(h,d,f),a&&d.applyMatrix3(a)),a&&(c.applyMatrix3(a),h.applyMatrix3(a),f.applyMatrix3(a)),p||v){o.next=13;break}return o.abrupt("return");case 13:if(!r){o.next=20;break}return g=[],p&&!v?g.push(c,h,f):!p&&v?g.push(h,d,f):g.push(c,h,d,f),o.next=18,new Zd({type:Zd.Type.POLYLINE,vertices:g,layer:s,color:l,shape:!0});case 18:o.next=26;break;case 20:return m=[],y=[],p&&(m.push(c,h,f),y.push(0,1,2)),v&&(p?y.push(1,2,3):(m.push(h,f),y.push(0,1,2)),m.push(d)),o.next=26,new Zd({type:Zd.Type.TRIANGLES,vertices:m,indices:y,layer:s,color:l});case 26:case"end":return o.stop()}}),o)}))()}},{key:"_DecomposeText",value:k().mark((function e(t,n){var r,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),e.delegateYield(this.textRenderer.Render({text:gd(t.text),fontSize:t.textHeight,startPos:t.startPoint,endPos:t.endPoint,rotation:t.rotation,hAlign:t.halign,vAlign:t.valign,widthFactor:t.xScale,color:i,layer:r}),"t0",5);case 5:case"end":return e.stop()}}),e,this)}))},{key:"_DecomposeMText",value:k().mark((function e(t,n){var r,i,a;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.textRenderer.canRender){e.next=2;break}return e.abrupt("return");case 2:return r=this._GetEntityLayer(t,n),i=this._GetEntityColor(t,n),(a=new pd).Parse(gd(t.text)),e.delegateYield(this.textRenderer.RenderMText({formattedText:a.GetContent(),fontSize:t.height,position:t.position,rotation:t.rotation,direction:t.direction,attachment:t.attachmentPoint,lineSpacing:t.lineSpacing,width:t.width,color:i,layer:r}),"t0",7);case 7:case"end":return e.stop()}}),e,this)}))},{key:"_CreateLinearDimension",value:function(e){var t=this,n=15&(e.dimensionType||0);if(0!=n&&1!=n||!e.linearOrAngularPoint1||!e.linearOrAngularPoint2||!e.anchorPoint)return null;var r=null;e.hasOwnProperty("styleName")&&(r=this.dimStyles.get(e.styleName));var i=new Cd({p1:(new Bi).copy(e.linearOrAngularPoint1),p2:(new Bi).copy(e.linearOrAngularPoint2),anchor:(new Bi).copy(e.anchorPoint),isAligned:1==n,angle:e.angle,text:e.text,textAnchor:e.middleOfText?(new Bi).copy(e.middleOfText):null,textRotation:e.textRotation},(function(n){return t._GetDimStyleValue(n,e,r)}),(function(e,n){return t.textRenderer.GetLineWidth(e,n)}));return i.IsValid?i:(console.warn("Invalid dimension geometry detected for "+e.handle),null)}},{key:"_DecomposeDimension",value:k().mark((function e(t,n){var r,i,a,o,s,l,u,c,h,f,d,p,v,g,m,y,b,x,w,S,E,_;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===(null!==(r=t.block)&&void 0!==r?r:null)||!this.blocks.has(t.block)){e.next=4;break}return i={name:t.block,position:{x:0,y:0},layer:t.layer,color:t.color,colorIndex:t.colorIndex},this._ProcessInsert(i,n),e.abrupt("return");case 4:if(a=this._CreateLinearDimension(t)){e.next=7;break}return e.abrupt("return");case 7:o=this._GetEntityLayer(t,n),s=this._GetEntityColor(t,n),l=this._GetEntityExtrusionTransform(t),u=a.GenerateLayout(),c=q(u.lines),e.prev=12,c.s();case 14:if((h=c.n()).done){e.next=23;break}return d=h.value,p=[],l&&(d.start.applyMatrix3(l),d.end.applyMatrix3(l)),p.push(d.start,d.end),e.next=21,new Zd({type:Zd.Type.LINE_SEGMENTS,vertices:p,layer:o,color:null!==(f=d.color)&&void 0!==f?f:s});case 21:e.next=14;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(12),c.e(e.t0);case 28:return e.prev=28,c.f(),e.finish(28);case 31:v=q(u.triangles),e.prev=32,v.s();case 34:if((g=v.n()).done){e.next=41;break}if(y=g.value,l){b=q(y.vertices);try{for(b.s();!(x=b.n()).done;)x.value.applyMatrix3(l)}catch(k){b.e(k)}finally{b.f()}}return e.next=39,new Zd({type:Zd.Type.TRIANGLES,vertices:y.vertices,indices:y.indices,layer:o,color:null!==(m=y.color)&&void 0!==m?m:s});case 39:e.next=34;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(32),v.e(e.t1);case 46:return e.prev=46,v.f(),e.finish(46);case 49:if(!this.textRenderer.canRender){e.next=67;break}w=q(u.texts),e.prev=51,w.s();case 53:if((S=w.n()).done){e.next=59;break}return _=S.value,l&&_.position.applyMatrix3(l),e.delegateYield(this.textRenderer.Render({text:_.text,fontSize:_.size,startPos:_.position,rotation:_.angle,hAlign:xd.CENTER,vAlign:kd.MIDDLE,color:null!==(E=_.color)&&void 0!==E?E:s,layer:o}),"t2",57);case 57:e.next=53;break;case 59:e.next=64;break;case 61:e.prev=61,e.t3=e.catch(51),w.e(e.t3);case 64:return e.prev=64,w.f(),e.finish(64);case 67:case"end":return e.stop()}}),e,this,[[12,25,28,31],[32,43,46,49],[51,61,64,67]])}))},{key:"_DecomposeHatch",value:k().mark((function e(t,n){var r,i,a,o,s,l,u,c,h,f,d,p,v,g,m,y,b,x,w,S,E,_,M,T,C,A,P,O,R,L,N,I,D,F,U;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isSolid){e.next=2;break}return e.abrupt("return");case 2:if((i=null!==(r=t.hatchStyle)&&void 0!==r?r:0)==Pd.ODD_PARITY||i==Pd.THROUGH_ENTIRE_AREA){e.next=5;break}return e.abrupt("return");case 5:if(0!=(a=this._GetHatchBoundaryLoops(t)).length){e.next=9;break}return console.warn("HATCH entity with empty boundary loops array (perhaps some loop types are not implemented yet)"),e.abrupt("return");case 9:if(o=new Nd(a,i),s=this._GetEntityLayer(t,n),l=this._GetEntityColor(t,n),u=this._GetEntityExtrusionTransform(t),c=null,t.patternName&&((c=Bd(t.patternName,this.isMetric))||console.log("Hatch pattern with name ".concat(t.patternName," not found ")+"(metric: ".concat(this.isMetric,")"))),null==c&&t.definitionLines&&(c=new Id(t.definitionLines,null,!1)),null==c&&(c=Bd("ANSI31")),c){e.next=19;break}return e.abrupt("return");case 19:h=t.seedPoints?t.seedPoints:[{x:0,y:0}],f=q(h),e.prev=21,f.s();case 23:if((d=f.n()).done){e.next=67;break}p=d.value,v=o.GetPatternTransform({seedPoint:p,angle:t.patternAngle,scale:t.patternScale}),g=q(c.lines),e.prev=27,g.s();case 29:if((m=g.n()).done){e.next=57;break}if(b=m.value,x=void 0,w=void 0,c.offsetInLineSpace?(x=b.offset.x,w=b.offset.y):(_=Math.sin(-(null!==(S=b.angle)&&void 0!==S?S:0)),M=Math.cos(-(null!==(E=b.angle)&&void 0!==E?E:0)),x=b.offset.x*M-b.offset.y*_,w=b.offset.x*_+b.offset.y*M),w<0&&(w=-w,x=-x),T=o.GetLineTransform({patTransform:v,basePoint:b.base,angle:null!==(y=b.angle)&&void 0!==y?y:0}),C=o.GetBoundingBox(T),A=.05*(C.max.x-C.min.x),P=void 0,O=void 0,0==w?(P=0,O=0):(P=Math.ceil(C.min.y/w),O=Math.floor(C.max.y/w)),!(O-P>2e4)){e.next=43;break}return console.warn("Too many lines produced by hatching pattern"),e.abrupt("continue",55);case 43:if(R=void 0,b.dashes&&b.dashes.length>1){R=0,L=q(b.dashes);try{for(L.s();!(N=L.n()).done;)(I=N.value)<0?R-=I:R+=I}catch(B){L.e(B)}finally{L.f()}}else R=null;D=T.clone().invert(),F=k().mark((function e(){var t,n,r,i,a,c,h,f,d,p,v,g,m,y,S,E,_,M,T,P,O,L,N,I,F,B,z,H;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m=function(e,n){var r,i,a,o,s;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=q(p),t.prev=1,r.s();case 3:if((i=r.n()).done){t.next=16;break}if(!((a=i.value)[0]>=n)){t.next=7;break}return t.abrupt("return");case 7:if(!(a[1]<=e)){t.next=9;break}return t.abrupt("continue",14);case 9:return o=Math.max(e,a[0]),s=Math.min(n,a[1]),t.next=13,[o,s];case 13:e=s;case 14:t.next=3;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),r.e(t.t0);case 21:return t.prev=21,r.f(),t.finish(21);case 24:case"end":return t.stop()}}),t,null,[[1,18,21,24]])},g=function(e){var t=d.clone().multiplyScalar(e[0]).add(h),n=d.clone().multiplyScalar(e[1]).add(h);return u&&(t.applyMatrix3(u),n.applyMatrix3(u)),e[1]-e[0]<=Number.EPSILON?new Zd({type:Zd.Type.POINTS,vertices:[t],layer:s,color:l}):new Zd({type:Zd.Type.LINE_SEGMENTS,vertices:[t,n],layer:s,color:l})},v=function(e){return(e-i)/c},t=k().mark(m),n=U*w,r=U*x,i=C.min.x-A,a=C.max.x+A,c=a-i,h=new Bi(i,n).applyMatrix3(D),f=new Bi(a,n).applyMatrix3(D),d=f.clone().sub(h),p=o.ClipLine([h,f]),null===R){e.next=64;break}if(y=Math.floor((i-r)/R),!((S=Math.floor((a-r)/R))-y>=2e4)){e.next=19;break}return console.warn("Too many segments produced by hatching pattern line"),e.abrupt("return",1);case 19:E=y;case 20:if(!(E<=S)){e.next=62;break}_=v(r+E*R),M=q(b.dashes),e.prev=23,M.s();case 25:if((T=M.n()).done){e.next=51;break}if(P=T.value,(O=P<0)&&(P=-P),L=P/c,O){e.next=48;break}N=q(m(_,_+L)),e.prev=32,N.s();case 34:if((I=N.n()).done){e.next=40;break}return F=I.value,e.next=38,g(F);case 38:e.next=34;break;case 40:e.next=45;break;case 42:e.prev=42,e.t0=e.catch(32),N.e(e.t0);case 45:return e.prev=45,N.f(),e.finish(45);case 48:_+=L;case 49:e.next=25;break;case 51:e.next=56;break;case 53:e.prev=53,e.t1=e.catch(23),M.e(e.t1);case 56:return e.prev=56,M.f(),e.finish(56);case 59:E++,e.next=20;break;case 62:e.next=81;break;case 64:B=q(p),e.prev=65,B.s();case 67:if((z=B.n()).done){e.next=73;break}return H=z.value,e.next=71,g(H);case 71:e.next=67;break;case 73:e.next=78;break;case 75:e.prev=75,e.t2=e.catch(65),B.e(e.t2);case 78:return e.prev=78,B.f(),e.finish(78);case 81:case"end":return e.stop()}}),e,null,[[23,53,56,59],[32,42,45,48],[65,75,78,81]])})),U=P;case 48:if(!(U<=O)){e.next=55;break}return e.delegateYield(F(),"t0",50);case 50:if(!e.t0){e.next=52;break}return e.abrupt("continue",52);case 52:U++,e.next=48;break;case 55:e.next=29;break;case 57:e.next=62;break;case 59:e.prev=59,e.t1=e.catch(27),g.e(e.t1);case 62:return e.prev=62,g.f(),e.finish(62);case 65:e.next=23;break;case 67:e.next=72;break;case 69:e.prev=69,e.t2=e.catch(21),f.e(e.t2);case 72:return e.prev=72,f.f(),e.finish(72);case 75:case"end":return e.stop()}}),e,this,[[21,69,72,75],[27,59,62,65]])}))},{key:"_GetHatchBoundaryLoops",value:function(e){if(!e.boundaryLoops)return[];var t,n=[],r=function(e,t){var n=t.length;if(0!=n){if(0==e.length)e.push(t[0]);else{var r=e[e.length-1];r.x==t[0].x&&r.y==t[0].y||e.push(t[0])}for(var i=1;i<n;i++)e.push(t[i])}},i=q(e.boundaryLoops);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=[];if(2&a.type)for(var s=0;s<a.polyline.vertices.length;s++){var l,u=a.polyline.vertices[s];if(0==(null!==(l=u.bulge)&&void 0!==l?l:0))o.push(new Bi(u.x,u.y));else{var c;0==(null!==(c=a.polyline.vertices[0==s?a.polyline.vertices.length-1:s-1].bulge)&&void 0!==c?c:0)&&o.push(new Bi(u.x,u.y));var h=a.polyline.vertices[s==a.polyline.vertices.length-1?0:s+1];this._GenerateBulgeVertices(o,u,h,u.bulge)}}else if(a.edges&&a.edges.length>0){var f,d=q(a.edges);try{for(d.s();!(f=d.n()).done;){var p=f.value;switch(p.type){case 1:r(o,[new Bi(p.start.x,p.start.y),new Bi(p.end.x,p.end.y)]);break;case 2:var v=[];this._GenerateArcVertices({vertices:v,center:p.start,radius:p.radius,startAngle:p.startAngle,endAngle:p.endAngle,ccwAngleDir:p.isCcw}),r(o,v);break;case 3:var g=p.start,m=p.end,y=Math.sqrt(m.x*m.x+m.y*m.y),b=y*p.radius,x=Math.atan2(m.y,m.x),k=[];if(this._GenerateArcVertices({vertices:k,center:g,radius:y,startAngle:p.startAngle,endAngle:p.endAngle,yRadius:b,ccwAngleDir:p.isCcw}),0!==x){var w,S=Math.cos(x),E=Math.sin(x),_=q(k);try{for(_.s();!(w=_.n()).done;){var M=w.value,T=M.x-g.x,C=M.y-g.y;M.x=T*S-C*E+g.x,M.y=T*E+C*S+g.y}}catch(D){_.e(D)}finally{_.f()}}r(o,k);break;case 4:for(var A=p.controlPoints.map((function(e){return[e.x,e.y]})),P=4*A.length,O=1/P,R=0;R<=P;R++){var L=this._InterpolateSpline(R*O,p.degreeOfSplineCurve,A,p.knotValues);o.push(new Bi(L[0],L[1]))}break;default:console.warn("Unhandled hatch boundary loop edge type: "+p.type)}}}catch(D){d.e(D)}finally{d.f()}}if(o.length>2){var N=o[0],I=o[o.length-1];I.x==N.x&&I.y==N.y&&(o.length=o.length-1)}o.length>2&&n.push(o)}}catch(D){i.e(D)}finally{i.f()}return n}},{key:"_GetDimStyleValue",value:function(e,t,n){var r,i=null===t||void 0===t||null===(r=t.xdata)||void 0===r||null===(r=r.ACAD)||void 0===r||null===(r=r.DSTYLE)||void 0===r?void 0:r.values;if(i){var a,o=!0,s=!1,l=q(i);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(o){if(1070!=u.code)break;$n.get(u.value)==e&&(s=!0)}else if(s)return u.value;o=!o}}catch(h){l.e(h)}finally{l.f()}}if(n&&n.hasOwnProperty(e))return n[e];if(this.vars.has(e))return this.vars.get(e);if(Vd.hasOwnProperty(e)){var c=Vd[e];return c instanceof Function?c.call(this):c}return null}},{key:"_ProcessInsert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){if(t.name===e.name)return void console.warn("Recursive block reference: "+t.name);var n=this.blocks.get(e.name);if(!n)return void console.warn("Unresolved nested block reference: "+e.name);var r=t.NestedBlockContext(n,e);if(n.data.entities){var i,a=q(n.data.entities);try{for(a.s();!(i=a.n()).done;){var o=i.value;this._ProcessDxfEntity(o,r)}}catch(m){a.e(m)}finally{a.f()}}}else{var s=this.blocks.get(e.name);if(s){if(s.HasGeometry()){var l=this._GetEntityLayer(e,null),u=this._GetEntityColor(e,null),c=this._GetLineType(e,null,null),h=s.InstantiationContext().GetInsertionTransform(e),f=s.bounds;if(this._UpdateBounds(new Bi(f.minX,f.minY).applyMatrix3(h)),this._UpdateBounds(new Bi(f.maxX,f.maxY).applyMatrix3(h)),this._UpdateBounds(new Bi(f.minX,f.maxY).applyMatrix3(h)),this._UpdateBounds(new Bi(f.maxX,f.minY).applyMatrix3(h)),h.translate(-this.origin.x,-this.origin.y),s.flatten){var d,p=q(s.batches);try{for(p.s();!(d=p.n()).done;){var v=d.value;this._FlattenBatch(v,l,u,c,h)}}catch(m){p.e(m)}finally{p.f()}}else{var g=new xh(l,e.name,xh.GeometryType.BLOCK_INSTANCE,u,c);this._GetBatch(g).PushInstanceTransform(h)}}}else console.warn("Unresolved block reference in INSERT: "+e.name)}}},{key:"_FlattenBatch",value:function(e,t,n,r,i){var a,o=this.layers.get(t);if(e.key.color===ep.BY_BLOCK)a=n;else if(e.key.color===ep.BY_LAYER){var s;a=null!==(s=null===o||void 0===o?void 0:o.color)&&void 0!==s?s:0}else a=e.key.color;var l=new xh(t,null,e.key.geometryType,a,0);this._GetBatch(l).Merge(e,i)}},{key:"_GenerateShapedPolyline",value:k().mark((function e(t,n,r,i,a){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Zd({type:Zd.Type.POLYLINE,vertices:t,layer:n,color:r,lineType:i,shape:a});case 2:case"end":return e.stop()}}),e)}))},{key:"_MirrorEntityVertices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e.extrusionDirection||e.extrusionDirection.z>=0)return null!==t&&void 0!==t?t:e.vertices;t&&t!==e.vertices||(t=e.vertices.slice());for(var n=t.length,r=0;r<n;r++){var i=t[r],a={x:-i.x};for(var o in i)i.hasOwnProperty(o)&&"x"!==o&&(a[o]=i[o]);t[r]=a}return t}},{key:"_DecomposePolyline",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return k().mark((function r(){var i,a,o,s,l,u,c,h,f,d,p,v,g,m,y,b;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(p=function(t){var n,r;return k().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t!==c){i.next=2;break}return i.abrupt("return");case 2:if(n=!1,r=d,t===o&&0===c?(n=!0,null===r&&(r=a)):t===o-1&&0===c?null===r&&(r=a):t===o?null===r&&(r=a.slice(c,t)).push(a[0]):null===r&&(r=a.slice(c,t+1)),!h){i.next=10;break}return i.next=8,new Zd({type:Zd.Type.POLYLINE,vertices:r,layer:l,color:s,lineType:f,shape:n});case 8:i.next=11;break;case 10:return i.delegateYield(u._GenerateShapedPolyline(r,l,s,f,n),"t0",11);case 11:c=t,t!==o&&(h=u._IsPlainLine(a[t]),f=u._GetLineType(e,a[t])),d=null;case 14:case"end":return i.stop()}}),i)},i=k().mark(p),!e.isPolyfaceMesh){r.next=5;break}return r.delegateYield(t._DecomposePolyfaceMesh(e,n),"t0",4);case 4:return r.abrupt("return");case 5:if(e.includesCurveFitVertices||e.includesSplineFitVertices?(a=e.vertices.filter((function(e){return e.splineVertex||e.curveFittingVertex})),o=a.length):(a=e.vertices,o=e.vertices.length),!(o<2)){r.next=8;break}return r.abrupt("return");case 8:a=t._MirrorEntityVertices(e,a),s=t._GetEntityColor(e,n),l=t._GetEntityLayer(e,n),u=t,c=0,h=t._IsPlainLine(a[0]),f=t._GetLineType(e,a[0],n),d=null,v=1;case 17:if(!(v<=o)){r.next=39;break}if(g=a[v-1],m=void 0,v!==o){r.next=27;break}if(e.shape){r.next=24;break}return r.delegateYield(p(v-1),"t1",23);case 23:return r.abrupt("break",39);case 24:m=a[0],r.next=28;break;case 27:m=a[v];case 28:if(Boolean(g.bulge)&&h?(null===d&&(d=a.slice(c,v)),t._GenerateBulgeVertices(d,g,m,g.bulge)):null!==d&&d.push(m),v!==o){r.next=32;break}return r.delegateYield(p(v),"t2",31);case 31:return r.abrupt("break",39);case 32:if(y=t._IsPlainLine(m),b=t._GetLineType(e,m),!(y!==h||h&&b!==f)){r.next=36;break}return r.delegateYield(p(v),"t3",36);case 36:v++,r.next=17;break;case 39:case"end":return r.stop()}}),r)}))()}},{key:"_DecomposePolyfaceMesh",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return k().mark((function r(){var i,a,o,s,l,u,c,h,f,d,p,v,g,m,y,b,x,w,S,E,_,M,T,C,A,P;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=t._GetEntityLayer(e,n),a=t._GetEntityColor(e,n),o=[],s=[],l=q(e.vertices),r.prev=5,l.s();case 7:if((u=l.n()).done){r.next=36;break}if(!(c=u.value).faces){r.next=33;break}h={indices:[],hiddenEdges:[]},f=q(c.faces),r.prev=12,f.s();case 14:if((d=f.n()).done){r.next=22;break}if(0!=(p=d.value)){r.next=18;break}return r.abrupt("break",22);case 18:h.indices.push(p<0?-p-1:p-1),h.hiddenEdges.push(p<0);case 20:r.next=14;break;case 22:r.next=27;break;case 24:r.prev=24,r.t0=r.catch(12),f.e(r.t0);case 27:return r.prev=27,f.f(),r.finish(27);case 30:3!=h.indices.length&&4!=h.indices.length||s.push(h),r.next=34;break;case 33:o.push(new Bi(c.x,c.y));case 34:r.next=7;break;case 36:r.next=41;break;case 38:r.prev=38,r.t1=r.catch(5),l.e(r.t1);case 41:return r.prev=41,l.f(),r.finish(41);case 44:v=[],g=function(e,t){if(v.length>0){var n=v[v.length-1];if(n.indices[n.indices.length-1]==e)return void n.indices.push(t);n.indices[0]==n.indices[n.indices.length-1]&&(n.isClosed=!0)}v.push({indices:[e,t],isClosed:!1})},m=0,y=s;case 47:if(!(m<y.length)){r.next=68;break}if(b=y[m],!t.options.wireframeMesh){r.next=61;break}x=0;case 51:if(!(x<b.indices.length)){r.next=59;break}if(!b.hiddenEdges[x]){r.next=54;break}return r.abrupt("continue",56);case 54:w=x<b.indices.length-1?x+1:0,g(b.indices[x],b.indices[w]);case 56:x++,r.next=51;break;case 59:r.next=65;break;case 61:return S=void 0,S=3==b.indices.length?b.indices:[b.indices[0],b.indices[1],b.indices[2],b.indices[0],b.indices[2],b.indices[3]],r.next=65,new Zd({type:Zd.Type.TRIANGLES,vertices:o,indices:S,layer:i,color:a});case 65:m++,r.next=47;break;case 68:if(!t.options.wireframeMesh){r.next=94;break}E=q(v),r.prev=70,E.s();case 72:if((_=E.n()).done){r.next=86;break}if(2!=(M=_.value).length){r.next=79;break}return r.next=77,new Zd({type:Zd.Type.LINE_SEGMENTS,vertices:[o[M.indices[0]],o[M.indices[1]]],layer:i,color:a});case 77:r.next=84;break;case 79:T=[],C=q(M.indices);try{for(C.s();!(A=C.n()).done;)P=A.value,T.push(o[P])}catch(k){C.e(k)}finally{C.f()}return r.next=84,new Zd({type:Zd.Type.POLYLINE,vertices:T,layer:i,color:a,shape:M.isClosed});case 84:r.next=72;break;case 86:r.next=91;break;case 88:r.prev=88,r.t2=r.catch(70),E.e(r.t2);case 91:return r.prev=91,E.f(),r.finish(91);case 94:case"end":return r.stop()}}),r,null,[[5,38,41,44],[12,24,27,30],[70,88,91,94]])}))()}},{key:"_DecomposeSpline",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return k().mark((function r(){var i,a,o,s,l,u,c,h,f;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=t._GetEntityColor(e,n),a=t._GetEntityLayer(e,n),o=t._GetLineType(e,null,n),e.controlPoints){r.next=5;break}return r.abrupt("return");case 5:for(s=e.controlPoints.map((function(e){return[e.x,e.y]})),l=[],u=4*s.length,c=1/u,h=0;h<=u;h++)f=t._InterpolateSpline(h*c,e.degreeOfSplineCurve,s,e.knotValues),l.push({x:f[0],y:f[1]});return r.next=12,new Zd({type:Zd.Type.POLYLINE,vertices:l,layer:a,color:i,lineType:o});case 12:case"end":return r.stop()}}),r)}))()}},{key:"_InterpolateSpline",value:function(e,t,n){var r,i,a,o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=n.length,c=n[0].length;if(t<1)throw new Error("Degree must be at least 1 (linear)");if(t>u-1)throw new Error("Degree must be less than or equal to point count - 1");if(!l)for(l=[],r=0;r<u;r++)l[r]=1;if(s){if(s.length!==u+t+1)throw new Error("Bad knot vector length")}else for(s=[],r=0;r<u+t+1;r++)s[r]=r;var h=[t,s.length-1-t],f=s[h[0]],d=s[h[1]];for((e=e*(d-f)+f)<f?e=f:e>d&&(e=d),a=h[0];a<h[1]&&!(e>=s[a]&&e<=s[a+1]);a++);var p,v=[];for(r=0;r<u;r++){for(v[r]=[],i=0;i<c;i++)v[r][i]=n[r][i]*l[r];v[r][c]=l[r]}for(o=1;o<=t+1;o++)for(r=a;r>a-t-1+o;r--)for(p=(e-s[r])/(s[r+t+1-o]-s[r]),i=0;i<c+1;i++)v[r][i]=(1-p)*v[r-1][i]+p*v[r][i];var g=[];for(r=0;r<c;r++)g[r]=v[a][r]/v[a][c];return g}},{key:"_ProcessPoints",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=new xh(e.layer,null===n||void 0===n?void 0:n.name,xh.GeometryType.POINTS,e.color,0),i=this._GetBatch(r),a=q(e.vertices);try{for(a.s();!(t=a.n()).done;){var o=t.value;i.PushVertex(this._TransformVertex(o,n))}}catch(s){a.e(s)}finally{a.f()}}},{key:"_ProcessLineSegments",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e.vertices.length%2!==0)throw Error("Even number of vertices expected");var n,r=new xh(e.layer,null===t||void 0===t?void 0:t.name,xh.GeometryType.LINES,e.color,e.lineType),i=this._GetBatch(r),a=q(e.vertices);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.PushVertex(this._TransformVertex(o,t))}}catch(s){a.e(s)}finally{a.f()}}},{key:"_ProcessPolyline",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(e.vertices.length<2)){var n=e.vertices.length;if(n<=3){var r,i=new xh(e.layer,null===t||void 0===t?void 0:t.name,xh.GeometryType.LINES,e.color,e.lineType),a=this._GetBatch(i),o=null,s=q(e.vertices);try{for(s.s();!(r=s.n()).done;){var l=r.value;null!==o&&(a.PushVertex(this._TransformVertex(o,t)),a.PushVertex(this._TransformVertex(l,t))),o=l}}catch(k){s.e(k)}finally{s.f()}e.shape&&n>2&&(a.PushVertex(this._TransformVertex(e.vertices[n-1],t)),a.PushVertex(this._TransformVertex(e.vertices[0],t)))}else{var u,c=new xh(e.layer,null===t||void 0===t?void 0:t.name,xh.GeometryType.INDEXED_LINES,e.color,e.lineType),h=this._GetBatch(c),f=q(e._IterateLineChunks());try{for(f.s();!(u=f.n()).done;){var d,p=u.value,v=h.PushChunk(p.verticesCount),g=q(p.vertices);try{for(g.s();!(d=g.n()).done;){var m=d.value;v.PushVertex(this._TransformVertex(m,t))}}catch(k){g.e(k)}finally{g.f()}var y,b=q(p.indices);try{for(b.s();!(y=b.n()).done;){var x=y.value;v.PushIndex(x)}}catch(k){b.e(k)}finally{b.f()}v.Finish()}}catch(k){f.e(k)}finally{f.f()}}}}},{key:"_ProcessTriangles",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(e.vertices.length<3))if(e.indices.length%3===0){var n,r=new xh(e.layer,null===t||void 0===t?void 0:t.name,xh.GeometryType.INDEXED_TRIANGLES,e.color,0),i=this._GetBatch(r).PushChunk(e.vertices.length),a=q(e.vertices);try{for(a.s();!(n=a.n()).done;){var o=n.value;i.PushVertex(this._TransformVertex(o,t))}}catch(c){a.e(c)}finally{a.f()}var s,l=q(e.indices);try{for(l.s();!(s=l.n()).done;){var u=s.value;i.PushIndex(u)}}catch(c){l.e(c)}finally{l.f()}i.Finish()}else console.error("Unexpected size of indices array: "+e.indices.length)}},{key:"_GetEntityColor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=ep.BY_LAYER;if(0===e.colorIndex?n=ep.BY_BLOCK:256===e.colorIndex?n=ep.BY_LAYER:e.hasOwnProperty("color")&&(n=e.color),t)return n;if(n!==ep.BY_LAYER&&n!==ep.BY_BLOCK)return n;if(e.hasOwnProperty("layer")){var r=this.layers.get(e.layer);if(r)return r.color}return 0}},{key:"_GetEntityLayer",value:function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)?null:e.hasOwnProperty("layer")?e.layer:"0"}},{key:"_GetEntityExtrusionTransform",value:function(e){return e.hasOwnProperty("extrusionDirection")?e.extrusionDirection.z>0?null:(new zi).scale(-1,1):null}},{key:"_GetBatch",value:function(e){var t=this.batches.find({key:e});if(null!==t)return t;if(t=new Xd(e),this.batches.insert(t),null!==e.blockName&&!e.IsInstanced()){var n=this.blocks.get(e.blockName);n&&n.batches.push(t)}return t}},{key:"_TransformVertex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t?t.TransformVertex(e):(this._UpdateBounds(e),{x:e.x-this.origin.x,y:e.y-this.origin.y})}},{key:"_UpdateBounds",value:function(e){null===this.bounds?this.bounds={minX:e.x,maxX:e.x,minY:e.y,maxY:e.y}:(e.x<this.bounds.minX?this.bounds.minX=e.x:e.x>this.bounds.maxX&&(this.bounds.maxX=e.x),e.y<this.bounds.minY?this.bounds.minY=e.y:e.y>this.bounds.maxY&&(this.bounds.maxY=e.y)),null===this.origin&&(this.origin={x:e.x,y:e.y})}},{key:"_BuildScene",value:function(){var e=0,t=0,n=0;this.batches.each((function(r){e+=r.GetVerticesBufferSize(),t+=r.GetIndicesBufferSize(),n+=r.GetTransformsSize()}));var r={vertices:new ArrayBuffer(e),indices:new ArrayBuffer(t),transforms:new ArrayBuffer(n),batches:[],layers:[],origin:this.origin,bounds:this.bounds,hasMissingChars:this.hasMissingChars},i={vertices:new Float32Array(r.vertices),verticesOffset:0,indices:new Uint16Array(r.indices),indicesOffset:0,transforms:new Float32Array(r.transforms),transformsOffset:0};this.batches.each((function(e){r.batches.push(e.Serialize(i))}));var a,o=q(this.layers.values());try{for(o.s();!(a=o.n()).done;){var s=a.value;r.layers.push({name:s.name,displayName:s.displayName,color:s.color})}}catch(l){o.e(l)}finally{o.f()}return r.pointShapeHasDot=(this.pdMode&$d.MARK_MASK)===$d.DOT,r}}])}(),Xd=function(){return M((function e(t){T(this,e),this.key=t,t.IsIndexed()?this.chunks=[]:t.geometryType===xh.GeometryType.BLOCK_INSTANCE?this.transforms=new wh(Sh.FLOAT32):this.vertices=new wh(Sh.FLOAT32)}),[{key:"PushVertex",value:function(e){var t=this.vertices.Push(e.x);return this.vertices.Push(e.y),t}},{key:"PushInstanceTransform",value:function(e){for(var t=0;t<2;t++)for(var n=0;n<3;n++)this.transforms.Push(e.elements[3*n+t])}},{key:"PushChunk",value:function(e){if(e>Hd)throw new Error("Vertices count exceeds chunk limit: "+e);var t,n=null,r=0,i=q(this.chunks);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=Hd-a.vertices.GetSize()/2;o<e||(null===n||o<r)&&(n=a,r=o)}}catch(s){i.e(s)}finally{i.f()}return null===n&&(n=this._NewChunk(e)),new Jd(n,e)}},{key:"Merge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.key.geometryType!==e.key.geometryType)throw new Error("Rendering batch merging geometry type mismatch: "+"".concat(this.key.geometryType," !== ").concat(e.key.geometryType));if(this.key.IsInstanced())throw new Error("Attempted to merge instanced batch");if(this.key.IsIndexed()){var n,r=q(e.chunks);try{for(r.s();!(n=r.n()).done;){for(var i=n.value,a=i.vertices.size,o=this.PushChunk(a/2),s=0;s<a;s+=2){var l=new Bi(i.vertices.Get(s),i.vertices.Get(s+1));t&&l.applyMatrix3(t),o.PushVertex(l)}for(var u=i.indices.size,c=0;c<u;c++)o.PushIndex(i.indices.Get(c));o.Finish()}}catch(p){r.e(p)}finally{r.f()}}else for(var h=e.vertices.size,f=0;f<h;f+=2){var d=new Bi(e.vertices.Get(f),e.vertices.Get(f+1));t&&d.applyMatrix3(t),this.PushVertex(d)}}},{key:"GetVerticesBufferSize",value:function(){if(this.key.IsIndexed()){var e,t=0,n=q(this.chunks);try{for(n.s();!(e=n.n()).done;){t+=e.value.vertices.GetSize()}}catch(r){n.e(r)}finally{n.f()}return t*Float32Array.BYTES_PER_ELEMENT}return this.key.geometryType===xh.GeometryType.BLOCK_INSTANCE?0:this.vertices.GetSize()*Float32Array.BYTES_PER_ELEMENT}},{key:"GetIndicesBufferSize",value:function(){if(this.key.IsIndexed()){var e,t=0,n=q(this.chunks);try{for(n.s();!(e=n.n()).done;){t+=e.value.indices.GetSize()}}catch(r){n.e(r)}finally{n.f()}return t*Uint16Array.BYTES_PER_ELEMENT}return 0}},{key:"GetTransformsSize",value:function(){return this.key.geometryType===xh.GeometryType.BLOCK_INSTANCE?this.transforms.GetSize()*Float32Array.BYTES_PER_ELEMENT:0}},{key:"Serialize",value:function(e){if(this.key.IsIndexed()){var t,n={key:this.key,chunks:[]},r=q(this.chunks);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.chunks.push(i.Serialize(e))}}catch(u){r.e(u)}finally{r.f()}return n}if(this.key.geometryType===xh.GeometryType.BLOCK_INSTANCE){var a=this.transforms.GetSize(),o={key:this.key,transformsOffset:e.transformsOffset,transformsSize:a};return this.transforms.CopyTo(e.transforms,e.transformsOffset),e.transformsOffset+=a,o}var s=this.vertices.GetSize(),l={key:this.key,verticesOffset:e.verticesOffset,verticesSize:s};return this.vertices.CopyTo(e.vertices,e.verticesOffset),e.verticesOffset+=s,l}},{key:"_NewChunk",value:function(e){var t=new Kd(e);return this.chunks.push(t),t}}])}(),qd=function(){return M((function e(t){T(this,e),this.data=t,this.useCount=0,this.nestedUseCount=0,this.verticesCount=0,this.offset=null,this.batches=[],this.flatten=!1,this.bounds=null}),[{key:"SetFlatten",value:function(){return!!this.HasGeometry()&&(this.flatten=1===this.useCount||this.useCount*this.verticesCount<=1024,this.flatten)}},{key:"HasGeometry",value:function(){return null!==this.offset}},{key:"RegisterInsert",value:function(e){this.useCount++}},{key:"RegisterNestedUse",value:function(e){this.nestedUseCount++}},{key:"DefinitionContext",value:function(){return new Yd(this,Yd.Type.DEFINITION)}},{key:"InstantiationContext",value:function(){return new Yd(this,Yd.Type.INSTANTIATION)}},{key:"UpdateBounds",value:function(e){null===this.bounds?this.bounds={minX:e.x,maxX:e.x,minY:e.y,maxY:e.y}:(e.x<this.bounds.minX?this.bounds.minX=e.x:e.x>this.bounds.maxX&&(this.bounds.maxX=e.x),e.y<this.bounds.minY?this.bounds.minY=e.y:e.y>this.bounds.maxY&&(this.bounds.maxY=e.y))}}])}(),Yd=function(){function e(t,n){T(this,e),this.block=t,this.type=n,this.origin=this.block.data.position,this.transform=new zi}return M(e,[{key:"name",get:function(){return this.block.data.name}},{key:"TransformVertex",value:function(t){var n=new Bi(t.x,t.y).applyMatrix3(this.transform);if(this.type!==e.Type.DEFINITION&&this.type!==e.Type.NESTED_DEFINITION)throw new Error("Unexpected transform type");if(this.block.verticesCount++,null===this.block.offset){this.block.offset=n;var r=new Bi;return this.block.UpdateBounds(r),r}return n.sub(this.block.offset),this.block.UpdateBounds(n),n}},{key:"GetInsertionTransform",value:function(t){var n=(new zi).translate(-this.origin.x,-this.origin.y),r=t.yScale||1,i=t.xScale||1,a=-(t.rotation||0)*Math.PI/180,o=t.position.x,s=t.position.y;if(n.scale(i,r),n.rotate(a),n.translate(o,s),t.extrusionDirection&&t.extrusionDirection.z<0&&n.scale(-1,1),this.type!==e.Type.INSTANTIATION)return n;var l=(new zi).translate(this.block.offset.x,this.block.offset.y);return n.multiply(l)}},{key:"NestedBlockContext",value:function(t,n){t.RegisterNestedUse(this.block);var r=new e(t,e.Type.NESTED_DEFINITION).GetInsertionTransform(n),i=new e(this.block,e.Type.NESTED_DEFINITION);return i.transform=(new zi).multiplyMatrices(this.transform,r),i}}])}();Yd.Type=Object.freeze({DEFINITION:0,NESTED_DEFINITION:1,INSTANTIATION:2});var Kd=function(){return M((function e(t){T(this,e),t<16&&(t=16),this.indices=new wh(Sh.UINT16,2*t),this.vertices=new wh(Sh.FLOAT32,2*t)}),[{key:"Serialize",value:function(e){var t={},n=this.vertices.GetSize();t.verticesOffset=e.verticesOffset,t.verticesSize=n,this.vertices.CopyTo(e.vertices,e.verticesOffset),e.verticesOffset+=n;var r=this.indices.GetSize();return t.indicesOffset=e.indicesOffset,t.indicesSize=r,this.indices.CopyTo(e.indices,e.indicesOffset),e.indicesOffset+=r,t}}])}(),Jd=function(){return M((function e(t,n){T(this,e),this.chunk=t,this.verticesCount=n,this.verticesOffset=this.chunk.vertices.GetSize()/2,this.numVerticesPushed=0}),[{key:"PushVertex",value:function(e){if(this.numVerticesPushed===this.verticesCount)throw new Error;this.chunk.vertices.Push(e.x),this.chunk.vertices.Push(e.y),this.numVerticesPushed++}},{key:"PushIndex",value:function(e){if(e<0||e>=this.verticesCount)throw new Error("Index out of range: ".concat(e,"/").concat(this.verticesCount));this.chunk.indices.Push(e+this.verticesOffset)}},{key:"Finish",value:function(){if(this.numVerticesPushed!==this.verticesCount)throw new Error("Not all vertices pushed: ".concat(this.numVerticesPushed,"/").concat(this.verticesCount))}}])}(),Zd=function(){return M((function e(t){var n=t.type,r=t.vertices,i=t.indices,a=void 0===i?null:i,o=t.layer,s=void 0===o?null:o,l=t.color,u=t.lineType,c=void 0===u?0:u,h=t.shape,f=void 0!==h&&h;T(this,e),this.type=n,this.vertices=r,this.indices=a,this.layer=s,this.color=l,this.lineType=c,this.shape=f}),[{key:"_IterateVertices",value:k().mark((function e(t,n){var r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t;case 1:if(!(r<t+n)){e.next=7;break}return e.next=4,this.vertices[r];case 4:r++,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"_IterateLineChunks",value:k().mark((function e(){var t,n,r,i,a=this;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.vertices.length)<2)){e.next=3;break}return e.abrupt("return");case 3:n=this,r=k().mark((function e(r){var i,o,s,l,u;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t-r)>Hd?(i=Hd,o=!1):o=!0,o&&a.shape&&r>0&&i===Hd&&(o=!1),r!==t||a.shape){e.next=5;break}return e.abrupt("return",1);case 5:return i<2?(s=1===i&&a.shape?k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[r];case 2:return e.next=4,this.vertices[0];case 4:case"end":return e.stop()}}),e,this)}))():1===i?k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[r-1];case 2:return e.next=4,this.vertices[r];case 4:case"end":return e.stop()}}),e,this)}))():k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.vertices[t-1];case 2:return e.next=4,this.vertices[0];case 4:case"end":return e.stop()}}),e,this)}))(),l=Qd(2,!1),u=2):o&&a.shape&&r>0&&i<Hd?(s=k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(n._IterateVertices(r,i),"t0",1);case 1:return e.next=3,this.vertices[0];case 3:case"end":return e.stop()}}),e,this)}))(),l=Qd(i+1,!1),u=i+1):(s=a._IterateVertices(r,i),l=Qd(i,o&&0===r&&a.shape),u=i),e.next=8,{verticesCount:u,vertices:s,indices:l};case 8:case"end":return e.stop()}}),e)})),i=0;case 6:if(!(i<=t)){e.next=13;break}return e.delegateYield(r(i),"t0",8);case 8:if(!e.t0){e.next=10;break}return e.abrupt("break",13);case 10:i+=Hd,e.next=6;break;case 13:case"end":return e.stop()}}),e,this)}))}])}();function Qd(e,t){var n;return k().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=0;case 1:if(!(n<e-1)){r.next=9;break}return r.next=4,n;case 4:return r.next=6,n+1;case 6:n++,r.next=1;break;case 9:if(!(t&&e>2)){r.next=14;break}return r.next=12,e-1;case 12:return r.next=14,0;case 14:case"end":return r.stop()}}),zd)}Zd.Type=Object.freeze({POINTS:0,LINE_SEGMENTS:1,POLYLINE:2,TRIANGLES:3});var $d=Object.freeze({DOT:0,NONE:1,PLUS:2,CROSS:3,TICK:4,MARK_MASK:15,CIRCLE:32,SQUARE:64,SHAPE_MASK:240}),ep=Object.freeze({BY_LAYER:-1,BY_BLOCK:-2});Wd.DefaultOptions={arcTessellationAngle:10/180*Math.PI,minArcTessellationSubdivisions:8,wireframeMesh:!1,suppressPaperSpace:!1,textOptions:md.DefaultOptions},String.prototype.codePointAt||function(){var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(r){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=t.length,r=e?Number(e):0;if(r!=r&&(r=0),!(r<0||r>=n)){var i,a=t.charCodeAt(r);return a>=55296&&a<=56319&&n>r+1&&(i=t.charCodeAt(r+1))>=56320&&i<=57343?1024*(a-55296)+i-56320+65536:a}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t}();var tp=0,np=-3;function rp(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function ip(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new rp,this.dtree=new rp}var ap=new rp,op=new rp,sp=new Uint8Array(30),lp=new Uint16Array(30),up=new Uint8Array(30),cp=new Uint16Array(30),hp=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),fp=new rp,dp=new Uint8Array(320);function pp(e,t,n,r){var i,a;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(a=r,i=0;i<30;++i)t[i]=a,a+=1<<e[i]}var vp=new Uint16Array(16);function gp(e,t,n,r){var i,a;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,a=0,i=0;i<16;++i)vp[i]=a,a+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[vp[t[n+i]]++]=i)}function mp(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function yp(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function bp(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,a=e.tag;do{r=2*r+(1&a),a>>>=1,++i,n+=t.table[i],r-=t.table[i]}while(r>=0);return e.tag=a,e.bitcount-=i,t.trans[n+r]}function xp(e,t,n){var r,i,a,o,s,l;for(r=yp(e,5,257),i=yp(e,5,1),a=yp(e,4,4),o=0;o<19;++o)dp[o]=0;for(o=0;o<a;++o){var u=yp(e,3,0);dp[hp[o]]=u}for(gp(fp,dp,0,19),s=0;s<r+i;){var c=bp(e,fp);switch(c){case 16:var h=dp[s-1];for(l=yp(e,2,3);l;--l)dp[s++]=h;break;case 17:for(l=yp(e,3,3);l;--l)dp[s++]=0;break;case 18:for(l=yp(e,7,11);l;--l)dp[s++]=0;break;default:dp[s++]=c}}gp(t,dp,0,r),gp(n,dp,r,i)}function kp(e,t,n){for(;;){var r,i,a,o,s=bp(e,t);if(256===s)return tp;if(s<256)e.dest[e.destLen++]=s;else for(r=yp(e,sp[s-=257],lp[s]),i=bp(e,n),o=a=e.destLen-yp(e,up[i],cp[i]);o<a+r;++o)e.dest[e.destLen++]=e.dest[o]}}function wp(e){for(var t,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return np;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,tp}!function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(ap,op),pp(sp,lp,4,3),pp(up,cp,2,1),sp[28]=0,lp[28]=258;var Sp=function(e,t){var n,r,i=new ip(e,t);do{switch(n=mp(i),yp(i,2,0)){case 0:r=wp(i);break;case 1:r=kp(i,ap,op);break;case 2:xp(i,i.ltree,i.dtree),r=kp(i,i.ltree,i.dtree);break;default:r=np}if(r!==tp)throw new Error("Data error")}while(!n);return i.destLen<i.dest.length?"function"===typeof i.dest.slice?i.dest.slice(0,i.destLen):i.dest.subarray(0,i.destLen):i.dest};function Ep(e,t,n,r,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function _p(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function Mp(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function Tp(e){throw new Error(e)}function Cp(e,t){e||Tp(t)}_p.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},_p.prototype.addPoint=function(e,t){"number"===typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"===typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},_p.prototype.addX=function(e){this.addPoint(e,null)},_p.prototype.addY=function(e){this.addPoint(null,e)},_p.prototype.addBezier=function(e,t,n,r,i,a,o,s){var l=[e,t],u=[n,r],c=[i,a],h=[o,s];this.addPoint(e,t),this.addPoint(o,s);for(var f=0;f<=1;f++){var d=6*l[f]-12*u[f]+6*c[f],p=-3*l[f]+9*u[f]-9*c[f]+3*h[f],v=3*u[f]-3*l[f];if(0!==p){var g=Math.pow(d,2)-4*v*p;if(!(g<0)){var m=(-d+Math.sqrt(g))/(2*p);0<m&&m<1&&(0===f&&this.addX(Ep(l[f],u[f],c[f],h[f],m)),1===f&&this.addY(Ep(l[f],u[f],c[f],h[f],m)));var y=(-d-Math.sqrt(g))/(2*p);0<y&&y<1&&(0===f&&this.addX(Ep(l[f],u[f],c[f],h[f],y)),1===f&&this.addY(Ep(l[f],u[f],c[f],h[f],y)))}}else{if(0===d)continue;var b=-v/d;0<b&&b<1&&(0===f&&this.addX(Ep(l[f],u[f],c[f],h[f],b)),1===f&&this.addY(Ep(l[f],u[f],c[f],h[f],b)))}}},_p.prototype.addQuad=function(e,t,n,r,i,a){var o=e+2/3*(n-e),s=t+2/3*(r-t),l=o+1/3*(i-e),u=s+1/3*(a-t);this.addBezier(e,t,o,s,l,u,i,a)},Mp.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},Mp.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},Mp.prototype.curveTo=Mp.prototype.bezierCurveTo=function(e,t,n,r,i,a){this.commands.push({type:"C",x1:e,y1:t,x2:n,y2:r,x:i,y:a})},Mp.prototype.quadTo=Mp.prototype.quadraticCurveTo=function(e,t,n,r){this.commands.push({type:"Q",x1:e,y1:t,x:n,y:r})},Mp.prototype.close=Mp.prototype.closePath=function(){this.commands.push({type:"Z"})},Mp.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof _p){var t=e;return this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close()}Array.prototype.push.apply(this.commands,e)},Mp.prototype.getBoundingBox=function(){for(var e=new _p,t=0,n=0,r=0,i=0,a=0;a<this.commands.length;a++){var o=this.commands[a];switch(o.type){case"M":e.addPoint(o.x,o.y),t=r=o.x,n=i=o.y;break;case"L":e.addPoint(o.x,o.y),r=o.x,i=o.y;break;case"Q":e.addQuad(r,i,o.x1,o.y1,o.x,o.y),r=o.x,i=o.y;break;case"C":e.addBezier(r,i,o.x1,o.y1,o.x2,o.y2,o.x,o.y),r=o.x,i=o.y;break;case"Z":r=t,i=n;break;default:throw new Error("Unexpected path command "+o.type)}}return e.isEmpty()&&e.addPoint(0,0),e},Mp.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var n=this.commands[t];"M"===n.type?e.moveTo(n.x,n.y):"L"===n.type?e.lineTo(n.x,n.y):"C"===n.type?e.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):"Q"===n.type?e.quadraticCurveTo(n.x1,n.y1,n.x,n.y):"Z"===n.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},Mp.prototype.toPathData=function(e){function t(t){return Math.round(t)===t?""+Math.round(t):t.toFixed(e)}function n(){for(var e=arguments,n="",r=0;r<arguments.length;r+=1){var i=e[r];i>=0&&r>0&&(n+=" "),n+=t(i)}return n}e=void 0!==e?e:2;for(var r="",i=0;i<this.commands.length;i+=1){var a=this.commands[i];"M"===a.type?r+="M"+n(a.x,a.y):"L"===a.type?r+="L"+n(a.x,a.y):"C"===a.type?r+="C"+n(a.x1,a.y1,a.x2,a.y2,a.x,a.y):"Q"===a.type?r+="Q"+n(a.x1,a.y1,a.x,a.y):"Z"===a.type&&(r+="Z")}return r},Mp.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>"},Mp.prototype.toDOMElement=function(e){var t=this.toPathData(e),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",t),n};var Ap={fail:Tp,argument:Cp,assert:Cp},Pp=2147483648,Op={},Rp={},Lp={};function Np(e){return function(){return e}}Rp.BYTE=function(e){return Ap.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]},Lp.BYTE=Np(1),Rp.CHAR=function(e){return[e.charCodeAt(0)]},Lp.CHAR=Np(1),Rp.CHARARRAY=function(e){"undefined"===typeof e&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],n=0;n<e.length;n+=1)t[n]=e.charCodeAt(n);return t},Lp.CHARARRAY=function(e){return"undefined"===typeof e?0:e.length},Rp.USHORT=function(e){return[e>>8&255,255&e]},Lp.USHORT=Np(2),Rp.SHORT=function(e){return e>=32768&&(e=-(65536-e)),[e>>8&255,255&e]},Lp.SHORT=Np(2),Rp.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},Lp.UINT24=Np(3),Rp.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},Lp.ULONG=Np(4),Rp.LONG=function(e){return e>=Pp&&(e=-(2*Pp-e)),[e>>24&255,e>>16&255,e>>8&255,255&e]},Lp.LONG=Np(4),Rp.FIXED=Rp.ULONG,Lp.FIXED=Lp.ULONG,Rp.FWORD=Rp.SHORT,Lp.FWORD=Lp.SHORT,Rp.UFWORD=Rp.USHORT,Lp.UFWORD=Lp.USHORT,Rp.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},Lp.LONGDATETIME=Np(8),Rp.TAG=function(e){return Ap.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},Lp.TAG=Np(4),Rp.Card8=Rp.BYTE,Lp.Card8=Lp.BYTE,Rp.Card16=Rp.USHORT,Lp.Card16=Lp.USHORT,Rp.OffSize=Rp.BYTE,Lp.OffSize=Lp.BYTE,Rp.SID=Rp.USHORT,Lp.SID=Lp.USHORT,Rp.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?[247+((e-=108)>>8),255&e]:e>=-1131&&e<=-108?[251+((e=-e-108)>>8),255&e]:e>=-32768&&e<=32767?Rp.NUMBER16(e):Rp.NUMBER32(e)},Lp.NUMBER=function(e){return Rp.NUMBER(e).length},Rp.NUMBER16=function(e){return[28,e>>8&255,255&e]},Lp.NUMBER16=Np(3),Rp.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},Lp.NUMBER32=Np(5),Rp.REAL=function(e){var t=e.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));t=(Math.round(e*r)/r).toString()}for(var i="",a=0,o=t.length;a<o;a+=1){var s=t[a];i+="e"===s?"-"===t[++a]?"c":"b":"."===s?"a":"-"===s?"e":s}for(var l=[30],u=0,c=(i+=1&i.length?"f":"ff").length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l},Lp.REAL=function(e){return Rp.REAL(e).length},Rp.NAME=Rp.CHARARRAY,Lp.NAME=Lp.CHARARRAY,Rp.STRING=Rp.CHARARRAY,Lp.STRING=Lp.CHARARRAY,Op.UTF8=function(e,t,n){for(var r=[],i=n,a=0;a<i;a++,t+=1)r[a]=e.getUint8(t);return String.fromCharCode.apply(null,r)},Op.UTF16=function(e,t,n){for(var r=[],i=n/2,a=0;a<i;a++,t+=2)r[a]=e.getUint16(t);return String.fromCharCode.apply(null,r)},Rp.UTF16=function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t[t.length]=r>>8&255,t[t.length]=255&r}return t},Lp.UTF16=function(e){return 2*e.length};var Ip={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"};Op.MACSTRING=function(e,t,n,r){var i=Ip[r];if(void 0!==i){for(var a="",o=0;o<n;o++){var s=e.getUint8(t+o);a+=s<=127?String.fromCharCode(s):i[127&s]}return a}};var Dp,Fp="function"===typeof WeakMap&&new WeakMap;function Up(e){return e>=-128&&e<=127}function Bp(e,t,n){for(var r=0,i=e.length;t<i&&r<64&&0===e[t];)++t,++r;return n.push(128|r-1),t}function zp(e,t,n){for(var r=0,i=e.length,a=t;a<i&&r<64;){var o=e[a];if(!Up(o))break;if(0===o&&a+1<i&&0===e[a+1])break;++a,++r}n.push(r-1);for(var s=t;s<a;++s)n.push(e[s]+256&255);return a}function Hp(e,t,n){for(var r=0,i=e.length,a=t;a<i&&r<64;){var o=e[a];if(0===o)break;if(Up(o)&&a+1<i&&Up(e[a+1]))break;++a,++r}n.push(64|r-1);for(var s=t;s<a;++s){var l=e[s];n.push(l+65536>>8&255,l+256&255)}return a}Rp.MACSTRING=function(e,t){var n=function(e){if(!Dp)for(var t in Dp={},Ip)Dp[t]=new String(t);var n=Dp[e];if(void 0!==n){if(Fp){var r=Fp.get(n);if(void 0!==r)return r}var i=Ip[e];if(void 0!==i){for(var a={},o=0;o<i.length;o++)a[i.charCodeAt(o)]=o+128;return Fp&&Fp.set(n,a),a}}}(t);if(void 0!==n){for(var r=[],i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a>=128&&void 0===(a=n[a]))return;r[i]=a}return r}},Lp.MACSTRING=function(e,t){var n=Rp.MACSTRING(e,t);return void 0!==n?n.length:0},Rp.VARDELTAS=function(e){for(var t=0,n=[];t<e.length;){var r=e[t];t=0===r?Bp(e,t,n):r>=-128&&r<=127?zp(e,t,n):Hp(e,t,n)}return n},Rp.INDEX=function(e){for(var t=1,n=[t],r=[],i=0;i<e.length;i+=1){var a=Rp.OBJECT(e[i]);Array.prototype.push.apply(r,a),t+=a.length,n.push(t)}if(0===r.length)return[0,0];for(var o=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,Rp.BYTE,Rp.USHORT,Rp.UINT24,Rp.ULONG][s],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(o,c)}return Array.prototype.concat(Rp.Card16(e.length),Rp.OffSize(s),o,r)},Lp.INDEX=function(e){return Rp.INDEX(e).length},Rp.DICT=function(e){for(var t=[],n=Object.keys(e),r=n.length,i=0;i<r;i+=1){var a=parseInt(n[i],0),o=e[a];t=(t=t.concat(Rp.OPERAND(o.value,o.type))).concat(Rp.OPERATOR(a))}return t},Lp.DICT=function(e){return Rp.DICT(e).length},Rp.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},Rp.OPERAND=function(e,t){var n=[];if(Array.isArray(t))for(var r=0;r<t.length;r+=1)Ap.argument(e.length===t.length,"Not enough arguments given for type"+t),n=n.concat(Rp.OPERAND(e[r],t[r]));else if("SID"===t)n=n.concat(Rp.NUMBER(e));else if("offset"===t)n=n.concat(Rp.NUMBER32(e));else if("number"===t)n=n.concat(Rp.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);n=n.concat(Rp.REAL(e))}return n},Rp.OP=Rp.BYTE,Lp.OP=Lp.BYTE;var Gp="function"===typeof WeakMap&&new WeakMap;function jp(e,t,n){if(t.length&&("coverageFormat"!==t[0].name||1===t[0].value))for(var r=0;r<t.length;r+=1){var i=t[r];this[i.name]=i.value}if(this.tableName=e,this.fields=t,n)for(var a=Object.keys(n),o=0;o<a.length;o+=1){var s=a[o],l=n[s];void 0!==this[s]&&(this[s]=l)}}function Vp(e,t,n){void 0===n&&(n=t.length);var r=new Array(t.length+1);r[0]={name:e+"Count",type:"USHORT",value:n};for(var i=0;i<t.length;i++)r[i+1]={name:e+i,type:"USHORT",value:t[i]};return r}function Wp(e,t,n){var r=t.length,i=new Array(r+1);i[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<r;a++)i[a+1]={name:e+a,type:"TABLE",value:n(t[a],a)};return i}function Xp(e,t,n){var r=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:r};for(var a=0;a<r;a++)i=i.concat(n(t[a],a));return i}function qp(e){1===e.format?jp.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Vp("glyph",e.glyphs))):2===e.format?jp.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Xp("rangeRecord",e.ranges,(function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]})))):Ap.assert(!1,"Coverage format must be 1 or 2.")}function Yp(e){jp.call(this,"scriptListTable",Xp("scriptRecord",e,(function(e,t){var n=e.script,r=n.defaultLangSys;return Ap.assert(!!r,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new jp("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new jp("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(Vp("featureIndex",r.featureIndexes)))}].concat(Xp("langSys",n.langSysRecords,(function(e,t){var n=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new jp("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(Vp("featureIndex",n.featureIndexes)))}]}))))}]})))}function Kp(e){jp.call(this,"featureListTable",Xp("featureRecord",e,(function(e,t){var n=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new jp("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(Vp("lookupListIndex",n.lookupListIndexes)))}]})))}function Jp(e,t){jp.call(this,"lookupListTable",Wp("lookup",e,(function(e){var n=t[e.lookupType];return Ap.assert(!!n,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new jp("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(Wp("subtable",e.subtables,n)))})))}Rp.CHARSTRING=function(e){if(Gp){var t=Gp.get(e);if(void 0!==t)return t}for(var n=[],r=e.length,i=0;i<r;i+=1){var a=e[i];n=n.concat(Rp[a.type](a.value))}return Gp&&Gp.set(e,n),n},Lp.CHARSTRING=function(e){return Rp.CHARSTRING(e).length},Rp.OBJECT=function(e){var t=Rp[e.type];return Ap.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},Lp.OBJECT=function(e){var t=Lp[e.type];return Ap.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},Rp.TABLE=function(e){for(var t=[],n=e.fields.length,r=[],i=[],a=0;a<n;a+=1){var o=e.fields[a],s=Rp[o.type];Ap.argument(void 0!==s,"No encoding function for field type "+o.type+" ("+o.name+")");var l=e[o.name];void 0===l&&(l=o.value);var u=s(l);"TABLE"===o.type?(i.push(t.length),t=t.concat([0,0]),r.push(u)):t=t.concat(u)}for(var c=0;c<r.length;c+=1){var h=i[c],f=t.length;Ap.argument(f<65536,"Table "+e.tableName+" too big."),t[h]=f>>8,t[h+1]=255&f,t=t.concat(r[c])}return t},Lp.TABLE=function(e){for(var t=0,n=e.fields.length,r=0;r<n;r+=1){var i=e.fields[r],a=Lp[i.type];Ap.argument(void 0!==a,"No sizeOf function for field type "+i.type+" ("+i.name+")");var o=e[i.name];void 0===o&&(o=i.value),t+=a(o),"TABLE"===i.type&&(t+=2)}return t},Rp.RECORD=Rp.TABLE,Lp.RECORD=Lp.TABLE,Rp.LITERAL=function(e){return e},Lp.LITERAL=function(e){return e.length},jp.prototype.encode=function(){return Rp.TABLE(this)},jp.prototype.sizeOf=function(){return Lp.TABLE(this)},qp.prototype=Object.create(jp.prototype),qp.prototype.constructor=qp,Yp.prototype=Object.create(jp.prototype),Yp.prototype.constructor=Yp,Kp.prototype=Object.create(jp.prototype),Kp.prototype.constructor=Kp,Jp.prototype=Object.create(jp.prototype),Jp.prototype.constructor=Jp;var Zp={Table:jp,Record:jp,Coverage:qp,ScriptList:Yp,FeatureList:Kp,LookupList:Jp,ushortList:Vp,tableList:Wp,recordList:Xp};function Qp(e,t){return e.getUint8(t)}function $p(e,t){return e.getUint16(t,!1)}function ev(e,t){return e.getUint32(t,!1)}function tv(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var nv={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function rv(e,t){this.data=e,this.offset=t,this.relativeOffset=0}rv.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},rv.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},rv.prototype.parseCard8=rv.prototype.parseByte,rv.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},rv.prototype.parseCard16=rv.prototype.parseUShort,rv.prototype.parseSID=rv.prototype.parseUShort,rv.prototype.parseOffset16=rv.prototype.parseUShort,rv.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},rv.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},rv.prototype.parseULong=function(){var e=ev(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},rv.prototype.parseOffset32=rv.prototype.parseULong,rv.prototype.parseFixed=function(){var e=tv(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},rv.prototype.parseString=function(e){var t=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=e;for(var i=0;i<e;i++)r+=String.fromCharCode(t.getUint8(n+i));return r},rv.prototype.parseTag=function(){return this.parseString(4)},rv.prototype.parseLongDateTime=function(){var e=ev(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},rv.prototype.parseVersion=function(e){var t=$p(this.data,this.offset+this.relativeOffset),n=$p(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,void 0===e&&(e=4096),t+n/e/10},rv.prototype.skip=function(e,t){void 0===t&&(t=1),this.relativeOffset+=nv[e]*t},rv.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint32(r),r+=4;return this.relativeOffset+=4*e,t},rv.prototype.parseOffset16List=rv.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint16(r),r+=2;return this.relativeOffset+=2*e,t},rv.prototype.parseShortList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getInt16(r),r+=2;return this.relativeOffset+=2*e,t},rv.prototype.parseByteList=function(e){for(var t=new Array(e),n=this.data,r=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=n.getUint8(r++);return this.relativeOffset+=e,t},rv.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},rv.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=0;r<e;r++)n[r]=t.call(this);return n},rv.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var a={},o=0;o<r.length;o++){var s=r[o],l=t[s];a[s]=l.call(this)}n[i]=a}return n},rv.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var n=new Array(e),r=Object.keys(t),i=0;i<e;i++){for(var a={},o=0;o<r.length;o++){var s=r[o],l=t[s];a[s]=l.call(this)}n[i]=a}return n},rv.prototype.parseStruct=function(e){if("function"===typeof e)return e.call(this);for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r],a=e[i];n[i]=a.call(this)}return n},rv.prototype.parseValueRecord=function(e){if(void 0===e&&(e=this.parseUShort()),0!==e){var t={};return 1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t}},rv.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),n=new Array(t),r=0;r<t;r++)n[r]=this.parseValueRecord(e);return n},rv.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new rv(this.data,this.offset+t).parseStruct(e)},rv.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new rv(this.data,this.offset+t).parseStruct(e)},rv.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),n=t.length,r=this.relativeOffset,i=new Array(n),a=0;a<n;a++){var o=t[a];if(0!==o)if(this.relativeOffset=o,e){for(var s=this.parseOffset16List(),l=new Array(s.length),u=0;u<s.length;u++)this.relativeOffset=o+s[u],l[u]=e.call(this);i[a]=l}else i[a]=this.parseUShortList();else i[a]=void 0}return this.relativeOffset=r,i},rv.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),n=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(n)};if(2===t){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")},rv.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:rv.uShort,end:rv.uShort,classId:rv.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},rv.list=function(e,t){return function(){return this.parseList(e,t)}},rv.list32=function(e,t){return function(){return this.parseList32(e,t)}},rv.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},rv.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},rv.pointer=function(e){return function(){return this.parsePointer(e)}},rv.pointer32=function(e){return function(){return this.parsePointer32(e)}},rv.tag=rv.prototype.parseTag,rv.byte=rv.prototype.parseByte,rv.uShort=rv.offset16=rv.prototype.parseUShort,rv.uShortList=rv.prototype.parseUShortList,rv.uLong=rv.offset32=rv.prototype.parseULong,rv.uLongList=rv.prototype.parseULongList,rv.struct=rv.prototype.parseStruct,rv.coverage=rv.prototype.parseCoverage,rv.classDef=rv.prototype.parseClassDef;var iv={reserved:rv.uShort,reqFeatureIndex:rv.uShort,featureIndexes:rv.uShortList};rv.prototype.parseScriptList=function(){return this.parsePointer(rv.recordList({tag:rv.tag,script:rv.pointer({defaultLangSys:rv.pointer(iv),langSysRecords:rv.recordList({tag:rv.tag,langSys:rv.pointer(iv)})})}))||[]},rv.prototype.parseFeatureList=function(){return this.parsePointer(rv.recordList({tag:rv.tag,feature:rv.pointer({featureParams:rv.offset16,lookupListIndexes:rv.uShortList})}))||[]},rv.prototype.parseLookupList=function(e){return this.parsePointer(rv.list(rv.pointer((function(){var t=this.parseUShort();Ap.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var n=this.parseUShort(),r=16&n;return{lookupType:t,lookupFlag:n,subtables:this.parseList(rv.pointer(e[t])),markFilteringSet:r?this.parseUShort():void 0}}))))||[]},rv.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return Ap.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:rv.offset32,featureTableSubstitutionOffset:rv.offset32})}))||[]};var av={getByte:Qp,getCard8:Qp,getUShort:$p,getCard16:$p,getShort:function(e,t){return e.getInt16(t,!1)},getULong:ev,getFixed:tv,getTag:function(e,t){for(var n="",r=t;r<t+4;r+=1)n+=String.fromCharCode(e.getInt8(r));return n},getOffset:function(e,t,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=e.getUint8(t+i);return r},getBytes:function(e,t,n){for(var r=[],i=t;i<n;i+=1)r.push(e.getUint8(i));return r},bytesToString:function(e){for(var t="",n=0;n<e.length;n+=1)t+=String.fromCharCode(e[n]);return t},Parser:rv};function ov(e,t,n){e.segments.push({end:t,start:t,delta:-(t-n),offset:0,glyphIndex:n})}var sv={parse:function(e,t){var n={};n.version=av.getUShort(e,t),Ap.argument(0===n.version,"cmap table version should be 0."),n.numTables=av.getUShort(e,t+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var a=av.getUShort(e,t+4+8*i),o=av.getUShort(e,t+4+8*i+2);if(3===a&&(0===o||1===o||10===o)||0===a&&(0===o||1===o||2===o||3===o||4===o)){r=av.getULong(e,t+4+8*i+4);break}}if(-1===r)throw new Error("No valid cmap sub-tables found.");var s=new av.Parser(e,t+r);if(n.format=s.parseUShort(),12===n.format)!function(e,t){var n;t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong(),e.groupCount=n=t.parseULong(),e.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=t.parseULong(),a=t.parseULong(),o=t.parseULong(),s=i;s<=a;s+=1)e.glyphIndexMap[s]=o,o++}(n,s);else{if(4!==n.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");!function(e,t,n,r,i){var a;e.length=t.parseUShort(),e.language=t.parseUShort(),e.segCount=a=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var o=new av.Parser(n,r+i+14),s=new av.Parser(n,r+i+16+2*a),l=new av.Parser(n,r+i+16+4*a),u=new av.Parser(n,r+i+16+6*a),c=r+i+16+8*a,h=0;h<a-1;h+=1)for(var f=void 0,d=o.parseUShort(),p=s.parseUShort(),v=l.parseShort(),g=u.parseUShort(),m=p;m<=d;m+=1)0!==g?(c=u.offset+u.relativeOffset-2,c+=g,c+=2*(m-p),0!==(f=av.getUShort(n,c))&&(f=f+v&65535)):f=m+v&65535,e.glyphIndexMap[m]=f}(n,s,e,t,r)}return n},make:function(e){var t,n=!0;for(t=e.length-1;t>0;t-=1){if(e.get(t).unicode>65535){console.log("Adding CMAP format 12 (needed!)"),n=!1;break}}var r=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:n?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:n?12:20}];n||(r=r.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),r=r.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var i=new Zp.Table("cmap",r);for(i.segments=[],t=0;t<e.length;t+=1){for(var a=e.get(t),o=0;o<a.unicodes.length;o+=1)ov(i,a.unicodes[o],t);i.segments=i.segments.sort((function(e,t){return e.start-t.start}))}!function(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}(i);var s=i.segments.length,l=0,u=[],c=[],h=[],f=[],d=[],p=[];for(t=0;t<s;t+=1){var v=i.segments[t];v.end<=65535&&v.start<=65535?(u=u.concat({name:"end_"+t,type:"USHORT",value:v.end}),c=c.concat({name:"start_"+t,type:"USHORT",value:v.start}),h=h.concat({name:"idDelta_"+t,type:"SHORT",value:v.delta}),f=f.concat({name:"idRangeOffset_"+t,type:"USHORT",value:v.offset}),void 0!==v.glyphId&&(d=d.concat({name:"glyph_"+t,type:"USHORT",value:v.glyphId}))):l+=1,n||void 0===v.glyphIndex||(p=(p=(p=p.concat({name:"cmap12Start_"+t,type:"ULONG",value:v.start})).concat({name:"cmap12End_"+t,type:"ULONG",value:v.end})).concat({name:"cmap12Glyph_"+t,type:"ULONG",value:v.glyphIndex}))}if(i.segCountX2=2*(s-l),i.searchRange=2*Math.pow(2,Math.floor(Math.log(s-l)/Math.log(2))),i.entrySelector=Math.log(i.searchRange/2)/Math.log(2),i.rangeShift=i.segCountX2-i.searchRange,i.fields=i.fields.concat(u),i.fields.push({name:"reservedPad",type:"USHORT",value:0}),i.fields=i.fields.concat(c),i.fields=i.fields.concat(h),i.fields=i.fields.concat(f),i.fields=i.fields.concat(d),i.cmap4Length=14+2*u.length+2+2*c.length+2*h.length+2*f.length+2*d.length,!n){var g=16+4*p.length;i.cmap12Offset=20+i.cmap4Length,i.fields=i.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:g},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:p.length/3}]),i.fields=i.fields.concat(p)}return i}},lv=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],uv=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],cv=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],hv=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function fv(e){this.font=e}function dv(e){this.cmap=e}function pv(e,t){this.encoding=e,this.charset=t}function vv(e){switch(e.version){case 1:this.names=hv.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<hv.length?this.names[t]=hv[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-hv.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var n=0;n<e.numberOfGlyphs;n++)this.names[n]=hv[n+e.glyphNameIndex[n]];break;default:this.names=[]}}function gv(e,t){t.lowMemory?function(e){e._IndexToUnicodeMap={};for(var t=e.tables.cmap.glyphIndexMap,n=Object.keys(t),r=0;r<n.length;r+=1){var i=n[r],a=t[i];void 0===e._IndexToUnicodeMap[a]?e._IndexToUnicodeMap[a]={unicodes:[parseInt(i)]}:e._IndexToUnicodeMap[a].unicodes.push(parseInt(i))}}(e):function(e){for(var t,n=e.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var a=r[i],o=n[a];(t=e.glyphs.get(o)).addUnicode(parseInt(a))}for(var s=0;s<e.glyphs.length;s+=1)t=e.glyphs.get(s),e.cffEncoding?e.isCIDFont?t.name="gid"+s:t.name=e.cffEncoding.charset[s]:e.glyphNames.names&&(t.name=e.glyphNames.glyphIndexToName(s))}(e)}fv.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.font.glyphs;if(n)for(var r=0;r<n.length;r+=1)for(var i=n.get(r),a=0;a<i.unicodes.length;a+=1)if(i.unicodes[a]===t)return r;return null},dv.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},pv.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),n=this.encoding[t];return this.charset.indexOf(n)},vv.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},vv.prototype.glyphIndexToName=function(e){return this.names[e]};var mv={line:function(e,t,n,r,i){e.beginPath(),e.moveTo(t,n),e.lineTo(r,i),e.stroke()}};function yv(e){this.bindConstructorValues(e)}function bv(e,t,n){Object.defineProperty(e,t,{get:function(){return e.path,e[n]},set:function(t){e[n]=t},enumerable:!0,configurable:!0})}function xv(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];r.path.unitsPerEm=e.unitsPerEm,this.glyphs[n]=r}this.length=t&&t.length||0}yv.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",function(e,t){var n=t||new Mp;return{configurable:!0,get:function(){return"function"===typeof n&&(n=n()),n},set:function(e){n=e}}}(0,e.path))},yv.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},yv.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},yv.prototype.getPath=function(e,t,n,r,i){var a,o;e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:72,r||(r={});var s=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(o=this.path&&i.hinting.exec(this,n)),o)a=i.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),s=l=1;else{a=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;void 0===s&&(s=u),void 0===l&&(l=u)}for(var c=new Mp,h=0;h<a.length;h+=1){var f=a[h];"M"===f.type?c.moveTo(e+f.x*s,t+-f.y*l):"L"===f.type?c.lineTo(e+f.x*s,t+-f.y*l):"Q"===f.type?c.quadraticCurveTo(e+f.x1*s,t+-f.y1*l,e+f.x*s,t+-f.y*l):"C"===f.type?c.curveTo(e+f.x1*s,t+-f.y1*l,e+f.x2*s,t+-f.y2*l,e+f.x*s,t+-f.y*l):"Z"===f.type&&c.closePath()}return c},yv.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],n=0;n<this.points.length;n+=1){var r=this.points[n];t.push(r),r.lastPointOfContour&&(e.push(t),t=[])}return Ap.argument(0===t.length,"There are still points left in the current contour."),e},yv.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];"Z"!==i.type&&(t.push(i.x),n.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),n.push(i.y1)),"C"===i.type&&(t.push(i.x2),n.push(i.y2))}var a={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(a.xMin)||(a.xMin=0),isFinite(a.xMax)||(a.xMax=this.advanceWidth),isFinite(a.yMin)||(a.yMin=0),isFinite(a.yMax)||(a.yMax=0),a.rightSideBearing=this.advanceWidth-a.leftSideBearing-(a.xMax-a.xMin),a},yv.prototype.draw=function(e,t,n,r,i){this.getPath(t,n,r,i).draw(e)},yv.prototype.drawPoints=function(e,t,n,r){function i(t,n,r,i){e.beginPath();for(var a=0;a<t.length;a+=1)e.moveTo(n+t[a].x*i,r+t[a].y*i),e.arc(n+t[a].x*i,r+t[a].y*i,2,0,2*Math.PI,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24;for(var a=1/this.path.unitsPerEm*r,o=[],s=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];void 0!==c.x&&o.push({x:c.x,y:-c.y}),void 0!==c.x1&&s.push({x:c.x1,y:-c.y1}),void 0!==c.x2&&s.push({x:c.x2,y:-c.y2})}e.fillStyle="blue",i(o,t,n,a),e.fillStyle="red",i(s,t,n,a)},yv.prototype.drawMetrics=function(e,t,n,r){var i;t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:24,i=1/this.path.unitsPerEm*r,e.lineWidth=1,e.strokeStyle="black",mv.line(e,t,-1e4,t,1e4),mv.line(e,-1e4,n,1e4,n);var a=this.xMin||0,o=this.yMin||0,s=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;e.strokeStyle="blue",mv.line(e,t+a*i,-1e4,t+a*i,1e4),mv.line(e,t+s*i,-1e4,t+s*i,1e4),mv.line(e,-1e4,n+-o*i,1e4,n+-o*i),mv.line(e,-1e4,n+-l*i,1e4,n+-l*i),e.strokeStyle="green",mv.line(e,t+u*i,-1e4,t+u*i,1e4)},xv.prototype.get=function(e){if(void 0===this.glyphs[e]){this.font._push(e),"function"===typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],n=this.font._IndexToUnicodeMap[e];if(n)for(var r=0;r<n.unicodes.length;r++)t.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else"function"===typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]},xv.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var kv={GlyphSet:xv,glyphLoader:function(e,t){return new yv({index:t,font:e})},ttfGlyphLoader:function(e,t,n,r,i,a){return function(){var o=new yv({index:t,font:e});return o.path=function(){n(o,r,i);var t=a(e.glyphs,o);return t.unitsPerEm=e.unitsPerEm,t},bv(o,"xMin","_xMin"),bv(o,"xMax","_xMax"),bv(o,"yMin","_yMin"),bv(o,"yMax","_yMax"),o}},cffGlyphLoader:function(e,t,n,r){return function(){var i=new yv({index:t,font:e});return i.path=function(){var t=n(e,i,r);return t.unitsPerEm=e.unitsPerEm,t},i}}};function wv(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1)if(!wv(e[n],t[n]))return!1;return!0}return!1}function Sv(e){return e.length<1240?107:e.length<33900?1131:32768}function Ev(e,t,n){var r,i,a=[],o=[],s=av.getCard16(e,t);if(0!==s){var l=av.getByte(e,t+2);r=t+(s+1)*l+2;for(var u=t+3,c=0;c<s+1;c+=1)a.push(av.getOffset(e,u,l)),u+=l;i=r+a[s]}else i=t+2;for(var h=0;h<a.length-1;h+=1){var f=av.getBytes(e,r+a[h],r+a[h+1]);n&&(f=n(f)),o.push(f)}return{objects:o,startOffset:t,endOffset:i}}function _v(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t)return function(e){for(var t="",n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var r=e.parseByte(),i=r>>4,a=15&r;if(15===i)break;if(t+=n[i],15===a)break;t+=n[a]}return parseFloat(t)}(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return 256*(t-247)+e.parseByte()+108;if(t>=251&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function Mv(e,t,n){t=void 0!==t?t:0;var r=new av.Parser(e,t),i=[],a=[];for(n=void 0!==n?n:e.length;r.relativeOffset<n;){var o=r.parseByte();o<=21?(12===o&&(o=1200+r.parseByte()),i.push([o,a]),a=[]):a.push(_v(r,o))}return function(e){for(var t={},n=0;n<e.length;n+=1){var r=e[n][0],i=e[n][1],a=void 0;if(a=1===i.length?i[0]:i,t.hasOwnProperty(r)&&!isNaN(t[r]))throw new Error("Object "+t+" already has key "+r);t[r]=a}return t}(i)}function Tv(e,t){return t=t<=390?lv[t]:e[t-391]}function Cv(e,t,n){for(var r,i={},a=0;a<t.length;a+=1){var o=t[a];if(Array.isArray(o.type)){var s=[];s.length=o.type.length;for(var l=0;l<o.type.length;l++)void 0===(r=void 0!==e[o.op]?e[o.op][l]:void 0)&&(r=void 0!==o.value&&void 0!==o.value[l]?o.value[l]:null),"SID"===o.type[l]&&(r=Tv(n,r)),s[l]=r;i[o.name]=s}else void 0===(r=e[o.op])&&(r=void 0!==o.value?o.value:null),"SID"===o.type&&(r=Tv(n,r)),i[o.name]=r}return i}var Av=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Pv=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ov(e,t){return Cv(Mv(e,0,e.byteLength),Av,t)}function Rv(e,t,n,r){return Cv(Mv(e,t,n),Pv,r)}function Lv(e,t,n,r){for(var i=[],a=0;a<n.length;a+=1){var o=Ov(new DataView(new Uint8Array(n[a]).buffer),r);o._subrs=[],o._subrsBias=0,o._defaultWidthX=0,o._nominalWidthX=0;var s=o.private[0],l=o.private[1];if(0!==s&&0!==l){var u=Rv(e,l+t,s,r);if(o._defaultWidthX=u.defaultWidthX,o._nominalWidthX=u.nominalWidthX,0!==u.subrs){var c=Ev(e,l+u.subrs+t);o._subrs=c.objects,o._subrsBias=Sv(o._subrs)}o._privateDict=u}i.push(o)}return i}function Nv(e,t,n){var r,i,a,o,s,l,u,c,h=new Mp,f=[],d=0,p=!1,v=!1,g=0,m=0;if(e.isCIDFont){var y=e.tables.cff.topDict._fdSelect[t.index],b=e.tables.cff.topDict._fdArray[y];s=b._subrs,l=b._subrsBias,u=b._defaultWidthX,c=b._nominalWidthX}else s=e.tables.cff.topDict._subrs,l=e.tables.cff.topDict._subrsBias,u=e.tables.cff.topDict._defaultWidthX,c=e.tables.cff.topDict._nominalWidthX;var x=u;function k(e,t){v&&h.closePath(),h.moveTo(e,t),v=!0}function w(){f.length%2!==0&&!p&&(x=f.shift()+c),d+=f.length>>1,f.length=0,p=!0}return function n(u){for(var y,b,S,E,_,M,T,C,A,P,O,R,L=0;L<u.length;){var N=u[L];switch(L+=1,N){case 1:case 3:case 18:case 23:w();break;case 4:f.length>1&&!p&&(x=f.shift()+c,p=!0),m+=f.pop(),k(g,m);break;case 5:for(;f.length>0;)g+=f.shift(),m+=f.shift(),h.lineTo(g,m);break;case 6:for(;f.length>0&&(g+=f.shift(),h.lineTo(g,m),0!==f.length);)m+=f.shift(),h.lineTo(g,m);break;case 7:for(;f.length>0&&(m+=f.shift(),h.lineTo(g,m),0!==f.length);)g+=f.shift(),h.lineTo(g,m);break;case 8:for(;f.length>0;)r=g+f.shift(),i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),g=a+f.shift(),m=o+f.shift(),h.curveTo(r,i,a,o,g,m);break;case 10:_=f.pop()+l,(M=s[_])&&n(M);break;case 11:return;case 12:switch(N=u[L],L+=1,N){case 35:r=g+f.shift(),i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),T=a+f.shift(),C=o+f.shift(),A=T+f.shift(),P=C+f.shift(),O=A+f.shift(),R=P+f.shift(),g=O+f.shift(),m=R+f.shift(),f.shift(),h.curveTo(r,i,a,o,T,C),h.curveTo(A,P,O,R,g,m);break;case 34:r=g+f.shift(),i=m,a=r+f.shift(),o=i+f.shift(),T=a+f.shift(),C=o,A=T+f.shift(),P=o,O=A+f.shift(),R=m,g=O+f.shift(),h.curveTo(r,i,a,o,T,C),h.curveTo(A,P,O,R,g,m);break;case 36:r=g+f.shift(),i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),T=a+f.shift(),C=o,A=T+f.shift(),P=o,O=A+f.shift(),R=P+f.shift(),g=O+f.shift(),h.curveTo(r,i,a,o,T,C),h.curveTo(A,P,O,R,g,m);break;case 37:r=g+f.shift(),i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),T=a+f.shift(),C=o+f.shift(),A=T+f.shift(),P=C+f.shift(),O=A+f.shift(),R=P+f.shift(),Math.abs(O-g)>Math.abs(R-m)?g=O+f.shift():m=R+f.shift(),h.curveTo(r,i,a,o,T,C),h.curveTo(A,P,O,R,g,m);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+N),f.length=0}break;case 14:f.length>0&&!p&&(x=f.shift()+c,p=!0),v&&(h.closePath(),v=!1);break;case 19:case 20:w(),L+=d+7>>3;break;case 21:f.length>2&&!p&&(x=f.shift()+c,p=!0),m+=f.pop(),k(g+=f.pop(),m);break;case 22:f.length>1&&!p&&(x=f.shift()+c,p=!0),k(g+=f.pop(),m);break;case 24:for(;f.length>2;)r=g+f.shift(),i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),g=a+f.shift(),m=o+f.shift(),h.curveTo(r,i,a,o,g,m);g+=f.shift(),m+=f.shift(),h.lineTo(g,m);break;case 25:for(;f.length>6;)g+=f.shift(),m+=f.shift(),h.lineTo(g,m);r=g+f.shift(),i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),g=a+f.shift(),m=o+f.shift(),h.curveTo(r,i,a,o,g,m);break;case 26:for(f.length%2&&(g+=f.shift());f.length>0;)r=g,i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),g=a,m=o+f.shift(),h.curveTo(r,i,a,o,g,m);break;case 27:for(f.length%2&&(m+=f.shift());f.length>0;)r=g+f.shift(),i=m,a=r+f.shift(),o=i+f.shift(),g=a+f.shift(),m=o,h.curveTo(r,i,a,o,g,m);break;case 28:y=u[L],b=u[L+1],f.push((y<<24|b<<16)>>16),L+=2;break;case 29:_=f.pop()+e.gsubrsBias,(M=e.gsubrs[_])&&n(M);break;case 30:for(;f.length>0&&(r=g,i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),g=a+f.shift(),m=o+(1===f.length?f.shift():0),h.curveTo(r,i,a,o,g,m),0!==f.length);)r=g+f.shift(),i=m,a=r+f.shift(),o=i+f.shift(),m=o+f.shift(),g=a+(1===f.length?f.shift():0),h.curveTo(r,i,a,o,g,m);break;case 31:for(;f.length>0&&(r=g+f.shift(),i=m,a=r+f.shift(),o=i+f.shift(),m=o+f.shift(),g=a+(1===f.length?f.shift():0),h.curveTo(r,i,a,o,g,m),0!==f.length);)r=g,i=m+f.shift(),a=r+f.shift(),o=i+f.shift(),g=a+f.shift(),m=o+(1===f.length?f.shift():0),h.curveTo(r,i,a,o,g,m);break;default:N<32?console.log("Glyph "+t.index+": unknown operator "+N):N<247?f.push(N-139):N<251?(y=u[L],L+=1,f.push(256*(N-247)+y+108)):N<255?(y=u[L],L+=1,f.push(256*-(N-251)-y-108)):(y=u[L],b=u[L+1],S=u[L+2],E=u[L+3],L+=4,f.push((y<<24|b<<16|S<<8|E)/65536))}}}(n),t.advanceWidth=x,h}function Iv(e,t){var n,r=lv.indexOf(e);return r>=0&&(n=r),(r=t.indexOf(e))>=0?n=r+lv.length:(n=lv.length+t.length,t.push(e)),n}function Dv(e,t,n){for(var r={},i=0;i<e.length;i+=1){var a=e[i],o=t[a.name];void 0===o||wv(o,a.value)||("SID"===a.type&&(o=Iv(o,n)),r[a.op]={name:a.name,type:a.type,value:o})}return r}function Fv(e,t){var n=new Zp.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Dv(Av,e,t),n}function Uv(e){var t=new Zp.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Bv(e){var t=[],n=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var r=0,i=0,a=0;a<n.commands.length;a+=1){var o=void 0,s=void 0,l=n.commands[a];if("Q"===l.type){var u=1/3,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*r+c*l.x1),y1:Math.round(u*i+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if("M"===l.type)o=Math.round(l.x-r),s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if("L"===l.type)o=Math.round(l.x-r),s=Math.round(l.y-i),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if("C"===l.type){var h=Math.round(l.x1-r),f=Math.round(l.y1-i),d=Math.round(l.x2-l.x1),p=Math.round(l.y2-l.y1);o=Math.round(l.x-l.x2),s=Math.round(l.y-l.y2),t.push({name:"dx1",type:"NUMBER",value:h}),t.push({name:"dy1",type:"NUMBER",value:f}),t.push({name:"dx2",type:"NUMBER",value:d}),t.push({name:"dy2",type:"NUMBER",value:p}),t.push({name:"dx",type:"NUMBER",value:o}),t.push({name:"dy",type:"NUMBER",value:s}),t.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}var zv={parse:function(e,t,n,r){n.tables.cff={};var i=function(e,t){var n={};return n.formatMajor=av.getCard8(e,t),n.formatMinor=av.getCard8(e,t+1),n.size=av.getCard8(e,t+2),n.offsetSize=av.getCard8(e,t+3),n.startOffset=t,n.endOffset=t+4,n}(e,t),a=Ev(e,i.endOffset,av.bytesToString),o=Ev(e,a.endOffset),s=Ev(e,o.endOffset,av.bytesToString),l=Ev(e,s.endOffset);n.gsubrs=l.objects,n.gsubrsBias=Sv(n.gsubrs);var u=Lv(e,t,o.objects,s.objects);if(1!==u.length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),void 0!==c.ros[0]&&void 0!==c.ros[1]&&(n.isCIDFont=!0),n.isCIDFont){var h=c.fdArray,f=c.fdSelect;if(0===h||0===f)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");var d=Ev(e,h+=t),p=Lv(e,t,d.objects,s.objects);c._fdArray=p,f+=t,c._fdSelect=function(e,t,n,r){var i,a=[],o=new av.Parser(e,t),s=o.parseCard8();if(0===s)for(var l=0;l<n;l++){if((i=o.parseCard8())>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");a.push(i)}else{if(3!==s)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+s);var u,c=o.parseCard16(),h=o.parseCard16();if(0!==h)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+h);for(var f=0;f<c;f++){if(i=o.parseCard8(),u=o.parseCard16(),i>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+r+")");if(u>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+u);for(;h<u;h++)a.push(i);h=u}if(u!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+u)}return a}(e,f,n.numGlyphs,p.length)}var v,g=t+c.private[1],m=Rv(e,g,c.private[0],s.objects);if(n.defaultWidthX=m.defaultWidthX,n.nominalWidthX=m.nominalWidthX,0!==m.subrs){var y=g+m.subrs,b=Ev(e,y);n.subrs=b.objects,n.subrsBias=Sv(n.subrs)}else n.subrs=[],n.subrsBias=0;r.lowMemory?(v=function(e,t){var n,r,i=[],a=av.getCard16(e,t);if(0!==a){var o=av.getByte(e,t+2);n=t+(a+1)*o+2;for(var s=t+3,l=0;l<a+1;l+=1)i.push(av.getOffset(e,s,o)),s+=o;r=n+i[a]}else r=t+2;return{offsets:i,startOffset:t,endOffset:r}}(e,t+c.charStrings),n.nGlyphs=v.offsets.length):(v=Ev(e,t+c.charStrings),n.nGlyphs=v.objects.length);var x=function(e,t,n,r){var i,a,o=new av.Parser(e,t);n-=1;var s=[".notdef"],l=o.parseCard8();if(0===l)for(var u=0;u<n;u+=1)i=o.parseSID(),s.push(Tv(r,i));else if(1===l)for(;s.length<=n;){i=o.parseSID(),a=o.parseCard8();for(var c=0;c<=a;c+=1)s.push(Tv(r,i)),i+=1}else{if(2!==l)throw new Error("Unknown charset format "+l);for(;s.length<=n;){i=o.parseSID(),a=o.parseCard16();for(var h=0;h<=a;h+=1)s.push(Tv(r,i)),i+=1}}return s}(e,t+c.charset,n.nGlyphs,s.objects);if(0===c.encoding?n.cffEncoding=new pv(uv,x):1===c.encoding?n.cffEncoding=new pv(cv,x):n.cffEncoding=function(e,t,n){var r,i={},a=new av.Parser(e,t),o=a.parseCard8();if(0===o)for(var s=a.parseCard8(),l=0;l<s;l+=1)i[r=a.parseCard8()]=l;else{if(1!==o)throw new Error("Unknown encoding format "+o);var u=a.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var h=a.parseCard8(),f=a.parseCard8(),d=h;d<=h+f;d+=1)i[d]=r,r+=1}return new pv(i,n)}(e,t+c.encoding,x),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new kv.GlyphSet(n),r.lowMemory)n._push=function(r){var i=function(e,t,n,r,i){var a=av.getCard16(n,r),o=0;0!==a&&(o=r+(a+1)*av.getByte(n,r+2)+2);var s=av.getBytes(n,o+t[e],o+t[e+1]);return i&&(s=i(s)),s}(r,v.offsets,e,t+c.charStrings);n.glyphs.push(r,kv.cffGlyphLoader(n,r,Nv,i))};else for(var k=0;k<n.nGlyphs;k+=1){var w=v.objects[k];n.glyphs.push(k,kv.cffGlyphLoader(n,k,Nv,w))}},make:function(e,t){for(var n,r=new Zp.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,a={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o=[],s=1;s<e.length;s+=1)n=e.get(s),o.push(n.name);var l=[];r.header=new Zp.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),r.nameIndex=function(e){var t=new Zp.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var n=0;n<e.length;n+=1)t.names.push({name:"name_"+n,type:"NAME",value:e[n]});return t}([t.postScriptName]);var u=Fv(a,l);r.topDictIndex=Uv(u),r.globalSubrIndex=new Zp.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),r.charsets=function(e,t){for(var n=new Zp.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<e.length;r+=1){var i=Iv(e[r],t);n.fields.push({name:"glyph_"+r,type:"SID",value:i})}return n}(o,l),r.charStringsIndex=function(e){for(var t=new Zp.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<e.length;n+=1){var r=e.get(n),i=Bv(r);t.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return t}(e),r.privateDict=function(e,t){var n=new Zp.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Dv(Pv,e,t),n}({},l),r.stringIndex=function(e){var t=new Zp.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var n=0;n<e.length;n+=1)t.strings.push({name:"string_"+n,type:"STRING",value:e[n]});return t}(l);var c=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return a.charset=c,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a.private[1]=a.charStrings+r.charStringsIndex.sizeOf(),u=Fv(a,l),r.topDictIndex=Uv(u),r}};var Hv={parse:function(e,t){var n={},r=new av.Parser(e,t);return n.version=r.parseVersion(),n.fontRevision=Math.round(1e3*r.parseFixed())/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),Ap.argument(1594834165===n.magicNumber,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,n=t;return e.createdTimestamp&&(n=e.createdTimestamp+2082844800),new Zp.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}};var Gv={parse:function(e,t){var n={},r=new av.Parser(e,t);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n},make:function(e){return new Zp.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}};var jv={parse:function(e,t,n,r,i,a,o){o.lowMemory?function(e,t,n,r,i){var a,o;e._hmtxTableData={};for(var s=new av.Parser(t,n),l=0;l<i;l+=1)l<r&&(a=s.parseUShort(),o=s.parseShort()),e._hmtxTableData[l]={advanceWidth:a,leftSideBearing:o}}(e,t,n,r,i):function(e,t,n,r,i){for(var a,o,s=new av.Parser(e,t),l=0;l<r;l+=1){l<n&&(a=s.parseUShort(),o=s.parseShort());var u=i.get(l);u.advanceWidth=a,u.leftSideBearing=o}}(t,n,r,i,a)},make:function(e){for(var t=new Zp.Table("hmtx",[]),n=0;n<e.length;n+=1){var r=e.get(n),i=r.advanceWidth||0,a=r.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),t.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:a})}return t}};var Vv={make:function(e){for(var t=new Zp.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),n="",r=12+4*e.length,i=0;i<e.length;++i){var a=n.indexOf(e[i]);a<0&&(a=n.length,n+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:r+a}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),t},parse:function(e,t){var n=new av.Parser(e,t),r=n.parseULong();Ap.argument(1===r,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),a=[],o=0;o<i;o++){for(var s="",l=t+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)s+=String.fromCharCode(e.getInt8(c));a.push(s)}return a}};var Wv={parse:function(e,t){var n={},r=new av.Parser(e,t);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),1===n.version&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n},make:function(e){return new Zp.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},Xv=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],qv={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Yv={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Kv={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function Jv(e,t,n){switch(e){case 0:if(65535===t)return"und";if(n)return n[t];break;case 1:return qv[t];case 3:return Kv[t]}}var Zv="utf-16",Qv={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},$v={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function eg(e,t,n){switch(e){case 0:return Zv;case 1:return $v[n]||Qv[t];case 3:if(1===t||10===t)return Zv}}function tg(e){var t={};for(var n in e)t[e[n]]=parseInt(n);return t}function ng(e,t,n,r,i,a){return new Zp.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:a}])}function rg(e,t){var n=function(e,t){var n=e.length,r=t.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var a=0;a<n;a++)if(t[i+a]!==e[a])continue e;return i}return-1}(e,t);if(n<0){n=t.length;for(var r=0,i=e.length;r<i;++r)t.push(e[r])}return n}var ig={parse:function(e,t,n){for(var r={},i=new av.Parser(e,t),a=i.parseUShort(),o=i.parseUShort(),s=i.offset+i.parseUShort(),l=0;l<o;l++){var u=i.parseUShort(),c=i.parseUShort(),h=i.parseUShort(),f=i.parseUShort(),d=Xv[f]||f,p=i.parseUShort(),v=i.parseUShort(),g=Jv(u,h,n),m=eg(u,c,h);if(void 0!==m&&void 0!==g){var y=void 0;if(y=m===Zv?Op.UTF16(e,s+v,p):Op.MACSTRING(e,s+v,p,m)){var b=r[d];void 0===b&&(b=r[d]={}),b[g]=y}}}return 1===a&&i.parseUShort(),r},make:function(e,t){var n,r=[],i={},a=tg(Xv);for(var o in e){var s=a[o];if(void 0===s&&(s=o),n=parseInt(s),isNaN(n))throw new Error('Name table entry "'+o+'" does not exist, see nameTableNames for complete list.');i[n]=e[o],r.push(n)}for(var l=tg(qv),u=tg(Kv),c=[],h=[],f=0;f<r.length;f++){var d=i[n=r[f]];for(var p in d){var v=d[p],g=1,m=l[p],y=Yv[m],b=eg(g,y,m),x=Rp.MACSTRING(v,b);void 0===x&&(g=0,(m=t.indexOf(p))<0&&(m=t.length,t.push(p)),y=4,x=Rp.UTF16(v));var k=rg(x,h);c.push(ng(g,y,m,n,x.length,k));var w=u[p];if(void 0!==w){var S=Rp.UTF16(v),E=rg(S,h);c.push(ng(3,1,w,n,S.length,E))}}}c.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var _=new Zp.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+12*c.length}]),M=0;M<c.length;M++)_.fields.push({name:"record_"+M,type:"RECORD",value:c[M]});return _.fields.push({name:"strings",type:"LITERAL",value:h}),_}},ag=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];var og={parse:function(e,t){var n={},r=new av.Parser(e,t);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n},make:function(e){return new Zp.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:ag,getUnicodeRange:function(e){for(var t=0;t<ag.length;t+=1){var n=ag[t];if(e>=n.begin&&e<n.end)return t}return-1}};var sg={parse:function(e,t){var n={},r=new av.Parser(e,t);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=hv.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var a=0;a<n.numberOfGlyphs;a++)if(n.glyphNameIndex[a]>=hv.length){var o=r.parseChar();n.names.push(r.parseString(o))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var s=0;s<n.numberOfGlyphs;s++)n.offset[s]=r.parseChar()}return n},make:function(){return new Zp.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},lg=new Array(9);lg[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(rv.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(rv.coverage),substitute:this.parseOffset16List()}:void Ap.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},lg[2]=function(){var e=this.parseUShort();return Ap.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(rv.coverage),sequences:this.parseListOfLists()}},lg[3]=function(){var e=this.parseUShort();return Ap.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(rv.coverage),alternateSets:this.parseListOfLists()}},lg[4]=function(){var e=this.parseUShort();return Ap.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(rv.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}};var ug={sequenceIndex:rv.uShort,lookupListIndex:rv.uShort};lg[5]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{substFormat:t,coverage:this.parsePointer(rv.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ug)}}))};if(2===t)return{substFormat:t,coverage:this.parsePointer(rv.coverage),classDef:this.parsePointer(rv.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,ug)}}))};if(3===t){var n=this.parseUShort(),r=this.parseUShort();return{substFormat:t,coverages:this.parseList(n,rv.pointer(rv.coverage)),lookupRecords:this.parseRecordList(r,ug)}}Ap.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},lg[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(rv.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ug)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(rv.coverage),backtrackClassDef:this.parsePointer(rv.classDef),inputClassDef:this.parsePointer(rv.classDef),lookaheadClassDef:this.parsePointer(rv.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(ug)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(rv.pointer(rv.coverage)),inputCoverage:this.parseList(rv.pointer(rv.coverage)),lookaheadCoverage:this.parseList(rv.pointer(rv.coverage)),lookupRecords:this.parseRecordList(ug)}:void Ap.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},lg[7]=function(){var e=this.parseUShort();Ap.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1");var t=this.parseUShort(),n=new rv(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:t,extension:lg[t].call(n)}},lg[8]=function(){var e=this.parseUShort();return Ap.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(rv.coverage),backtrackCoverage:this.parseList(rv.pointer(rv.coverage)),lookaheadCoverage:this.parseList(rv.pointer(rv.coverage)),substitutes:this.parseUShortList()}};var cg=new Array(9);cg[1]=function(e){return 1===e.substFormat?new Zp.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Zp.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new Zp.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Zp.Coverage(e.coverage)}].concat(Zp.ushortList("substitute",e.substitute)))},cg[2]=function(e){return Ap.assert(1===e.substFormat,"Lookup type 2 substFormat must be 1."),new Zp.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Zp.Coverage(e.coverage)}].concat(Zp.tableList("seqSet",e.sequences,(function(e){return new Zp.Table("sequenceSetTable",Zp.ushortList("sequence",e))}))))},cg[3]=function(e){return Ap.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new Zp.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Zp.Coverage(e.coverage)}].concat(Zp.tableList("altSet",e.alternateSets,(function(e){return new Zp.Table("alternateSetTable",Zp.ushortList("alternate",e))}))))},cg[4]=function(e){return Ap.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new Zp.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Zp.Coverage(e.coverage)}].concat(Zp.tableList("ligSet",e.ligatureSets,(function(e){return new Zp.Table("ligatureSetTable",Zp.tableList("ligature",e,(function(e){return new Zp.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat(Zp.ushortList("component",e.components,e.components.length+1)))})))}))))},cg[6]=function(e){if(1===e.substFormat){var t=new Zp.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new Zp.Coverage(e.coverage)}].concat(Zp.tableList("chainRuleSet",e.chainRuleSets,(function(e){return new Zp.Table("chainRuleSetTable",Zp.tableList("chainRule",e,(function(e){var t=Zp.ushortList("backtrackGlyph",e.backtrack,e.backtrack.length).concat(Zp.ushortList("inputGlyph",e.input,e.input.length+1)).concat(Zp.ushortList("lookaheadGlyph",e.lookahead,e.lookahead.length)).concat(Zp.ushortList("substitution",[],e.lookupRecords.length));return e.lookupRecords.forEach((function(e,n){t=t.concat({name:"sequenceIndex"+n,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+n,type:"USHORT",value:e.lookupListIndex})})),new Zp.Table("chainRuleTable",t)})))}))));return t}if(2===e.substFormat)Ap.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(3===e.substFormat){var n=[{name:"substFormat",type:"USHORT",value:e.substFormat}];return n.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach((function(e,t){n.push({name:"backtrackCoverage"+t,type:"TABLE",value:new Zp.Coverage(e)})})),n.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach((function(e,t){n.push({name:"inputCoverage"+t,type:"TABLE",value:new Zp.Coverage(e)})})),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach((function(e,t){n.push({name:"lookaheadCoverage"+t,type:"TABLE",value:new Zp.Coverage(e)})})),n.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach((function(e,t){n=n.concat({name:"sequenceIndex"+t,type:"USHORT",value:e.sequenceIndex}).concat({name:"lookupListIndex"+t,type:"USHORT",value:e.lookupListIndex})})),new Zp.Table("chainContextTable",n)}Ap.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};var hg={parse:function(e,t){var n=new rv(e,t=t||0),r=n.parseVersion(1);return Ap.argument(1===r||1.1===r,"Unsupported GSUB table version."),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(lg)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(lg),variations:n.parseFeatureVariationsList()}},make:function(e){return new Zp.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Zp.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Zp.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Zp.LookupList(e.lookups,cg)}])}};var fg={parse:function(e,t){var n=new av.Parser(e,t),r=n.parseULong();Ap.argument(1===r,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),a={},o=0;o<i;o++){var s=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=Op.UTF8(e,t+l,u);a[s]=c}return a},make:function(e){var t=Object.keys(e).length,n="",r=16+12*t,i=new Zp.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:t}]);for(var a in e){var o=n.length;n+=e[a],i.fields.push({name:"tag "+a,type:"TAG",value:a}),i.fields.push({name:"offset "+a,type:"ULONG",value:r+o}),i.fields.push({name:"length "+a,type:"ULONG",value:e[a].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}};function dg(e){return Math.log(e)/Math.log(2)|0}function pg(e){for(;e.length%4!==0;)e.push(0);for(var t=0,n=0;n<e.length;n+=4)t+=(e[n]<<24)+(e[n+1]<<16)+(e[n+2]<<8)+e[n+3];return t%=Math.pow(2,32)}function vg(e,t,n,r){return new Zp.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==n?n:0},{name:"length",type:"ULONG",value:void 0!==r?r:0}])}function gg(e){var t=new Zp.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var n=Math.pow(2,dg(t.numTables));t.searchRange=16*n,t.entrySelector=dg(n),t.rangeShift=16*t.numTables-t.searchRange;for(var r=[],i=[],a=t.sizeOf()+vg().sizeOf()*t.numTables;a%4!==0;)a+=1,i.push({name:"padding",type:"BYTE",value:0});for(var o=0;o<e.length;o+=1){var s=e[o];Ap.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid.");var l=s.sizeOf(),u=vg(s.tableName,pg(s.encode()),a,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),a+=l,Ap.argument(!isNaN(a),"Something went wrong calculating the offset.");a%4!==0;)a+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(r),t.fields=t.fields.concat(i),t}function mg(e,t,n){for(var r=0;r<t.length;r+=1){var i=e.charToGlyphIndex(t[r]);if(i>0)return e.glyphs.get(i).getMetrics()}return n}function yg(e){for(var t=0,n=0;n<e.length;n+=1)t+=e[n];return t/e.length}var bg={make:gg,fontToTable:function(e){for(var t,n=[],r=[],i=[],a=[],o=[],s=[],l=[],u=0,c=0,h=0,f=0,d=0,p=0;p<e.glyphs.length;p+=1){var v=e.glyphs.get(p),g=0|v.unicode;if(isNaN(v.advanceWidth))throw new Error("Glyph "+v.name+" ("+p+"): advanceWidth is not a number.");(t>g||void 0===t)&&g>0&&(t=g),u<g&&(u=g);var m=og.getUnicodeRange(g);if(m<32)c|=1<<m;else if(m<64)h|=1<<m-32;else if(m<96)f|=1<<m-64;else{if(!(m<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");d|=1<<m-96}if(".notdef"!==v.name){var y=v.getMetrics();n.push(y.xMin),r.push(y.yMin),i.push(y.xMax),a.push(y.yMax),s.push(y.leftSideBearing),l.push(y.rightSideBearing),o.push(v.advanceWidth)}}var b={xMin:Math.min.apply(null,n),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,a),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:yg(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)};b.ascender=e.ascender,b.descender=e.descender;var x=Hv.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:b.xMin,yMin:b.yMin,xMax:b.xMax,yMax:b.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),k=Gv.make({ascender:b.ascender,descender:b.descender,advanceWidthMax:b.advanceWidthMax,minLeftSideBearing:b.minLeftSideBearing,minRightSideBearing:b.minRightSideBearing,xMaxExtent:b.maxLeftSideBearing+(b.xMax-b.xMin),numberOfHMetrics:e.glyphs.length}),w=Wv.make(e.glyphs.length),S=og.make(Object.assign({xAvgCharWidth:Math.round(b.advanceWidthAvg),usFirstCharIndex:t,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:h,ulUnicodeRange3:f,ulUnicodeRange4:d,sTypoAscender:b.ascender,sTypoDescender:b.descender,sTypoLineGap:0,usWinAscent:b.yMax,usWinDescent:Math.abs(b.yMin),ulCodePageRange1:1,sxHeight:mg(e,"xyvw",{yMax:Math.round(b.ascender/2)}).yMax,sCapHeight:mg(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",b).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),E=jv.make(e.glyphs),_=sv.make(e.glyphs),M=e.getEnglishName("fontFamily"),T=e.getEnglishName("fontSubfamily"),C=M+" "+T,A=e.getEnglishName("postScriptName");A||(A=M.replace(/\s/g,"")+"-"+T);var P={};for(var O in e.names)P[O]=e.names[O];P.uniqueID||(P.uniqueID={en:e.getEnglishName("manufacturer")+":"+C}),P.postScriptName||(P.postScriptName={en:A}),P.preferredFamily||(P.preferredFamily=e.names.fontFamily),P.preferredSubfamily||(P.preferredSubfamily=e.names.fontSubfamily);var R=[],L=ig.make(P,R),N=R.length>0?Vv.make(R):void 0,I=sg.make(),D=zv.make(e.glyphs,{version:e.getEnglishName("version"),fullName:C,familyName:M,weightName:T,postScriptName:A,unitsPerEm:e.unitsPerEm,fontBBox:[0,b.yMin,b.ascender,b.advanceWidthMax]}),F=e.metas&&Object.keys(e.metas).length>0?fg.make(e.metas):void 0,U=[x,k,w,S,L,_,I,D,E];N&&U.push(N),e.tables.gsub&&U.push(hg.make(e.tables.gsub)),F&&U.push(F);for(var B=gg(U),z=pg(B.encode()),H=B.fields,G=!1,j=0;j<H.length;j+=1)if("head table"===H[j].name){H[j].value.checkSumAdjustment=2981146554-z,G=!0;break}if(!G)throw new Error("Could not find head table with checkSum to adjust.");return B},computeCheckSum:pg};function xg(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,a=e[i].tag;if(a===t)return i;a<t?n=i+1:r=i-1}return-n-1}function kg(e,t){for(var n=0,r=e.length-1;n<=r;){var i=n+r>>>1,a=e[i];if(a===t)return i;a<t?n=i+1:r=i-1}return-n-1}function wg(e,t){for(var n,r=0,i=e.length-1;r<=i;){var a=r+i>>>1,o=(n=e[a]).start;if(o===t)return n;o<t?r=a+1:i=a-1}if(r>0)return t>(n=e[r-1]).end?0:n}function Sg(e,t){this.font=e,this.tableName=t}function Eg(e){Sg.call(this,e,"gpos")}function _g(e){Sg.call(this,e,"gsub")}function Mg(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Tg(e,t,n){for(var r=e.subtables,i=0;i<r.length;i++){var a=r[i];if(a.substFormat===t)return a}if(n)return r.push(n),n}function Cg(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;++r)n[r]=e[r];return t}function Ag(e,t){if(!e)throw t}function Pg(e,t,n,r,i){var a;return(t&r)>0?(a=e.parseByte(),0===(t&i)&&(a=-a),a=n+a):a=(t&i)>0?n:n+e.parseShort(),a}function Og(e,t,n){var r,i,a=new av.Parser(t,n);if(e.numberOfContours=a.parseShort(),e._xMin=a.parseShort(),e._yMin=a.parseShort(),e._xMax=a.parseShort(),e._yMax=a.parseShort(),e.numberOfContours>0){for(var o=e.endPointIndices=[],s=0;s<e.numberOfContours;s+=1)o.push(a.parseUShort());e.instructionLength=a.parseUShort(),e.instructions=[];for(var l=0;l<e.instructionLength;l+=1)e.instructions.push(a.parseByte());var u=o[o.length-1]+1;r=[];for(var c=0;c<u;c+=1)if(i=a.parseByte(),r.push(i),(8&i)>0)for(var h=a.parseByte(),f=0;f<h;f+=1)r.push(i),c+=1;if(Ap.argument(r.length===u,"Bad flags."),o.length>0){var d,p=[];if(u>0){for(var v=0;v<u;v+=1)i=r[v],(d={}).onCurve=!!(1&i),d.lastPointOfContour=o.indexOf(v)>=0,p.push(d);for(var g=0,m=0;m<u;m+=1)i=r[m],(d=p[m]).x=Pg(a,i,g,2,16),g=d.x;for(var y=0,b=0;b<u;b+=1)i=r[b],(d=p[b]).y=Pg(a,i,y,4,32),y=d.y}e.points=p}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var x=!0;x;){r=a.parseUShort();var k={glyphIndex:a.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(1&r)>0?(2&r)>0?(k.dx=a.parseShort(),k.dy=a.parseShort()):k.matchedPoints=[a.parseUShort(),a.parseUShort()]:(2&r)>0?(k.dx=a.parseChar(),k.dy=a.parseChar()):k.matchedPoints=[a.parseByte(),a.parseByte()],(8&r)>0?k.xScale=k.yScale=a.parseF2Dot14():(64&r)>0?(k.xScale=a.parseF2Dot14(),k.yScale=a.parseF2Dot14()):(128&r)>0&&(k.xScale=a.parseF2Dot14(),k.scale01=a.parseF2Dot14(),k.scale10=a.parseF2Dot14(),k.yScale=a.parseF2Dot14()),e.components.push(k),x=!!(32&r)}if(256&r){e.instructionLength=a.parseUShort(),e.instructions=[];for(var w=0;w<e.instructionLength;w+=1)e.instructions.push(a.parseByte())}}}function Rg(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=e[r],a={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(a)}return n}function Lg(e){var t=new Mp;if(!e)return t;for(var n=function(e){for(var t=[],n=[],r=0;r<e.length;r+=1){var i=e[r];n.push(i),i.lastPointOfContour&&(t.push(n),n=[])}return Ap.argument(0===n.length,"There are still points left in the current contour."),t}(e),r=0;r<n.length;++r){var i=n[r],a=null,o=i[i.length-1],s=i[0];if(o.onCurve)t.moveTo(o.x,o.y);else if(s.onCurve)t.moveTo(s.x,s.y);else{var l={x:.5*(o.x+s.x),y:.5*(o.y+s.y)};t.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(a=o,o=s,s=i[(u+1)%i.length],o.onCurve)t.lineTo(o.x,o.y);else{var c=s;a.onCurve||{x:.5*(o.x+a.x),y:.5*(o.y+a.y)},s.onCurve||(c={x:.5*(o.x+s.x),y:.5*(o.y+s.y)}),t.quadraticCurveTo(o.x,o.y,c.x,c.y)}t.closePath()}return t}function Ng(e,t){if(t.isComposite)for(var n=0;n<t.components.length;n+=1){var r=t.components[n],i=e.get(r.glyphIndex);if(i.getPath(),i.points){var a=void 0;if(void 0===r.matchedPoints)a=Rg(i.points,r);else{if(r.matchedPoints[0]>t.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var o=t.points[r.matchedPoints[0]],s=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};s=Rg([s],l)[0],l.dx=o.x-s.x,l.dy=o.y-s.y,a=Rg(i.points,l)}t.points=t.points.concat(a)}}return Lg(t.points)}Sg.prototype={searchTag:xg,binSearch:kg,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,n=0;n<e.scripts.length;n++){var r=e.scripts[n].tag;if("DFLT"===r)return r;"latn"===r&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var n=this.getTable(t);if(n){e=e||"DFLT";var r=n.scripts,i=xg(n.scripts,e);if(i>=0)return r[i].script;if(t){var a={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,a),a.script}}},getLangSysTable:function(e,t,n){var r=this.getScriptTable(e,n);if(r){if(!t||"dflt"===t||"DFLT"===t)return r.defaultLangSys;var i=xg(r.langSysRecords,t);if(i>=0)return r.langSysRecords[i].langSys;if(n){var a={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,a),a.langSys}}},getFeatureTable:function(e,t,n,r){var i=this.getLangSysTable(e,t,r);if(i){for(var a,o=i.featureIndexes,s=this.font.tables[this.tableName].features,l=0;l<o.length;l++)if((a=s[o[l]]).tag===n)return a.feature;if(r){var u=s.length;return Ap.assert(0===u||n>=s[u-1].tag,"Features must be added in alphabetical order."),a={tag:n,feature:{params:0,lookupListIndexes:[]}},s.push(a),o.push(u),a.feature}}},getLookupTables:function(e,t,n,r,i){var a=this.getFeatureTable(e,t,n,i),o=[];if(a){for(var s,l=a.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)(s=u[l[c]]).lookupType===r&&o.push(s);if(0===o.length&&i){s={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var h=u.length;return u.push(s),l.push(h),[s]}}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var n=wg(e.ranges,t);return n?n.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var n=kg(e.glyphs,t);return n>=0?n:-1;case 2:var r=wg(e.ranges,t);return r?r.index+t-r.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],n=e.ranges,r=0;r<n.length;r++)for(var i=n[r],a=i.start,o=i.end,s=a;s<=o;s++)t.push(s);return t}},Eg.prototype=Sg.prototype,Eg.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},Eg.prototype.getKerningValue=function(e,t,n){for(var r=0;r<e.length;r++)for(var i=e[r].subtables,a=0;a<i.length;a++){var o=i[a],s=this.getCoverageIndex(o.coverage,t);if(!(s<0))switch(o.posFormat){case 1:for(var l=o.pairSets[s],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(o.classDef1,t),f=this.getGlyphClass(o.classDef2,n),d=o.classRecords[h][f];return d.value1&&d.value1.xAdvance||0}}return 0},Eg.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},_g.prototype=Sg.prototype,_g.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},_g.prototype.getSingle=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,1),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++){var l=o[s],u=this.expandCoverage(l.coverage),c=void 0;if(1===l.substFormat){var h=l.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];r.push({sub:f,by:f+h})}}else{var d=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:d[c]})}}return r},_g.prototype.getMultiple=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,2),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++){var l=o[s],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var h=u[c],f=l.sequences[c];r.push({sub:h,by:f})}}return r},_g.prototype.getAlternates=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,3),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++)for(var l=o[s],u=this.expandCoverage(l.coverage),c=l.alternateSets,h=0;h<u.length;h++)r.push({sub:u[h],by:c[h]});return r},_g.prototype.getLigatures=function(e,t,n){for(var r=[],i=this.getLookupTables(t,n,e,4),a=0;a<i.length;a++)for(var o=i[a].subtables,s=0;s<o.length;s++)for(var l=o[s],u=this.expandCoverage(l.coverage),c=l.ligatureSets,h=0;h<u.length;h++)for(var f=u[h],d=c[h],p=0;p<d.length;p++){var v=d[p];r.push({sub:[f].concat(v.components),by:v.ligGlyph})}return r},_g.prototype.addSingle=function(e,t,n,r){var i=Tg(this.getLookupTables(n,r,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Ap.assert(1===i.coverage.format,"Single: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.substitute.splice(o,0,0)),i.substitute[o]=t.by},_g.prototype.addMultiple=function(e,t,n,r){Ap.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=Tg(this.getLookupTables(n,r,e,2,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Ap.assert(1===i.coverage.format,"Multiple: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.sequences.splice(o,0,0)),i.sequences[o]=t.by},_g.prototype.addAlternate=function(e,t,n,r){var i=Tg(this.getLookupTables(n,r,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Ap.assert(1===i.coverage.format,"Alternate: unable to modify coverage table format "+i.coverage.format);var a=t.sub,o=this.binSearch(i.coverage.glyphs,a);o<0&&(o=-1-o,i.coverage.glyphs.splice(o,0,a),i.alternateSets.splice(o,0,0)),i.alternateSets[o]=t.by},_g.prototype.addLigature=function(e,t,n,r){var i=this.getLookupTables(n,r,e,4,!0)[0],a=i.subtables[0];a||(a={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=a),Ap.assert(1===a.coverage.format,"Ligature: unable to modify coverage table format "+a.coverage.format);var o=t.sub[0],s=t.sub.slice(1),l={ligGlyph:t.by,components:s},u=this.binSearch(a.coverage.glyphs,o);if(u>=0){for(var c=a.ligatureSets[u],h=0;h<c.length;h++)if(Mg(c[h].components,s))return;c.push(l)}else u=-1-u,a.coverage.glyphs.splice(u,0,o),a.ligatureSets.splice(u,0,[l])},_g.prototype.getFeature=function(e,t,n){if(/ss\d\d/.test(e))return this.getSingle(e,t,n);switch(e){case"aalt":case"salt":return this.getSingle(e,t,n).concat(this.getAlternates(e,t,n));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,n);case"ccmp":return this.getMultiple(e,t,n).concat(this.getLigatures(e,t,n));case"stch":return this.getMultiple(e,t,n)}},_g.prototype.add=function(e,t,n,r){if(/ss\d\d/.test(e))return this.addSingle(e,t,n,r);switch(e){case"aalt":case"salt":return"number"===typeof t.by?this.addSingle(e,t,n,r):this.addAlternate(e,t,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,n,r);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,n,r):this.addLigature(e,t,n,r)}};var Ig,Dg,Fg,Ug,Bg={getPath:Lg,parse:function(e,t,n,r,i){return i.lowMemory?function(e,t,n,r){var i=new kv.GlyphSet(r);return r._push=function(a){var o=n[a];o!==n[a+1]?i.push(a,kv.ttfGlyphLoader(r,a,Og,e,t+o,Ng)):i.push(a,kv.glyphLoader(r,a))},i}(e,t,n,r):function(e,t,n,r){for(var i=new kv.GlyphSet(r),a=0;a<n.length-1;a+=1){var o=n[a];o!==n[a+1]?i.push(a,kv.ttfGlyphLoader(r,a,Og,e,t+o,Ng)):i.push(a,kv.glyphLoader(r,a))}return i}(e,t,n,r)}};function zg(e){this.font=e,this.getCommands=function(e){return Bg.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Hg(e){return e}function Gg(e){return Math.sign(e)*Math.round(Math.abs(e))}function jg(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Vg(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Wg(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Xg(e){return Math.sign(e)*Math.floor(Math.abs(e))}var qg=function(e){var t=this.srPeriod,n=this.srPhase,r=1;return e<0&&(e=-e,r=-1),e+=this.srThreshold-n,e=Math.trunc(e/t)*t,(e+=n)<0?n*r:e*r},Yg={x:1,y:0,axis:"x",distance:function(e,t,n,r){return(n?e.xo:e.x)-(r?t.xo:t.x)},interpolate:function(e,t,n,r){var i,a,o,s,l,u,c;if(!r||r===this)return i=e.xo-t.xo,a=e.xo-n.xo,l=t.x-t.xo,u=n.x-n.xo,0===(c=(o=Math.abs(i))+(s=Math.abs(a)))?void(e.x=e.xo+(l+u)/2):void(e.x=e.xo+(l*s+u*o)/c);i=r.distance(e,t,!0,!0),a=r.distance(e,n,!0,!0),l=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0!==(c=(o=Math.abs(i))+(s=Math.abs(a)))?Yg.setRelative(e,e,(l*s+u*o)/c,r,!0):Yg.setRelative(e,e,(l+u)/2,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,n,r,i){if(r&&r!==this){var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,l=o+n*r.y;e.x=s+(e.y-l)/r.normalSlope}else e.x=(i?t.xo:t.x)+n},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Kg={x:0,y:1,axis:"y",distance:function(e,t,n,r){return(n?e.yo:e.y)-(r?t.yo:t.y)},interpolate:function(e,t,n,r){var i,a,o,s,l,u,c;if(!r||r===this)return i=e.yo-t.yo,a=e.yo-n.yo,l=t.y-t.yo,u=n.y-n.yo,0===(c=(o=Math.abs(i))+(s=Math.abs(a)))?void(e.y=e.yo+(l+u)/2):void(e.y=e.yo+(l*s+u*o)/c);i=r.distance(e,t,!0,!0),a=r.distance(e,n,!0,!0),l=r.distance(t,t,!1,!0),u=r.distance(n,n,!1,!0),0!==(c=(o=Math.abs(i))+(s=Math.abs(a)))?Kg.setRelative(e,e,(l*s+u*o)/c,r,!0):Kg.setRelative(e,e,(l+u)/2,r,!0)},normalSlope:0,setRelative:function(e,t,n,r,i){if(r&&r!==this){var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,l=o+n*r.y;e.y=l+r.normalSlope*(e.x-s)}else e.y=(i?t.yo:t.y)+n},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Jg(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Zg(e,t){var n=Math.sqrt(e*e+t*t);return t/=n,1===(e/=n)&&0===t?Yg:0===e&&1===t?Kg:new Jg(e,t)}function Qg(e,t,n,r){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Yg),Object.freeze(Kg),Jg.prototype.distance=function(e,t,n,r){return this.x*Yg.distance(e,t,n,r)+this.y*Kg.distance(e,t,n,r)},Jg.prototype.interpolate=function(e,t,n,r){var i,a,o,s,l,u,c;o=r.distance(e,t,!0,!0),s=r.distance(e,n,!0,!0),i=r.distance(t,t,!1,!0),a=r.distance(n,n,!1,!0),0!==(c=(l=Math.abs(o))+(u=Math.abs(s)))?this.setRelative(e,e,(i*u+a*l)/c,r,!0):this.setRelative(e,e,(i+a)/2,r,!0)},Jg.prototype.setRelative=function(e,t,n,r,i){r=r||this;var a=i?t.xo:t.x,o=i?t.yo:t.y,s=a+n*r.x,l=o+n*r.y,u=r.normalSlope,c=this.slope,h=e.x,f=e.y;e.x=(c*h-u*s+l-f)/(c-u),e.y=c*(e.x-h)+f},Jg.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},Qg.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},Qg.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var $g=Object.freeze(new Qg(0,0)),em={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function tm(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Yg,this.round=Gg}}function nm(e){for(var t=e.tZone=new Array(e.gZone.length),n=0;n<t.length;n++)t[n]=new Qg(0,0)}function rm(e,t){var n,r=e.prog,i=e.ip,a=1;do{if(88===(n=r[++i]))a++;else if(89===n)a--;else if(64===n)i+=r[i+1]+1;else if(65===n)i+=2*r[i+1]+1;else if(n>=176&&n<=183)i+=n-176+1;else if(n>=184&&n<=191)i+=2*(n-184+1);else if(t&&1===a&&27===n)break}while(a>0);e.ip=i}function im(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function am(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function om(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function sm(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],l=t.z1[o];exports.DEBUG&&console.log("SPVTL["+e+"]",a,o),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.pv=t.dpv=Zg(n,r)}function lm(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],l=t.z1[o];exports.DEBUG&&console.log("SFVTL["+e+"]",a,o),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.fv=Zg(n,r)}function um(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function cm(e,t){var n=t.stack.pop(),r=t.z0[n],i=t.fv,a=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",n);var o=a.distance(r,$g);e&&(o=t.round(o)),i.setRelative(r,$g,o,a),i.touch(r),t.rp0=t.rp1=n}function hm(e,t){var n,r,i,a=t.z2,o=a.length-2;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var s=0;s<o;s++)n=a[s],e.touched(n)||(r=n.prevTouched(e))!==n&&(r===(i=n.nextTouched(e))&&e.setRelative(n,n,e.distance(r,r,!1,!0),e,!0),e.interpolate(n,r,i,e))}function fm(e,t){for(var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],a=t.fv,o=t.pv,s=t.loop,l=t.z2;s--;){var u=n.pop(),c=l[u],h=o.distance(i,i,!1,!0);a.setRelative(c,c,h,o),a.touch(c),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-s)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",u)}t.loop=1}function dm(e,t){var n=t.stack,r=e?t.rp1:t.rp2,i=(e?t.z0:t.z1)[r],a=t.fv,o=t.pv,s=n.pop(),l=t.z2[t.contours[s]],u=l;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",s);var c=o.distance(i,i,!1,!0);do{u!==i&&a.setRelative(u,u,c,o),u=u.nextPointOnContour}while(u!==l)}function pm(e,t){var n,r,i=t.stack,a=e?t.rp1:t.rp2,o=(e?t.z0:t.z1)[a],s=t.fv,l=t.pv,u=i.pop();switch(exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",u),u){case 0:n=t.tZone;break;case 1:n=t.gZone;break;default:throw new Error("Invalid zone")}for(var c=l.distance(o,o,!1,!0),h=n.length-2,f=0;f<h;f++)r=n[f],s.setRelative(r,r,c,l)}function vm(e,t){var n=t.stack,r=n.pop()/64,i=n.pop(),a=t.z1[i],o=t.z0[t.rp0],s=t.fv,l=t.pv;s.setRelative(a,o,r,l),s.touch(a),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",r,i),t.rp1=t.rp0,t.rp2=i,e&&(t.rp0=i)}function gm(e,t){var n=t.stack,r=n.pop(),i=n.pop(),a=t.z0[i],o=t.fv,s=t.pv,l=t.cvt[r];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",r,"(",l,")",i);var u=s.distance(a,$g);e&&(Math.abs(u-l)<t.cvCutIn&&(u=l),u=t.round(u)),o.setRelative(a,$g,u,s),0===t.zp0&&(a.xo=a.x,a.yo=a.y),o.touch(a),t.rp0=t.rp1=i}function mm(e,t){var n=t.stack,r=n.pop(),i=t.z2[r];exports.DEBUG&&console.log(t.step,"GC["+e+"]",r),n.push(64*t.dpv.distance(i,$g,e,!1))}function ym(e,t){var n=t.stack,r=n.pop(),i=n.pop(),a=t.z1[r],o=t.z0[i],s=t.dpv.distance(o,a,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",r,i,"->",s),t.stack.push(Math.round(64*s))}function bm(e,t){var n=t.stack,r=n.pop(),i=t.fv,a=t.pv,o=t.ppem,s=t.deltaBase+16*(e-1),l=t.deltaShift,u=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",r,n);for(var c=0;c<r;c++){var h=n.pop(),f=n.pop();if(s+((240&f)>>4)===o){var d=(15&f)-8;d>=0&&d++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",h,"by",d*l);var p=u[h];i.setRelative(p,p,d*l,a)}}}function xm(e,t){var n=t.stack,r=n.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),n.push(64*t.round(r/64))}function km(e,t){var n=t.stack,r=n.pop(),i=t.ppem,a=t.deltaBase+16*(e-1),o=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",r,n);for(var s=0;s<r;s++){var l=n.pop(),u=n.pop();if(a+((240&u)>>4)===i){var c=(15&u)-8;c>=0&&c++;var h=c*o;exports.DEBUG&&console.log(t.step,"DELTACFIX",l,"by",h),t.cvt[l]+=h}}}function wm(e,t){var n,r,i=t.stack,a=i.pop(),o=i.pop(),s=t.z2[a],l=t.z1[o];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",a,o),e?(n=s.y-l.y,r=l.x-s.x):(n=l.x-s.x,r=l.y-s.y),t.dpv=Zg(n,r)}function Sm(e,t){var n=t.stack,r=t.prog,i=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var a=0;a<e;a++)n.push(r[++i]);t.ip=i}function Em(e,t){var n=t.ip,r=t.prog,i=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var a=0;a<e;a++){var o=r[++n]<<8|r[++n];32768&o&&(o=-(1+(65535^o))),i.push(o)}t.ip=n}function _m(e,t,n,r,i,a){var o,s,l,u,c=a.stack,h=e&&c.pop(),f=c.pop(),d=a.rp0,p=a.z0[d],v=a.z1[f],g=a.minDis,m=a.fv,y=a.dpv;l=(s=o=y.distance(v,p,!0,!0))>=0?1:-1,s=Math.abs(s),e&&(u=a.cvt[h],r&&Math.abs(s-u)<a.cvCutIn&&(s=u)),n&&s<g&&(s=g),r&&(s=a.round(s)),m.setRelative(v,p,l*s,y),m.touch(v),exports.DEBUG&&console.log(a.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(n?">":"_")+(r?"R":"_")+(0===i?"Gr":1===i?"Bl":2===i?"Wh":"")+"]",e?h+"("+a.cvt[h]+","+u+")":"",f,"(d =",o,"->",l*s,")"),a.rp1=a.rp0,a.rp2=f,t&&(a.rp0=f)}function Mm(e){this.char=e,this.state={},this.activeState=null}function Tm(e,t,n){this.contextName=n,this.startIndex=e,this.endOffset=t}function Cm(e,t,n){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=n}function Am(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Pm(e){this.eventId=e,this.subscribers=[]}function Om(e){var t=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach((function(e){Object.defineProperty(t.events,e,{value:new Pm(e)})})),e&&n.forEach((function(n){var r=e[n];"function"===typeof r&&t.events[n].subscribe(r)}));["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"].forEach((function(e){t.events[e].subscribe(t.updateContextsRanges)}))}function Rm(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Om.call(this,e)}function Lm(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Nm(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Im(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Dm(e){return/[A-z]/.test(e)}function Fm(e){this.font=e,this.features={}}function Um(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function Bm(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var n=t.ranges,r=0;r<n.length;r++){var i=n[r];if(e>=i.start&&e<=i.end){var a=e-i.start;return i.index+a}}break;default:return-1}return-1}function zm(e,t){return-1===Bm(e,t.coverage)?null:e+t.deltaGlyphId}function Hm(e,t){var n=Bm(e,t.coverage);return-1===n?null:t.substitute[n]}function Gm(e,t){for(var n=[],r=0;r<e.length;r++){var i=e[r],a=t.current,o=Bm(a=Array.isArray(a)?a[0]:a,i);-1!==o&&n.push(o)}return n.length!==e.length?-1:n}function jm(e,t){var n=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<n)return[];var r=Gm(t.inputCoverage,e);if(-1===r)return[];var i=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var a=e.lookahead.slice(i);a.length&&Im(a[0].char);)a.shift();var o=new Am(a,0),s=Gm(t.lookaheadCoverage,o),l=[].concat(e.backtrack);for(l.reverse();l.length&&Im(l[0].char);)l.shift();if(l.length<t.backtrackCoverage.length)return[];var u=new Am(l,0),c=Gm(t.backtrackCoverage,u),h=[];if(r.length===t.inputCoverage.length&&s.length===t.lookaheadCoverage.length&&c.length===t.backtrackCoverage.length)for(var f=0;f<t.lookupRecords.length;f++)for(var d=t.lookupRecords[f].lookupListIndex,p=this.getLookupByIndex(d),v=0;v<p.subtables.length;v++){var g=p.subtables[v],m=this.getLookupMethod(p,g);if("12"===this.getSubstitutionType(p,g))for(var y=0;y<r.length;y++){var b=m(e.get(y));b&&h.push(b)}}return h}function Vm(e,t){var n,r=Bm(e.current,t.coverage);if(-1===r)return null;for(var i=t.ligatureSets[r],a=0;a<i.length;a++){n=i[a];for(var o=0;o<n.components.length;o++){if(e.lookahead[o]!==n.components[o])break;if(o===n.components.length-1)return n}}return null}function Wm(e,t){var n=Bm(e,t.coverage);return-1===n?null:t.sequences[n]}zg.prototype.exec=function(e,t){if("number"!==typeof t)throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==t){var i=this._fpgmState;if(!i){tm.prototype=em,(i=this._fpgmState=new tm("fpgm",n.tables.fpgm)).funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{Dg(i)}catch(cQ){return console.log("Hinting error in FPGM:"+cQ),void(this._errorState=3)}}tm.prototype=i,(r=this._prepState=new tm("prep",n.tables.prep)).ppem=t;var a=n.tables.cvt;if(a)for(var o=r.cvt=new Array(a.length),s=t/n.unitsPerEm,l=0;l<a.length;l++)o[l]=a[l]*s;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{Dg(r)}catch(cQ){this._errorState<2&&console.log("Hinting error in PREP:"+cQ),this._errorState=2}}if(!(this._errorState>1))try{return Fg(e,r)}catch(cQ){return this._errorState<1&&(console.log("Hinting error:"+cQ),console.log("Note: further hinting errors are silenced")),void(this._errorState=1)}}},Fg=function(e,t){var n,r,i,a=t.ppem/t.font.unitsPerEm,o=a,s=e.components;if(tm.prototype=t,s){var l=t.font;r=[],n=[];for(var u=0;u<s.length;u++){var c=s[u],h=l.glyphs.get(c.glyphIndex);i=new tm("glyf",h.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),i.step=-1),Ug(h,i,a,o);for(var f=Math.round(c.dx*a),d=Math.round(c.dy*o),p=i.gZone,v=i.contours,g=0;g<p.length;g++){var m=p[g];m.xTouched=m.yTouched=!1,m.xo=m.x=m.x+f,m.yo=m.y=m.y+d}var y=r.length;r.push.apply(r,p);for(var b=0;b<v.length;b++)n.push(v[b]+y)}e.instructions&&!i.inhibitGridFit&&((i=new tm("glyf",e.instructions)).gZone=i.z0=i.z1=i.z2=r,i.contours=n,r.push(new Qg(0,0),new Qg(Math.round(e.advanceWidth*a),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),i.step=-1),Dg(i),r.length-=2)}else i=new tm("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),i.step=-1),Ug(e,i,a,o),r=i.gZone;return r},Ug=function(e,t,n,r){for(var i,a,o,s=e.points||[],l=s.length,u=t.gZone=t.z0=t.z1=t.z2=[],c=t.contours=[],h=0;h<l;h++)i=s[h],u[h]=new Qg(i.x*n,i.y*r,i.lastPointOfContour,i.onCurve);for(var f=0;f<l;f++)i=u[f],a||(a=i,c.push(f)),i.lastPointOfContour?(i.nextPointOnContour=a,a.prevPointOnContour=i,a=void 0):(o=u[f+1],i.nextPointOnContour=o,o.prevPointOnContour=i);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var d=0;d<l;d++)console.log(d,u[d].x,u[d].y)}if(u.push(new Qg(0,0),new Qg(Math.round(e.advanceWidth*n),0)),Dg(t),u.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var p=0;p<l;p++)console.log(p,u[p].x,u[p].y)}}},Dg=function(e){var t=e.prog;if(t){var n,r=t.length;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,!(n=Ig[t[e.ip]]))throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}},Ig=[im.bind(void 0,Kg),im.bind(void 0,Yg),am.bind(void 0,Kg),am.bind(void 0,Yg),om.bind(void 0,Kg),om.bind(void 0,Yg),sm.bind(void 0,0),sm.bind(void 0,1),lm.bind(void 0,0),lm.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.pv=e.dpv=Zg(r,n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",n,r),e.fv=Zg(r,n)},function(e){var t=e.stack,n=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){var t=e.stack,n=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(16384*n.x),t.push(16384*n.y)},function(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")},function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop(),a=t.pop(),o=t.pop(),s=e.z0,l=e.z1,u=s[n],c=s[r],h=l[i],f=l[a],d=e.z2[o];exports.DEBUG&&console.log("ISECT[], ",n,r,i,a,o);var p=u.x,v=u.y,g=c.x,m=c.y,y=h.x,b=h.y,x=f.x,k=f.y,w=(p-g)*(b-k)-(v-m)*(y-x),S=p*m-v*g,E=y*k-b*x;d.x=(S*(y-x)-E*(p-g))/w,d.y=(S*(b-k)-E*(v-m))/w},function(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)},function(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)},function(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||nm(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||nm(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||nm(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||nm(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}},function(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)},function(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=Gg},function(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=Vg},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64},function(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),rm(e,!1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64},void 0,void 0,function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])},um,function(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(n),t.push(r)},function(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",n),t.push(t[t.length-n])},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",n),t.push(t.splice(t.length-n,1)[0])},void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",n,r);var i=e.ip,a=e.prog;e.prog=e.funcs[n];for(var o=0;o<r;o++)Dg(e),exports.DEBUG&&console.log(++e.step,o+1<r?"next loopcall":"done loopcall",o);e.ip=i,e.prog=a},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var n=e.ip,r=e.prog;e.prog=e.funcs[t],Dg(e),e.ip=n,e.prog=r,exports.DEBUG&&console.log(++e.step,"returning from",t)},function(e){if("fpgm"!==e.env)throw new Error("FDEF not allowed here");var t=e.stack,n=e.prog,r=e.ip,i=t.pop(),a=r;for(exports.DEBUG&&console.log(e.step,"FDEF[]",i);45!==n[++r];);e.ip=r,e.funcs[i]=n.slice(a+1,r)},void 0,cm.bind(void 0,0),cm.bind(void 0,1),hm.bind(void 0,Kg),hm.bind(void 0,Yg),fm.bind(void 0,0),fm.bind(void 0,1),dm.bind(void 0,0),dm.bind(void 0,1),pm.bind(void 0,0),pm.bind(void 0,1),function(e){for(var t=e.stack,n=e.loop,r=e.fv,i=t.pop()/64,a=e.z2;n--;){var o=t.pop(),s=a[o];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-n)+": ":"")+"SHPIX[]",o,i),r.setRelative(s,s,i),r.touch(s)}e.loop=1},function(e){for(var t=e.stack,n=e.rp1,r=e.rp2,i=e.loop,a=e.z0[n],o=e.z1[r],s=e.fv,l=e.dpv,u=e.z2;i--;){var c=t.pop(),h=u[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"IP[]",c,n,"<->",r),s.interpolate(h,a,o,l),s.touch(h)}e.loop=1},vm.bind(void 0,0),vm.bind(void 0,1),function(e){for(var t=e.stack,n=e.rp0,r=e.z0[n],i=e.loop,a=e.fv,o=e.pv,s=e.z1;i--;){var l=t.pop(),u=s[l];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-i)+": ":"")+"ALIGNRP[]",l),a.setRelative(u,r,0,o),a.touch(u)}e.loop=1},function(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=jg},gm.bind(void 0,0),gm.bind(void 0,1),function(e){var t=e.prog,n=e.ip,r=e.stack,i=t[++n];exports.DEBUG&&console.log(e.step,"NPUSHB[]",i);for(var a=0;a<i;a++)r.push(t[++n]);e.ip=n},function(e){var t=e.ip,n=e.prog,r=e.stack,i=n[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",i);for(var a=0;a<i;a++){var o=n[++t]<<8|n[++t];32768&o&&(o=-(1+(65535^o))),r.push(o)}e.ip=t},function(e){var t=e.stack,n=e.store;n||(n=e.store=[]);var r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"WS",r,i),n[i]=r},function(e){var t=e.stack,n=e.store,r=t.pop();exports.DEBUG&&console.log(e.step,"RS",r);var i=n&&n[r]||0;t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",n,r),e.cvt[r]=n/64},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",n),t.push(64*e.cvt[n])},mm.bind(void 0,0),mm.bind(void 0,1),void 0,ym.bind(void 0,0),ym.bind(void 0,1),function(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)},void 0,function(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0},void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",n,r),t.push(r<n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",n,r),t.push(r<=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",n,r),t.push(r>n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",n,r),t.push(r>=n?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",n,r),t.push(n===r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",n,r),t.push(n!==r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",n),t.push(Math.trunc(n)%2?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",n),t.push(Math.trunc(n)%2?0:1)},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(rm(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))},function(e){exports.DEBUG&&console.log(e.step,"EIF[]")},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",n,r),t.push(n&&r?1:0)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",n,r),t.push(n||r?1:0)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",n),t.push(n?0:1)},bm.bind(void 0,1),function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDB[]",t),e.deltaBase=t},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SDS[]",t),e.deltaShift=Math.pow(.5,t)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",n,r),t.push(r+n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",n,r),t.push(r-n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",n,r),t.push(64*r/n)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",n,r),t.push(r*n/64)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",n),t.push(Math.abs(n))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",n),t.push(-n)},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",n),t.push(64*Math.floor(n/64))},function(e){var t=e.stack,n=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",n),t.push(64*Math.ceil(n/64))},xm.bind(void 0,0),xm.bind(void 0,1),xm.bind(void 0,2),xm.bind(void 0,3),void 0,void 0,void 0,void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",n,r),e.cvt[r]=n*e.ppem/e.font.unitsPerEm},bm.bind(void 0,2),bm.bind(void 0,3),km.bind(void 0,1),km.bind(void 0,2),km.bind(void 0,3),function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SROUND[]",n),e.round=qg,192&n){case 0:t=.5;break;case 64:t=1;break;case 128:t=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid SROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},function(e){var t,n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"S45ROUND[]",n),e.round=qg,192&n){case 0:t=Math.sqrt(2)/2;break;case 64:t=Math.sqrt(2);break;case 128:t=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=t,48&n){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*t;break;case 32:e.srPhase=.5*t;break;case 48:e.srPhase=.75*t;break;default:throw new Error("invalid S45ROUND value")}n&=15,e.srThreshold=0===n?0:(n/8-.5)*t},void 0,void 0,function(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Hg},void 0,function(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Wg},function(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Xg},um,um,void 0,void 0,void 0,void 0,void 0,function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)},wm.bind(void 0,0),wm.bind(void 0,1),function(e){var t=e.stack,n=t.pop(),r=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",n),1&n&&(r=35),32&n&&(r|=4096),t.push(r)},void 0,function(e){var t=e.stack,n=t.pop(),r=t.pop(),i=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(r),t.push(n),t.push(i)},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",n,r),t.push(Math.max(r,n))},function(e){var t=e.stack,n=t.pop(),r=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",n,r),t.push(Math.min(r,n))},function(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)},function(e){var t=e.stack.pop(),n=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,n),t){case 1:return void(e.inhibitGridFit=!!n);case 2:return void(e.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Sm.bind(void 0,1),Sm.bind(void 0,2),Sm.bind(void 0,3),Sm.bind(void 0,4),Sm.bind(void 0,5),Sm.bind(void 0,6),Sm.bind(void 0,7),Sm.bind(void 0,8),Em.bind(void 0,1),Em.bind(void 0,2),Em.bind(void 0,3),Em.bind(void 0,4),Em.bind(void 0,5),Em.bind(void 0,6),Em.bind(void 0,7),Em.bind(void 0,8),_m.bind(void 0,0,0,0,0,0),_m.bind(void 0,0,0,0,0,1),_m.bind(void 0,0,0,0,0,2),_m.bind(void 0,0,0,0,0,3),_m.bind(void 0,0,0,0,1,0),_m.bind(void 0,0,0,0,1,1),_m.bind(void 0,0,0,0,1,2),_m.bind(void 0,0,0,0,1,3),_m.bind(void 0,0,0,1,0,0),_m.bind(void 0,0,0,1,0,1),_m.bind(void 0,0,0,1,0,2),_m.bind(void 0,0,0,1,0,3),_m.bind(void 0,0,0,1,1,0),_m.bind(void 0,0,0,1,1,1),_m.bind(void 0,0,0,1,1,2),_m.bind(void 0,0,0,1,1,3),_m.bind(void 0,0,1,0,0,0),_m.bind(void 0,0,1,0,0,1),_m.bind(void 0,0,1,0,0,2),_m.bind(void 0,0,1,0,0,3),_m.bind(void 0,0,1,0,1,0),_m.bind(void 0,0,1,0,1,1),_m.bind(void 0,0,1,0,1,2),_m.bind(void 0,0,1,0,1,3),_m.bind(void 0,0,1,1,0,0),_m.bind(void 0,0,1,1,0,1),_m.bind(void 0,0,1,1,0,2),_m.bind(void 0,0,1,1,0,3),_m.bind(void 0,0,1,1,1,0),_m.bind(void 0,0,1,1,1,1),_m.bind(void 0,0,1,1,1,2),_m.bind(void 0,0,1,1,1,3),_m.bind(void 0,1,0,0,0,0),_m.bind(void 0,1,0,0,0,1),_m.bind(void 0,1,0,0,0,2),_m.bind(void 0,1,0,0,0,3),_m.bind(void 0,1,0,0,1,0),_m.bind(void 0,1,0,0,1,1),_m.bind(void 0,1,0,0,1,2),_m.bind(void 0,1,0,0,1,3),_m.bind(void 0,1,0,1,0,0),_m.bind(void 0,1,0,1,0,1),_m.bind(void 0,1,0,1,0,2),_m.bind(void 0,1,0,1,0,3),_m.bind(void 0,1,0,1,1,0),_m.bind(void 0,1,0,1,1,1),_m.bind(void 0,1,0,1,1,2),_m.bind(void 0,1,0,1,1,3),_m.bind(void 0,1,1,0,0,0),_m.bind(void 0,1,1,0,0,1),_m.bind(void 0,1,1,0,0,2),_m.bind(void 0,1,1,0,0,3),_m.bind(void 0,1,1,0,1,0),_m.bind(void 0,1,1,0,1,1),_m.bind(void 0,1,1,0,1,2),_m.bind(void 0,1,1,0,1,3),_m.bind(void 0,1,1,1,0,0),_m.bind(void 0,1,1,1,0,1),_m.bind(void 0,1,1,1,0,2),_m.bind(void 0,1,1,1,0,3),_m.bind(void 0,1,1,1,1,0),_m.bind(void 0,1,1,1,1,1),_m.bind(void 0,1,1,1,1,2),_m.bind(void 0,1,1,1,1,3)],Mm.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState},Mm.prototype.getState=function(e){return this.state[e]||null},Rm.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length},Rm.prototype.composeRUD=function(e){var t=this,n=e.map((function(e){return t[e[0]].apply(t,e.slice(1).concat(true))})),r=function(e){return"object"===typeof e&&e.hasOwnProperty("FAIL")};if(n.every(r))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(r)};this.dispatch("composeRUD",[n.filter((function(e){return!r(e)}))])},Rm.prototype.replaceRange=function(e,t,n,r){t=null!==t?t:this.tokens.length;var i=n.every((function(e){return e instanceof Mm}));if(!isNaN(e)&&this.inboundIndex(e)&&i){var a=this.tokens.splice.apply(this.tokens,[e,t].concat(n));return r||this.dispatch("replaceToken",[e,t,n]),[a,n]}return{FAIL:"replaceRange: invalid tokens or startIndex."}},Rm.prototype.replaceToken=function(e,t,n){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Mm){var r=this.tokens.splice(e,1,t);return n||this.dispatch("replaceToken",[e,t]),[r[0],t]}return{FAIL:"replaceToken: invalid token or index."}},Rm.prototype.removeRange=function(e,t,n){t=isNaN(t)?this.tokens.length:t;var r=this.tokens.splice(e,t);return n||this.dispatch("removeRange",[r,e,t]),r},Rm.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var n=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[n,e]),n}return{FAIL:"removeToken: invalid token index."}},Rm.prototype.insertToken=function(e,t,n){var r=e.every((function(e){return e instanceof Mm}));return r?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),n||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}},Rm.prototype.registerModifier=function(e,t,n){this.events.newToken.subscribe((function(r,i){var a=[r,i],o=[r,i];if(null===t||!0===t.apply(this,a)){var s=n.apply(this,o);r.setState(e,s)}})),this.registeredModifiers.push(e)},Pm.prototype.subscribe=function(e){return"function"===typeof e?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}},Pm.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)},Am.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)},Am.prototype.get=function(e){switch(!0){case 0===e:return this.current;case e<0&&Math.abs(e)<=this.backtrack.length:return this.backtrack.slice(e)[0];case e>0&&e<=this.lookahead.length:return this.lookahead[e-1];default:return null}},Rm.prototype.rangeToText=function(e){if(e instanceof Tm)return this.getRangeTokens(e).map((function(e){return e.char})).join("")},Rm.prototype.getText=function(){return this.tokens.map((function(e){return e.char})).join("")},Rm.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null},Rm.prototype.on=function(e,t){var n=this.events[e];return n?n.subscribe(t):null},Rm.prototype.dispatch=function(e,t){var n=this,r=this.events[e];r instanceof Pm&&r.subscribers.forEach((function(e){e.apply(n,t||[])}))},Rm.prototype.registerContextChecker=function(e,t,n){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if("function"!==typeof t)return{FAIL:"missing context start check."};if("function"!==typeof n)return{FAIL:"missing context end check."};var r=new Cm(e,t,n);return this.registeredContexts[e]=r,this.contextCheckers.push(r),r},Rm.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))},Rm.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}},Rm.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e){if(e.hasOwnProperty(t))e[t].ranges=[]}},Rm.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map((function(e){return e.char})),t=0;t<e.length;t++){var n=new Am(e,t);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])},Rm.prototype.setEndOffset=function(e,t){var n=new Tm(this.getContext(t).openRange.startIndex,e,t),r=this.getContext(t).ranges;return n.rangeId=t+"."+r.length,r.push(n),this.getContext(t).openRange=null,n},Rm.prototype.runContextCheck=function(e){var t=this,n=e.index;this.contextCheckers.forEach((function(r){var i=r.contextName,a=t.getContext(i).openRange;if(!a&&r.checkStart(e)&&(a=new Tm(n,null,i),t.getContext(i).openRange=a,t.dispatch("contextStart",[i,n])),a&&r.checkEnd(e)){var o=n-a.startIndex+1,s=t.setEndOffset(o,i);t.dispatch("contextEnd",[i,s])}}))},Rm.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var n=0;n<t.length;n++){var r=t[n],i=new Am(t,n);this.dispatch("next",[i]),this.runContextCheck(i);var a=new Mm(r);this.tokens.push(a),this.dispatch("newToken",[a,i])}return this.dispatch("end",[this.tokens]),this.tokens},Fm.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var n=e[t];if("DFLT"===n.tag)return n.script.defaultLangSys.featureIndexes}return[]},Fm.prototype.getScriptFeaturesIndexes=function(e){if(!this.font.tables.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var t=this.font.tables.gsub.scripts,n=0;n<t.length;n++){var r=t[n];if(r.tag===e&&r.script.defaultLangSys)return r.script.defaultLangSys.featureIndexes;var i=r.langSysRecords;if(i)for(var a=0;a<i.length;a++){var o=i[a];if(o.tag===e)return o.langSys.featureIndexes}}return this.getDefaultScriptFeaturesIndexes()},Fm.prototype.mapTagsToFeatures=function(e,t){for(var n={},r=0;r<e.length;r++){var i=e[r].tag,a=e[r].feature;n[i]=a}this.features[t].tags=n},Fm.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var n=this.getScriptFeaturesIndexes(e);if(!n)return null;var r=this.font.tables.gsub;return t=n.map((function(e){return r.features[e]})),this.features[e]=t,this.mapTagsToFeatures(t,e),t},Fm.prototype.getSubstitutionType=function(e,t){return e.lookupType.toString()+t.substFormat.toString()},Fm.prototype.getLookupMethod=function(e,t){var n=this;switch(this.getSubstitutionType(e,t)){case"11":return function(e){return zm.apply(n,[e,t])};case"12":return function(e){return Hm.apply(n,[e,t])};case"63":return function(e){return jm.apply(n,[e,t])};case"41":return function(e){return Vm.apply(n,[e,t])};case"21":return function(e){return Wm.apply(n,[e,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}},Fm.prototype.lookupFeature=function(e){var t=e.contextParams,n=t.index,r=this.getFeature({tag:e.tag,script:e.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var i=this.getFeatureLookups(r),a=[].concat(t.context),o=0;o<i.length;o++)for(var s=i[o],l=this.getLookupSubtables(s),u=0;u<l.length;u++){var c=l[u],h=this.getSubstitutionType(s,c),f=this.getLookupMethod(s,c),d=void 0;switch(h){case"11":(d=f(t.current))&&a.splice(n,1,new Um({id:11,tag:e.tag,substitution:d}));break;case"12":(d=f(t.current))&&a.splice(n,1,new Um({id:12,tag:e.tag,substitution:d}));break;case"63":d=f(t),Array.isArray(d)&&d.length&&a.splice(n,1,new Um({id:63,tag:e.tag,substitution:d}));break;case"41":(d=f(t))&&a.splice(n,1,new Um({id:41,tag:e.tag,substitution:d}));break;case"21":(d=f(t.current))&&a.splice(n,1,new Um({id:21,tag:e.tag,substitution:d}))}t=new Am(a,n),Array.isArray(d)&&!d.length||(d=null)}return a.length?a:null},Fm.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var n=this.features[e.script].some((function(t){return t.tag===e.tag}));return t&&n},Fm.prototype.getLookupSubtables=function(e){return e.subtables||null},Fm.prototype.getLookupByIndex=function(e){return this.font.tables.gsub.lookups[e]||null},Fm.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))},Fm.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var t=this.features[e.script];return t?t.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};var Xm={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&Lm(t)||!Lm(n)&&Lm(t)},endCheck:function(e){var t=e.get(1);return null===t||!Lm(t)}};var qm={startCheck:function(e){var t=e.current,n=e.get(-1);return(Lm(t)||Im(t))&&!Lm(n)},endCheck:function(e){var t=e.get(1);switch(!0){case null===t:return!0;case!Lm(t)&&!Im(t):var n=/\s/.test(t);if(!n)return!0;if(n){var r;if(r=e.lookahead.some((function(e){return Lm(e)||Im(e)})),!r)return!0}break;default:return!1}}};var Ym={11:function(e,t,n){t[n].setState(e.tag,e.substitution)},12:function(e,t,n){t[n].setState(e.tag,e.substitution)},63:function(e,t,n){e.substitution.forEach((function(r,i){t[n+i].setState(e.tag,r)}))},41:function(e,t,n){var r=t[n];r.setState(e.tag,e.substitution.ligGlyph);for(var i=e.substitution.components.length,a=0;a<i;a++)(r=t[n+a+1]).setState("deleted",!0)}};function Km(e,t,n){e instanceof Um&&Ym[e.id]&&Ym[e.id](e,t,n)}function Jm(e){var t=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(e);if(1!==i.length){var a=new Am(i.map((function(e){return e.getState("glyphIndex")})),0),o=new Am(i.map((function(e){return e.char})),0);i.forEach((function(e,s){if(!Im(e.char)){a.setCurrentIndex(s),o.setCurrentIndex(s);var l,u=0;switch(function(e){for(var t=[].concat(e.backtrack),n=t.length-1;n>=0;n--){var r=t[n],i=Nm(r),a=Im(r);if(!i&&!a)return!0;if(i)return!1}return!1}(o)&&(u|=1),function(e){if(Nm(e.current))return!1;for(var t=0;t<e.lookahead.length;t++)if(!Im(e.lookahead[t]))return!0;return!1}(o)&&(u|=2),u){case 1:l="fina";break;case 2:l="init";break;case 3:l="medi"}if(-1!==r.indexOf(l)){var c=t.query.lookupFeature({tag:l,script:n,contextParams:a});if(c instanceof Error)return console.info(c.message);c.forEach((function(e,t){e instanceof Um&&(Km(e,i,t),a.context[t]=e.substitution)}))}}}))}}function Zm(e,t){var n=e.map((function(e){return e.activeState.value}));return new Am(n,t||0)}function Qm(e){var t=this,n=this.tokenizer.getRangeTokens(e),r=Zm(n);r.context.forEach((function(e,i){r.setCurrentIndex(i);var a=t.query.lookupFeature({tag:"rlig",script:"arab",contextParams:r});a.length&&(a.forEach((function(e){return Km(e,n,i)})),r=Zm(n))}))}var $m={startCheck:function(e){var t=e.current,n=e.get(-1);return null===n&&Dm(t)||!Dm(n)&&Dm(t)},endCheck:function(e){var t=e.get(1);return null===t||!Dm(t)}};function ey(e,t){var n=e.map((function(e){return e.activeState.value}));return new Am(n,t||0)}function ty(e){var t=this,n=this.tokenizer.getRangeTokens(e),r=ey(n);r.context.forEach((function(e,i){r.setCurrentIndex(i);var a=t.query.lookupFeature({tag:"liga",script:"latn",contextParams:r});a.length&&(a.forEach((function(e){return Km(e,n,i)})),r=ey(n))}))}function ny(e){this.baseDir=e||"ltr",this.tokenizer=new Rm,this.featuresTags={}}function ry(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function iy(){return ry.call(this,"latinWord"),ry.call(this,"arabicWord"),ry.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function ay(){var e=this;this.tokenizer.getContextRanges("arabicSentence").forEach((function(t){var n=e.tokenizer.getRangeTokens(t);e.tokenizer.replaceRange(t.startIndex,t.endOffset,n.reverse())}))}function oy(){if(-1===this.tokenizer.registeredModifiers.indexOf("glyphIndex"))throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function sy(){var e=this;this.featuresTags.hasOwnProperty("arab")&&(oy.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){Jm.call(e,t)})))}function ly(){var e=this,t="arab";this.featuresTags.hasOwnProperty(t)&&(-1!==this.featuresTags[t].indexOf("rlig")&&(oy.call(this),this.tokenizer.getContextRanges("arabicWord").forEach((function(t){Qm.call(e,t)}))))}function uy(){var e=this,t="latn";this.featuresTags.hasOwnProperty(t)&&(-1!==this.featuresTags[t].indexOf("liga")&&(oy.call(this),this.tokenizer.getContextRanges("latinWord").forEach((function(t){ty.call(e,t)}))))}function cy(e){(e=e||{}).tables=e.tables||{},e.empty||(Ag(e.familyName,"When creating a new Font object, familyName is required."),Ag(e.styleName,"When creating a new Font object, styleName is required."),Ag(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ag(e.ascender,"When creating a new Font object, ascender is required."),Ag(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new kv.GlyphSet(this,e.glyphs||[]),this.encoding=new fv(this),this.position=new Eg(this),this.substitution=new _g(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){return this._hinting?this._hinting:"truetype"===this.outlinesFormat?this._hinting=new zg(this):void 0}})}function hy(e,t){var n=JSON.stringify(e),r=256;for(var i in t){var a=parseInt(i);if(a&&!(a<256)){if(JSON.stringify(t[i])===n)return a;r<=a&&(r=a+1)}}return t[r]=e,r}function fy(e,t,n){var r=hy(t.name,n);return[{name:"tag_"+e,type:"TAG",value:t.tag},{name:"minValue_"+e,type:"FIXED",value:t.minValue<<16},{name:"defaultValue_"+e,type:"FIXED",value:t.defaultValue<<16},{name:"maxValue_"+e,type:"FIXED",value:t.maxValue<<16},{name:"flags_"+e,type:"USHORT",value:0},{name:"nameID_"+e,type:"USHORT",value:r}]}function dy(e,t,n){var r={},i=new av.Parser(e,t);return r.tag=i.parseTag(),r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function py(e,t,n,r){for(var i=[{name:"nameID_"+e,type:"USHORT",value:hy(t.name,r)},{name:"flags_"+e,type:"USHORT",value:0}],a=0;a<n.length;++a){var o=n[a].tag;i.push({name:"axis_"+e+" "+o,type:"FIXED",value:t.coordinates[o]<<16})}return i}function vy(e,t,n,r){var i={},a=new av.Parser(e,t);i.name=r[a.parseUShort()]||{},a.skip("uShort",1),i.coordinates={};for(var o=0;o<n.length;++o)i.coordinates[n[o].tag]=a.parseFixed();return i}ny.prototype.setText=function(e){this.text=e},ny.prototype.contextChecks={latinWordCheck:$m,arabicWordCheck:Xm,arabicSentenceCheck:qm},ny.prototype.registerFeatures=function(e,t){var n=this,r=t.filter((function(t){return n.query.supports({script:e,tag:t})}));this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(r):this.featuresTags[e]=r},ny.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Fm(e));for(var n=0;n<t.length;n++){var r=t[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}},ny.prototype.registerModifier=function(e,t,n){this.tokenizer.registerModifier(e,t,n)},ny.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)},ny.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(sy.call(this),ly.call(this)),this.checkContextReady("latinWord")&&uy.call(this),this.checkContextReady("arabicSentence")&&ay.call(this)},ny.prototype.processText=function(e){this.text&&this.text===e||(this.setText(e),iy.call(this),this.applyFeaturesToContexts())},ny.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()},ny.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;t.push(Array.isArray(i)?i[0]:i)}}return t},cy.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},cy.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},cy.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},cy.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map((function(t){return"latn"===t.script?{script:"latn",tags:t.tags.filter((function(t){return e[t]}))}:t}))},cy.prototype.stringToGlyphs=function(e,t){var n=this,r=new ny;r.registerModifier("glyphIndex",null,(function(e){return n.charToGlyphIndex(e.char)}));var i=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;r.applyFeatures(this,i);for(var a=r.getTextGlyphs(e),o=a.length,s=new Array(o),l=this.glyphs.get(0),u=0;u<o;u+=1)s[u]=this.glyphs.get(a[u])||l;return s},cy.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},cy.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),n=this.glyphs.get(t);return n||(n=this.glyphs.get(0)),n},cy.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},cy.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,e,t):this.kerningPairs[e+","+t]||0},cy.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]},cy.prototype.forEachGlyph=function(e,t,n,r,i,a){t=void 0!==t?t:0,n=void 0!==n?n:0,r=void 0!==r?r:72,i=Object.assign({},this.defaultRenderOptions,i);var o,s=1/this.unitsPerEm*r,l=this.stringToGlyphs(e,i);if(i.kerning){var u=i.script||this.position.getDefaultScriptName();o=this.position.getKerningTables(u,i.language)}for(var c=0;c<l.length;c+=1){var h=l[c];if(a.call(this,h,t,n,r,i),h.advanceWidth&&(t+=h.advanceWidth*s),i.kerning&&c<l.length-1)t+=(o?this.position.getKerningValue(o,h.index,l[c+1].index):this.getKerningValue(h,l[c+1]))*s;i.letterSpacing?t+=i.letterSpacing*r:i.tracking&&(t+=i.tracking/1e3*r)}return t},cy.prototype.getPath=function(e,t,n,r,i){var a=new Mp;return this.forEachGlyph(e,t,n,r,i,(function(e,t,n,r){var o=e.getPath(t,n,r,i,this);a.extend(o)})),a},cy.prototype.getPaths=function(e,t,n,r,i){var a=[];return this.forEachGlyph(e,t,n,r,i,(function(e,t,n,r){var o=e.getPath(t,n,r,i,this);a.push(o)})),a},cy.prototype.getAdvanceWidth=function(e,t,n){return this.forEachGlyph(e,0,0,t,n,(function(){}))},cy.prototype.draw=function(e,t,n,r,i,a){this.getPath(t,n,r,i,a).draw(e)},cy.prototype.drawPoints=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,(function(t,n,r,i){t.drawPoints(e,n,r,i)}))},cy.prototype.drawMetrics=function(e,t,n,r,i,a){this.forEachGlyph(t,n,r,i,a,(function(t,n,r,i){t.drawMetrics(e,n,r,i)}))},cy.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en},cy.prototype.validate=function(){var e=this;function t(t){var n=e.getEnglishName(t);n&&n.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},cy.prototype.toTables=function(){return bg.fontToTable(this)},cy.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},cy.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e[r];return t},cy.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var i=this.toArrayBuffer();if("undefined"!==typeof window)if(window.URL=window.URL||window.webkitURL,window.URL){var a=new DataView(i),o=new Blob([a],{type:"font/opentype"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=e;var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!1),s.dispatchEvent(l)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var u=n(256),c=function(e){for(var t=new Buffer(e.byteLength),n=new Uint8Array(e),r=0;r<t.length;++r)t[r]=n[r];return t}(i);u.writeFileSync(e,c)}},cy.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},cy.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},cy.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var gy={make:function(e,t){var n=new Zp.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);n.offsetToData=n.sizeOf();for(var r=0;r<e.axes.length;r++)n.fields=n.fields.concat(fy(r,e.axes[r],t));for(var i=0;i<e.instances.length;i++)n.fields=n.fields.concat(py(i,e.instances[i],e.axes,t));return n},parse:function(e,t,n){var r=new av.Parser(e,t),i=r.parseULong();Ap.argument(65536===i,"Unsupported fvar table version.");var a=r.parseOffset16();r.skip("uShort",1);for(var o=r.parseUShort(),s=r.parseUShort(),l=r.parseUShort(),u=r.parseUShort(),c=[],h=0;h<o;h++)c.push(dy(e,t+a+h*s,n));for(var f=[],d=t+a+o*s,p=0;p<l;p++)f.push(vy(e,d+p*u,c,n));return{axes:c,instances:f}}},my=function(){return{coverage:this.parsePointer(rv.coverage),attachPoints:this.parseList(rv.pointer(rv.uShortList))}},yy=function(){var e=this.parseUShort();return Ap.argument(1===e||2===e||3===e,"Unsupported CaretValue table version."),1===e?{coordinate:this.parseShort()}:2===e?{pointindex:this.parseShort()}:3===e?{coordinate:this.parseShort()}:void 0},by=function(){return this.parseList(rv.pointer(yy))},xy=function(){return{coverage:this.parsePointer(rv.coverage),ligGlyphs:this.parseList(rv.pointer(by))}},ky=function(){return this.parseUShort(),this.parseList(rv.pointer(rv.coverage))};var wy={parse:function(e,t){var n=new rv(e,t=t||0),r=n.parseVersion(1);Ap.argument(1===r||1.2===r||1.3===r,"Unsupported GDEF table version.");var i={version:r,classDef:n.parsePointer(rv.classDef),attachList:n.parsePointer(my),ligCaretList:n.parsePointer(xy),markAttachClassDef:n.parsePointer(rv.classDef)};return r>=1.2&&(i.markGlyphSets=n.parsePointer(ky)),i}},Sy=new Array(10);Sy[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(rv.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(rv.coverage),values:this.parseValueRecordList()}:void Ap.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Sy[2]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();Ap.assert(1===t||2===t,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(rv.coverage),r=this.parseUShort(),i=this.parseUShort();if(1===t)return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:i,pairSets:this.parseList(rv.pointer(rv.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(r),value2:this.parseValueRecord(i)}}))))};if(2===t){var a=this.parsePointer(rv.classDef),o=this.parsePointer(rv.classDef),s=this.parseUShort(),l=this.parseUShort();return{posFormat:t,coverage:n,valueFormat1:r,valueFormat2:i,classDef1:a,classDef2:o,class1Count:s,class2Count:l,classRecords:this.parseList(s,rv.list(l,(function(){return{value1:this.parseValueRecord(r),value2:this.parseValueRecord(i)}})))}}},Sy[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Sy[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Sy[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Sy[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Sy[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Sy[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Sy[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Ey=new Array(10);var _y={parse:function(e,t){var n=new rv(e,t=t||0),r=n.parseVersion(1);return Ap.argument(1===r||1.1===r,"Unsupported GPOS table version "+r),1===r?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Sy)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Sy),variations:n.parseFeatureVariationsList()}},make:function(e){return new Zp.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Zp.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new Zp.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new Zp.LookupList(e.lookups,Ey)}])}};var My={parse:function(e,t){var n=new av.Parser(e,t),r=n.parseUShort();if(0===r)return function(e){var t={};e.skip("uShort");var n=e.parseUShort();Ap.argument(0===n,"Unsupported kern sub-table version."),e.skip("uShort",2);var r=e.parseUShort();e.skip("uShort",3);for(var i=0;i<r;i+=1){var a=e.parseUShort(),o=e.parseUShort(),s=e.parseShort();t[a+","+o]=s}return t}(n);if(1===r)return function(e){var t={};e.skip("uShort"),e.parseULong()>1&&console.warn("Only the first kern subtable is supported."),e.skip("uLong");var n=255&e.parseUShort();if(e.skip("uShort"),0===n){var r=e.parseUShort();e.skip("uShort",3);for(var i=0;i<r;i+=1){var a=e.parseUShort(),o=e.parseUShort(),s=e.parseShort();t[a+","+o]=s}}return t}(n);throw new Error("Unsupported kern table version ("+r+").")}};var Ty={parse:function(e,t,n,r){for(var i=new av.Parser(e,t),a=r?i.parseUShort:i.parseULong,o=[],s=0;s<n+1;s+=1){var l=a.call(i);r&&(l*=2),o.push(l)}return o}};function Cy(e,t){n(256).readFile(e,(function(e,n){if(e)return t(e.message);t(null,Cg(n))}))}function Ay(e,t){var n=new XMLHttpRequest;n.open("get",e,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?t(null,n.response):t("Font could not be loaded: "+n.statusText)},n.onerror=function(){t("Font could not be loaded")},n.send()}function Py(e,t){for(var n=[],r=12,i=0;i<t;i+=1){var a=av.getTag(e,r),o=av.getULong(e,r+4),s=av.getULong(e,r+8),l=av.getULong(e,r+12);n.push({tag:a,checksum:o,offset:s,length:l,compression:!1}),r+=16}return n}function Oy(e,t){if("WOFF"===t.compression){var n=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2),r=new Uint8Array(t.length);if(Sp(n,r),r.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}return{data:e,offset:t.offset}}function Ry(e,t){var n,r;t=void 0===t||null===t?{}:t;var i,a,o,s,l,u,c,h,f,d,p,v,g,m=new cy({empty:!0}),y=new DataView(e,0),b=[],x=av.getTag(y,0);if(x===String.fromCharCode(0,1,0,0)||"true"===x||"typ1"===x)m.outlinesFormat="truetype",b=Py(y,i=av.getUShort(y,4));else if("OTTO"===x)m.outlinesFormat="cff",b=Py(y,i=av.getUShort(y,4));else{if("wOFF"!==x)throw new Error("Unsupported OpenType signature "+x);var k=av.getTag(y,4);if(k===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==k)throw new Error("Unsupported OpenType flavor "+x);m.outlinesFormat="cff"}b=function(e,t){for(var n=[],r=44,i=0;i<t;i+=1){var a=av.getTag(e,r),o=av.getULong(e,r+4),s=av.getULong(e,r+8),l=av.getULong(e,r+12),u=void 0;u=s<l&&"WOFF",n.push({tag:a,offset:o,compression:u,compressedLength:s,length:l}),r+=20}return n}(y,i=av.getUShort(y,12))}for(var w=0;w<i;w+=1){var S=b[w],E=void 0;switch(S.tag){case"cmap":E=Oy(y,S),m.tables.cmap=sv.parse(E.data,E.offset),m.encoding=new dv(m.tables.cmap);break;case"cvt ":E=Oy(y,S),g=new av.Parser(E.data,E.offset),m.tables.cvt=g.parseShortList(S.length/2);break;case"fvar":o=S;break;case"fpgm":E=Oy(y,S),g=new av.Parser(E.data,E.offset),m.tables.fpgm=g.parseByteList(S.length);break;case"head":E=Oy(y,S),m.tables.head=Hv.parse(E.data,E.offset),m.unitsPerEm=m.tables.head.unitsPerEm,n=m.tables.head.indexToLocFormat;break;case"hhea":E=Oy(y,S),m.tables.hhea=Gv.parse(E.data,E.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":h=S;break;case"ltag":E=Oy(y,S),r=Vv.parse(E.data,E.offset);break;case"maxp":E=Oy(y,S),m.tables.maxp=Wv.parse(E.data,E.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":p=S;break;case"OS/2":E=Oy(y,S),m.tables.os2=og.parse(E.data,E.offset);break;case"post":E=Oy(y,S),m.tables.post=sg.parse(E.data,E.offset),m.glyphNames=new vv(m.tables.post);break;case"prep":E=Oy(y,S),g=new av.Parser(E.data,E.offset),m.tables.prep=g.parseByteList(S.length);break;case"glyf":s=S;break;case"loca":d=S;break;case"CFF ":a=S;break;case"kern":f=S;break;case"GDEF":l=S;break;case"GPOS":u=S;break;case"GSUB":c=S;break;case"meta":v=S}}var _=Oy(y,p);if(m.tables.name=ig.parse(_.data,_.offset,r),m.names=m.tables.name,s&&d){var M=0===n,T=Oy(y,d),C=Ty.parse(T.data,T.offset,m.numGlyphs,M),A=Oy(y,s);m.glyphs=Bg.parse(A.data,A.offset,C,m,t)}else{if(!a)throw new Error("Font doesn't contain TrueType or CFF outlines.");var P=Oy(y,a);zv.parse(P.data,P.offset,m,t)}var O=Oy(y,h);if(jv.parse(m,O.data,O.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs,t),gv(m,t),f){var R=Oy(y,f);m.kerningPairs=My.parse(R.data,R.offset)}else m.kerningPairs={};if(l){var L=Oy(y,l);m.tables.gdef=wy.parse(L.data,L.offset)}if(u){var N=Oy(y,u);m.tables.gpos=_y.parse(N.data,N.offset),m.position.init()}if(c){var I=Oy(y,c);m.tables.gsub=hg.parse(I.data,I.offset)}if(o){var D=Oy(y,o);m.tables.fvar=gy.parse(D.data,D.offset,m.names)}if(v){var F=Oy(y,v);m.tables.meta=fg.parse(F.data,F.offset),m.metas=m.tables.meta}return m}var Ly=Object.freeze({__proto__:null,Font:cy,Glyph:yv,Path:Mp,BoundingBox:_p,_parse:av,parse:Ry,load:function(e,t,n){n=void 0===n||null===n?{}:n;var r="undefined"===typeof window&&!n.isUrl?Cy:Ay;return new Promise((function(i,a){r(e,(function(e,r){if(e){if(t)return t(e);a(e)}var o;try{o=Ry(r,n)}catch(cQ){if(t)return t(cQ,null);a(cQ)}if(t)return t(null,o);i(o)}))}))},loadSync:function(e,t){return Ry(Cg(n(256).readFileSync(e)),t)}}),Ny=Ly,Iy="DxfWorkerMsg",Dy=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];T(this,e),this.worker=t,n?t.onmessage=this._ProcessRequest.bind(this):t&&(t.addEventListener("message",this._ProcessResponse.bind(this),!1),t.addEventListener("error",this._OnError.bind(this),!1),this.reqSeq=1,this.requests=new Map,this.progressCbk=null)}return M(e,[{key:"Load",value:function(){var t=S(k().mark((function t(n,r,i,a){return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.worker){t.next=4;break}return t.abrupt("return",this._SendRequest(e.WorkerMsg.LOAD,{url:n,fonts:r,options:this._CloneOptions(i)},a));case 4:return t.abrupt("return",this._Load(n,r,i,a));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},{key:"Destroy",value:function(){var t=S(k().mark((function t(){var n,r=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>0&&void 0!==r[0]&&r[0],!this.worker){t.next=6;break}if(n){t.next=5;break}return t.next=5,this._SendRequest(e.WorkerMsg.DESTROY);case 5:this.worker.terminate();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_ProcessRequest",value:function(){var t=S(k().mark((function t(n){var r,i,a;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.data).signature===Iy){t.next=4;break}return console.log("Message with bad signature",r),t.abrupt("return");case 4:return i={seq:r.seq,type:r.type,signature:Iy},a=[],t.prev=6,t.next=9,this._ProcessRequestMessage(r.type,r.data,a,r.seq);case 9:i.data=t.sent,t.next=16;break;case 12:t.prev=12,t.t0=t.catch(6),console.error(t.t0),i.error=String(t.t0);case 16:this.worker.postMessage(i,a),r.type===e.WorkerMsg.DESTROY&&(this.worker.onmessage=null,this.worker.close(),this.worker=null);case 18:case"end":return t.stop()}}),t,this,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:"_ProcessRequestMessage",value:function(){var t=S(k().mark((function t(n,r,i,a){var o,s,l,u=this;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=n,t.next=t.t0===e.WorkerMsg.LOAD?3:t.t0===e.WorkerMsg.DESTROY?12:13;break;case 3:return t.next=5,this._Load(r.url,r.fonts,r.options,(function(e,t,n){return u._SendProgress(a,e,t,n)}));case 5:return o=t.sent,s=o.scene,l=o.dxf,i.push(s.vertices),i.push(s.indices),i.push(s.transforms),t.abrupt("return",{scene:s,dxf:l});case 12:return t.abrupt("return",null);case 13:throw"Unknown message type: "+n;case 14:case"end":return t.stop()}}),t,this)})));return function(e,n,r,i){return t.apply(this,arguments)}}()},{key:"_ProcessResponse",value:function(){var t=S(k().mark((function t(n){var r,i,a,o;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=n.data).signature===Iy){t.next=4;break}return console.log("Message with bad signature",r),t.abrupt("return");case 4:if(i=r.seq,a=this.requests.get(i)){t.next=9;break}return console.error("Unmatched message sequence: ",i),t.abrupt("return");case 9:if(o=r.data,r.type!==e.WorkerMsg.PROGRESS||!a.progressCbk){t.next=13;break}return a.progressCbk(o.phase,o.size,o.totalSize),t.abrupt("return");case 13:this.requests.delete(i),r.hasOwnProperty("error")?a.SetError(r.error):a.SetResponse(o);case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_OnError",value:function(){var e=S(k().mark((function e(t){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.error("DxfWorker worker error",t),n=Array.from(this.requests.values),this.requests.clear(),n.forEach((function(e){return e.SetError(t)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_SendRequest",value:function(){var t=S(k().mark((function t(n){var r,i,a,o,s=arguments;return k().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:null,i=s.length>2&&void 0!==s[2]?s[2]:null,a=this.reqSeq++,o=new e.Request(a,i),this.requests.set(a,o),this.worker.postMessage({seq:a,type:n,data:r,signature:Iy}),t.next=8,o.GetResponse();case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_SendProgress",value:function(t,n,r,i){this.worker.postMessage({seq:t,type:e.WorkerMsg.PROGRESS,data:{phase:n,size:r,totalSize:i},signature:Iy})}},{key:"_Load",value:function(){var e=S(k().mark((function e(t,n,r,i){var a,o,s;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n?this._CreateFontFetchers(n,i):[],e.next=3,new ir(t,r.fileEncoding).Fetch(i);case 3:return o=e.sent,i&&i("prepare",0,null),s=new Wd(r),e.next=8,s.Build(o,a);case 8:return e.abrupt("return",{scene:s.scene,dxf:!0===r.retainParsedDxf?o:void 0});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_CreateFontFetchers",value:function(e,t){function n(e){return S(k().mark((function n(){var r;return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t&&t("font",0,null),n.next=3,fetch(e).then((function(e){return e.arrayBuffer()}));case 3:return r=n.sent,t&&t("prepare",0,null),n.abrupt("return",Ny.parse(r));case 6:case"end":return n.stop()}}),n)})))}var r,i=[],a=q(e);try{for(a.s();!(r=a.n()).done;){var o=r.value;i.push(n(o))}}catch(s){a.e(s)}finally{a.f()}return i}},{key:"_CloneOptions",value:function(e){var t=this;if(Array.isArray(e))return e.map((function(e){return t._CloneOptions(e)}));if("object"===typeof e&&null!==e){var n={};for(var r in e)n[r]=this._CloneOptions(e[r]);return n}return e}}])}();Dy.WorkerMsg={LOAD:"LOAD",PROGRESS:"PROGRESS",DESTROY:"DESTROY"},Dy.Request=function(){return M((function e(t,n){var r=this;T(this,e),this.seq=t,this.progressCbk=n,this.promise=new Promise((function(e,t){r._Resolve=e,r._Reject=t}))}),[{key:"GetResponse",value:function(){var e=S(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.promise;case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"SetResponse",value:function(e){this._Resolve(e)}},{key:"SetError",value:function(e){this._Reject(e)}}])}();var Fy=function(){return M((function e(t,n,r,i){T(this,e),this.instanceType=t,this.geometryType=null!==n&&void 0!==n?n:null,this.color=r,this.lineType=null!==i&&void 0!==i?i:null}),[{key:"Compare",value:function(e){var t=kh(this.instanceType,e.instanceType);return 0!==t||0!==(t=kh(this.geometryType,e.geometryType))||0!==(t=kh(this.color,e.color))?t:kh(this.lineType,e.lineType)}}])}(),Uy=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new fa,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.mouseZoomSpeedFactor=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:sr,MIDDLE:lr,RIGHT:ur},this.touches={ONE:cr,TWO:fr},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",W),this._domElementKeyEvents=e},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(r),n.update(),s=o.NONE},this.update=function(){var t=new fa,i=(new ha).setFromUnitVectors(e.up,new fa(0,1,0)),a=i.clone().invert(),p=new fa,v=new ha,g=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(i),u.setFromVector3(t),n.autoRotate&&s===o.NONE&&_(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(u.theta+=c.theta*n.dampingFactor,u.phi+=c.phi*n.dampingFactor):(u.theta+=c.theta,u.phi+=c.phi);var m=n.minAzimuthAngle,y=n.maxAzimuthAngle;return isFinite(m)&&isFinite(y)&&(m<-Math.PI?m+=g:m>Math.PI&&(m-=g),y<-Math.PI?y+=g:y>Math.PI&&(y-=g),u.theta=m<=y?Math.max(m,Math.min(y,u.theta)):u.theta>(m+y)/2?Math.max(m,u.theta):Math.min(y,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=h,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),!0===n.enableDamping?n.target.addScaledVector(f,n.dampingFactor):n.target.add(f),t.setFromSpherical(u),t.applyQuaternion(a),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(c.theta*=1-n.dampingFactor,c.phi*=1-n.dampingFactor,f.multiplyScalar(1-n.dampingFactor)):(c.set(0,0,0),f.set(0,0,0)),h=1,!!(d||p.distanceToSquared(n.object.position)>l||8*(1-v.dot(n.object.quaternion))>l)&&(n.dispatchEvent(r),p.copy(n.object.position),v.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",K),n.domElement.removeEventListener("pointerdown",H),n.domElement.removeEventListener("wheel",V),n.domElement.removeEventListener("touchstart",X),n.domElement.removeEventListener("touchend",Y),n.domElement.removeEventListener("touchmove",q),n.domElement.ownerDocument.removeEventListener("pointermove",G),n.domElement.ownerDocument.removeEventListener("pointerup",j),null!==n._domElementKeyEvents&&n._domElementKeyEvents.removeEventListener("keydown",W)};var n=this,r={type:"change"},i={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},s=o.NONE,l=1e-6,u=new mh,c=new mh,h=1,f=new fa,d=!1,p=new Bi,v=new Bi,g=new Bi,m=new Bi,y=new Bi,b=new Bi,x=new Bi,k=new Bi,w=new Bi,S=new Bi;function E(e){return Math.pow(.95,n.zoomSpeed*(e?n.mouseZoomSpeedFactor:1))}function _(e){c.theta-=e}function M(e){c.phi-=e}var T=function(){var e=new fa;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),f.add(e)}}(),C=function(){var e=new fa;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),f.add(e)}}(),A=function(){var e=new fa;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var a=n.object.position;e.copy(a).sub(n.target);var o=e.length();o*=Math.tan(n.object.fov/2*Math.PI/180),T(2*t*o/i.clientHeight,n.object.matrix),C(2*r*o/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(T(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth/window.devicePixelRatio,n.object.matrix),C(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight/window.devicePixelRatio,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function P(e,t){var r=(t.x-n.domElement.width/2)*(e-1)/e,i=(t.y-n.domElement.height/2)*(e-1)/e;A(-r,-i)}function O(e,t){if(n.object.isPerspectiveCamera)h/=e;else if(n.object.isOrthographicCamera){var r=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e));P(r/n.object.zoom,t),n.object.zoom=r,n.object.updateProjectionMatrix(),d=!0}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1}function R(e,t){if(n.object.isPerspectiveCamera)h*=e;else if(n.object.isOrthographicCamera){var r=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e));P(r/n.object.zoom,t),n.object.zoom=r,n.object.updateProjectionMatrix(),d=!0}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1}function L(e){p.set(e.clientX,e.clientY)}function N(e){m.set(e.clientX,e.clientY)}function I(e){if(1==e.touches.length)p.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);p.set(t,n)}}function D(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,n)}}function F(e){var t=n.domElement.getBoundingClientRect();x.set((e.touches[0].clientX+e.touches[1].clientX)/2-t.left,(e.touches[0].clientY+e.touches[1].clientY)/2-t.top).multiplyScalar(window.devicePixelRatio);var r=e.touches[0].pageX-e.touches[1].pageX,i=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(r*r+i*i);k.set(0,a)}function U(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,r)}g.subVectors(v,p).multiplyScalar(n.rotateSpeed);var i=n.domElement;_(2*Math.PI*g.x/i.clientHeight),M(2*Math.PI*g.y/i.clientHeight),p.copy(v)}function B(e){if(1==e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,r)}b.subVectors(y,m).multiplyScalar(n.panSpeed*window.devicePixelRatio),A(b.x,b.y),m.copy(y)}function z(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);w.set(0,r),S.set(0,w.y/k.y),O(S.y,x),k.copy(w)}function H(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case lr:if(!1===n.enableZoom)return;!function(e){var t=n.domElement.getBoundingClientRect();x.set(e.clientX-t.left,e.clientY-t.top),k.set(e.clientX,e.clientY)}(e),s=o.DOLLY;break;case sr:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;N(e),s=o.PAN}else{if(!1===n.enableRotate)return;L(e),s=o.ROTATE}break;case ur:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;L(e),s=o.ROTATE}else{if(!1===n.enablePan)return;N(e),s=o.PAN}break;default:s=o.NONE}s!==o.NONE&&(n.domElement.ownerDocument.addEventListener("pointermove",G),n.domElement.ownerDocument.addEventListener("pointerup",j),n.dispatchEvent(i))}(e)}}function G(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;switch(e.preventDefault(),s){case o.ROTATE:if(!1===n.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),g.subVectors(v,p).multiplyScalar(n.rotateSpeed);var t=n.domElement;_(2*Math.PI*g.x/t.clientHeight),M(2*Math.PI*g.y/t.clientHeight),p.copy(v),n.update()}(e);break;case o.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY),S.subVectors(w,k),S.y>0?O(E(!0),x):S.y<0&&R(E(!0),x),k.copy(w),n.update()}(e);break;case o.PAN:if(!1===n.enablePan)return;!function(e){y.set(e.clientX,e.clientY),b.subVectors(y,m).multiplyScalar(n.panSpeed*window.devicePixelRatio),A(b.x,b.y),m.copy(y),n.update()}(e)}}(e)}}function j(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(n.domElement.ownerDocument.removeEventListener("pointermove",G),n.domElement.ownerDocument.removeEventListener("pointerup",j),!1===n.enabled)return;n.dispatchEvent(a),s=o.NONE}()}}function V(e){!1===n.enabled||!1===n.enableZoom||s!==o.NONE&&s!==o.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(i),function(e){var t=n.domElement.getBoundingClientRect(),r=new Bi((e.clientX-t.left)*window.devicePixelRatio,(e.clientY-t.top)*window.devicePixelRatio);e.deltaY<0?R(E(),r):e.deltaY>0&&O(E(),r),n.update()}(e),n.dispatchEvent(a))}function W(e){!1!==n.enabled&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:A(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:A(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:A(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:A(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function X(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case cr:if(!1===n.enableRotate)return;I(e),s=o.TOUCH_ROTATE;break;case hr:if(!1===n.enablePan)return;D(e),s=o.TOUCH_PAN;break;default:s=o.NONE}break;case 2:switch(n.touches.TWO){case fr:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&F(e),n.enablePan&&D(e)}(e),s=o.TOUCH_DOLLY_PAN;break;case dr:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&F(e),n.enableRotate&&I(e)}(e),s=o.TOUCH_DOLLY_ROTATE;break;default:s=o.NONE}break;default:s=o.NONE}s!==o.NONE&&n.dispatchEvent(i)}}function q(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),s){case o.TOUCH_ROTATE:if(!1===n.enableRotate)return;U(e),n.update();break;case o.TOUCH_PAN:if(!1===n.enablePan)return;B(e),n.update();break;case o.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&z(e),n.enablePan&&B(e)}(e),n.update();break;case o.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&z(e),n.enableRotate&&U(e)}(e),n.update();break;default:s=o.NONE}}function Y(e){!1!==n.enabled&&(n.dispatchEvent(a),s=o.NONE)}function K(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",K),n.domElement.addEventListener("pointerdown",H),n.domElement.addEventListener("wheel",V),n.domElement.addEventListener("touchstart",X),n.domElement.addEventListener("touchend",Y),n.domElement.addEventListener("touchmove",q),this.update()};(Uy.prototype=Object.create(Ti.prototype)).constructor=Uy;var By=function(e,t){Uy.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=ur,this.mouseButtons.RIGHT=sr,this.touches.ONE=hr,this.touches.TWO=dr};(By.prototype=Object.create(Ti.prototype)).constructor=By;var zy=Object.freeze({INFO:"info",WARN:"warn",ERROR:"error"}),Hy=function(){return M((function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;T(this,e),this.domContainer=t,this.options=Object.create(e.DefaultOptions),r&&Object.assign(this.options,r),r=this.options,this.clearColor=this.options.clearColor.getHex(),this.scene=new kc;try{this.renderer=new bc({alpha:r.canvasAlpha,premultipliedAlpha:r.canvasPremultipliedAlpha,antialias:r.antialias,depth:!1,preserveDrawingBuffer:r.preserveDrawingBuffer})}catch(cQ){return console.log("Failed to create renderer: "+cQ),void(this.renderer=null)}var i=this.renderer;i.sortObjects=!1,i.setPixelRatio(window.devicePixelRatio);var a=this.camera=new Ks(-1,1,1,-1,.1,2);a.position.z=1,a.position.x=0,a.position.y=0,this.simpleColorMaterial=[],this.simplePointMaterial=[];for(var o=0;o<Gy.MAX;o++)this.simpleColorMaterial[o]=this._CreateSimpleColorMaterial(o),this.simplePointMaterial[o]=this._CreateSimplePointMaterial(o);i.setClearColor(r.clearColor,r.clearAlpha),r.autoResize?(this.canvasWidth=t.clientWidth,this.canvasHeight=t.clientHeight,t.style.position="relative"):(this.canvasWidth=r.canvasWidth,this.canvasHeight=r.canvasHeight,this.resizeObserver=null),i.setSize(this.canvasWidth,this.canvasHeight),this.canvas=i.domElement,t.style.display="block",r.autoResize&&(this.canvas.style.position="absolute",this.resizeObserver=new ResizeObserver((function(e){return n._OnResize(e[0])})),this.resizeObserver.observe(t)),t.appendChild(this.canvas),this.canvas.addEventListener("pointerdown",this._OnPointerEvent.bind(this)),this.canvas.addEventListener("pointerup",this._OnPointerEvent.bind(this)),this.Render(),this.materials=new _d((function(e,t){return e.key.Compare(t.key)})),this.layers=new Map,this.blocks=new Map,this.worker=null}),[{key:"HasRenderer",value:function(){return Boolean(this.renderer)}},{key:"GetRenderer",value:function(){return this.renderer}},{key:"GetCanvas",value:function(){return this.canvas}},{key:"GetDxf",value:function(){return this.parsedDxf}},{key:"SetSize",value:function(e,t){this._EnsureRenderer();var n=e/this.canvasWidth,r=t/this.canvasHeight,i=this.camera,a=(i.left+i.right)/2,o=(i.bottom+i.top)/2,s=i.right-i.left,l=i.top-i.bottom;i.left=a-n*s/2,i.right=a+n*s/2,i.bottom=o-r*l/2,i.top=o+r*l/2,i.updateProjectionMatrix(),this.canvasWidth=e,this.canvasHeight=t,this.renderer.setSize(e,t),this.controls&&this.controls.update(),this._Emit("resized",{width:e,height:t}),this._Emit("viewChanged"),this.Render()}},{key:"Load",value:function(){var e=S(k().mark((function e(t){var n,r,i,a,o,s,l,u,c,h,f,d,p,v,g,m,y,b,x,w;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.url,r=t.fonts,i=void 0===r?null:r,a=t.progressCbk,o=void 0===a?null:a,s=t.workerFactory,l=void 0===s?null:s,null!==n&&void 0!==n){e.next=3;break}throw new Error("`url` parameter is not specified");case 3:return this._EnsureRenderer(),this.Clear(),this.worker=new Dy(l?l():null),e.next=8,this.worker.Load(n,i,this.options,o);case 8:return u=e.sent,c=u.scene,h=u.dxf,e.next=13,this.worker.Destroy();case 13:this.worker=null,this.parsedDxf=h,this.origin=c.origin,this.bounds=c.bounds,this.hasMissingChars=c.hasMissingChars,f=q(c.layers);try{for(f.s();!(d=f.n()).done;)p=d.value,this.layers.set(p.name,new Vy(p.name,p.displayName,p.color))}catch(k){f.e(k)}finally{f.f()}v=q(c.batches);try{for(v.s();!(g=v.n()).done;)null!==(m=g.value).key.blockName&&m.key.geometryType!==xh.GeometryType.BLOCK_INSTANCE&&m.key.geometryType!==xh.GeometryType.POINT_INSTANCE&&((y=this.blocks.get(m.key.blockName))||(y=new Wy,this.blocks.set(m.key.blockName,y)),y.PushBatch(new jy(this,c,m)))}catch(k){v.e(k)}finally{v.f()}console.log("DXF scene:\n                     ".concat(c.batches.length," batches,\n                     ").concat(this.layers.size," layers,\n                     ").concat(this.blocks.size," blocks,\n                     vertices ").concat(c.vertices.byteLength," B,\n                     indices ").concat(c.indices.byteLength," B\n                     transforms ").concat(c.transforms.byteLength," B")),b=q(c.batches);try{for(b.s();!(x=b.n()).done;)w=x.value,this._LoadBatch(c,w)}catch(k){b.e(k)}finally{b.f()}this._Emit("loaded"),c.bounds?this.FitView(c.bounds.minX-c.origin.x,c.bounds.maxX-c.origin.x,c.bounds.minY-c.origin.y,c.bounds.maxY-c.origin.y):this._Message("Empty document",zy.WARN),this.hasMissingChars&&this._Message("Some characters cannot be properly displayed due to missing fonts",zy.WARN),this._CreateControls(),this.Render();case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Render",value:function(){this._EnsureRenderer(),this.renderer.render(this.scene,this.camera)}},{key:"GetLayers",value:function(){var e,t=[],n=q(this.layers.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push({name:r.name,displayName:r.displayName,color:this._TransformColor(r.color)})}}catch(i){n.e(i)}finally{n.f()}return t}},{key:"ShowLayer",value:function(e,t){this._EnsureRenderer();var n=this.layers.get(e);if(n){var r,i=q(n.objects);try{for(i.s();!(r=i.n()).done;){r.value.visible=t}}catch(a){i.e(a)}finally{i.f()}this.Render()}}},{key:"Clear",value:function(){this._EnsureRenderer(),this.worker&&(this.worker.Destroy(!0),this.worker=null),this.controls&&(this.controls.dispose(),this.controls=null),this.scene.clear();var e,t=q(this.layers.values());try{for(t.s();!(e=t.n()).done;){e.value.Dispose()}}catch(n){t.e(n)}finally{t.f()}this.layers.clear(),this.blocks.clear(),this.materials.each((function(e){return e.material.dispose()})),this.materials.clear(),this.SetView({x:0,y:0},2),this._Emit("cleared"),this.Render()}},{key:"Destroy",value:function(){if(this.HasRenderer()){this.resizeObserver&&this.resizeObserver.disconnect(),this.Clear(),this._Emit("destroyed");var e,t=q(this.simplePointMaterial);try{for(t.s();!(e=t.n()).done;){e.value.dispose()}}catch(i){t.e(i)}finally{t.f()}var n,r=q(this.simpleColorMaterial);try{for(r.s();!(n=r.n()).done;){n.value.dispose()}}catch(i){r.e(i)}finally{r.f()}this.simplePointMaterial=null,this.simpleColorMaterial=null,this.renderer.dispose(),this.renderer=null}}},{key:"SetView",value:function(e,t){var n=t/(this.canvasWidth/this.canvasHeight),r=this.camera;r.left=-t/2,r.right=t/2,r.top=n/2,r.bottom=-n/2,r.zoom=1,r.position.set(e.x,e.y,1),r.rotation.set(0,0,0),r.updateMatrix(),r.updateProjectionMatrix(),this._Emit("viewChanged")}},{key:"FitView",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,a=this.canvasWidth/this.canvasHeight,o=t-e,s=r-n,l={x:e+o/2,y:n+s/2};s*a>o&&(o=s*a),o<=2*Number.MIN_VALUE&&(o=1),this.SetView(l,o*(1+i))}},{key:"GetScene",value:function(){return this.scene}},{key:"GetCamera",value:function(){return this.camera}},{key:"GetOrigin",value:function(){return this.origin}},{key:"GetBounds",value:function(){return this.bounds}},{key:"Subscribe",value:function(e,t){this._EnsureRenderer(),this.canvas.addEventListener(Xy+e,t)}},{key:"Unsubscribe",value:function(e,t){this._EnsureRenderer(),this.canvas.removeEventListener(Xy+e,t)}},{key:"_EnsureRenderer",value:function(){if(!this.HasRenderer())throw new Error("WebGL renderer not available. Probable WebGL context loss, try refreshing the page.")}},{key:"_CreateControls",value:function(){var e=this,t=this.controls=new Uy(this.camera,this.canvas);t.enableRotate=!1,t.mouseButtons={LEFT:ur,MIDDLE:lr},t.touches={ONE:hr,TWO:fr},t.zoomSpeed=3,t.mouseZoomSpeedFactor=.05,t.target=new fa(this.camera.position.x,this.camera.position.y,0),t.addEventListener("change",(function(){e._Emit("viewChanged"),e.Render()})),t.update()}},{key:"_Emit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.canvas.dispatchEvent(new CustomEvent(Xy+e,{detail:t}))}},{key:"_Message",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zy.INFO;this._Emit("message",{message:e,level:t})}},{key:"_OnPointerEvent",value:function(e){var t=e.target.getBoundingClientRect(),n={x:e.clientX-t.left,y:e.clientY-t.top};this._Emit(e.type,{domEvent:e,canvasCoord:n,position:this._CanvasToSceneCoord(n.x,n.y)})}},{key:"_CanvasToSceneCoord",value:function(e,t){var n=new fa(2*e/this.canvasWidth-1,2*-t/this.canvasHeight+1,1).unproject(this.camera);return{x:n.x,y:n.y}}},{key:"_OnResize",value:function(e){this.SetSize(Math.floor(e.contentRect.width),Math.floor(e.contentRect.height))}},{key:"_LoadBatch",value:function(e,t){if(null===t.key.blockName||t.key.geometryType===xh.GeometryType.BLOCK_INSTANCE||t.key.geometryType===xh.GeometryType.POINT_INSTANCE){var n,r=new jy(this,e,t).CreateObjects(),i=this.layers.get(t.key.layerName),a=q(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;this.scene.add(o),i&&i.PushObject(o)}}catch(s){a.e(s)}finally{a.f()}}}},{key:"_GetSimpleColorMaterial",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gy.NONE,n=new Fy(t,null,e,0),r=this.materials.find({key:n});return null!==r||(r={key:n,material:this._CreateSimpleColorMaterialInstance(e,t)},this.materials.insert(r)),r.material}},{key:"_CreateSimpleColorMaterial",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gy.NONE,t=this._GenerateShaders(e,!1);return new jc({uniforms:{color:{value:new Po(16711935)}},vertexShader:t.vertex,fragmentShader:t.fragment,depthTest:!1,depthWrite:!1,glslVersion:Si,side:2})}},{key:"_CreateSimpleColorMaterialInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gy.NONE,n=this.simpleColorMaterial[t].clone();return n.uniforms.color={value:new Po(e)},n}},{key:"_GetSimplePointMaterial",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gy.NONE,n=new Fy(t,xh.GeometryType.POINTS,e,0),r=this.materials.find({key:n});return null!==r||(r={key:n,material:this._CreateSimplePointMaterialInstance(e,this.options.pointSize,t)},this.materials.insert(r)),r.material}},{key:"_CreateSimplePointMaterial",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gy.NONE,t=this._GenerateShaders(e,!0);return new jc({uniforms:{color:{value:new Po(16711935)},pointSize:{value:2}},vertexShader:t.vertex,fragmentShader:t.fragment,depthTest:!1,depthWrite:!1,glslVersion:Si})}},{key:"_CreateSimplePointMaterialInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gy.NONE,r=this.simplePointMaterial[n].clone();return r.uniforms.color={value:new Po(e)},r.uniforms.size={value:t},r}},{key:"_GenerateShaders",value:function(e,t){var n=e===Gy.FULL?"\n            /* First row. */\n            in vec3 instanceTransform0;\n            /* Second row. */\n            in vec3 instanceTransform1;\n            ":"",r=e===Gy.FULL?"\n            pos.xy = mat2(instanceTransform0[0], instanceTransform1[0],\n                          instanceTransform0[1], instanceTransform1[1]) * pos.xy +\n                     vec2(instanceTransform0[2], instanceTransform1[2]);\n            ":"",i=e===Gy.POINT?"\n            in vec2 instanceTransform;\n            ":"",a=e===Gy.POINT?"\n            pos.xy += instanceTransform;\n            ":"",o=t?"uniform float pointSize;":"",s=t?"gl_PointSize = pointSize;":"";return{vertex:"\n\n            precision highp float;\n            precision highp int;\n            in vec2 position;\n            ".concat(n,"\n            ").concat(i,"\n            uniform mat4 modelViewMatrix;\n            uniform mat4 projectionMatrix;\n            ").concat(o,"\n\n            void main() {\n                vec4 pos = vec4(position, 0.0, 1.0);\n                ").concat(r,"\n                ").concat(a,"\n                gl_Position = projectionMatrix * modelViewMatrix * pos;\n                ").concat(s,"\n            }\n            "),fragment:"\n\n            precision highp float;\n            precision highp int;\n            uniform vec3 color;\n            out vec4 fragColor;\n\n            void main() {\n                fragColor = vec4(color, 1.0);\n            }\n            "}}},{key:"_TransformColor",value:function(e){if(!this.options.colorCorrection&&!this.options.blackWhiteInversion)return e;var t=Ky(this.clearColor);if(16777215===e&&t>=.8)return 0;if(0===e&&t<=.2)return 16777215;if(!this.options.colorCorrection)return e;var n,r,i,a=Ky(e),o=(n=e,r=this.clearColor,(Ky(n)+.05)/(Ky(r)+.05));(o>=1?o:1/o)<1.5&&(e=(i=t>.5?t/2:2*t)>a?function(e,t){var n=Zy(e);n.l*=t,n.l>1&&(n.l=1);return Jy(n)}(e,i/a):function(e,t){var n=Zy(e);return n.l/=t,Jy(n)}(e,a/i));return e}}])}();Hy.MessageLevel=zy,Hy.DefaultOptions={canvasWidth:400,canvasHeight:300,autoResize:!1,clearColor:new Po("#000"),clearAlpha:1,canvasAlpha:!1,canvasPremultipliedAlpha:!0,antialias:!0,colorCorrection:!1,blackWhiteInversion:!0,pointSize:2,sceneOptions:Wd.DefaultOptions,retainParsedDxf:!1,preserveDrawingBuffer:!1,fileEncoding:"utf-8"},Hy.SetupWorker=function(){new Dy(self,!0)};var Gy=Object.freeze({NONE:0,FULL:1,POINT:2,MAX:3}),jy=function(){return M((function e(t,n,r){if(T(this,e),this.viewer=t,this.key=r.key,r.hasOwnProperty("verticesOffset")){var i=new Float32Array(n.vertices,r.verticesOffset*Float32Array.BYTES_PER_ELEMENT,r.verticesSize);(this.key.geometryType!==xh.GeometryType.POINT_INSTANCE||n.pointShapeHasDot)&&(this.vertices=new Fo(i,2)),this.key.geometryType===xh.GeometryType.POINT_INSTANCE&&(this.transforms=new _c(i,2))}if(r.hasOwnProperty("chunks")){this.chunks=[];var a,o=q(r.chunks);try{for(o.s();!(a=o.n()).done;){var s=a.value,l=new Float32Array(n.vertices,s.verticesOffset*Float32Array.BYTES_PER_ELEMENT,s.verticesSize),u=new Uint16Array(n.indices,s.indicesOffset*Uint16Array.BYTES_PER_ELEMENT,s.indicesSize);this.chunks.push({vertices:new Fo(l,2),indices:new Fo(u,1)})}}catch(d){o.e(d)}finally{o.f()}}if(r.hasOwnProperty("transformsOffset")){var c=new Float32Array(n.transforms,r.transformsOffset*Float32Array.BYTES_PER_ELEMENT,r.transformsSize),h=new gh(c,6);this.transforms0=new Ec(h,3,0),this.transforms1=new Ec(h,3,3)}if(this.key.geometryType===xh.GeometryType.BLOCK_INSTANCE||this.key.geometryType===xh.GeometryType.POINT_INSTANCE){var f=this.viewer.layers.get(this.key.layerName);this.layerColor=f?f.color:0}}),[{key:"GetInstanceType",value:function(){switch(this.key.geometryType){case xh.GeometryType.BLOCK_INSTANCE:return Gy.FULL;case xh.GeometryType.POINT_INSTANCE:return Gy.POINT;default:return Gy.NONE}}},{key:"CreateObjects",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return k().mark((function n(){return k().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.key.geometryType!==xh.GeometryType.BLOCK_INSTANCE&&e.key.geometryType!==xh.GeometryType.POINT_INSTANCE){n.next=5;break}if(null===t){n.next=3;break}throw new Error("Unexpected instance batch specified for instance batch");case 3:return n.delegateYield(e._CreateBlockInstanceObjects(),"t0",4);case 4:return n.abrupt("return");case 5:return n.delegateYield(e._CreateObjects(t),"t1",6);case 6:case"end":return n.stop()}}),n)}))()}},{key:"_CreateObjects",value:k().mark((function e(t){var n,r,i,a,o,s,l,u,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(e,n){var r=t?new sh:new Yo;r.setAttribute("position",e),null===t||void 0===t||t._SetInstanceTransformAttribute(r),n&&r.setIndex(n);var i=new o(r,a);return i.frustumCulled=!1,i.matrixAutoUpdate=!1,i},r=t?t._GetInstanceColor(this.key.color):this.key.color,i=this.key.geometryType===xh.GeometryType.POINTS||this.key.geometryType===xh.GeometryType.POINT_INSTANCE?this.viewer._GetSimplePointMaterial:this.viewer._GetSimpleColorMaterial,a=i.call(this.viewer,this.viewer._TransformColor(r),null!==(n=null===t||void 0===t?void 0:t.GetInstanceType())&&void 0!==n?n:Gy.NONE),e.t0=this.key.geometryType,e.next=e.t0===xh.GeometryType.POINTS||e.t0===xh.GeometryType.POINT_INSTANCE?7:e.t0===xh.GeometryType.LINES||e.t0===xh.GeometryType.INDEXED_LINES?9:e.t0===xh.GeometryType.TRIANGLES||e.t0===xh.GeometryType.INDEXED_TRIANGLES?11:13;break;case 7:return o=Hc,e.abrupt("break",14);case 9:return o=Ic,e.abrupt("break",14);case 11:return o=fs,e.abrupt("break",14);case 13:throw new Error("Unexpected geometry type:"+this.key.geometryType);case 14:if(!this.chunks){e.next=34;break}l=q(this.chunks),e.prev=16,l.s();case 18:if((u=l.n()).done){e.next=24;break}return c=u.value,e.next=22,s(c.vertices,c.indices);case 22:e.next=18;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(16),l.e(e.t1);case 29:return e.prev=29,l.f(),e.finish(29);case 32:e.next=36;break;case 34:return e.next=36,s(this.vertices);case 36:case"end":return e.stop()}}),e,this,[[16,26,29,32]])}))},{key:"_SetInstanceTransformAttribute",value:function(e){if(!e.isInstancedBufferGeometry)throw new Error("InstancedBufferGeometry expected");this.key.geometryType===xh.GeometryType.POINT_INSTANCE?e.setAttribute("instanceTransform",this.transforms):(e.setAttribute("instanceTransform0",this.transforms0),e.setAttribute("instanceTransform1",this.transforms1))}},{key:"_CreateBlockInstanceObjects",value:k().mark((function e(){var t,n,r,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.viewer.blocks.get(this.key.blockName)){e.next=3;break}return e.abrupt("return");case 3:n=q(t.batches),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=11;break}return i=r.value,e.delegateYield(i.CreateObjects(this),"t0",9);case 9:e.next=6;break;case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(4),n.e(e.t1);case 16:return e.prev=16,n.f(),e.finish(16);case 19:if(!this.hasOwnProperty("vertices")){e.next=21;break}return e.delegateYield(this._CreateObjects(),"t2",21);case 21:case"end":return e.stop()}}),e,this,[[4,13,16,19]])}))},{key:"_GetInstanceColor",value:function(e){return e===ep.BY_BLOCK?this.key.color:e===ep.BY_LAYER?this.layerColor:e}}])}(),Vy=function(){return M((function e(t,n,r){T(this,e),this.name=t,this.displayName=n,this.color=r,this.objects=[]}),[{key:"PushObject",value:function(e){this.objects.push(e)}},{key:"Dispose",value:function(){var e,t=q(this.objects);try{for(t.s();!(e=t.n()).done;){e.value.geometry.dispose()}}catch(n){t.e(n)}finally{t.f()}this.objects=null}}])}(),Wy=function(){return M((function e(){T(this,e),this.batches=[]}),[{key:"PushBatch",value:function(e){this.batches.push(e)}}])}(),Xy="__dxf_";function qy(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Yy(e){return e<.003?12.92*e:1.055*Math.pow(e,1/2.4)-.055}function Ky(e){return.2126*qy(((16711680&e)>>>16)/255)+.7152*qy(((65280&e)>>>8)/255)+.0722*qy((255&e)/255)}function Jy(e){var t,n,r,i=e.h,a=e.l,o=e.s;if(0===o)t=n=r=a;else{var s=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},l=a<.5?a*(1+o):a+o-a*o,u=2*a-l;t=s(u,l,i+1/3),n=s(u,l,i),r=s(u,l,i-1/3)}return Math.min(Math.floor(256*Yy(t)),255)<<16|Math.min(Math.floor(256*Yy(n)),255)<<8|Math.min(Math.floor(256*Yy(r)),255)}function Zy(e){var t,n,r=qy(((16711680&e)>>>16)/255),i=qy(((65280&e)>>>8)/255),a=qy((255&e)/255),o=Math.max(r,i,a),s=Math.min(r,i,a),l=(o+s)/2;if(o===s)t=n=0;else{var u=o-s;switch(n=l>.5?u/(2-o-s):u/(o+s),o){case r:t=(i-a)/u+(i<a?6:0);break;case i:t=(a-r)/u+2;break;case a:t=(r-i)/u+4}t/=6}return{h:t,l:l,s:n}}var Qy=n.p+"static/media/Roboto-LightItalic.2eeb30ebc5bee9ac3d42.ttf",$y=n(582),eb=function(e){function t(e){var n;return T(this,t),(n=z(this,t,[e])).dxfBox=void 0,n.DXFViewer=void 0,n.timer=void 0,n.dxfBox=(0,m.createRef)(),n.DXFViewer=null,n.state={url:""},n}return G(t,e),M(t,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){this.initFunc(),this.initDXFCanvas()}},{key:"initFunc",value:function(){var e=this;window.onDXFViewerLoadUrl=function(t){e.timer=setInterval((function(){e.DXFViewer&&(e.showDXFFile(t),clearInterval(e.timer))}),1e3)}}},{key:"initDXFCanvas",value:function(){this.DXFViewer=new Hy(this.dxfBox.current,{autoResize:!0,sceneOptions:{wireframeMesh:!0}}),this.dispatchInitEvent()}},{key:"dispatchInitEvent",value:function(){var e;null===(e=window.ReactNativeWebView)||void 0===e||e.postMessage(JSON.stringify({action:"DxfViewerStatus",body:"ok"}))}},{key:"showDXFFile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.DXFViewer.Load(yn(yn({},t),{},{url:e,fonts:[Qy]}))}},{key:"render",value:function(){return(0,$y.jsx)($y.Fragment,{children:(0,$y.jsx)("div",{className:bn,ref:this.dxfBox})})}}])}(m.Component),tb=eb,nb=(n(490),function(){return M((function e(){T(this,e)}),[{key:"disposed",get:function(){return!0===this._disposed}},{key:"dispose",value:function(){this._disposed=!0}}])}());!function(e){e.dispose=function(){return function(e,t,n){var r=n.value,i=e.__proto__;n.value=function(){if(!this.disposed){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.call.apply(r,[this].concat(t)),i.dispose.call(this)}}}}}(nb||(nb={}));var rb=function(){return M((function e(){T(this,e),this.isDisposed=!1,this.items=new Set}),[{key:"disposed",get:function(){return this.isDisposed}},{key:"dispose",value:function(){this.isDisposed||(this.isDisposed=!0,this.items.forEach((function(e){e.dispose()})),this.items.clear())}},{key:"contains",value:function(e){return this.items.has(e)}},{key:"add",value:function(e){this.items.add(e)}},{key:"remove",value:function(e){this.items.delete(e)}},{key:"clear",value:function(){this.items.clear()}}])}();!function(e){e.from=function(t){var n=new e;return t.forEach((function(e){n.add(e)})),n}}(rb||(rb={}));var ib=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ab="object"==typeof global&&global&&global.Object===Object&&global,ob="object"==typeof self&&self&&self.Object===Object&&self,sb=ab||ob||Function("return this")(),lb=function(){return sb.Date.now()},ub=/\s/;var cb=function(e){for(var t=e.length;t--&&ub.test(e.charAt(t)););return t},hb=/^\s+/;var fb=function(e){return e?e.slice(0,cb(e)+1).replace(hb,""):e},db=sb.Symbol,pb=Object.prototype,vb=pb.hasOwnProperty,gb=pb.toString,mb=db?db.toStringTag:void 0;var yb=function(e){var t=vb.call(e,mb),n=e[mb];try{e[mb]=void 0;var r=!0}catch(cQ){}var i=gb.call(e);return r&&(t?e[mb]=n:delete e[mb]),i},bb=Object.prototype.toString;var xb=function(e){return bb.call(e)},kb=db?db.toStringTag:void 0;var wb=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":kb&&kb in Object(e)?yb(e):xb(e)};var Sb=function(e){return null!=e&&"object"==typeof e};var Eb=function(e){return"symbol"==typeof e||Sb(e)&&"[object Symbol]"==wb(e)},_b=/^[-+]0x[0-9a-f]+$/i,Mb=/^0b[01]+$/i,Tb=/^0o[0-7]+$/i,Cb=parseInt;var Ab=function(e){if("number"==typeof e)return e;if(Eb(e))return NaN;if(ib(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ib(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=fb(e);var n=Mb.test(e);return n||Tb.test(e)?Cb(e.slice(2),n?2:8):_b.test(e)?NaN:+e},Pb=Math.max,Ob=Math.min;var Rb=function(e,t,n){var r,i,a,o,s,l,u=0,c=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,a=i;return r=i=void 0,u=t,o=e.apply(a,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=a}function v(){var e=lb();if(p(e))return g(e);s=setTimeout(v,function(e){var n=t-(e-l);return h?Ob(n,a-(e-u)):n}(e))}function g(e){return s=void 0,f&&r?d(e):(r=i=void 0,o)}function m(){var e=lb(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return u=e,s=setTimeout(v,t),c?d(e):o}(l);if(h)return clearTimeout(s),s=setTimeout(v,t),d(l)}return void 0===s&&(s=setTimeout(v,t)),o}return t=Ab(t)||0,ib(n)&&(c=!!n.leading,a=(h="maxWait"in n)?Pb(Ab(n.maxWait)||0,t):a,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==s&&clearTimeout(s),u=0,r=l=i=s=void 0},m.flush=function(){return void 0===s?o:g(lb())},m};var Lb=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return ib(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Rb(e,t,{leading:r,maxWait:t,trailing:i})};function Nb(e,t,n){if(n)switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2]);case 4:return e.call(t,n[0],n[1],n[2],n[3]);case 5:return e.call(t,n[0],n[1],n[2],n[3],n[4]);case 6:return e.call(t,n[0],n[1],n[2],n[3],n[4],n[5]);default:return e.apply(t,n)}return e.call(t)}function Ib(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Nb(e,t,r)}function Db(e){return null!=e&&(e instanceof Promise||function(e){return"object"===typeof e&&e.then&&"function"===typeof e.then}(e))}function Fb(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.forEach((function(t){Array.isArray(t)?e.push.apply(e,Y(t)):e.push(t)})),e.some((function(e){return Db(e)}))){var i=e.map((function(e){return Db(e)?e:Promise.resolve(!1!==e)}));return Promise.all(i).then((function(e){return e.reduce((function(e,t){return!1!==t&&e}),!0)}))}return e.every((function(e){return!1!==e}))}function Ub(e,t){for(var n=[],r=0;r<e.length;r+=2){var i=Nb(e[r],e[r+1],Array.isArray(t)?t:[t]);n.push(i)}return Fb(n)}var Bb=function(){return M((function e(){T(this,e),this.listeners={}}),[{key:"on",value:function(e,t,n){return null==t||(this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t,n)),this}},{key:"once",value:function(e,t,n){var r=this,i=function(){r.off(e,i);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return Ub([t,n],o)};return this.on(e,i,this)}},{key:"off",value:function(e,t,n){if(!(e||t||n))return this.listeners={},this;var r=this.listeners;return(e?[e]:Object.keys(r)).forEach((function(e){var i=r[e];if(i)if(t||n)for(var a=i.length-2;a>=0;a-=2)t&&i[a]!==t||n&&i[a+1]!==n||i.splice(a,2);else delete r[e]})),this}},{key:"trigger",value:function(e){for(var t=!0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if("*"!==e){var a=this.listeners[e];null!=a&&(t=Ub(Y(a),r))}var o=this.listeners["*"];return null!=o?Fb([t,Ub(Y(o),[e].concat(r))]):t}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.trigger.apply(this,[e].concat(n))}}])}(),zb=Object.prototype.hasOwnProperty;var Hb=function(e,t){return null!=e&&zb.call(e,t)},Gb=Array.isArray,jb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vb=/^\w*$/;var Wb=function(e,t){if(Gb(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Eb(e))||(Vb.test(e)||!jb.test(e)||null!=t&&e in Object(t))};var Xb=function(e){if(!ib(e))return!1;var t=wb(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},qb=sb["__core-js_shared__"],Yb=function(){var e=/[^.]+$/.exec(qb&&qb.keys&&qb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var Kb=function(e){return!!Yb&&Yb in e},Jb=Function.prototype.toString;var Zb=function(e){if(null!=e){try{return Jb.call(e)}catch(cQ){}try{return e+""}catch(cQ){}}return""},Qb=/^\[object .+?Constructor\]$/,$b=Function.prototype,ex=Object.prototype,tx=$b.toString,nx=ex.hasOwnProperty,rx=RegExp("^"+tx.call(nx).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var ix=function(e){return!(!ib(e)||Kb(e))&&(Xb(e)?rx:Qb).test(Zb(e))};var ax=function(e,t){return null==e?void 0:e[t]};var ox=function(e,t){var n=ax(e,t);return ix(n)?n:void 0},sx=ox(Object,"create");var lx=function(){this.__data__=sx?sx(null):{},this.size=0};var ux=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},cx=Object.prototype.hasOwnProperty;var hx=function(e){var t=this.__data__;if(sx){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return cx.call(t,e)?t[e]:void 0},fx=Object.prototype.hasOwnProperty;var dx=function(e){var t=this.__data__;return sx?void 0!==t[e]:fx.call(t,e)};var px=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=sx&&void 0===t?"__lodash_hash_undefined__":t,this};function vx(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}vx.prototype.clear=lx,vx.prototype.delete=ux,vx.prototype.get=hx,vx.prototype.has=dx,vx.prototype.set=px;var gx=vx;var mx=function(){this.__data__=[],this.size=0};var yx=function(e,t){return e===t||e!==e&&t!==t};var bx=function(e,t){for(var n=e.length;n--;)if(yx(e[n][0],t))return n;return-1},xx=Array.prototype.splice;var kx=function(e){var t=this.__data__,n=bx(t,e);return!(n<0)&&(n==t.length-1?t.pop():xx.call(t,n,1),--this.size,!0)};var wx=function(e){var t=this.__data__,n=bx(t,e);return n<0?void 0:t[n][1]};var Sx=function(e){return bx(this.__data__,e)>-1};var Ex=function(e,t){var n=this.__data__,r=bx(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function _x(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_x.prototype.clear=mx,_x.prototype.delete=kx,_x.prototype.get=wx,_x.prototype.has=Sx,_x.prototype.set=Ex;var Mx=_x,Tx=ox(sb,"Map");var Cx=function(){this.size=0,this.__data__={hash:new gx,map:new(Tx||Mx),string:new gx}};var Ax=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Px=function(e,t){var n=e.__data__;return Ax(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ox=function(e){var t=Px(this,e).delete(e);return this.size-=t?1:0,t};var Rx=function(e){return Px(this,e).get(e)};var Lx=function(e){return Px(this,e).has(e)};var Nx=function(e,t){var n=Px(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ix(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ix.prototype.clear=Cx,Ix.prototype.delete=Ox,Ix.prototype.get=Rx,Ix.prototype.has=Lx,Ix.prototype.set=Nx;var Dx=Ix;function Fx(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(Fx.Cache||Dx),n}Fx.Cache=Dx;var Ux=Fx;var Bx=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zx=/\\(\\)?/g,Hx=function(e){var t=Ux(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Bx,(function(e,n,r,i){t.push(r?i.replace(zx,"$1"):n||e)})),t})),Gx=Hx;var jx=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Vx=db?db.prototype:void 0,Wx=Vx?Vx.toString:void 0;var Xx=function e(t){if("string"==typeof t)return t;if(Gb(t))return jx(t,e)+"";if(Eb(t))return Wx?Wx.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var qx=function(e){return null==e?"":Xx(e)};var Yx=function(e,t){return Gb(e)?e:Wb(e,t)?[e]:Gx(qx(e))};var Kx=function(e){return Sb(e)&&"[object Arguments]"==wb(e)},Jx=Object.prototype,Zx=Jx.hasOwnProperty,Qx=Jx.propertyIsEnumerable,$x=Kx(function(){return arguments}())?Kx:function(e){return Sb(e)&&Zx.call(e,"callee")&&!Qx.call(e,"callee")},ek=$x,tk=/^(?:0|[1-9]\d*)$/;var nk=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&tk.test(e))&&e>-1&&e%1==0&&e<t};var rk=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ik=function(e){if("string"==typeof e||Eb(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var ak=function(e,t,n){for(var r=-1,i=(t=Yx(t,e)).length,a=!1;++r<i;){var o=ik(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&rk(i)&&nk(o,i)&&(Gb(e)||ek(e))};var ok=function(e,t){return null!=e&&ak(e,t,Hb)};var sk=function(e,t){for(var n=0,r=(t=Yx(t,e)).length;null!=e&&n<r;)e=e[ik(t[n++])];return n&&n==r?e:void 0},lk=function(){try{var e=ox(Object,"defineProperty");return e({},"",{}),e}catch(cQ){}}();var uk=function(e,t,n){"__proto__"==t&&lk?lk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ck=Object.prototype.hasOwnProperty;var hk=function(e,t,n){var r=e[t];ck.call(e,t)&&yx(r,n)&&(void 0!==n||t in e)||uk(e,t,n)};var fk=function(e,t,n,r){if(!ib(e))return e;for(var i=-1,a=(t=Yx(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var l=ik(t[i]),u=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=o){var c=s[l];void 0===(u=r?r(c,l,s):void 0)&&(u=ib(c)?c:nk(t[i+1])?[]:{})}hk(s,l,u),s=s[l]}return e};var dk=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=sk(e,o);n(s,o)&&fk(a,Yx(o,e),s)}return a};var pk=function(e,t){return null!=e&&t in Object(e)};var vk=function(e,t){return null!=e&&ak(e,t,pk)};var gk=function(e,t){return dk(e,t,(function(t,n){return vk(e,n)}))};var mk=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},yk=db?db.isConcatSpreadable:void 0;var bk=function(e){return Gb(e)||ek(e)||!!(yk&&e&&e[yk])};var xk=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=bk),a||(a=[]);++o<s;){var l=t[o];n>0&&r(l)?n>1?e(l,n-1,r,i,a):mk(a,l):i||(a[a.length]=l)}return a};var kk=function(e){return(null==e?0:e.length)?xk(e,1):[]};var wk=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Sk=Math.max;var Ek=function(e,t,n){return t=Sk(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=Sk(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),wk(e,this,s)}};var _k=function(e){return function(){return e}};var Mk=function(e){return e},Tk=lk?function(e,t){return lk(e,"toString",{configurable:!0,enumerable:!1,value:_k(t),writable:!0})}:Mk,Ck=Tk,Ak=Date.now;var Pk=function(e){var t=0,n=0;return function(){var r=Ak(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},Ok=Pk(Ck);Rk=function(e,t){return null==e?{}:gk(e,t)},Ok(Ek(Rk,void 0,kk),Rk+"");var Rk;var Lk=function(){this.__data__=new Mx,this.size=0};var Nk=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Ik=function(e){return this.__data__.get(e)};var Dk=function(e){return this.__data__.has(e)};var Fk=function(e,t){var n=this.__data__;if(n instanceof Mx){var r=n.__data__;if(!Tx||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dx(r)}return n.set(e,t),this.size=n.size,this};function Uk(e){var t=this.__data__=new Mx(e);this.size=t.size}Uk.prototype.clear=Lk,Uk.prototype.delete=Nk,Uk.prototype.get=Ik,Uk.prototype.has=Dk,Uk.prototype.set=Fk;var Bk=Uk;var zk=function(e,t,n){(void 0!==n&&!yx(e[t],n)||void 0===n&&!(t in e))&&uk(e,t,n)};var Hk=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}},Gk=Hk(),jk="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vk=jk&&"object"==typeof module&&module&&!module.nodeType&&module,Wk=Vk&&Vk.exports===jk?sb.Buffer:void 0,Xk=Wk?Wk.allocUnsafe:void 0;var qk=function(e,t){if(t)return e.slice();var n=e.length,r=Xk?Xk(n):new e.constructor(n);return e.copy(r),r},Yk=sb.Uint8Array;var Kk=function(e){var t=new e.constructor(e.byteLength);return new Yk(t).set(new Yk(e)),t};var Jk=function(e,t){var n=t?Kk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Zk=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},Qk=Object.create,$k=function(){function e(){}return function(t){if(!ib(t))return{};if(Qk)return Qk(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),ew=$k;var tw=function(e,t){return function(n){return e(t(n))}},nw=tw(Object.getPrototypeOf,Object),rw=Object.prototype;var iw=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||rw)};var aw=function(e){return"function"!=typeof e.constructor||iw(e)?{}:ew(nw(e))};var ow=function(e){return null!=e&&rk(e.length)&&!Xb(e)};var sw=function(e){return Sb(e)&&ow(e)};var lw=function(){return!1},uw="object"==typeof exports&&exports&&!exports.nodeType&&exports,cw=uw&&"object"==typeof module&&module&&!module.nodeType&&module,hw=cw&&cw.exports===uw?sb.Buffer:void 0,fw=(hw?hw.isBuffer:void 0)||lw,dw=Function.prototype,pw=Object.prototype,vw=dw.toString,gw=pw.hasOwnProperty,mw=vw.call(Object);var yw=function(e){if(!Sb(e)||"[object Object]"!=wb(e))return!1;var t=nw(e);if(null===t)return!0;var n=gw.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&vw.call(n)==mw},bw={};bw["[object Float32Array]"]=bw["[object Float64Array]"]=bw["[object Int8Array]"]=bw["[object Int16Array]"]=bw["[object Int32Array]"]=bw["[object Uint8Array]"]=bw["[object Uint8ClampedArray]"]=bw["[object Uint16Array]"]=bw["[object Uint32Array]"]=!0,bw["[object Arguments]"]=bw["[object Array]"]=bw["[object ArrayBuffer]"]=bw["[object Boolean]"]=bw["[object DataView]"]=bw["[object Date]"]=bw["[object Error]"]=bw["[object Function]"]=bw["[object Map]"]=bw["[object Number]"]=bw["[object Object]"]=bw["[object RegExp]"]=bw["[object Set]"]=bw["[object String]"]=bw["[object WeakMap]"]=!1;var xw=function(e){return Sb(e)&&rk(e.length)&&!!bw[wb(e)]};var kw=function(e){return function(t){return e(t)}},ww="object"==typeof exports&&exports&&!exports.nodeType&&exports,Sw=ww&&"object"==typeof module&&module&&!module.nodeType&&module,Ew=Sw&&Sw.exports===ww&&ab.process,_w=function(){try{var e=Sw&&Sw.require&&Sw.require("util").types;return e||Ew&&Ew.binding&&Ew.binding("util")}catch(cQ){}}(),Mw=_w,Tw=Mw&&Mw.isTypedArray,Cw=Tw?kw(Tw):xw;var Aw=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]};var Pw=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),i?uk(n,s,l):hk(n,s,l)}return n};var Ow=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Rw=Object.prototype.hasOwnProperty;var Lw=function(e,t){var n=Gb(e),r=!n&&ek(e),i=!n&&!r&&fw(e),a=!n&&!r&&!i&&Cw(e),o=n||r||i||a,s=o?Ow(e.length,String):[],l=s.length;for(var u in e)!t&&!Rw.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||nk(u,l))||s.push(u);return s};var Nw=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Iw=Object.prototype.hasOwnProperty;var Dw=function(e){if(!ib(e))return Nw(e);var t=iw(e),n=[];for(var r in e)("constructor"!=r||!t&&Iw.call(e,r))&&n.push(r);return n};var Fw=function(e){return ow(e)?Lw(e,!0):Dw(e)};var Uw=function(e){return Pw(e,Fw(e))};var Bw=function(e,t,n,r,i,a,o){var s=Aw(e,n),l=Aw(t,n),u=o.get(l);if(u)zk(e,n,u);else{var c=a?a(s,l,n+"",e,t,o):void 0,h=void 0===c;if(h){var f=Gb(l),d=!f&&fw(l),p=!f&&!d&&Cw(l);c=l,f||d||p?Gb(s)?c=s:sw(s)?c=Zk(s):d?(h=!1,c=qk(l,!0)):p?(h=!1,c=Jk(l,!0)):c=[]:yw(l)||ek(l)?(c=s,ek(s)?c=Uw(s):ib(s)&&!Xb(s)||(c=aw(l))):h=!1}h&&(o.set(l,c),i(c,l,r,a,o),o.delete(l)),zk(e,n,c)}};var zw=function e(t,n,r,i,a){t!==n&&Gk(n,(function(o,s){if(a||(a=new Bk),ib(o))Bw(t,n,s,r,e,i,a);else{var l=i?i(Aw(t,s),o,s+"",t,n,a):void 0;void 0===l&&(l=o),zk(t,s,l)}}),Fw)};var Hw=function(e,t){return Ok(Ek(e,t,Mk),e+"")};var Gw=function(e,t,n){if(!ib(n))return!1;var r=typeof t;return!!("number"==r?ow(n)&&nk(t,n.length):"string"==r&&t in n)&&yx(n[t],e)};var jw=function(e){return Hw((function(t,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,o&&Gw(n[0],n[1],o)&&(a=i<3?void 0:a,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,a)}return t}))},Vw=jw((function(e,t,n){zw(e,t,n)})),Ww=Vw;var Xw=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var qw=function(e){return this.__data__.has(e)};function Yw(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Dx;++t<n;)this.add(e[t])}Yw.prototype.add=Yw.prototype.push=Xw,Yw.prototype.has=qw;var Kw=Yw;var Jw=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var Zw=function(e,t){return e.has(t)};var Qw=function(e,t,n,r,i,a){var o=1&n,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(e),c=a.get(t);if(u&&c)return u==t&&c==e;var h=-1,f=!0,d=2&n?new Kw:void 0;for(a.set(e,t),a.set(t,e);++h<s;){var p=e[h],v=t[h];if(r)var g=o?r(v,p,h,t,e,a):r(p,v,h,e,t,a);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!Jw(t,(function(e,t){if(!Zw(d,t)&&(p===e||i(p,e,n,r,a)))return d.push(t)}))){f=!1;break}}else if(p!==v&&!i(p,v,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f};var $w=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var eS=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},tS=db?db.prototype:void 0,nS=tS?tS.valueOf:void 0;var rS=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Yk(e),new Yk(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return yx(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=$w;case"[object Set]":var l=1&r;if(s||(s=eS),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var c=Qw(s(e),s(t),r,i,a,o);return o.delete(e),c;case"[object Symbol]":if(nS)return nS.call(e)==nS.call(t)}return!1};var iS=function(e,t,n){var r=t(e);return Gb(e)?r:mk(r,n(e))};var aS=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var oS=function(){return[]},sS=Object.prototype.propertyIsEnumerable,lS=Object.getOwnPropertySymbols,uS=lS?function(e){return null==e?[]:(e=Object(e),aS(lS(e),(function(t){return sS.call(e,t)})))}:oS,cS=uS,hS=tw(Object.keys,Object),fS=Object.prototype.hasOwnProperty;var dS=function(e){if(!iw(e))return hS(e);var t=[];for(var n in Object(e))fS.call(e,n)&&"constructor"!=n&&t.push(n);return t};var pS=function(e){return ow(e)?Lw(e):dS(e)};var vS=function(e){return iS(e,pS,cS)},gS=Object.prototype.hasOwnProperty;var mS=function(e,t,n,r,i,a){var o=1&n,s=vS(e),l=s.length;if(l!=vS(t).length&&!o)return!1;for(var u=l;u--;){var c=s[u];if(!(o?c in t:gS.call(t,c)))return!1}var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var d=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<l;){var v=e[c=s[u]],g=t[c];if(r)var m=o?r(g,v,c,t,e,a):r(v,g,c,e,t,a);if(!(void 0===m?v===g||i(v,g,n,r,a):m)){d=!1;break}p||(p="constructor"==c)}if(d&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(d=!1)}return a.delete(e),a.delete(t),d},yS=ox(sb,"DataView"),bS=ox(sb,"Promise"),xS=ox(sb,"Set"),kS=ox(sb,"WeakMap"),wS="[object Map]",SS="[object Promise]",ES="[object Set]",_S="[object WeakMap]",MS="[object DataView]",TS=Zb(yS),CS=Zb(Tx),AS=Zb(bS),PS=Zb(xS),OS=Zb(kS),RS=wb;(yS&&RS(new yS(new ArrayBuffer(1)))!=MS||Tx&&RS(new Tx)!=wS||bS&&RS(bS.resolve())!=SS||xS&&RS(new xS)!=ES||kS&&RS(new kS)!=_S)&&(RS=function(e){var t=wb(e),n="[object Object]"==t?e.constructor:void 0,r=n?Zb(n):"";if(r)switch(r){case TS:return MS;case CS:return wS;case AS:return SS;case PS:return ES;case OS:return _S}return t});var LS=RS,NS="[object Arguments]",IS="[object Array]",DS="[object Object]",FS=Object.prototype.hasOwnProperty;var US=function(e,t,n,r,i,a){var o=Gb(e),s=Gb(t),l=o?IS:LS(e),u=s?IS:LS(t),c=(l=l==NS?DS:l)==DS,h=(u=u==NS?DS:u)==DS,f=l==u;if(f&&fw(e)){if(!fw(t))return!1;o=!0,c=!1}if(f&&!c)return a||(a=new Bk),o||Cw(e)?Qw(e,t,n,r,i,a):rS(e,t,l,n,r,i,a);if(!(1&n)){var d=c&&FS.call(e,"__wrapped__"),p=h&&FS.call(t,"__wrapped__");if(d||p){var v=d?e.value():e,g=p?t.value():t;return a||(a=new Bk),i(v,g,n,r,a)}}return!!f&&(a||(a=new Bk),mS(e,t,n,r,i,a))};var BS=function e(t,n,r,i,a){return t===n||(null==t||null==n||!Sb(t)&&!Sb(n)?t!==t&&n!==n:US(t,n,r,i,e,a))};var zS=function(e,t){return BS(e,t)},HS=Object.prototype.hasOwnProperty;var GS=function(e){if(null==e)return!0;if(ow(e)&&(Gb(e)||"string"==typeof e||"function"==typeof e.splice||fw(e)||Cw(e)||ek(e)))return!e.length;var t=LS(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(iw(e))return!dS(e).length;for(var n in e)if(HS.call(e,n))return!1;return!0};var jS=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var VS=function(e,t){return e&&Pw(t,pS(t),e)};var WS=function(e,t){return e&&Pw(t,Fw(t),e)};var XS=function(e,t){return Pw(e,cS(e),t)},qS=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)mk(t,cS(e)),e=nw(e);return t}:oS,YS=qS;var KS=function(e,t){return Pw(e,YS(e),t)};var JS=function(e){return iS(e,Fw,YS)},ZS=Object.prototype.hasOwnProperty;var QS=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ZS.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var $S=function(e,t){var n=t?Kk(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},eE=/\w*$/;var tE=function(e){var t=new e.constructor(e.source,eE.exec(e));return t.lastIndex=e.lastIndex,t},nE=db?db.prototype:void 0,rE=nE?nE.valueOf:void 0;var iE=function(e){return rE?Object(rE.call(e)):{}};var aE=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Kk(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return $S(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Jk(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return tE(e);case"[object Symbol]":return iE(e)}};var oE=function(e){return Sb(e)&&"[object Map]"==LS(e)},sE=Mw&&Mw.isMap,lE=sE?kw(sE):oE;var uE=function(e){return Sb(e)&&"[object Set]"==LS(e)},cE=Mw&&Mw.isSet,hE=cE?kw(cE):uE,fE="[object Arguments]",dE="[object Function]",pE="[object Object]",vE={};vE[fE]=vE["[object Array]"]=vE["[object ArrayBuffer]"]=vE["[object DataView]"]=vE["[object Boolean]"]=vE["[object Date]"]=vE["[object Float32Array]"]=vE["[object Float64Array]"]=vE["[object Int8Array]"]=vE["[object Int16Array]"]=vE["[object Int32Array]"]=vE["[object Map]"]=vE["[object Number]"]=vE[pE]=vE["[object RegExp]"]=vE["[object Set]"]=vE["[object String]"]=vE["[object Symbol]"]=vE["[object Uint8Array]"]=vE["[object Uint8ClampedArray]"]=vE["[object Uint16Array]"]=vE["[object Uint32Array]"]=!0,vE["[object Error]"]=vE[dE]=vE["[object WeakMap]"]=!1;var gE=function e(t,n,r,i,a,o){var s,l=1&n,u=2&n,c=4&n;if(r&&(s=a?r(t,i,a,o):r(t)),void 0!==s)return s;if(!ib(t))return t;var h=Gb(t);if(h){if(s=QS(t),!l)return Zk(t,s)}else{var f=LS(t),d=f==dE||"[object GeneratorFunction]"==f;if(fw(t))return qk(t,l);if(f==pE||f==fE||d&&!a){if(s=u||d?{}:aw(t),!l)return u?KS(t,WS(s,t)):XS(t,VS(s,t))}else{if(!vE[f])return a?t:{};s=aE(t,f,l)}}o||(o=new Bk);var p=o.get(t);if(p)return p;o.set(t,s),hE(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,o))})):lE(t)&&t.forEach((function(i,a){s.set(a,e(i,n,r,a,t,o))}));var v=h?void 0:(c?u?JS:vS:u?Fw:pS)(t);return jS(v||t,(function(i,a){v&&(i=t[a=i]),hk(s,a,e(i,n,r,a,t,o))})),s};var mE=function(e){return gE(e,4)};var yE=function(e){return gE(e,5)},bE=Object.prototype,xE=bE.hasOwnProperty,kE=Hw((function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&Gw(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=Fw(a),s=-1,l=o.length;++s<l;){var u=o[s],c=e[u];(void 0===c||yx(c,bE[u])&&!xE.call(e,u))&&(e[u]=a[u])}return e})),wE=kE;var SE=function e(t,n,r,i,a,o){return ib(t)&&ib(n)&&(o.set(n,t),zw(t,n,void 0,e,o),o.delete(n)),t},EE=jw((function(e,t,n,r){zw(e,t,n,r)})),_E=EE,ME=Hw((function(e){return e.push(void 0,SE),wk(_E,void 0,e)}));var TE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};var CE=/^\s*class\s+/.test("".concat(M((function e(){T(this,e)}))))||/^\s*class\s*\{/.test("".concat(M((function e(){T(this,e)}))));function AE(e,t){var n;return CE?n=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(t):(n=function(){return t.apply(this,arguments)},function(e,t){function n(){this.constructor=e}TE(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,t)),Object.defineProperty(n,"name",{value:e}),n}function PE(e){return"__proto__"===e}function OE(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i=Array.isArray(t)?t:t.split(r);if(i.length)for(n=e;i.length;){var a=i.shift();if(Object(n)!==n||!a||!(a in n))return;n=n[a]}return n}function RE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",i=Array.isArray(t)?t:t.split(r),a=i.pop();if(a&&!PE(a)){var o=e;i.forEach((function(e){PE(e)||(null==o[e]&&(o[e]={}),o=o[e])})),o[a]=n}return e}function LE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=Array.isArray(t)?t.slice():t.split(n),i=r.pop();if(i)if(r.length>0){var a=OE(e,r);a&&delete a[i]}else delete e[i];return e}var NE=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},IE=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"dispose",value:function(){this.off()}}])}(Bb);NE([nb.dispose()],IE.prototype,"dispose",null),function(e){e.dispose=nb.dispose}(IE||(IE={})),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){Object.getOwnPropertyNames(t.prototype).forEach((function(n){"constructor"!==n&&Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n))}))}))}(IE,nb);var DE=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var FE=function(e){return e!==e};var UE=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var BE=function(e,t,n){return t===t?UE(e,t,n):DE(e,FE,n)};var zE=function(e,t){return!!(null==e?0:e.length)&&BE(e,t,0)>-1};var HE=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var GE=function(){},jE=xS&&1/eS(new xS([,-0]))[1]==1/0?function(e){return new xS(e)}:GE;var VE=function(e,t,n){var r=-1,i=zE,a=e.length,o=!0,s=[],l=s;if(n)o=!1,i=HE;else if(a>=200){var u=t?null:jE(e);if(u)return eS(u);o=!1,i=Zw,l=new Kw}else l=t?[]:s;e:for(;++r<a;){var c=e[r],h=t?t(c):c;if(c=n||0!==c?c:0,o&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;t&&l.push(h),s.push(c)}else i(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s};var WE=function(e){return e&&e.length?VE(e):[]},XE=Hw((function(e){return VE(xk(e,1,sw,!0))})),qE=Math.floor,YE=Math.min;var KE=function(e,t,n,r){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var o=(t=n(t))!==t,s=null===t,l=Eb(t),u=void 0===t;i<a;){var c=qE((i+a)/2),h=n(e[c]),f=void 0!==h,d=null===h,p=h===h,v=Eb(h);if(o)var g=r||p;else g=u?p&&(r||f):s?p&&f&&(r||!d):l?p&&f&&!d&&(r||!v):!d&&!v&&(r?h<=t:h<t);g?i=c+1:a=c}return YE(a,4294967294)};var JE=function(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!Eb(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return KE(e,t,Mk,n)};var ZE=function(e,t){return JE(e,t)};var QE=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var l=(s=n[i])[0],u=e[l],c=s[1];if(o&&s[2]){if(void 0===u&&!(l in e))return!1}else{var h=new Bk;if(r)var f=r(u,c,l,e,t,h);if(!(void 0===f?BS(c,u,3,r,h):f))return!1}}return!0};var $E=function(e){return e===e&&!ib(e)};var e_=function(e){for(var t=pS(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,$E(i)]}return t};var t_=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var n_=function(e){var t=e_(e);return 1==t.length&&t[0][2]?t_(t[0][0],t[0][1]):function(n){return n===e||QE(n,e,t)}};var r_=function(e,t,n){var r=null==e?void 0:sk(e,t);return void 0===r?n:r};var i_=function(e,t){return Wb(e)&&$E(t)?t_(ik(e),t):function(n){var r=r_(n,e);return void 0===r&&r===t?vk(n,e):BS(t,r,3)}};var a_=function(e){return function(t){return null==t?void 0:t[e]}};var o_=function(e){return function(t){return sk(t,e)}};var s_=function(e){return Wb(e)?a_(ik(e)):o_(e)};var l_=function(e){return"function"==typeof e?e:null==e?Mk:"object"==typeof e?Gb(e)?i_(e[0],e[1]):n_(e):s_(e)};var u_=function(e,t,n){return KE(e,t,l_(n,2))};var c_=function(e,t){return e&&Gk(e,t,pS)};var h_=function(e,t){return function(n,r){if(null==n)return n;if(!ow(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}},f_=h_(c_);var d_=function(e,t){var n=-1,r=ow(e)?Array(e.length):[];return f_(e,(function(e,i,a){r[++n]=t(e,i,a)})),r};var p_=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var v_=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e===e,a=Eb(e),o=void 0!==t,s=null===t,l=t===t,u=Eb(t);if(!s&&!u&&!a&&e>t||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0};var g_=function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var l=v_(i[r],a[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index};var m_=function(e,t,n){t=t.length?jx(t,(function(e){return Gb(e)?function(t){return sk(t,1===e.length?e[0]:e)}:e})):[Mk];var r=-1;t=jx(t,kw(l_));var i=d_(e,(function(e,n,i){return{criteria:jx(t,(function(t){return t(e)})),index:++r,value:e}}));return p_(i,(function(e,t){return g_(e,t,n)}))},y_=Hw((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Gw(e,t[0],t[1])?t=[]:n>2&&Gw(t[0],t[1],t[2])&&(t=[t[0]]),m_(e,xk(t,1),[])}));var b_=function(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r};var x_=function(e,t,n,r){return f_(e,(function(e,i,a){t(r,e,n(e),a)})),r};var k_=function(e,t){return function(n,r){var i=Gb(n)?b_:x_,a=t?t():{};return i(n,e,l_(r,2),a)}},w_=Object.prototype.hasOwnProperty,S_=k_((function(e,t,n){w_.call(e,n)?e[n].push(t):uk(e,n,[t])}));var E_=function(e,t,n,r){var i=-1,a=zE,o=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=jx(t,kw(n))),r?(a=HE,o=!1):t.length>=200&&(a=Zw,o=!1,t=new Kw(t));e:for(;++i<s;){var c=e[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h===h){for(var f=u;f--;)if(t[f]===h)continue e;l.push(c)}else a(t,h,r)||l.push(c)}return l},__=Hw((function(e,t){return sw(e)?E_(e,xk(t,1,sw,!0)):[]})),M_=__;var T_=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(null!=o&&(void 0===s?o===o&&!Eb(o):n(o,s)))var s=o,l=a}return l};var C_=function(e,t){return e>t};var A_=function(e){return e&&e.length?T_(e,Mk,C_):void 0};var P_=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var O_=function(e){return function(t){return null==e?void 0:e[t]}},R_=O_({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),L_=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,N_=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var I_=function(e){return(e=qx(e))&&e.replace(L_,R_).replace(N_,"")},D_=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var F_=function(e){return e.match(D_)||[]},U_=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var B_=function(e){return U_.test(e)},z_="\\ud800-\\udfff",H_="\\u2700-\\u27bf",G_="a-z\\xdf-\\xf6\\xf8-\\xff",j_="A-Z\\xc0-\\xd6\\xd8-\\xde",V_="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",W_="["+V_+"]",X_="\\d+",q_="["+H_+"]",Y_="["+G_+"]",K_="[^"+z_+V_+X_+H_+G_+j_+"]",J_="(?:\\ud83c[\\udde6-\\uddff]){2}",Z_="[\\ud800-\\udbff][\\udc00-\\udfff]",Q_="["+j_+"]",$_="(?:"+Y_+"|"+K_+")",eM="(?:"+Q_+"|"+K_+")",tM="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",nM="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",rM="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",iM="[\\ufe0e\\ufe0f]?",aM=iM+rM+("(?:\\u200d(?:"+["[^"+z_+"]",J_,Z_].join("|")+")"+iM+rM+")*"),oM="(?:"+[q_,J_,Z_].join("|")+")"+aM,sM=RegExp([Q_+"?"+Y_+"+"+tM+"(?="+[W_,Q_,"$"].join("|")+")",eM+"+"+nM+"(?="+[W_,Q_+$_,"$"].join("|")+")",Q_+"?"+$_+"+"+tM,Q_+"+"+nM,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",X_,oM].join("|"),"g");var lM=function(e){return e.match(sM)||[]};var uM=function(e,t,n){return e=qx(e),void 0===(t=n?void 0:t)?B_(e)?lM(e):F_(e):e.match(t)||[]},cM=RegExp("['\u2019]","g");var hM=function(e){return function(t){return P_(uM(I_(t).replace(cM,"")),e,"")}};var fM=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var dM=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:fM(e,t,n)},pM=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var vM=function(e){return pM.test(e)};var gM=function(e){return e.split("")},mM="\\ud800-\\udfff",yM="["+mM+"]",bM="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",xM="\\ud83c[\\udffb-\\udfff]",kM="[^"+mM+"]",wM="(?:\\ud83c[\\udde6-\\uddff]){2}",SM="[\\ud800-\\udbff][\\udc00-\\udfff]",EM="(?:"+bM+"|"+xM+")"+"?",_M="[\\ufe0e\\ufe0f]?",MM=_M+EM+("(?:\\u200d(?:"+[kM,wM,SM].join("|")+")"+_M+EM+")*"),TM="(?:"+[kM+bM+"?",bM,wM,SM,yM].join("|")+")",CM=RegExp(xM+"(?="+xM+")|"+TM+MM,"g");var AM=function(e){return e.match(CM)||[]};var PM=function(e){return vM(e)?AM(e):gM(e)};var OM=function(e){return function(t){t=qx(t);var n=vM(t)?PM(t):void 0,r=n?n[0]:t.charAt(0),i=n?dM(n,1).join(""):t.slice(1);return r[e]()+i}},RM=OM("toUpperCase"),LM=hM((function(e,t,n){return e+(n?" ":"")+RM(t)})),NM=LM;var IM=function(e){return RM(qx(e).toLowerCase())},DM=hM((function(e,t,n){return t=t.toLowerCase(),e+(n?IM(t):t)})),FM=DM,UM=hM((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),BM=UM,zM=hM((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),HM=zM,GM=OM("toLowerCase"),jM=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}},VM=jM((function(e){return e.replace(/\B([A-Z])/g,"-$1").toLowerCase()})),WM=jM((function(e){return NM(FM(e)).replace(/ /g,"")}));jM((function(e){return BM(e).replace(/ /g,"_")})),jM((function(e){return HM(e).replace(/ /g,".")})),jM((function(e){return HM(e).replace(/ /g,"/")})),jM((function(e){return RM(HM(e))})),jM((function(e){return NM(FM(e))}));function XM(e){for(var t=2166136261,n=!1,r=e,i=0,a=r.length;i<a;i+=1){var o=r.charCodeAt(i);o>127&&!n&&(o=(r=unescape(encodeURIComponent(r))).charCodeAt(i),n=!0),t^=o,t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}return t>>>0}function qM(){for(var e="",t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",n=0;n<36;n+=1){var r=t[n],i=16*Math.random()|0;e+=("x"===r?i:"y"===r?3&i|8:r).toString(16)}return e}function YM(e,t,n){for(var r=new Array(t.length+1),i=new Array(t.length+1),a=n+1,o=0;o<=t.length;o+=1)r[o]=o;for(var s=1;s<=e.length;s+=1){var l=e.charCodeAt(s-1),u=s>n?s-n:1,c=t.length>n+s?n+s:t.length;i[0]=s;for(var h=s,f=1;f<u;f+=1)i[f]=a;for(var d=u;d<=c;d+=1){var p=l===t.charCodeAt(d-1)?r[d-1]:Math.min(r[d]+1,i[d-1]+1,r[d-1]+2);i[d]=p,h=Math.min(h,p)}for(var v=c+1;v<=t.length;v+=1)i[v]=a;if(h>n)return;var g=r;r=i,i=g}var m=r[t.length];return m>n?void 0:m}var KM=function(e){return"number"==typeof e||Sb(e)&&"[object Number]"==wb(e)};var JM=function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e};var ZM=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=Ab(n))===n?n:0),void 0!==t&&(t=(t=Ab(t))===t?t:0),JM(Ab(e),t,n)};function QM(e){return"string"===typeof e&&"%"===e.slice(-1)}function $M(e,t){if(null==e)return 0;var n;if("string"===typeof e){if(n=parseFloat(e),QM(e)&&(n/=100,Number.isFinite(n)))return n*t}else n=e;return Number.isFinite(n)?n>0&&n<1?n*t:n:0}function eT(e){if("object"===typeof e){var t=0,n=0,r=0,i=0;return null!=e.vertical&&Number.isFinite(e.vertical)&&(n=i=e.vertical),null!=e.horizontal&&Number.isFinite(e.horizontal)&&(r=t=e.horizontal),null!=e.left&&Number.isFinite(e.left)&&(t=e.left),null!=e.top&&Number.isFinite(e.top)&&(n=e.top),null!=e.right&&Number.isFinite(e.right)&&(r=e.right),null!=e.bottom&&Number.isFinite(e.bottom)&&(i=e.bottom),{top:n,right:r,bottom:i,left:t}}var a=0;return null!=e&&Number.isFinite(e)&&(a=e),{top:a,right:a,bottom:a,left:a}}var tT,nT=!1,rT=!1,iT=!1,aT=!1,oT=!1,sT=!1,lT=!1,uT=!1,cT=!1,hT=!1,fT=!1,dT=!1,pT=!1,vT=!1,gT=!1,mT=!1;if("object"===typeof navigator){var yT=navigator.userAgent;nT=yT.indexOf("Macintosh")>=0,rT=!!yT.match(/(iPad|iPhone|iPod)/g),iT=yT.indexOf("Windows")>=0,aT=yT.indexOf("MSIE")>=0,oT=!!yT.match(/Trident\/7\./),sT=!!yT.match(/Edge\//),lT=yT.indexOf("Mozilla/")>=0&&yT.indexOf("MSIE")<0&&yT.indexOf("Edge/")<0,cT=yT.indexOf("Chrome/")>=0&&yT.indexOf("Edge/")<0,hT=yT.indexOf("Opera/")>=0||yT.indexOf("OPR/")>=0,fT=yT.indexOf("Firefox/")>=0,dT=yT.indexOf("AppleWebKit/")>=0&&yT.indexOf("Chrome/")<0&&yT.indexOf("Edge/")<0,"object"===typeof document&&(mT=!document.createElementNS||"[object SVGForeignObjectElement]"!=="".concat(document.createElementNS("http://www.w3.org/2000/svg","foreignObject"))||yT.indexOf("Opera/")>=0)}if("object"===typeof window&&(uT=null!=window.chrome&&null!=window.chrome.app&&null!=window.chrome.app.runtime,vT=null!=window.PointerEvent&&!nT),"object"===typeof document){pT="ontouchstart"in document.documentElement;try{var bT=Object.defineProperty({},"passive",{get:function(){gT=!0}}),xT=document.createElement("div");xT.addEventListener&&xT.addEventListener("click",(function(){}),bT)}catch(hQ){}}!function(e){e.IS_MAC=nT,e.IS_IOS=rT,e.IS_WINDOWS=iT,e.IS_IE=aT,e.IS_IE11=oT,e.IS_EDGE=sT,e.IS_NETSCAPE=lT,e.IS_CHROME_APP=uT,e.IS_CHROME=cT,e.IS_OPERA=hT,e.IS_FIREFOX=fT,e.IS_SAFARI=dT,e.SUPPORT_TOUCH=pT,e.SUPPORT_POINTER=vT,e.SUPPORT_PASSIVE=gT,e.NO_FOREIGNOBJECT=mT,e.SUPPORT_FOREIGNOBJECT=!e.NO_FOREIGNOBJECT}(tT||(tT={})),function(e){function t(){var e=window.module;return null!=e&&null!=e.hot&&null!=e.hot.status?e.hot.status():"unkonwn"}e.getHMRStatus=t,e.isApplyingHMR=function(){return"apply"===t()};var n={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};e.isEventSupported=function(e){var t=document.createElement(n[e]||"div"),r="on".concat(e),i=r in t;return i||(t.setAttribute(r,"return;"),i="function"===typeof t[r]),i}}(tT||(tT={}));var kT=/[\t\r\n\f]/g,wT=/\S+/g,ST=function(e){return" ".concat(e," ")};function ET(e){return e&&e.getAttribute&&e.getAttribute("class")||""}function _T(e,t){if(null==e||null==t)return!1;var n=ST(ET(e)),r=ST(t);return 1===e.nodeType&&n.replace(kT," ").includes(r)}function MT(e,t){if(null!=e&&null!=t){if("function"===typeof t)return MT(e,t(ET(e)));if("string"===typeof t&&1===e.nodeType){var n=t.match(wT)||[],r=ST(ET(e)).replace(kT," "),i=n.reduce((function(e,t){return e.indexOf(ST(t))<0?"".concat(e).concat(t," "):e}),r);r!==(i=i.trim())&&e.setAttribute("class",i)}}}function TT(e,t){if(null!=e){if("function"===typeof t)return TT(e,t(ET(e)));if((!t||"string"===typeof t)&&1===e.nodeType){var n=(t||"").match(wT)||[],r=ST(ET(e)).replace(kT," "),i=n.reduce((function(e,t){var n=ST(t);return e.indexOf(n)>-1?e.replace(n," "):e}),r);r!==(i=t?i.trim():"")&&e.setAttribute("class",i)}}}function CT(e,t,n){if(null!=e&&null!=t)if(null==n||"string"!==typeof t){if("function"===typeof t)return CT(e,t(ET(e),n),n);if("string"===typeof t)(t.match(wT)||[]).forEach((function(t){_T(e,t)?TT(e,t):MT(e,t)}))}else n?MT(e,t):TT(e,t)}var AT=0;function PT(e){return null!=e.id&&""!==e.id||(e.id="v".concat(AT+=1)),e.id}function OT(e){return null!=e&&("function"===typeof e.getScreenCTM&&e instanceof SVGElement)}var RT={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"};function LT(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).createElement(e)}function NT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RT.xhtml;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:document).createElementNS(t,e)}function IT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return NT(e,RT.svg,t)}function DT(e){if(e){var t=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=new DOMParser;if(null!=n.async)r.async=n.async;t=r.parseFromString(e,n.mimeType||"text/xml")}catch(i){t=void 0}if(!t||t.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: ".concat(e));return t}('<svg xmlns="'.concat(RT.svg,'" xmlns:xlink="').concat(RT.xlink,'" version="').concat("1.1",'">').concat(e,"</svg>"),{async:!1});return t.documentElement}var n=document.createElementNS(RT.svg,"svg");return n.setAttributeNS(RT.xmlns,"xmlns:xlink",RT.xlink),n.setAttribute("version","1.1"),n}function FT(e){for(var t=0,n=e.previousSibling;n;)1===n.nodeType&&(t+=1),n=n.previousSibling;return t}function UT(e,t,n){for(var r=e.ownerSVGElement,i=e.parentNode;i&&i!==n&&i!==r;){if(_T(i,t))return i;i=i.parentNode}return null}function BT(e,t){var n=t&&t.parentNode;return e===n||!!(n&&1===n.nodeType&&16&e.compareDocumentPosition(n))}function zT(e){e&&(Array.isArray(e)?e:[e]).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))}function HT(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function GT(e,t){(Array.isArray(t)?t:[t]).forEach((function(t){null!=t&&e.appendChild(t)}))}function jT(e,t){var n=e.parentNode;n&&(Array.isArray(t)?t:[t]).forEach((function(t){null!=t&&n.insertBefore(t,e)}))}function VT(e,t){null!=t&&t.appendChild(e)}function WT(e){try{return e instanceof HTMLElement}catch(cQ){return"object"===typeof e&&1===e.nodeType&&"object"===typeof e.style&&"object"===typeof e.ownerDocument}}var XT,qT,YT=["viewBox","attributeName","attributeType","repeatCount","textLength","lengthAdjust","gradientUnits"];function KT(e,t){var n=$T(t);n.ns?e.hasAttributeNS(n.ns,n.local)&&e.removeAttributeNS(n.ns,n.local):e.hasAttribute(t)&&e.removeAttribute(t)}function JT(e,t,n){if(null==n)return KT(e,t);var r=$T(t);r.ns&&"string"===typeof n?e.setAttributeNS(r.ns,t,n):"id"===t?e.id="".concat(n):e.setAttribute(t,"".concat(n))}function ZT(e,t){Object.keys(t).forEach((function(n){JT(e,n,t[n])}))}function QT(e,t,n){if(null==t){for(var r=e.attributes,i={},a=0;a<r.length;a+=1)i[r[a].name]=r[a].value;return i}if("string"===typeof t&&void 0===n)return e.getAttribute(t);"object"===typeof t?ZT(e,t):JT(e,t,n)}function $T(e){if(-1!==e.indexOf(":")){var t=e.split(":");return{ns:RT[t[0]],local:t[1]}}return{ns:null,local:e}}function eC(e){var t={};return Object.keys(e).forEach((function(n){var r=YT.includes(n)?n:VM(n);t[r]=e[n]})),t}function tC(e){var t={};return e.split(";").forEach((function(e){var n=e.trim();if(n){var r=n.split("=");r.length&&(t[r[0].trim()]=r[1]?r[1].trim():"")}})),t}function nC(e,t){return Object.keys(t).forEach((function(n){if("class"===n)e[n]=e[n]?"".concat(e[n]," ").concat(t[n]):t[n];else if("style"===n){var r,i,a="object"===typeof e[n],o="object"===typeof t[n];a&&o?(r=e[n],i=t[n]):a?(r=e[n],i=tC(t[n])):o?(r=tC(e[n]),i=t[n]):(r=tC(e[n]),i=tC(t[n])),e[n]=nC(r,i)}else e[n]=t[n]})),e}function rC(e,t){for(var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.offset||0,o=[],s=[],l=null,u=0;u<e.length;u+=1){n=s[u]=e[u];for(var c=0,h=t.length;c<h;c+=1){var f=t[c],d=f.start+a,p=f.end+a;u>=d&&u<p&&("string"===typeof n?n=s[u]={t:e[u],attrs:f.attrs}:n.attrs=nC(nC({},n.attrs),f.attrs),i.includeAnnotationIndices&&(null==n.annotations&&(n.annotations=[]),n.annotations.push(c)))}(r=s[u-1])?ib(n)&&ib(r)?JSON.stringify(n.attrs)===JSON.stringify(r.attrs)?l.t+=n.t:(o.push(l),l=n):ib(n)||ib(r)?(o.push(l),l=n):l=(l||"")+n:l=n}return null!=l&&o.push(l),o}!function(e){function t(e){var t="data:";return e.substr(0,5)===t}function n(e){var t,n=e.replace(/\s/g,""),r=(n=decodeURIComponent(n)).indexOf(","),i=n.slice(0,r),a=i.split(":")[1].split(";")[0],o=n.slice(r+1);t=i.indexOf("base64")>=0?atob(o):unescape(encodeURIComponent(o));for(var s=new Uint8Array(t.length),l=0;l<t.length;l+=1)s[l]=t.charCodeAt(l);return new Blob([s],{type:a})}function r(e,t){var n=window.navigator.msSaveBlob;if(n)n(e,t);else{var r=window.URL.createObjectURL(e),i=document.createElement("a");i.href=r,i.download=t,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(r)}}function i(e){var t=parseFloat(e);return Number.isNaN(t)?null:t}e.isDataUrl=t,e.imageToDataUri=function(e,n){if(e&&!t(e)){var r=function(){n(new Error("Failed to load image: ".concat(e)))},i=window.FileReader?function(e){if(200===e.status){var t=new FileReader;t.onload=function(e){var t=e.target.result;n(null,t)},t.onerror=r,t.readAsDataURL(e.response)}else r()}:function(t){if(200===t.status){var i=e.split(".").pop()||"png";"svg"===i&&(i="svg+xml");var a="data:image/".concat(i,";base64,"),o=new Uint8Array(t.response),s=a+btoa(function(e){for(var t=[],n=0;n<e.length;n+=32768)t.push(String.fromCharCode.apply(null,e.subarray(n,n+32768)));return t.join("")}(o));n(null,s)}else r()},a=new XMLHttpRequest;a.responseType=window.FileReader?"blob":"arraybuffer",a.open("GET",e,!0),a.addEventListener("error",r),a.addEventListener("load",(function(){return i(a)})),a.send()}else setTimeout((function(){return n(null,e)}))},e.dataUriToBlob=n,e.downloadBlob=r,e.downloadDataUri=function(e,t){r(n(e),t)},e.svgToDataUrl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=function(t){return null==n&&(n=function(e){var t=e.match(/<svg[^>]*viewBox\s*=\s*(["']?)(.+?)\1[^>]*>/i);return t&&t[2]?t[2].replace(/\s+/," ").split(" "):null}(e)),null!=n?i(n[t]):null},a=function(t){var n=e.match(t);return n&&n[2]?i(n[2]):null},o=t.width;if(null==o&&(o=a(/<svg[^>]*width\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==o&&(o=r(2)),null==o)throw new Error("Can not parse width from svg string");var s=t.height;if(null==s&&(s=a(/<svg[^>]*height\s*=\s*(["']?)(.+?)\1[^>]*>/i)),null==s&&(s=r(3)),null==s)throw new Error("Can not parse height from svg string");var l=encodeURIComponent(e).replace(/'/g,"%27").replace(/"/g,"%22");return"".concat("data:image/svg+xml",",").concat(l)}}(XT||(XT={}));var iC,aC={px:function(e){return e},mm:function(e){return qT*e},cm:function(e){return qT*e*10},in:function(e){return qT*e*25.4},pt:function(e){return qT*(25.4*e/72)},pc:function(e){return qT*(25.4*e/6)}};!function(e){function t(e,t,n){var r=document.createElement("div"),i=r.style;i.display="inline-block",i.position="absolute",i.left="-15000px",i.top="-15000px",i.width=e+(n||"px"),i.height=t+(n||"px"),document.body.appendChild(r);var a=r.getBoundingClientRect(),o={width:a.width||0,height:a.height||0};return document.body.removeChild(r),o}e.measure=t,e.toPx=function(e,n){null==qT&&(qT=t("1","1","mm").width);var r=n?aC[n]:null;return r?r(e):e}}(iC||(iC={}));var oC=/-(.)/g;var sC={},lC=["webkit","ms","moz","o"],uC="undefined"!==typeof document?document.createElement("div").style:{};function cC(e){var t=e.replace(oC,(function(e,t){return t.toUpperCase()}));if(null==sC[t]){var n=t.charAt(0).toUpperCase()+t.slice(1);sC[t]=t in uC?t:function(e){for(var t=0;t<lC.length;t+=1){var n=lC[t]+e;if(n in uC)return n}return null}(n)}return sC[t]}function hC(e,t){var n=e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):window.getComputedStyle(e,null);return n&&t?n.getPropertyValue(t)||n[t]:n}!function(){if("undefined"==typeof document)return function(){};var e=document;e.selection||window.getSelection}();var fC={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function dC(e,t,n){var r=window.getComputedStyle(e,null);return n?r.getPropertyValue(t)||void 0:r[t]||e.style[t]}function pC(e,t){return parseInt(dC(e,t),10)||0}function vC(e,t,n){if("string"!==typeof t)for(var r in t)vC(e,r,t[r]);else{var i=function(e){return/^--/.test(e)}(t);if(i||(t=cC(t)),void 0===n)return dC(e,t,i);i||(n=function(e,t){return fC[e]||"number"!==typeof t?t:"".concat(t,"px")}(t,n));var a=e.style;i?a.setProperty(t,n):a[t]=n}}var gC=new WeakMap;function mC(e,t){var n=FM(t),r=gC.get(e);if(r)return r[n]}function yC(e,t,n){if(!t){var r={};return Object.keys(gC).forEach((function(t){r[t]=mC(e,t)})),r}if("string"===typeof t)return void 0===n?mC(e,t):void function(e,t,n){var r=FM(t),i=gC.get(e);i?i[r]=n:gC.set(e,j({},r,n))}(e,t,n);for(var i in t)yC(e,i,t[i])}var bC=function(){function e(t,n,r){if(T(this,e),!t)throw new TypeError("Invalid element to create vector");var i;if(e.isVector(t))i=t.node;else if("string"===typeof t)if("svg"===t.toLowerCase())i=DT();else if("<"===t[0]){var a=DT(t);i=document.importNode(a.firstChild,!0)}else i=document.createElementNS(RT.svg,t);else i=t;this.node=i,n&&this.setAttributes(n),r&&this.append(r)}return M(e,[{key:Symbol.toStringTag,get:function(){return e.toStringTag}},{key:"type",get:function(){return this.node.nodeName}},{key:"id",get:function(){return this.node.id},set:function(e){this.node.id=e}},{key:"transform",value:function(e,t){return null==e?WC(this.node):(WC(this.node,e,t),this)}},{key:"translate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null==e?XC(this.node):(XC(this.node,e,t,n),this)}},{key:"rotate",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null==e?qC(this.node):(qC(this.node,e,t,n,r),this)}},{key:"scale",value:function(e,t){return null==e?YC(this.node):(YC(this.node,e,t),this)}},{key:"getTransformToElement",value:function(t){var n=e.toNode(t);return KC(this.node,n)}},{key:"removeAttribute",value:function(e){return KT(this.node,e),this}},{key:"getAttribute",value:function(e){return function(e,t){return e.getAttribute(t)}(this.node,e)}},{key:"setAttribute",value:function(e,t){return JT(this.node,e,t),this}},{key:"setAttributes",value:function(e){return ZT(this.node,e),this}},{key:"attr",value:function(e,t){return null==e?QT(this.node):"string"===typeof e&&void 0===t?QT(this.node,e):("object"===typeof e?QT(this.node,e):QT(this.node,e,t),this)}},{key:"svg",value:function(){return this.node instanceof SVGSVGElement?this:e.create(this.node.ownerSVGElement)}},{key:"defs",value:function(){var t=this.svg()||this,n=t.node.getElementsByTagName("defs")[0];return n?e.create(n):e.create("defs").appendTo(t)}},{key:"text",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return SC(this.node,e,t),this}},{key:"tagName",value:function(){return function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.nodeName;return t?n.toLowerCase():n.toUpperCase()}(this.node)}},{key:"clone",value:function(){return e.create(this.node.cloneNode(!0))}},{key:"remove",value:function(){return zT(this.node),this}},{key:"empty",value:function(){return HT(this.node),this}},{key:"append",value:function(t){return GT(this.node,e.toNodes(t)),this}},{key:"appendTo",value:function(t){return VT(this.node,e.isVector(t)?t.node:t),this}},{key:"prepend",value:function(t){return function(e,t){var n=e.firstChild;n?jT(n,t):GT(e,t)}(this.node,e.toNodes(t)),this}},{key:"before",value:function(t){return jT(this.node,e.toNodes(t)),this}},{key:"replace",value:function(t){return this.node.parentNode&&this.node.parentNode.replaceChild(e.toNode(t),this.node),e.create(t)}},{key:"first",value:function(){return this.node.firstChild?e.create(this.node.firstChild):null}},{key:"last",value:function(){return this.node.lastChild?e.create(this.node.lastChild):null}},{key:"get",value:function(t){var n=this.node.childNodes[t];return n?e.create(n):null}},{key:"indexOf",value:function(t){return Array.prototype.slice.call(this.node.childNodes).indexOf(e.toNode(t))}},{key:"find",value:function(t){var n=[],r=function(e,t){return e.querySelectorAll(t)}(this.node,t);if(r)for(var i=0,a=r.length;i<a;i+=1)n.push(e.create(r[i]));return n}},{key:"findOne",value:function(t){var n=function(e,t){return e.querySelector(t)}(this.node,t);return n?e.create(n):null}},{key:"findParentByClass",value:function(t,n){var r=UT(this.node,t,n);return r?e.create(r):null}},{key:"matches",value:function(e){var t=this.node,n=(this.node.matches,t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector||null);return n&&n.call(t,e)}},{key:"contains",value:function(t){return BT(this.node,e.isVector(t)?t.node:t)}},{key:"wrap",value:function(t){var n=e.create(t),r=this.node.parentNode;return null!=r&&r.insertBefore(n.node,this.node),n.append(this)}},{key:"parent",value:function(t){var n=this;if(null==n.node.parentNode)return null;if(n=e.create(n.node.parentNode),null==t)return n;do{if("string"===typeof t?n.matches(t):n instanceof t)return n}while(n=e.create(n.node.parentNode));return n}},{key:"children",value:function(){for(var t=this.node.childNodes,n=[],r=0;r<t.length;r+=1){1===t[r].nodeType&&n.push(e.create(t[r]))}return n}},{key:"eachChild",value:function(e,t){for(var n=this.children(),r=0,i=n.length;r<i;r+=1)e.call(n[r],n[r],r,n),t&&n[r].eachChild(e,t);return this}},{key:"index",value:function(){return FT(this.node)}},{key:"hasClass",value:function(e){return _T(this.node,e)}},{key:"addClass",value:function(e){return MT(this.node,e),this}},{key:"removeClass",value:function(e){return TT(this.node,e),this}},{key:"toggleClass",value:function(e,t){return CT(this.node,e,t),this}},{key:"toLocalPoint",value:function(e,t){return function(e,t,n){var r=e instanceof SVGSVGElement?e:e.ownerSVGElement,i=r.createSVGPoint();i.x=t,i.y=n;try{var a=r.getScreenCTM(),o=i.matrixTransform(a.inverse()),s=KC(e,r).inverse();return o.matrixTransform(s)}catch(cQ){return i}}(this.node,e,t)}},{key:"sample",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.node instanceof SVGPathElement?function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=e.getTotalLength(),i=[],a=0;for(;a<r;)t=e.getPointAtLength(a),i.push({distance:a,x:t.x,y:t.y}),a+=n;return i}(this.node,e):[]}},{key:"toPath",value:function(){return e.create(function(e){var t=IT("path");QT(t,QT(e));var n=RC(e);n&&t.setAttribute("d",n);return t}(this.node))}},{key:"toPathData",value:function(){return RC(this.node)}}])}();function xC(e,t,n){for(var r,i=n.eol,a=n.baseSize,o=n.lineHeight,s=0,l={},u=t.length-1,c=0;c<=u;c+=1){var h=t[c],f=null;if("object"===typeof h){var d=h.attrs,p=bC.create("tspan",d);r=p.node;var v=h.t;i&&c===u&&(v+=i),r.textContent=v;var g=d.class;g&&p.addClass(g),n.includeAnnotationIndices&&p.attr("annotations",h.annotations.join(",")),void 0===(f=parseFloat(d["font-size"]))&&(f=a),f&&f>s&&(s=f)}else i&&c===u&&(h+=i),r=document.createTextNode(h||" "),a&&a>s&&(s=a);e.appendChild(r)}return s&&(l.maxFontSize=s),o?l.lineHeight=o:s&&(l.lineHeight=1.2*s),l}!function(e){function t(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&r.node instanceof SVGElement&&"function"===typeof r.sample&&"function"===typeof r.toPath}function n(t,n,r){return new e(t,n,r)}function r(e){return t(e)?e.node:e}e.toStringTag="X6.".concat(e.name),e.isVector=t,e.create=n,e.createVectors=function(e){if("<"===e[0]){for(var t=DT(e),r=[],i=0,a=t.childNodes.length;i<a;i+=1){var o=t.childNodes[i];r.push(n(document.importNode(o,!0)))}return r}return[n(e)]},e.toNode=r,e.toNodes=function(e){return Array.isArray(e)?e.map((function(e){return r(e)})):[r(e)]}}(bC||(bC={}));var kC=/em$/;function wC(e,t){var n=parseFloat(e);return kC.test(e)?n*t:n}function SC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=t.replace(/ /g,"\xa0");var r=n.eol,i=n.textPath,a=n.textVerticalAnchor,o="middle"===a||"bottom"===a||"top"===a,s=n.x;void 0===s&&(s=e.getAttribute("x")||0);var l=n.includeAnnotationIndices,u=n.annotations;u&&!Array.isArray(u)&&(u=[u]);var c=n.lineHeight,h="auto"===c,f=h?"1.5em":c||"1em",d=!0,p=e.childNodes;if(1===p.length){var v=p[0];v&&"TITLE"===v.tagName.toUpperCase()&&(d=!1)}d&&HT(e),QT(e,{"xml:space":"preserve",display:t||n.displayEmpty?null:"none"});var g,m,y=QT(e,"font-size"),b=parseFloat(y);b||(b=16,!o&&!u||y||QT(e,"font-size","".concat(b))),i?("string"===typeof i&&(i={d:i}),g=function(e,t){var n=bC.create(t),r=bC.create("textPath"),i=e.d;if(i&&void 0===e["xlink:href"]){var a=bC.create("path").attr("d",i).appendTo(n.defs());r.attr("xlink:href","#".concat(a.id))}return"object"===typeof e&&r.attr(e),r.node}(i,e)):g=document.createDocumentFragment();for(var x,k=0,w=t.split("\n"),S=[],E=w.length-1,_=0;_<=E;_+=1){m=f;var M="v-line",T=IT("tspan"),C=void 0,A=w[_];if(A)if(u){var P=(C=xC(T,rC(A,u,{offset:-k,includeAnnotationIndices:l}),{eol:_!==E&&r,baseSize:b,lineHeight:h?null:f,includeAnnotationIndices:l})).lineHeight;P&&h&&0!==_&&(m=P),0===_&&(x=.8*C.maxFontSize)}else r&&_!==E&&(A+=r),T.textContent=A;else{T.textContent="-",M+=" v-empty-line";var O=T.style;O.fillOpacity=0,O.strokeOpacity=0,u&&(C={})}C&&S.push(C),_>0&&T.setAttribute("dy",m),(_>0||i)&&T.setAttribute("x",s),T.className.baseVal=M,g.appendChild(T),k+=A.length+1}if(o)if(u)m=function(e,t,n,r){if(!Array.isArray(t))return 0;var i=t.length;if(!i)return 0;for(var a=t[0],o=wC(a.maxFontSize,n)||n,s=0,l=wC(r,n),u=1;u<i;u+=1)s+=wC((a=t[u]).lineHeight,n)||l;var c,h=wC(a.maxFontSize,n)||n;switch(e){case"middle":c=o/2-.15*h-s/2;break;case"bottom":c=-.25*h-s;break;default:c=.8*o}return c}(a,S,b,f);else if("top"===a)m="0.8em";else{var R;switch(E>0?(R=parseFloat(f)||1,R*=E,kC.test(f)||(R/=b)):R=0,a){case"middle":m="".concat(.3-R/2,"em");break;case"bottom":m="".concat(-R-.3,"em")}}else 0===a?m="0em":a?m=a:(m=0,null==e.getAttribute("y")&&e.setAttribute("y","".concat(x||"0.8em")));g.firstChild.setAttribute("dy",m),e.appendChild(g)}function EC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=document.createElement("canvas").getContext("2d");if(!e)return{width:0};var r=[],i=t["font-size"]?"".concat(parseFloat(t["font-size"]),"px"):"14px";return r.push(t["font-style"]||"normal"),r.push(t["font-variant"]||"normal"),r.push(t["font-weight"]||400),r.push(i),r.push(t["font-family"]||"sans-serif"),n.font=r.join(" "),n.measureText(e)}function _C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t>=n)return[e,""];var i=e.length,a={},o=Math.round(t/n*i-1);for(o<0&&(o=0);o>=0&&o<i;){var s=e.slice(0,o),l=a[s]||EC(s,r).width,u=e.slice(0,o+1),c=a[u]||EC(u,r).width;if(a[s]=l,a[u]=c,l>t)o-=1;else{if(!(c<=t))break;o+=1}}return[e.slice(0,o),e.slice(o)]}function MC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.width,a=t.height,o=r.eol||"\n",s=n.fontSize||14,l=n.lineHeight?parseFloat(n.lineHeight):Math.ceil(1.4*s),u=Math.floor(a/l);if(e.indexOf(o)>-1){var c=qM(),h=[];return e.split(o).map((function(e){var i=MC(e,Object.assign(Object.assign({},t),{height:Number.MAX_SAFE_INTEGER}),n,Object.assign(Object.assign({},r),{eol:c}));i&&h.push.apply(h,Y(i.split(c)))})),h.slice(0,u).join(o)}var f=EC(e,n).width;if(f<i)return e;var d=[],p=e,v=f,g=r.ellipsis,m=0;g&&("string"!==typeof g&&(g="\u2026"),m=EC(g,n).width);for(var y=0;y<u;y+=1){if(!(v>i)){d.push(p);break}if(y===u-1){var b=R(_C(p,i-m,v,n),1)[0];d.push(g?"".concat(b).concat(g):b)}else{var x=R(_C(p,i,v,n),2),k=x[0],w=x[1];d.push(k),v=EC(p=w,n).width}}return d.join(o)}var TC=.551784;function CC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:NaN,r=e.getAttribute(t);if(null==r)return n;var i=parseFloat(r);return Number.isNaN(i)?n:i}function AC(e){var t=e.map((function(e){return"".concat(e.x," ").concat(e.y)}));return"M ".concat(t.join(" L"))}function PC(e){var t=[],n=e.points;if(n)for(var r=0,i=n.numberOfItems;r<i;r+=1)t.push(n.getItem(r));return t}function OC(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=Math.min(e.rx||e["top-rx"]||0,r/2),o=Math.min(e.rx||e["bottom-rx"]||0,r/2),s=Math.min(e.ry||e["top-ry"]||0,i/2),l=Math.min(e.ry||e["bottom-ry"]||0,i/2);return(a||o||s||l?["M",t,n+s,"v",i-s-l,"a",o,l,0,0,0,o,l,"h",r-2*o,"a",o,l,0,0,0,o,-l,"v",-(i-l-s),"a",a,s,0,0,0,-a,-s,"h",-(r-2*a),"a",a,s,0,0,0,-a,s,"Z"]:["M",t,n,"H",t+r,"V",n+i,"H",t,"V",n,"Z"]).join(" ")}function RC(e){var t=e.tagName.toLowerCase();switch(t){case"path":return e.getAttribute("d");case"line":return function(e){return["M",CC(e,"x1"),CC(e,"y1"),"L",CC(e,"x2"),CC(e,"y2")].join(" ")}(e);case"polygon":return function(e){var t=PC(e);return 0===t.length?null:"".concat(AC(t)," Z")}(e);case"polyline":return function(e){var t=PC(e);return 0===t.length?null:AC(t)}(e);case"ellipse":return function(e){var t=CC(e,"cx",0),n=CC(e,"cy",0),r=CC(e,"rx"),i=CC(e,"ry")||r,a=r*TC,o=i*TC;return["M",t,n-i,"C",t+a,n-i,t+r,n-o,t+r,n,"C",t+r,n+o,t+a,n+i,t,n+i,"C",t-a,n+i,t-r,n+o,t-r,n,"C",t-r,n-o,t-a,n-i,t,n-i,"Z"].join(" ")}(e);case"circle":return function(e){var t=CC(e,"cx",0),n=CC(e,"cy",0),r=CC(e,"r"),i=r*TC;return["M",t,n-r,"C",t+i,n-r,t+r,n-i,t+r,n,"C",t+r,n+i,t+i,n+r,t,n+r,"C",t-i,n+r,t-r,n+i,t-r,n,"C",t-r,n-i,t-i,n-r,t,n-r,"Z"].join(" ")}(e);case"rect":return function(e){return OC({x:CC(e,"x",0),y:CC(e,"y",0),width:CC(e,"width",0),height:CC(e,"height",0),rx:CC(e,"rx",0),ry:CC(e,"ry",0)})}(e)}throw new Error('"'.concat(t,'" cannot be converted to svg path element.'))}var LC,NC,IC,DC=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,FC=/[ ,]+/,UC=/^(\w+)\((.*)\)/;function BC(e){var t=IT("svg").createSVGMatrix();if(null!=e){var n=e,r=t;for(var i in n)r[i]=n[i]}return t}function zC(e){var t=IT("svg");return null!=e?(e instanceof DOMMatrix||(e=BC(e)),t.createSVGTransformFromMatrix(e)):t.createSVGTransform()}function HC(e){var t=BC(),n=null!=e&&e.match(DC);if(!n)return t;for(var r=0,i=n.length;r<i;r+=1){var a=n[r].match(UC);if(a){var o=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=BC(),f=a[2].split(FC);switch(a[1].toLowerCase()){case"scale":o=parseFloat(f[0]),s=void 0===f[1]?o:parseFloat(f[1]),h=h.scaleNonUniform(o,s);break;case"translate":l=parseFloat(f[0]),u=parseFloat(f[1]),h=h.translate(l,u);break;case"rotate":c=parseFloat(f[0]),l=parseFloat(f[1])||0,u=parseFloat(f[2])||0,h=0!==l||0!==u?h.translate(l,u).rotate(c).translate(-l,-u):h.rotate(c);break;case"skewx":c=parseFloat(f[0]),h=h.skewX(c);break;case"skewy":c=parseFloat(f[0]),h=h.skewY(c);break;case"matrix":h.a=parseFloat(f[0]),h.b=parseFloat(f[1]),h.c=parseFloat(f[2]),h.d=parseFloat(f[3]),h.e=parseFloat(f[4]),h.f=parseFloat(f[5]);break;default:continue}t=t.multiply(h)}}return t}function GC(e){var t=e||{},n=null!=t.a?t.a:1,r=null!=t.b?t.b:0,i=null!=t.c?t.c:0,a=null!=t.d?t.d:1,o=null!=t.e?t.e:0,s=null!=t.f?t.f:0;return"matrix(".concat(n,",").concat(r,",").concat(i,",").concat(a,",").concat(o,",").concat(s,")")}function jC(e){var t,n,r;if(e){var i=FC;if(e.trim().indexOf("matrix")>=0){var a=function(e){var t=VC(e,{x:0,y:1}),n=VC(e,{x:1,y:0}),r=180/Math.PI*Math.atan2(t.y,t.x)-90,i=180/Math.PI*Math.atan2(n.y,n.x);return{skewX:r,skewY:i,translateX:e.e,translateY:e.f,scaleX:Math.sqrt(e.a*e.a+e.b*e.b),scaleY:Math.sqrt(e.c*e.c+e.d*e.d),rotation:r}}(HC(e));t=[a.translateX,a.translateY],n=[a.rotation],r=[a.scaleX,a.scaleY];var o=[];0===t[0]&&0===t[1]||o.push("translate(".concat(t.join(","),")")),1===r[0]&&1===r[1]||o.push("scale(".concat(r.join(","),")")),0!==n[0]&&o.push("rotate(".concat(n[0],")")),e=o.join(" ")}else{var s=e.match(/translate\((.*?)\)/);s&&(t=s[1].split(i));var l=e.match(/rotate\((.*?)\)/);l&&(n=l[1].split(i));var u=e.match(/scale\((.*?)\)/);u&&(r=u[1].split(i))}}var c=r&&r[0]?parseFloat(r[0]):1;return{raw:e||"",translation:{tx:t&&t[0]?parseInt(t[0],10):0,ty:t&&t[1]?parseInt(t[1],10):0},rotation:{angle:n&&n[0]?parseInt(n[0],10):0,cx:n&&n[1]?parseInt(n[1],10):void 0,cy:n&&n[2]?parseInt(n[2],10):void 0},scale:{sx:c,sy:r&&r[1]?parseFloat(r[1]):c}}}function VC(e,t){return{x:t.x*e.a+t.y*e.c+0,y:t.x*e.b+t.y*e.d+0}}function WC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return HC(QT(e,"transform"));if(n.absolute)e.setAttribute("transform",GC(t));else{var r=e.transform,i=zC(t);r.baseVal.appendItem(i)}}function XC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=QT(e,"transform"),a=jC(i);if(null==t)return a.translation;i=(i=a.raw).replace(/translate\([^)]*\)/g,"").trim();var o=r.absolute?t:a.translation.tx+t,s=r.absolute?n:a.translation.ty+n,l="translate(".concat(o,",").concat(s,")");e.setAttribute("transform","".concat(l," ").concat(i).trim())}function qC(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=QT(e,"transform"),o=jC(a);if(null==t)return o.rotation;a=(a=o.raw).replace(/rotate\([^)]*\)/g,"").trim(),t%=360;var s=i.absolute?t:o.rotation.angle+t,l=null!=n&&null!=r?",".concat(n,",").concat(r):"",u="rotate(".concat(s).concat(l,")");e.setAttribute("transform","".concat(a," ").concat(u).trim())}function YC(e,t,n){var r=QT(e,"transform"),i=jC(r);if(null==t)return i.scale;n=null==n?t:n,r=(r=i.raw).replace(/scale\([^)]*\)/g,"").trim();var a="scale(".concat(t,",").concat(n,")");e.setAttribute("transform","".concat(r," ").concat(a).trim())}function KC(e,t){if(OT(t)&&OT(e)){var n=t.getScreenCTM(),r=e.getScreenCTM();if(n&&r)return n.inverse().multiply(r)}return BC()}!function(e){var t={};e.get=function(e){return t[e]||{}},e.register=function(e,n){t[e]=n},e.unregister=function(e){delete t[e]}}(LC||(LC={})),function(e){var t=new WeakMap;e.ensure=function(e){return t.has(e)||t.set(e,{events:Object.create(null)}),t.get(e)},e.get=function(e){return t.get(e)},e.remove=function(e){return t.delete(e)}}(NC||(NC={})),function(e){e.returnTrue=function(){return!0},e.returnFalse=function(){return!1},e.stopPropagationCallback=function(e){e.stopPropagation()},e.addEventListener=function(e,t,n){null!=e.addEventListener&&e.addEventListener(t,n)},e.removeEventListener=function(e,t,n){null!=e.removeEventListener&&e.removeEventListener(t,n)}}(IC||(IC={})),function(e){var t=/[^\x20\t\r\n\f]+/g,n=/^([^.]*)(?:\.(.+)|)/;e.splitType=function(e){return(e||"").match(t)||[""]},e.normalizeType=function(e){var t=n.exec(e)||[];return{originType:t[1]?t[1].trim():t[1],namespaces:t[2]?t[2].split(".").map((function(e){return e.trim()})).sort():[]}},e.isValidTarget=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},e.isValidSelector=function(e,t){if(t){var n=e;return null!=n.querySelector&&null!=n.querySelector(t)}return!0}}(IC||(IC={})),function(e){var t=0,n=new WeakMap;e.ensureHandlerId=function(e){return n.has(e)||(n.set(e,t),t+=1),n.get(e)},e.getHandlerId=function(e){return n.get(e)},e.removeHandlerId=function(e){return n.delete(e)},e.setHandlerId=function(e,t){return n.set(e,t)}}(IC||(IC={})),function(e){e.getHandlerQueue=function(e,t){var n=[],r=NC.get(e),i=r&&r.events&&r.events[t.type],a=i&&i.handlers||[],o=i?i.delegateCount:0;if(o>0&&!("click"===t.type&&"number"===typeof t.button&&t.button>=1))for(var s=t.target;s!==e;s=s.parentNode||e)if(1===s.nodeType&&("click"!==t.type||!0!==s.disabled)){for(var l=[],u={},c=function(){var t=a[h],n=t.selector;if(null!=n&&null==u[n]){var r=[];e.querySelectorAll(n).forEach((function(e){r.push(e)})),u[n]=r.includes(s)}u[n]&&l.push(t)},h=0;h<o;h+=1)c();l.length&&n.push({elem:s,handlers:l})}return o<a.length&&n.push({elem:e,handlers:a.slice(o)}),n}}(IC||(IC={})),function(e){e.isWindow=function(e){return null!=e&&e===e.window}}(IC||(IC={})),function(e){e.contains=function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}}(IC||(IC={}));var JC,ZC=M((function e(t,n){var r=this;T(this,e),this.isDefaultPrevented=IC.returnFalse,this.isPropagationStopped=IC.returnFalse,this.isImmediatePropagationStopped=IC.returnFalse,this.isSimulated=!1,this.preventDefault=function(){var e=r.originalEvent;r.isDefaultPrevented=IC.returnTrue,e&&!r.isSimulated&&e.preventDefault()},this.stopPropagation=function(){var e=r.originalEvent;r.isPropagationStopped=IC.returnTrue,e&&!r.isSimulated&&e.stopPropagation()},this.stopImmediatePropagation=function(){var e=r.originalEvent;r.isImmediatePropagationStopped=IC.returnTrue,e&&!r.isSimulated&&e.stopImmediatePropagation(),r.stopPropagation()},"string"===typeof t?this.type=t:t.type&&(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?IC.returnTrue:IC.returnFalse,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.timeStamp=t.timeStamp),n&&Object.assign(this,n),this.timeStamp||(this.timeStamp=Date.now())}));!function(e){e.create=function(t){return t instanceof e?t:new e(t)}}(ZC||(ZC={})),function(e){e.addProperty=function(t,n){Object.defineProperty(e.prototype,t,{enumerable:!0,configurable:!0,get:"function"===typeof n?function(){if(this.originalEvent)return n(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})}}(ZC||(ZC={})),function(e){var t={bubbles:!0,cancelable:!0,eventPhase:!0,detail:!0,view:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pageX:!0,pageY:!0,screenX:!0,screenY:!0,toElement:!0,pointerId:!0,pointerType:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,touches:!0,changedTouches:!0,targetTouches:!0,which:!0,altKey:!0,ctrlKey:!0,metaKey:!0,shiftKey:!0};Object.keys(t).forEach((function(n){return e.addProperty(n,t[n])}))}(ZC||(ZC={})),JC||(JC={}),LC.register("load",{noBubble:!0}),JC||(JC={}),LC.register("beforeunload",{postDispatch:function(e,t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}),JC||(JC={}),LC.register("mouseenter",{delegateType:"mouseover",bindType:"mouseover",handle:function(e,t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===e||IC.contains(e,r))||(t.type=i.originType,n=i.handler.call(e,t),t.type="mouseover"),n}}),LC.register("mouseleave",{delegateType:"mouseout",bindType:"mouseout",handle:function(e,t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===e||IC.contains(e,r))||(t.type=i.originType,n=i.handler.call(e,t),t.type="mouseout"),n}});var QC,$C,eA,tA=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){var t;function n(e,t){var n=ZC.create(t);n.delegateTarget=e;var r=LC.get(n.type);if(!r.preDispatch||!1!==r.preDispatch(e,n)){for(var i=IC.getHandlerQueue(e,n),a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];for(var l=0,u=i.length;l<u&&!n.isPropagationStopped();l+=1){var c=i[l];n.currentTarget=c.elem;for(var h=0,f=c.handlers.length;h<f&&!n.isImmediatePropagationStopped();h+=1){var d=c.handlers[h];if(null==n.rnamespace||d.namespace&&n.rnamespace.test(d.namespace)){var p;n.handleObj=d,n.data=d.data;var v=LC.get(d.originType).handle,g=v?v.apply(void 0,[c.elem,n].concat(o)):(p=d.handler).call.apply(p,[c.elem,n].concat(o));void 0!==g&&(n.result=g,!1===g&&(n.preventDefault(),n.stopPropagation()))}}}return r.postDispatch&&r.postDispatch(e,n),n.result}}e.on=function(e,r,i,a,o){if(IC.isValidTarget(e)){var s;if("function"!==typeof i){var l=i,u=l.handler,c=l.selector,h=tA(i,["handler","selector"]);i=u,o=c,s=h}var f=NC.ensure(e),d=f.handler;null==d&&(d=f.handler=function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return t!==r.type?n.apply(void 0,[e,r].concat(a)):void 0});var p=IC.ensureHandlerId(i);IC.splitType(r).forEach((function(t){var n=IC.normalizeType(t),r=n.originType,l=n.namespaces;if(r){var u=r,c=LC.get(u);u=(o?c.delegateType:c.bindType)||u,c=LC.get(u);var h=Object.assign({type:u,originType:r,data:a,selector:o,guid:p,handler:i,namespace:l.join(".")},s),v=f.events,g=v[u];g||(g=v[u]={handlers:[],delegateCount:0},c.setup&&!1!==c.setup(e,a,l,d)||IC.addEventListener(e,u,d)),c.add&&(IC.removeHandlerId(h.handler),c.add(e,h),IC.setHandlerId(h.handler,p)),o?(g.handlers.splice(g.delegateCount,0,h),g.delegateCount+=1):g.handlers.push(h)}}))}},e.off=function e(t,n,r,i,a){var o=NC.get(t);if(o){var s=o.events;s&&(IC.splitType(n).forEach((function(n){var l=IC.normalizeType(n),u=l.originType,c=l.namespaces;if(u){var h=u,f=LC.get(h);h=(i?f.delegateType:f.bindType)||h;var d=s[h];if(d){for(var p=c.length>0?new RegExp("(^|\\.)".concat(c.join("\\.(?:.*\\.|)"),"(\\.|$)")):null,v=d.handlers.length,g=d.handlers.length-1;g>=0;g-=1){var m=d.handlers[g];!a&&u!==m.originType||r&&IC.getHandlerId(r)!==m.guid||!(null==p||m.namespace&&p.test(m.namespace))||!(null==i||i===m.selector||"**"===i&&m.selector)||(d.handlers.splice(g,1),m.selector&&(d.delegateCount-=1),f.remove&&f.remove(t,m))}v&&0===d.handlers.length&&(f.teardown&&!1!==f.teardown(t,c,o.handler)||IC.removeEventListener(t,h,o.handler),delete s[h])}}else Object.keys(s).forEach((function(a){e(t,a+n,r,i,!0)}))})),0===Object.keys(s).length&&NC.remove(t))}},e.dispatch=n,e.trigger=function(e,n,r,i){var a=e,o="string"===typeof e?e:e.type,s="string"===typeof e||null==a.namespace?[]:a.namespace.split("."),l=r;if(3!==l.nodeType&&8!==l.nodeType){o.indexOf(".")>-1&&(s=o.split("."),o=s.shift(),s.sort());var u=o.indexOf(":")<0&&"on".concat(o);(a=e instanceof ZC?e:new ZC(o,"object"===typeof e?e:null)).namespace=s.join("."),a.rnamespace=a.namespace?new RegExp("(^|\\.)".concat(s.join("\\.(?:.*\\.|)"),"(\\.|$)")):null,a.result=void 0,a.target||(a.target=l);var c=[a];Array.isArray(n)?c.push.apply(c,Y(n)):c.push(n);var h=LC.get(o);if(i||!h.trigger||!1!==h.trigger(l,a,n)){var f,d=[l];if(!i&&!h.noBubble&&!IC.isWindow(l)){f=h.delegateType||o;for(var p=l,v=l.parentNode;null!=v;)d.push(v),p=v,v=v.parentNode;if(p===(l.ownerDocument||document)){var g=p.defaultView||p.parentWindow||window;d.push(g)}}for(var m=l,y=0,b=d.length;y<b&&!a.isPropagationStopped();y+=1){var x=d[y];m=x,a.type=y>1?f:h.bindType||o;var k,w=NC.get(x);if(w)if(w.events[a.type]&&w.handler)(k=w.handler).call.apply(k,[x].concat(c));var S=u&&x[u]||null;S&&IC.isValidTarget(x)&&(a.result=S.call.apply(S,[x].concat(c)),!1===a.result&&a.preventDefault())}if(a.type=o,!i&&!a.isDefaultPrevented()){var E=h.preventDefault;if((null==E||!1===E(d.pop(),a,n))&&IC.isValidTarget(l)&&u&&"function"===typeof l[o]&&!IC.isWindow(l)){var _=l[u];_&&(l[u]=null),t=o,a.isPropagationStopped()&&m.addEventListener(o,IC.stopPropagationCallback),l[o](),a.isPropagationStopped()&&m.removeEventListener(o,IC.stopPropagationCallback),t=void 0,_&&(l[u]=_)}}return a.result}}}}(QC||(QC={})),function(e){e.on=function(e,t,n,r,i){return eA.on(e,t,n,r,i),e},e.once=function(e,t,n,r,i){return eA.on(e,t,n,r,i,!0),e},e.off=function(e,t,n,r){return eA.off(e,t,n,r),e},e.trigger=function(e,t,n,r){return QC.trigger(t,n,e,r),e}}($C||($C={})),function(e){e.on=function t(n,r,i,a,o,s){if("object"===typeof r)return"string"!==typeof i&&(a=a||i,i=void 0),void Object.keys(r).forEach((function(e){return t(n,e,i,a,r[e],s)}));if(null==a&&null==o?(o=i,a=i=void 0):null==o&&("string"===typeof i?(o=a,a=void 0):(o=a,a=i,i=void 0)),!1===o)o=IC.returnFalse;else if(!o)return;if(s){var l=o;o=function(t){e.off(n,t);for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return l.call.apply(l,[this,t].concat(i))},IC.setHandlerId(o,IC.ensureHandlerId(l))}QC.on(n,r,o,a,i)},e.off=function e(t,n,r,i){var a=n;if(a&&null!=a.preventDefault&&null!=a.handleObj){var o=a.handleObj;e(a.delegateTarget,o.namespace?"".concat(o.originType,".").concat(o.namespace):o.originType,o.selector,o.handler)}else if("object"!==typeof n)!1!==r&&"function"!==typeof r||(i=r,r=void 0),!1===i&&(i=IC.returnFalse),QC.off(t,n,i,r);else{var s=n;Object.keys(s).forEach((function(n){return e(t,n,r,s[n])}))}}}(eA||(eA={}));var nA=function(){return M((function e(t,n,r){T(this,e),this.animationFrameId=0,this.deltaX=0,this.deltaY=0,this.eventName=tT.isEventSupported("wheel")?"wheel":"mousewheel",this.target=t,this.onWheelCallback=n,this.onWheelGuard=r,this.onWheel=this.onWheel.bind(this),this.didWheel=this.didWheel.bind(this)}),[{key:"enable",value:function(){this.target.addEventListener(this.eventName,this.onWheel,{passive:!1})}},{key:"disable",value:function(){this.target.removeEventListener(this.eventName,this.onWheel)}},{key:"onWheel",value:function(e){var t,n=this;(null==this.onWheelGuard||this.onWheelGuard(e))&&(this.deltaX+=e.deltaX,this.deltaY+=e.deltaY,e.preventDefault(),0===this.deltaX&&0===this.deltaY||(e.stopPropagation(),t=!0),!0===t&&0===this.animationFrameId&&(this.animationFrameId=requestAnimationFrame((function(){n.didWheel(e)}))))}},{key:"didWheel",value:function(e){this.animationFrameId=0,this.onWheelCallback(e,this.deltaX,this.deltaY),this.deltaX=0,this.deltaY=0}}])}();function rA(e){var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}function iA(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];r&&clearTimeout(r),r=window.setTimeout((function(){e.apply(t,a)}),n)}}var aA,oA="undefined"!==typeof ResizeObserver?function(e){var t=null,n=[],r=iA((function(){n.forEach((function(t){t(e)}))})),i=function(){t&&(t.disconnect(),n=[],t=null)};return{element:e,bind:function(i){t||(t=function(){var t=new ResizeObserver(r);return t.observe(e),r(),t}()),-1===n.indexOf(i)&&n.push(i)},destroy:i,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&i()}}}:function(e){var t=null,n=[],r=iA((function(){n.forEach((function(t){return t(e)}))})),i=function(){t&&t.parentNode&&(t.contentDocument&&t.contentDocument.defaultView.removeEventListener("resize",r),t.parentNode.removeChild(t),t=null,n=[])};return{element:e,bind:function(i){t||(t=function(){"static"===getComputedStyle(e).position&&(e.style.position="relative");var t=document.createElement("object");return t.onload=function(){t.contentDocument.defaultView.addEventListener("resize",r),r()},t.style.display="block",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.height="100%",t.style.width="100%",t.style.overflow="hidden",t.style.pointerEvents="none",t.style.zIndex="-1",t.style.opacity="0",t.setAttribute("tabindex","-1"),t.type="text/html",e.appendChild(t),t.data="about:blank",t}()),-1===n.indexOf(i)&&n.push(i)},destroy:i,unbind:function(e){var r=n.indexOf(e);-1!==r&&n.splice(r,1),0===n.length&&t&&i()}}};!function(e){var t=new WeakMap;function n(e){var n=t.get(e);return n||(n=oA(e),t.set(e,n),n)}e.bind=function(e,t){var r=n(e);return r.bind(t),function(){return r.unbind(t)}},e.clear=function(e){!function(e){e.destroy(),t.delete(e.element)}(n(e))}}(aA||(aA={}));var sA,lA=function(){return M((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T(this,e),this.comparator=t.comparator||e.defaultComparator,this.index={},this.data=t.data||[],this.heapify()}),[{key:"isEmpty",value:function(){return 0===this.data.length}},{key:"insert",value:function(e,t,n){var r={priority:e,value:t},i=this.data.length;return n&&(r.id=n,this.index[n]=i),this.data.push(r),this.bubbleUp(i),this}},{key:"peek",value:function(){return this.data[0]?this.data[0].value:null}},{key:"peekPriority",value:function(){return this.data[0]?this.data[0].priority:null}},{key:"updatePriority",value:function(e,t){var n=this.index[e];if("undefined"===typeof n)throw new Error("Node with id '".concat(e,"' was not found in the heap."));var r=this.data,i=r[n].priority,a=this.comparator(t,i);a<0?(r[n].priority=t,this.bubbleUp(n)):a>0&&(r[n].priority=t,this.bubbleDown(n))}},{key:"remove",value:function(){var e=this.data,t=e[0],n=e.pop();return t.id&&delete this.index[t.id],e.length>0&&(e[0]=n,n.id&&(this.index[n.id]=0),this.bubbleDown(0)),t?t.value:null}},{key:"heapify",value:function(){for(var e=0;e<this.data.length;e+=1)this.bubbleUp(e)}},{key:"bubbleUp",value:function(e){for(var t,n,r=this.data,i=e;i>0&&(n=i-1>>>1,this.comparator(r[i].priority,r[n].priority)<0);){t=r[n],r[n]=r[i];var a=r[i].id;null!=a&&(this.index[a]=n),r[i]=t,null!=(a=r[i].id)&&(this.index[a]=i),i=n}}},{key:"bubbleDown",value:function(e){for(var t=this.data,n=t.length-1,r=e;;){var i=1+(r<<1),a=i+1,o=r;if(i<=n&&this.comparator(t[i].priority,t[o].priority)<0&&(o=i),a<=n&&this.comparator(t[a].priority,t[o].priority)<0&&(o=a),o===r)break;var s=t[o];t[o]=t[r];var l=t[r].id;null!=l&&(this.index[l]=o),t[r]=s,null!=(l=t[r].id)&&(this.index[l]=r),r=o}}}])}();!function(e){e.defaultComparator=function(e,t){return e-t}}(lA||(lA={})),function(e){e.run=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return 1},r={},i={},a={},o=new lA;for(r[t]=0,Object.keys(e).forEach((function(e){e!==t&&(r[e]=1/0),o.insert(r[e],e,e)}));!o.isEmpty();){var s=o.remove();a[s]=!0;for(var l=e[s]||[],u=0;u<l.length;u+=1){var c=l[u];if(!a[c]){var h=r[s]+n(s,c);h<r[c]&&(r[c]=h,i[c]=s,o.updatePriority(c,h))}}}return i}}(sA||(sA={}));var uA=function(){function e(t,n,r,i){return T(this,e),null==t?this.set(255,255,255,1):"number"===typeof t?this.set(t,n,r,i):"string"===typeof t?e.fromString(t)||this:Array.isArray(t)?this.set(t):void this.set(t.r,t.g,t.b,null==t.a?1:t.a)}return M(e,[{key:"blend",value:function(e,t,n){this.set(e.r+(t.r-e.r)*n,e.g+(t.g-e.g)*n,e.b+(t.b-e.b)*n,e.a+(t.a-e.a)*n)}},{key:"lighten",value:function(t){var n=e.lighten(this.toArray(),t);this.r=n[0],this.g=n[1],this.b=n[2],this.a=n[3]}},{key:"darken",value:function(e){this.lighten(-e)}},{key:"set",value:function(e,t,n,r){var i=Array.isArray(e)?e[0]:e,a=Array.isArray(e)?e[1]:t,o=Array.isArray(e)?e[2]:n,s=Array.isArray(e)?e[3]:r;return this.r=Math.round(ZM(i,0,255)),this.g=Math.round(ZM(a,0,255)),this.b=Math.round(ZM(o,0,255)),this.a=null==s?1:ZM(s,0,1),this}},{key:"toHex",value:function(){var e=this,t=["r","g","b"].map((function(t){var n=e[t].toString(16);return n.length<2?"0".concat(n):n}));return"#".concat(t.join(""))}},{key:"toRGBA",value:function(){return this.toArray()}},{key:"toHSLA",value:function(){return e.rgba2hsla(this.r,this.g,this.b,this.a)}},{key:"toCSS",value:function(e){var t="".concat(this.r,",").concat(this.g,",").concat(this.b,",");return e?"rgb(".concat(t,")"):"rgba(".concat(t,",").concat(this.a,")")}},{key:"toGrey",value:function(){return e.makeGrey(Math.round((this.r+this.g+this.b)/3),this.a)}},{key:"toArray",value:function(){return[this.r,this.g,this.b,this.a]}},{key:"toString",value:function(){return this.toCSS()}}])}();!function(e){function t(t){return new e([].concat(Y(s(t)),[1]))}function n(t){var n=t.toLowerCase().match(/^rgba?\(([\s.,0-9]+)\)/);if(n){var r=n[1].split(/\s*,\s*/).map((function(e){return parseInt(e,10)}));return new e(r)}return null}function r(e,t,n){n<0&&++n,n>1&&--n;var r=6*n;return r<1?e+(t-e)*r:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}function i(t){var n=t.toLowerCase().match(/^hsla?\(([\s.,0-9]+)\)/);if(n){var r=n[2].split(/\s*,\s*/),i=(parseFloat(r[0])%360+360)%360/360,o=parseFloat(r[1])/100,s=parseFloat(r[2])/100,l=null==r[3]?1:parseInt(r[3],10);return new e(a(i,o,s,l))}return null}function a(e,t,n,i){var a=Array.isArray(e)?e[0]:e,o=Array.isArray(e)?e[1]:t,s=Array.isArray(e)?e[2]:n,l=Array.isArray(e)?e[3]:i,u=s<=.5?s*(o+1):s+o-s*o,c=2*s-u;return[256*r(c,u,a+1/3),256*r(c,u,a),256*r(c,u,a-1/3),null==l?1:l]}function o(t){return new e(Math.round(256*Math.random()),Math.round(256*Math.random()),Math.round(256*Math.random()),t?void 0:parseFloat(Math.random().toFixed(2)))}function s(e){var t=0===e.indexOf("#")?e:"#".concat(e),n=Number("0x".concat(t.substr(1)));if(4!==t.length&&7!==t.length||Number.isNaN(n))throw new Error("Invalid hex color.");var r=4===t.length?4:8,i=(1<<r)-1,a=["b","g","r"].map((function(){var e=n&i;return n>>=r,4===r?17*e:e}));return[a[2],a[1],a[0]]}function l(e,t,n){var r=function(e){return e.length<2?"0".concat(e):e};return"".concat(r(e.toString(16))).concat(r(t.toString(16))).concat(r(n.toString(16)))}function u(e,t){if("string"===typeof e){var n="#"===e[0],r=parseInt(n?e.substr(1):e,16),i=ZM((r>>16)+t,0,255),a=ZM((r>>8&255)+t,0,255),o=ZM((255&r)+t,0,255);return"".concat(n?"#":"").concat((o|a<<8|i<<16).toString(16))}var c=s(u(l(e[0],e[1],e[2]),t));return[c[0],c[1],c[2],e[3]]}e.fromArray=function(t){return new e(t)},e.fromHex=t,e.fromRGBA=n,e.fromHSLA=i,e.fromString=function(r){if(r.startsWith("#"))return t(r);if(r.startsWith("rgb"))return n(r);var a=e.named[r];return a?t(a):i(r)},e.makeGrey=function(t,n){return e.fromArray([t,t,t,n])},e.rgba2hsla=function(e,t,n,r){var i=Array.isArray(e)?e[0]:e,a=Array.isArray(e)?e[1]:t,o=Array.isArray(e)?e[2]:n,s=Array.isArray(e)?e[3]:r,l=Math.max(i,a,o),u=Math.min(i,a,o),c=(l+u)/2,h=0,f=0;if(u!==l){var d=l-u;switch(f=c>.5?d/(2-l-u):d/(l+u),l){case i:h=(a-o)/d+(a<o?6:0);break;case a:h=(o-i)/d+2;break;case o:h=(i-a)/d+4}h/=6}return[h,f,c,null==s?1:s]},e.hsla2rgba=a,e.random=o,e.randomHex=function(){for(var e="#",t=0;t<6;t+=1)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},e.randomRGBA=function(e){return o(e).toString()},e.invert=function(e,t){if("string"===typeof e){var n="#"===e[0],r=R(s(e),3),i=r[0],a=r[1],o=r[2];return t?.299*i+.587*a+.114*o>186?"#000000":"#ffffff":"".concat(n?"#":"").concat(l(255-i,255-a,255-o))}var u=e[0],c=e[1],h=e[2],f=e[3];return t?.299*u+.587*c+.114*h>186?[0,0,0,f]:[255,255,255,f]:[255-u,255-c,255-h,f]},e.lighten=function(e,t){return u(e,t)},e.darken=function(e,t){return u(e,-t)}}(uA||(uA={})),function(e){e.named={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",burntsienna:"#ea7e5d",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(uA||(uA={}));var cA,hA,fA,dA=function(){return M((function e(){T(this,e),this.clear()}),[{key:"clear",value:function(){this.map=new WeakMap,this.arr=[]}},{key:"has",value:function(e){return this.map.has(e)}},{key:"get",value:function(e){return this.map.get(e)}},{key:"set",value:function(e,t){this.map.set(e,t),this.arr.push(e)}},{key:"delete",value:function(e){var t=this.arr.indexOf(e);t>=0&&this.arr.splice(t,1);var n=this.map.get(e);return this.map.delete(e),n}},{key:"each",value:function(e){var t=this;this.arr.forEach((function(n){var r=t.map.get(n);e(r,n)}))}},{key:"dispose",value:function(){this.clear()}}])}();!function(e){function t(e){var t=[],n=[];return Array.isArray(e)?t.push.apply(t,Y(e)):e.split("|").forEach((function(e){-1===e.indexOf("&")?t.push(e):n.push.apply(n,Y(e.split("&")))})),{or:t,and:n}}e.parse=t,e.equals=function(e,n){if(null!=e&&null!=n){var r=t(e),i=t(n),a=r.or.sort(),o=i.or.sort(),s=r.and.sort(),l=i.and.sort(),u=function(e,t){return e.length===t.length&&(0===e.length||e.every((function(e,n){return e===t[n]})))};return u(a,o)&&u(s,l)}return null==e&&null==n},e.isMatch=function(e,n,r){if(null==n||Array.isArray(n)&&0===n.length)return!r||!0!==e.altKey&&!0!==e.ctrlKey&&!0!==e.metaKey&&!0!==e.shiftKey;var i=t(n),a=i.or,o=i.and,s=function(t){var n="".concat(t.toLowerCase(),"Key");return!0===e[n]};return a.some((function(e){return s(e)}))&&o.every((function(e){return s(e)}))}}(cA||(cA={})),function(e){e.linear=function(e){return e},e.quad=function(e){return e*e},e.cubic=function(e){return e*e*e},e.inout=function(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)},e.exponential=function(e){return Math.pow(2,10*(e-1))},e.bounce=function(e){for(var t=0,n=1;;t+=n,n/=2)if(e>=(7-4*t)/11){var r=(11-6*t-11*e)/4;return-r*r+n*n}}}(hA||(hA={})),function(e){e.decorators={reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(r){var i=e(r);return i<t?t:i>n?n:i}},back:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.70158;return function(t){return t*t*((e+1)*t-e)}},elastic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.5;return function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}}}(hA||(hA={})),function(e){function t(e){var t=e/1;if(t<1/2.75)return 7.5625*t*t;if(t<2/2.75){var n=t-1.5/2.75;return 7.5625*n*n+.75}if(t<2.5/2.75){var r=t-2.25/2.75;return 7.5625*r*r+.9375}var i=t-2.625/2.75;return 7.5625*i*i+.984375}function n(e){return 1-t(1-e)}e.easeInSine=function(e){return-1*Math.cos(e*(Math.PI/2))+1},e.easeOutSine=function(e){return Math.sin(e*(Math.PI/2))},e.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.easeInQuad=function(e){return e*e},e.easeOutQuad=function(e){return e*(2-e)},e.easeInOutQuad=function(e){return e<.5?2*e*e:(4-2*e)*e-1},e.easeInCubic=function(e){return e*e*e},e.easeOutCubic=function(e){var t=e-1;return t*t*t+1},e.easeInOutCubic=function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},e.easeInQuart=function(e){return e*e*e*e},e.easeOutQuart=function(e){var t=e-1;return 1-t*t*t*t},e.easeInOutQuart=function(e){var t=e-1;return e<.5?8*e*e*e*e:1-8*t*t*t*t},e.easeInQuint=function(e){return e*e*e*e*e},e.easeOutQuint=function(e){var t=e-1;return 1+t*t*t*t*t},e.easeInOutQuint=function(e){var t=e-1;return e<.5?16*e*e*e*e*e:1+16*t*t*t*t*t},e.easeInExpo=function(e){return 0===e?0:Math.pow(2,10*(e-1))},e.easeOutExpo=function(e){return 1===e?1:1-Math.pow(2,-10*e)},e.easeInOutExpo=function(e){if(0===e||1===e)return e;var t=2*e,n=t-1;return t<1?.5*Math.pow(2,10*n):.5*(2-Math.pow(2,-10*n))},e.easeInCirc=function(e){var t=e/1;return-1*(Math.sqrt(1-t*e)-1)},e.easeOutCirc=function(e){var t=e-1;return Math.sqrt(1-t*t)},e.easeInOutCirc=function(e){var t=2*e,n=t-2;return t<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-n*n)+1)},e.easeInBack=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158;return e*e*((t+1)*e-t)},e.easeOutBack=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158,n=e/1-1;return n*n*((t+1)*n+t)+1},e.easeInOutBack=function(e){var t=2*e,n=t-2,r=1.525*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.70158);return t<1?.5*t*t*((r+1)*t-r):.5*(n*n*((r+1)*n+r)+2)},e.easeInElastic=function(e){if(0===e||1===e)return e;var t=e/1-1,n=1-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7),r=n/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*t)*Math.sin((t-r)*(2*Math.PI)/n)},e.easeOutElastic=function(e){var t=1-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.7),n=2*e;if(0===e||1===e)return e;var r=t/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*n)*Math.sin((n-r)*(2*Math.PI)/t)+1},e.easeInOutElastic=function(e){var t=1-(arguments.length>1&&void 0!==arguments[1]?arguments[1]:.65);if(0===e||1===e)return e;var n=2*e,r=n-1,i=t/(2*Math.PI)*Math.asin(1);return n<1?Math.pow(2,10*r)*Math.sin((r-i)*(2*Math.PI)/t)*-.5:Math.pow(2,-10*r)*Math.sin((r-i)*(2*Math.PI)/t)*.5+1},e.easeOutBounce=t,e.easeInBounce=n,e.easeInOutBounce=function(e){return e<.5?.5*n(2*e):.5*t(2*e-1)+.5}}(hA||(hA={})),function(e){e.number=function(e,t){var n=t-e;return function(t){return e+n*t}},e.object=function(e,t){var n=Object.keys(e);return function(r){for(var i={},a=n.length-1;-1!==a;a-=1){var o=n[a];i[o]=e[o]+(t[o]-e[o])*r}return i}},e.unit=function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,r=n.exec(e),i=n.exec(t),a=i?i[1]:"",o=r?+r[1]:0,s=i?+i[1]:0,l=a.indexOf("."),u=l>0?a[1].length-l-1:0,c=s-o,h=r?r[2]:"";return function(e){return(o+c*e).toFixed(u)+h}},e.color=function(e,t){var n=parseInt(e.slice(1),16),r=parseInt(t.slice(1),16),i=255&n,a=(255&r)-i,o=65280&n,s=(65280&r)-o,l=16711680&n,u=(16711680&r)-l;return function(e){return"#".concat((1<<24|i+a*e&255|o+s*e&65280|l+u*e&16711680).toString(16).slice(1))}}}(fA||(fA={}));var pA,vA,gA=[];function mA(e,t){var n=gA.find((function(t){return t.name===e}));if(!(n&&(n.loadTimes+=1,n.loadTimes>1))&&!tT.isApplyingHMR()){var r=document.createElement("style");r.setAttribute("type","text/css"),r.textContent=t;var i=document.querySelector("head");i&&i.insertBefore(r,i.firstChild),gA.push({name:e,loadTimes:1,styleElement:r})}}function yA(e){var t=gA.findIndex((function(t){return t.name===e}));if(t>-1){var n=gA[t];if(n.loadTimes-=1,n.loadTimes>0)return;var r=n.styleElement;r&&r.parentNode&&r.parentNode.removeChild(r),r=null,gA.splice(t,1)}}!function(e){e.toDeg=function(e){return 180*e/Math.PI%360},e.toRad=function(e){return(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:e%360)*Math.PI/180},e.normalize=function(e){return e%360+(e<0?360:0)}}(pA||(pA={})),function(e){e.round=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number.isInteger(e)?e:+e.toFixed(t)},e.random=function(e,t){var n,r;if(null==t?(r=null==e?1:e,n=0):(r=t,n=null==e?0:e),r<n){var i=n;n=r,r=i}return Math.floor(Math.random()*(r-n+1)+n)},e.clamp=function(e,t,n){return Number.isNaN(e)?NaN:Number.isNaN(t)||Number.isNaN(n)?0:t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e},e.snapToGrid=function(e,t){return t*Math.round(e/t)},e.containsPoint=function(e,t){return null!=t&&null!=e&&t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},e.squaredLength=function(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r}}(vA||(vA={}));var bA=function(){return M((function e(){T(this,e)}),[{key:"valueOf",value:function(){return this.toJSON()}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}])}(),xA=function(e){function t(e,n){var r;return T(this,t),(r=z(this,t)).x=null==e?0:e,r.y=null==n?0:n,r}return G(t,e),M(t,[{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x=vA.round(this.x,e),this.y=vA.round(this.y,e),this}},{key:"add",value:function(e,n){var r=t.create(e,n);return this.x+=r.x,this.y+=r.y,this}},{key:"update",value:function(e,n){var r=t.create(e,n);return this.x=r.x,this.y=r.y,this}},{key:"translate",value:function(e,n){var r=t.create(e,n);return this.x+=r.x,this.y+=r.y,this}},{key:"rotate",value:function(e,n){var r=t.rotate(this,e,n);return this.x=r.x,this.y=r.y,this}},{key:"scale",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new t,i=t.create(r);return this.x=i.x+e*(this.x-i.x),this.y=i.y+n*(this.y-i.y),this}},{key:"closest",value:function(e){var n=this;if(1===e.length)return t.create(e[0]);var r=null,i=1/0;return e.forEach((function(e){var t=n.squaredDistance(e);t<i&&(r=e,i=t)})),r?t.create(r):null}},{key:"distance",value:function(e){return Math.sqrt(this.squaredDistance(e))}},{key:"squaredDistance",value:function(e){var n=t.create(e),r=this.x-n.x,i=this.y-n.y;return r*r+i*i}},{key:"manhattanDistance",value:function(e){var n=t.create(e);return Math.abs(n.x-this.x)+Math.abs(n.y-this.y)}},{key:"magnitude",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)||.01}},{key:"theta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new t,n=t.create(e),r=-(n.y-this.y),i=n.x-this.x,a=Math.atan2(r,i);return a<0&&(a=2*Math.PI+a),180*a/Math.PI}},{key:"angleBetween",value:function(e,t){if(this.equals(e)||this.equals(t))return NaN;var n=this.theta(t)-this.theta(e);return n<0&&(n+=360),n}},{key:"vectorAngle",value:function(e){return new t(0,0).angleBetween(this,e)}},{key:"toPolar",value:function(e){return this.update(t.toPolar(this,e)),this}},{key:"changeInAngle",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new t;return this.clone().translate(-e,-n).theta(r)-this.theta(r)}},{key:"adhereToRect",value:function(e){return vA.containsPoint(e,this)||(this.x=Math.min(Math.max(this.x,e.x),e.x+e.width),this.y=Math.min(Math.max(this.y,e.y),e.y+e.height)),this}},{key:"bearing",value:function(e){var n=t.create(e),r=pA.toRad(this.y),i=pA.toRad(n.y),a=this.x,o=n.x,s=pA.toRad(o-a),l=Math.sin(s)*Math.cos(i),u=Math.cos(r)*Math.sin(i)-Math.sin(r)*Math.cos(i)*Math.cos(s),c=pA.toDeg(Math.atan2(l,u))-22.5;return c<0&&(c+=360),["NE","E","SE","S","SW","W","NW","N"][c=parseInt(c/45,10)]}},{key:"cross",value:function(e,n){if(null!=e&&null!=n){var r=t.create(e),i=t.create(n);return(i.x-this.x)*(r.y-this.y)-(i.y-this.y)*(r.x-this.x)}return NaN}},{key:"dot",value:function(e){var n=t.create(e);return this.x*n.x+this.y*n.y}},{key:"diff",value:function(e,n){if("number"===typeof e)return new t(this.x-e,this.y-n);var r=t.create(e);return new t(this.x-r.x,this.y-r.y)}},{key:"lerp",value:function(e,n){var r=t.create(e);return new t((1-n)*this.x+n*r.x,(1-n)*this.y+n*r.y)}},{key:"normalize",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)/this.magnitude();return this.scale(e,e)}},{key:"move",value:function(e,n){var r=t.create(e),i=pA.toRad(r.theta(this));return this.translate(Math.cos(i)*n,-Math.sin(i)*n)}},{key:"reflection",value:function(e){return t.create(e).move(this,this.distance(e))}},{key:"snapToGrid",value:function(e,t){return this.x=vA.snapToGrid(this.x,e),this.y=vA.snapToGrid(this.y,null==t?e:t),this}},{key:"equals",value:function(e){var n=t.create(e);return null!=n&&n.x===this.x&&n.y===this.y}},{key:"clone",value:function(){return t.clone(this)}},{key:"toJSON",value:function(){return t.toJSON(this)}},{key:"serialize",value:function(){return"".concat(this.x," ").concat(this.y)}}])}(bA);!function(e){e.isPoint=function(t){return null!=t&&t instanceof e}}(xA||(xA={})),function(e){e.isPointLike=function(e){return null!=e&&"object"===typeof e&&"number"===typeof e.x&&"number"===typeof e.y},e.isPointData=function(e){return null!=e&&Array.isArray(e)&&2===e.length&&"number"===typeof e[0]&&"number"===typeof e[1]}}(xA||(xA={})),function(e){function t(t){return e.isPoint(t)?new e(t.x,t.y):Array.isArray(t)?new e(t[0],t[1]):new e(t.x,t.y)}function n(e,t){return e===t||null!=e&&null!=t&&(e.x===t.x&&e.y===t.y)}function r(n,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new e,o=t(n),s=t(a),l=o.x-s.x,u=o.y-s.y,c=u*r+l*i;return new e(l*r-u*i+s.x,c+s.y)}e.create=function(n,r){return null==n||"number"===typeof n?new e(n,r):t(n)},e.clone=t,e.toJSON=function(t){return e.isPoint(t)?{x:t.x,y:t.y}:Array.isArray(t)?{x:t[0],y:t[1]}:{x:t.x,y:t.y}},e.fromPolar=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new e,a=Math.abs(n*Math.cos(r)),o=Math.abs(n*Math.sin(r)),s=t(i),l=pA.normalize(pA.toDeg(r));return l<90?o=-o:l<180?(a=-a,o=-o):l<270&&(a=-a),new e(s.x+a,s.y+o)},e.toPolar=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new e,i=t(n),a=t(r),o=i.x-a.x,s=i.y-a.y;return new e(Math.sqrt(o*o+s*s),pA.toRad(a.theta(i)))},e.equals=n,e.equalPoints=function(e,t){if(null==e&&null!=t||null!=e&&null==t||null!=e&&null!=t&&e.length!==t.length)return!1;if(null!=e&&null!=t)for(var r=0,i=e.length;r<i;r+=1)if(!n(e[r],t[r]))return!1;return!0},e.random=function(t,n,r,i){return new e(vA.random(t,n),vA.random(r,i))},e.rotate=function(e,t,n){var i=pA.toRad(pA.normalize(-t)),a=Math.sin(i);return r(e,Math.cos(i),a,n)},e.rotateEx=r}(xA||(xA={}));var kA=function(e){function t(e,n,r,i){var a;return T(this,t),(a=z(this,t)).x=null==e?0:e,a.y=null==n?0:n,a.width=null==r?0:r,a.height=null==i?0:i,a}return G(t,e),M(t,[{key:"left",get:function(){return this.x}},{key:"top",get:function(){return this.y}},{key:"right",get:function(){return this.x+this.width}},{key:"bottom",get:function(){return this.y+this.height}},{key:"origin",get:function(){return new xA(this.x,this.y)}},{key:"topLeft",get:function(){return new xA(this.x,this.y)}},{key:"topCenter",get:function(){return new xA(this.x+this.width/2,this.y)}},{key:"topRight",get:function(){return new xA(this.x+this.width,this.y)}},{key:"center",get:function(){return new xA(this.x+this.width/2,this.y+this.height/2)}},{key:"bottomLeft",get:function(){return new xA(this.x,this.y+this.height)}},{key:"bottomCenter",get:function(){return new xA(this.x+this.width/2,this.y+this.height)}},{key:"bottomRight",get:function(){return new xA(this.x+this.width,this.y+this.height)}},{key:"corner",get:function(){return new xA(this.x+this.width,this.y+this.height)}},{key:"rightMiddle",get:function(){return new xA(this.x+this.width,this.y+this.height/2)}},{key:"leftMiddle",get:function(){return new xA(this.x,this.y+this.height/2)}},{key:"topLine",get:function(){return new wA(this.topLeft,this.topRight)}},{key:"rightLine",get:function(){return new wA(this.topRight,this.bottomRight)}},{key:"bottomLine",get:function(){return new wA(this.bottomLeft,this.bottomRight)}},{key:"leftLine",get:function(){return new wA(this.topLeft,this.bottomLeft)}},{key:"getOrigin",value:function(){return this.origin}},{key:"getTopLeft",value:function(){return this.topLeft}},{key:"getTopCenter",value:function(){return this.topCenter}},{key:"getTopRight",value:function(){return this.topRight}},{key:"getCenter",value:function(){return this.center}},{key:"getCenterX",value:function(){return this.x+this.width/2}},{key:"getCenterY",value:function(){return this.y+this.height/2}},{key:"getBottomLeft",value:function(){return this.bottomLeft}},{key:"getBottomCenter",value:function(){return this.bottomCenter}},{key:"getBottomRight",value:function(){return this.bottomRight}},{key:"getCorner",value:function(){return this.corner}},{key:"getRightMiddle",value:function(){return this.rightMiddle}},{key:"getLeftMiddle",value:function(){return this.leftMiddle}},{key:"getTopLine",value:function(){return this.topLine}},{key:"getRightLine",value:function(){return this.rightLine}},{key:"getBottomLine",value:function(){return this.bottomLine}},{key:"getLeftLine",value:function(){return this.leftLine}},{key:"bbox",value:function(e){if(!e)return this.clone();var n=pA.toRad(e),r=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n)),a=this.width*i+this.height*r,o=this.width*r+this.height*i;return new t(this.x+(this.width-a)/2,this.y+(this.height-o)/2,a,o)}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.x=vA.round(this.x,e),this.y=vA.round(this.y,e),this.width=vA.round(this.width,e),this.height=vA.round(this.height,e),this}},{key:"add",value:function(e,n,r,i){var a=t.create(e,n,r,i),o=Math.min(this.x,a.x),s=Math.min(this.y,a.y),l=Math.max(this.x+this.width,a.x+a.width),u=Math.max(this.y+this.height,a.y+a.height);return this.x=o,this.y=s,this.width=l-o,this.height=u-s,this}},{key:"update",value:function(e,n,r,i){var a=t.create(e,n,r,i);return this.x=a.x,this.y=a.y,this.width=a.width,this.height=a.height,this}},{key:"inflate",value:function(e,t){var n=e,r=null!=t?t:e;return this.x-=n,this.y-=r,this.width+=2*n,this.height+=2*r,this}},{key:"snapToGrid",value:function(e,t){var n=this.origin.snapToGrid(e,t),r=this.corner.snapToGrid(e,t);return this.x=n.x,this.y=n.y,this.width=r.x-n.x,this.height=r.y-n.y,this}},{key:"translate",value:function(e,t){var n=xA.create(e,t);return this.x+=n.x,this.y+=n.y,this}},{key:"scale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xA,r=this.origin.scale(e,t,n);return this.x=r.x,this.y=r.y,this.width*=e,this.height*=t,this}},{key:"rotate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCenter();if(0!==e){var r=pA.toRad(e),i=Math.cos(r),a=Math.sin(r),o=this.getOrigin(),s=this.getTopRight(),l=this.getBottomRight(),u=this.getBottomLeft();o=xA.rotateEx(o,i,a,n),s=xA.rotateEx(s,i,a,n),l=xA.rotateEx(l,i,a,n),u=xA.rotateEx(u,i,a,n);var c=new t(o.x,o.y,0,0);c.add(s.x,s.y,0,0),c.add(l.x,l.y,0,0),c.add(u.x,u.y,0,0),this.update(c)}return this}},{key:"rotate90",value:function(){var e=(this.width-this.height)/2;this.x+=e,this.y-=e;var t=this.width;return this.width=this.height,this.height=t,this}},{key:"moveAndExpand",value:function(e){var n=t.clone(e);return this.x+=n.x||0,this.y+=n.y||0,this.width+=n.width||0,this.height+=n.height||0,this}},{key:"getMaxScaleToFit",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.center,r=t.clone(e),i=n.x,a=n.y,o=1/0,s=1/0,l=1/0,u=1/0,c=1/0,h=1/0,f=1/0,d=1/0,p=r.topLeft;p.x<i&&(o=(this.x-i)/(p.x-i)),p.y<a&&(c=(this.y-a)/(p.y-a));var v=r.bottomRight;v.x>i&&(s=(this.x+this.width-i)/(v.x-i)),v.y>a&&(h=(this.y+this.height-a)/(v.y-a));var g=r.topRight;g.x>i&&(l=(this.x+this.width-i)/(g.x-i)),g.y<a&&(f=(this.y-a)/(g.y-a));var m=r.bottomLeft;return m.x<i&&(u=(this.x-i)/(m.x-i)),m.y>a&&(d=(this.y+this.height-a)/(m.y-a)),{sx:Math.min(o,s,l,u),sy:Math.min(c,h,f,d)}}},{key:"getMaxUniformScaleToFit",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.center,n=this.getMaxScaleToFit(e,t);return Math.min(n.sx,n.sy)}},{key:"containsPoint",value:function(e,t){return vA.containsPoint(this,xA.create(e,t))}},{key:"containsRect",value:function(e,n,r,i){var a=t.create(e,n,r,i),o=this.x,s=this.y,l=this.width,u=this.height,c=a.x,h=a.y,f=a.width,d=a.height;return 0!==l&&0!==u&&0!==f&&0!==d&&(c>=o&&h>=s&&c+f<=o+l&&h+d<=s+u)}},{key:"intersectsWithLine",value:function(e){var t=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],n=[],r=[];return t.forEach((function(t){var i=e.intersectsWithLine(t);null!==i&&r.indexOf(i.toString())<0&&(n.push(i),r.push(i.toString()))})),n.length>0?n:null}},{key:"intersectsWithLineFromCenterToPoint",value:function(e,t){var n=xA.clone(e),r=this.center,i=null;null!=t&&0!==t&&n.rotate(t,r);for(var a=[this.topLine,this.rightLine,this.bottomLine,this.leftLine],o=new wA(r,n),s=a.length-1;s>=0;s-=1){var l=a[s].intersectsWithLine(o);if(null!==l){i=l;break}}return i&&null!=t&&0!==t&&i.rotate(-t,r),i}},{key:"intersectsWithRect",value:function(e,n,r,i){var a=t.create(e,n,r,i);if(!this.isIntersectWithRect(a))return null;var o=this.origin,s=this.corner,l=a.origin,u=a.corner,c=Math.max(o.x,l.x),h=Math.max(o.y,l.y);return new t(c,h,Math.min(s.x,u.x)-c,Math.min(s.y,u.y)-h)}},{key:"isIntersectWithRect",value:function(e,n,r,i){var a=t.create(e,n,r,i),o=this.origin,s=this.corner,l=a.origin,u=a.corner;return!(u.x<=o.x||u.y<=o.y||l.x>=s.x||l.y>=s.y)}},{key:"normalize",value:function(){var e=this.x,t=this.y,n=this.width,r=this.height;return this.width<0&&(e=this.x+this.width,n=-this.width),this.height<0&&(t=this.y+this.height,r=-this.height),this.x=e,this.y=t,this.width=n,this.height=r,this}},{key:"union",value:function(e){var n=t.clone(e),r=this.origin,i=this.corner,a=n.origin,o=n.corner,s=Math.min(r.x,a.x),l=Math.min(r.y,a.y);return new t(s,l,Math.max(i.x,o.x)-s,Math.max(i.y,o.y)-l)}},{key:"getNearestSideToPoint",value:function(e){var t=xA.clone(e),n=t.x-this.x,r=this.x+this.width-t.x,i=t.y-this.y,a=n,o="left";return r<a&&(a=r,o="right"),i<a&&(a=i,o="top"),this.y+this.height-t.y<a&&(o="bottom"),o}},{key:"getNearestPointToPoint",value:function(e){var t=xA.clone(e);if(this.containsPoint(t)){var n=this.getNearestSideToPoint(t);if("left"===n)return new xA(this.x,t.y);if("top"===n)return new xA(t.x,this.y);if("right"===n)return new xA(this.x+this.width,t.y);if("bottom"===n)return new xA(t.x,this.y+this.height)}return t.adhereToRect(this)}},{key:"equals",value:function(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.width===this.width&&e.height===this.height}},{key:"clone",value:function(){return new t(this.x,this.y,this.width,this.height)}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},{key:"serialize",value:function(){return"".concat(this.x," ").concat(this.y," ").concat(this.width," ").concat(this.height)}}])}(bA);!function(e){e.isRectangle=function(t){return null!=t&&t instanceof e}}(kA||(kA={})),function(e){e.isRectangleLike=function(e){return null!=e&&"object"===typeof e&&"number"===typeof e.x&&"number"===typeof e.y&&"number"===typeof e.width&&"number"===typeof e.height}}(kA||(kA={})),function(e){function t(t){return e.isRectangle(t)?t.clone():Array.isArray(t)?new e(t[0],t[1],t[2],t[3]):new e(t.x,t.y,t.width,t.height)}e.create=function(n,r,i,a){return null==n||"number"===typeof n?new e(n,r,i,a):t(n)},e.clone=t,e.fromEllipse=function(t){return new e(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},e.fromSize=function(t){return new e(0,0,t.width,t.height)},e.fromPositionAndSize=function(t,n){return new e(t.x,t.y,n.width,n.height)}}(kA||(kA={}));var wA=function(e){function t(e,n,r,i){var a;return T(this,t),a=z(this,t),"number"===typeof e&&"number"===typeof n?(a.start=new xA(e,n),a.end=new xA(r,i)):(a.start=xA.create(e),a.end=xA.create(n)),a}return G(t,e),M(t,[{key:"center",get:function(){return new xA((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)}},{key:"getCenter",value:function(){return this.center}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.start.round(e),this.end.round(e),this}},{key:"translate",value:function(e,t){return"number"===typeof e?(this.start.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.end.translate(e)),this}},{key:"rotate",value:function(e,t){return this.start.rotate(e,t),this.end.rotate(e,t),this}},{key:"scale",value:function(e,t,n){return this.start.scale(e,t,n),this.end.scale(e,t,n),this}},{key:"length",value:function(){return Math.sqrt(this.squaredLength())}},{key:"squaredLength",value:function(){var e=this.start.x-this.end.x,t=this.start.y-this.end.y;return e*e+t*t}},{key:"setLength",value:function(e){var t=this.length();if(!t)return this;var n=e/t;return this.scale(n,n,this.start)}},{key:"parallel",value:function(e){var t=this.clone();if(!t.isDifferentiable())return t;var n=t.start,r=t.end,i=n.clone().rotate(270,r),a=r.clone().rotate(90,n);return n.move(a,e),r.move(i,e),t}},{key:"vector",value:function(){return new xA(this.end.x-this.start.x,this.end.y-this.start.y)}},{key:"angle",value:function(){var e=new xA(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,e)}},{key:"bbox",value:function(){var e=Math.min(this.start.x,this.end.x),t=Math.min(this.start.y,this.end.y),n=Math.max(this.start.x,this.end.x),r=Math.max(this.start.y,this.end.y);return new kA(e,t,n-e,r-t)}},{key:"bearing",value:function(){return this.start.bearing(this.end)}},{key:"closestPoint",value:function(e){return this.pointAt(this.closestPointNormalizedLength(e))}},{key:"closestPointLength",value:function(e){return this.closestPointNormalizedLength(e)*this.length()}},{key:"closestPointTangent",value:function(e){return this.tangentAt(this.closestPointNormalizedLength(e))}},{key:"closestPointNormalizedLength",value:function(e){var n=this.vector().dot(new t(this.start,e).vector()),r=Math.min(1,Math.max(0,n/this.squaredLength()));return Number.isNaN(r)?0:r}},{key:"pointAt",value:function(e){var t=this.start,n=this.end;return e<=0?t.clone():e>=1?n.clone():t.lerp(n,e)}},{key:"pointAtLength",value:function(e){var t=this.start,n=this.end,r=!0;e<0&&(r=!1,e=-e);var i=this.length();if(e>=i)return r?n.clone():t.clone();var a=(r?e:i-e)/i;return this.pointAt(a)}},{key:"divideAt",value:function(e){var n=this.pointAt(e);return[new t(this.start,n),new t(n,this.end)]}},{key:"divideAtLength",value:function(e){var n=this.pointAtLength(e);return[new t(this.start,n),new t(n,this.end)]}},{key:"containsPoint",value:function(e){var n=this.start,r=this.end;if(0!==n.cross(e,r))return!1;var i=this.length();return!(new t(n,e).length()>i)&&!(new t(e,r).length()>i)}},{key:"intersect",value:function(e,t){var n=e.intersectsWithLine(this,t);return n?Array.isArray(n)?n:[n]:null}},{key:"intersectsWithLine",value:function(e){var t=new xA(this.end.x-this.start.x,this.end.y-this.start.y),n=new xA(e.end.x-e.start.x,e.end.y-e.start.y),r=t.x*n.y-t.y*n.x,i=new xA(e.start.x-this.start.x,e.start.y-this.start.y),a=i.x*n.y-i.y*n.x,o=i.x*t.y-i.y*t.x;if(0===r||a*r<0||o*r<0)return null;if(r>0){if(a>r||o>r)return null}else if(a<r||o<r)return null;return new xA(this.start.x+a*t.x/r,this.start.y+a*t.y/r)}},{key:"isDifferentiable",value:function(){return!this.start.equals(this.end)}},{key:"pointOffset",value:function(e){var t=xA.clone(e),n=this.start,r=this.end;return((r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x))/this.length()}},{key:"pointSquaredDistance",value:function(e,t){var n=xA.create(e,t);return this.closestPoint(n).squaredDistance(n)}},{key:"pointDistance",value:function(e,t){var n=xA.create(e,t);return this.closestPoint(n).distance(n)}},{key:"tangentAt",value:function(e){if(!this.isDifferentiable())return null;var n=this.start,r=this.end,i=this.pointAt(e),a=new t(n,r);return a.translate(i.x-n.x,i.y-n.y),a}},{key:"tangentAtLength",value:function(e){if(!this.isDifferentiable())return null;var n=this.start,r=this.end,i=this.pointAtLength(e),a=new t(n,r);return a.translate(i.x-n.x,i.y-n.y),a}},{key:"relativeCcw",value:function(e,t){var n=xA.create(e,t),r=n.x-this.start.x,i=n.y-this.start.y,a=this.end.x-this.start.x,o=this.end.y-this.start.y,s=r*o-i*a;return 0===s&&(s=r*a+i*o)>0&&(s=(r-=a)*a+(i-=o)*o)<0&&(s=0),s<0?-1:s>0?1:0}},{key:"equals",value:function(e){return null!=e&&this.start.x===e.start.x&&this.start.y===e.start.y&&this.end.x===e.end.x&&this.end.y===e.end.y}},{key:"clone",value:function(){return new t(this.start,this.end)}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){return[this.start.serialize(),this.end.serialize()].join(" ")}}])}(bA);!function(e){e.isLine=function(t){return null!=t&&t instanceof e}}(wA||(wA={}));var SA=function(e){function t(e,n,r,i){var a;return T(this,t),(a=z(this,t)).x=null==e?0:e,a.y=null==n?0:n,a.a=null==r?0:r,a.b=null==i?0:i,a}return G(t,e),M(t,[{key:"center",get:function(){return new xA(this.x,this.y)}},{key:"bbox",value:function(){return kA.fromEllipse(this)}},{key:"getCenter",value:function(){return this.center}},{key:"inflate",value:function(e,t){var n=e,r=null!=t?t:e;return this.a+=2*n,this.b+=2*r,this}},{key:"normalizedDistance",value:function(e,t){var n=xA.create(e,t),r=n.x-this.x,i=n.y-this.y,a=this.a,o=this.b;return r*r/(a*a)+i*i/(o*o)}},{key:"containsPoint",value:function(e,t){return this.normalizedDistance(e,t)<=1}},{key:"intersectsWithLine",value:function(e){var t=[],n=this.a,r=this.b,i=e.start,a=e.end,o=e.vector(),s=i.diff(new xA(this.x,this.y)),l=new xA(o.x/(n*n),o.y/(r*r)),u=new xA(s.x/(n*n),s.y/(r*r)),c=o.dot(l),h=o.dot(u),f=h*h-c*(s.dot(u)-1);if(f<0)return null;if(f>0){var d=Math.sqrt(f),p=(-h-d)/c,v=(-h+d)/c;if((p<0||p>1)&&(v<0||v>1))return null;p>=0&&p<=1&&t.push(i.lerp(a,p)),v>=0&&v<=1&&t.push(i.lerp(a,v))}else{var g=-h/c;if(!(g>=0&&g<=1))return null;t.push(i.lerp(a,g))}return t}},{key:"intersectsWithLineFromCenterToPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=xA.clone(e);t&&n.rotate(t,this.getCenter());var r,i=n.x-this.x,a=n.y-this.y;if(0===i)return r=this.bbox().getNearestPointToPoint(n),t?r.rotate(-t,this.getCenter()):r;var o=a/i,s=o*o,l=this.a*this.a,u=this.b*this.b,c=Math.sqrt(1/(1/l+s/u)),h=o*(c=i<0?-c:c);return r=new xA(this.x+c,this.y+h),t?r.rotate(-t,this.getCenter()):r}},{key:"tangentTheta",value:function(e){var t,n,r=xA.clone(e),i=r.x,a=r.y,o=this.a,s=this.b,l=this.bbox().center,u=l.x,c=l.y,h=i>l.x+o/2,f=i<l.x-o/2;return h||f?t=o*o/(i-u)-o*o*(a-c)*((n=i>l.x?a-30:a+30)-c)/(s*s*(i-u))+u:n=s*s/(a-c)-s*s*(i-u)*((t=a>l.y?i+30:i-30)-u)/(o*o*(a-c))+c,new xA(t,n).theta(r)}},{key:"scale",value:function(e,t){return this.a*=e,this.b*=t,this}},{key:"rotate",value:function(e,n){var r=kA.fromEllipse(this);r.rotate(e,n);var i=t.fromRect(r);return this.a=i.a,this.b=i.b,this.x=i.x,this.y=i.y,this}},{key:"translate",value:function(e,t){var n=xA.create(e,t);return this.x+=n.x,this.y+=n.y,this}},{key:"equals",value:function(e){return null!=e&&e.x===this.x&&e.y===this.y&&e.a===this.a&&e.b===this.b}},{key:"clone",value:function(){return new t(this.x,this.y,this.a,this.b)}},{key:"toJSON",value:function(){return{x:this.x,y:this.y,a:this.a,b:this.b}}},{key:"serialize",value:function(){return"".concat(this.x," ").concat(this.y," ").concat(this.a," ").concat(this.b)}}])}(bA);!function(e){e.isEllipse=function(t){return null!=t&&t instanceof e}}(SA||(SA={})),function(e){function t(t){return e.isEllipse(t)?t.clone():Array.isArray(t)?new e(t[0],t[1],t[2],t[3]):new e(t.x,t.y,t.a,t.b)}e.create=function(n,r,i,a){return null==n||"number"===typeof n?new e(n,r,i,a):t(n)},e.parse=t,e.fromRect=function(t){var n=t.center;return new e(n.x,n.y,t.width/2,t.height/2)}}(SA||(SA={}));var EA=new RegExp("^[\\s\\dLMCZz,.]*$");function _A(e){return"string"===typeof e&&EA.test(e)}function MA(e,t){return(e%t+t)%t}function TA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return e&&e.length&&e.forEach((function(e){Array.isArray(e)?n.push({x:e[0],y:e[1]}):n.push({x:e.x,y:e.y})})),function(e,t,n,r,i){var a=[],o=e[e.length-1],s=null!=t&&t>0,l=t||0;if(r&&s){var u=(e=e.slice())[0],c=new xA(o.x+(u.x-o.x)/2,o.y+(u.y-o.y)/2);e.splice(0,0,c)}var h=e[0],f=1;for(n?a.push("M",h.x,h.y):a.push("L",h.x,h.y);f<(r?e.length:e.length-1);){var d=e[MA(f,e.length)],p=h.x-d.x,v=h.y-d.y;if(s&&(0!==p||0!==v)&&(null==i||i.indexOf(f-1)<0)){var g=Math.sqrt(p*p+v*v),m=p*Math.min(l,g/2)/g,y=v*Math.min(l,g/2)/g,b=d.x+m,x=d.y+y;a.push("L",b,x);for(var k=e[MA(f+1,e.length)];f<e.length-2&&0===Math.round(k.x-d.x)&&0===Math.round(k.y-d.y);)k=e[MA(f+2,e.length)],f+=1;p=k.x-d.x,v=k.y-d.y,g=Math.max(1,Math.sqrt(p*p+v*v));var w=p*Math.min(l,g/2)/g,S=v*Math.min(l,g/2)/g,E=d.x+w,_=d.y+S;a.push("Q",d.x,d.y,E,_),d=new xA(E,_)}else a.push("L",d.x,d.y);h=d,f+=1}return r?a.push("Z"):a.push("L",o.x,o.y),a.map((function(e){return"string"===typeof e?e:+e.toFixed(3)})).join(" ")}(n,t.round,null==t.initialMove||t.initialMove,t.close,t.exclude)}function CA(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0;if(0===n||0===r)return[];s-=e,l-=t,n=Math.abs(n),r=Math.abs(r);var u,c=-s/2,h=-l/2,f=Math.cos(i*Math.PI/180),d=Math.sin(i*Math.PI/180),p=f*c+d*h,v=-1*d*c+f*h,g=p*p,m=v*v,y=n*n,b=r*r,x=g/y+m/b;if(x>1)n=Math.sqrt(x)*n,r=Math.sqrt(x)*r,u=0;else{var k=1;a===o&&(k=-1),u=k*Math.sqrt((y*b-y*m-b*g)/(y*m+b*g))}var w=u*n*v/r,S=-1*u*r*p/n,E=f*w-d*S+s/2,_=d*w+f*S+l/2,M=Math.atan2((v-S)/r,(p-w)/n)-Math.atan2(0,1),T=M>=0?M:2*Math.PI+M,C=(M=Math.atan2((-v-S)/r,(-p-w)/n)-Math.atan2((v-S)/r,(p-w)/n))>=0?M:2*Math.PI+M;0===o&&C>0?C-=2*Math.PI:0!==o&&C<0&&(C+=2*Math.PI);for(var A=2*C/Math.PI,P=Math.ceil(A<0?-1*A:A),O=C/P,R=8/3*Math.sin(O/4)*Math.sin(O/4)/Math.sin(O/2),L=f*n,N=f*r,I=d*n,D=d*r,F=Math.cos(T),U=Math.sin(T),B=-R*(L*U+D*F),z=-R*(I*U-N*F),H=0,G=0,j=[],V=0;V<P;V+=1){T+=O,H=L*(F=Math.cos(T))-D*(U=Math.sin(T))+E,G=I*F+N*U+_;var W=-R*(L*U+D*F),X=-R*(I*U-N*F),q=6*V;j[q]=Number(B+e),j[q+1]=Number(z+t),j[q+2]=Number(H-W+e),j[q+3]=Number(G-X+t),j[q+4]=Number(H+e),j[q+5]=Number(G+t),B=H+W,z=G+X}return j.map((function(e){return+e.toFixed(2)}))}function AA(e,t,n,r){var i=[],a=CA(e,t,n,r,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,arguments.length>7?arguments[7]:void 0,arguments.length>8?arguments[8]:void 0);if(null!=a)for(var o=0,s=a.length;o<s;o+=6)i.push("C",a[o],a[o+1],a[o+2],a[o+3],a[o+4],a[o+5]);return i.join(" ")}var PA=function(e){function t(e){var n;if(T(this,t),n=z(this,t),null!=e){if("string"===typeof e)return B(n,t.parse(e));n.points=e.map((function(e){return xA.create(e)}))}else n.points=[];return n}return G(t,e),M(t,[{key:"start",get:function(){return this.points[0]||null}},{key:"end",get:function(){return this.points[this.points.length-1]||null}},{key:"scale",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new xA;return this.points.forEach((function(r){return r.scale(e,t,n)})),this}},{key:"rotate",value:function(e,t){return this.points.forEach((function(n){return n.rotate(e,t)})),this}},{key:"translate",value:function(e,t){var n=xA.create(e,t);return this.points.forEach((function(e){return e.translate(n.x,n.y)})),this}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.points.forEach((function(t){return t.round(e)})),this}},{key:"bbox",value:function(){if(0===this.points.length)return new kA;for(var e=1/0,t=-1/0,n=1/0,r=-1/0,i=this.points,a=0,o=i.length;a<o;a+=1){var s=i[a],l=s.x,u=s.y;l<e&&(e=l),l>t&&(t=l),u<n&&(n=u),u>r&&(r=u)}return new kA(e,n,t-e,r-n)}},{key:"closestPoint",value:function(e){var t=this.closestPointLength(e);return this.pointAtLength(t)}},{key:"closestPointLength",value:function(e){var t=this.points,n=t.length;if(0===n||1===n)return 0;for(var r=0,i=0,a=1/0,o=0,s=n-1;o<s;o+=1){var l=new wA(t[o],t[o+1]),u=l.length(),c=l.closestPointNormalizedLength(e),h=l.pointAt(c).squaredDistance(e);h<a&&(a=h,i=r+c*u),r+=u}return i}},{key:"closestPointNormalizedLength",value:function(e){var t=this.length();return 0===t?0:this.closestPointLength(e)/t}},{key:"closestPointTangent",value:function(e){var t=this.closestPointLength(e);return this.tangentAtLength(t)}},{key:"containsPoint",value:function(e){if(0===this.points.length)return!1;for(var t=xA.clone(e),n=t.x,r=t.y,i=this.points,a=i.length,o=a-1,s=0,l=0;l<a;l+=1){var u=i[o],c=i[l];if(t.equals(u))return!0;var h=new wA(u,c);if(h.containsPoint(e))return!0;if(r<=u.y&&r>c.y||r>u.y&&r<=c.y){var f=u.x-n>c.x-n?u.x-n:c.x-n;if(f>=0){var d=new xA(n+f,r),p=new wA(e,d);h.intersectsWithLine(p)&&(s+=1)}}o=l}return s%2===1}},{key:"intersectsWithLine",value:function(e){for(var t=[],n=0,r=this.points.length-1;n<r;n+=1){var i=this.points[n],a=this.points[n+1],o=e.intersectsWithLine(new wA(i,a));o&&t.push(o)}return t.length>0?t:null}},{key:"isDifferentiable",value:function(){for(var e=0,t=this.points.length-1;e<t;e+=1){var n=this.points[e],r=this.points[e+1];if(new wA(n,r).isDifferentiable())return!0}return!1}},{key:"length",value:function(){for(var e=0,t=0,n=this.points.length-1;t<n;t+=1){var r=this.points[t],i=this.points[t+1];e+=r.distance(i)}return e}},{key:"pointAt",value:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return t[0].clone();if(e<=0)return t[0].clone();if(e>=1)return t[n-1].clone();var r=this.length()*e;return this.pointAtLength(r)}},{key:"pointAtLength",value:function(e){var t=this.points,n=t.length;if(0===n)return null;if(1===n)return t[0].clone();var r=!0;e<0&&(r=!1,e=-e);for(var i=0,a=0,o=n-1;a<o;a+=1){var s=r?a:o-1-a,l=t[s],u=t[s+1],c=new wA(l,u),h=l.distance(u);if(e<=i+h)return c.pointAtLength((r?1:-1)*(e-i));i+=h}return(r?t[n-1]:t[0]).clone()}},{key:"tangentAt",value:function(e){var t=this.points.length;if(0===t||1===t)return null;e<0&&(e=0),e>1&&(e=1);var n=this.length()*e;return this.tangentAtLength(n)}},{key:"tangentAtLength",value:function(e){var t=this.points,n=t.length;if(0===n||1===n)return null;var r,i=!0;e<0&&(i=!1,e=-e);for(var a=0,o=0,s=n-1;o<s;o+=1){var l=i?o:s-1-o,u=t[l],c=t[l+1],h=new wA(u,c),f=u.distance(c);if(h.isDifferentiable()){if(e<=a+f)return h.tangentAtLength((i?1:-1)*(e-a));r=h}a+=f}if(r){var d=i?1:0;return r.tangentAt(d)}return null}},{key:"simplify",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.points;if(t.length<3)return this;for(var n=e.threshold||0,r=0;t[r+2];){var i=r+1,a=r+2,o=t[r],s=t[i],l=t[a];new wA(o,l).closestPoint(s).distance(s)<=n?t.splice(i,1):r+=1}return this}},{key:"toHull",value:function(){var e=this.points,n=e.length;if(0===n)return new t;for(var r=e[0],i=1;i<n;i+=1)(e[i].y<r.y||e[i].y===r.y&&e[i].x>r.x)&&(r=e[i]);for(var a=[],o=0;o<n;o+=1){var s=r.theta(e[o]);0===s&&(s=360),a.push([e[o],o,s])}if(a.sort((function(e,t){var n=e[2]-t[2];return 0===n&&(n=t[1]-e[1]),n})),a.length>2){var l=a[a.length-1];a.unshift(l)}for(var u,c={},h=[],f=function(e){return"".concat(e[0].toString(),"@").concat(e[1])};0!==a.length;){var d=a.pop(),p=d[0];if(!c[f(d)])for(var v=!1;!v;)if(h.length<2)h.push(d),v=!0;else{var g=h.pop(),m=g[0],y=h.pop(),b=y[0],x=b.cross(m,p);if(x<0)h.push(y),h.push(g),h.push(d),v=!0;else if(0===x){var k=m.angleBetween(b,p);Math.abs(k-180)<1e-10||m.equals(p)||b.equals(m)?(c[f(g)]=m,h.push(y)):Math.abs((k+1)%360-1)<1e-10&&(h.push(y),a.push(g))}else c[f(g)]=m,h.push(y)}}h.length>2&&h.pop();for(var w=-1,S=0,E=h.length;S<E;S+=1){var _=h[S][1];(void 0===u||_<u)&&(u=_,w=S)}var M=[];if(w>0){var T=h.slice(w),C=h.slice(0,w);M=T.concat(C)}else M=h;for(var A=[],P=0,O=M.length;P<O;P+=1)A.push(M[P][0]);return new t(A)}},{key:"equals",value:function(e){var t=this;return null!=e&&(e.points.length===this.points.length&&e.points.every((function(e,n){return e.equals(t.points[n])})))}},{key:"clone",value:function(){return new t(this.points.map((function(e){return e.clone()})))}},{key:"toJSON",value:function(){return this.points.map((function(e){return e.toJSON()}))}},{key:"serialize",value:function(){return this.points.map((function(e){return"".concat(e.serialize())})).join(" ")}}])}(bA);!function(e){e.isPolyline=function(t){return null!=t&&t instanceof e}}(PA||(PA={})),function(e){e.parse=function(t){var n=t.trim();if(""===n)return new e;for(var r=[],i=n.split(/\s*,\s*|\s+/),a=0,o=i.length;a<o;a+=2)r.push({x:+i[a],y:+i[a+1]});return new e(r)}}(PA||(PA={}));var OA=function(e){function t(e,n,r,i){var a;return T(this,t),(a=z(this,t)).PRECISION=3,a.start=xA.create(e),a.controlPoint1=xA.create(n),a.controlPoint2=xA.create(r),a.end=xA.create(i),a}return G(t,e),M(t,[{key:"bbox",value:function(){for(var e,t,n,r,i,a,o,s,l,u,c,h=this.start,f=this.controlPoint1,d=this.controlPoint2,p=this.end,v=h.x,g=h.y,m=f.x,y=f.y,b=d.x,x=d.y,k=p.x,w=p.y,S=[],E=[],_=[[],[]],M=0;M<2;M+=1)if(0===M?(t=6*v-12*m+6*b,e=-3*v+9*m-9*b+3*k,n=3*m-3*v):(t=6*g-12*y+6*x,e=-3*g+9*y-9*x+3*w,n=3*y-3*g),Math.abs(e)<1e-12){if(Math.abs(t)<1e-12)continue;(r=-n/t)>0&&r<1&&E.push(r)}else o=t*t-4*n*e,s=Math.sqrt(o),o<0||((i=(-t+s)/(2*e))>0&&i<1&&E.push(i),(a=(-t-s)/(2*e))>0&&a<1&&E.push(a));for(var T=E.length,C=T;T;)l=(c=1-(r=E[T-=1]))*c*c*v+3*c*c*r*m+3*c*r*r*b+r*r*r*k,_[0][T]=l,u=c*c*c*g+3*c*c*r*y+3*c*r*r*x+r*r*r*w,_[1][T]=u,S[T]={X:l,Y:u};E[C]=0,E[C+1]=1,S[C]={X:v,Y:g},S[C+1]={X:k,Y:w},_[0][C]=v,_[1][C]=g,_[0][C+1]=k,_[1][C+1]=w,E.length=C+2,_[0].length=C+2,_[1].length=C+2,S.length=C+2;var A=Math.min.apply(null,_[0]),P=Math.min.apply(null,_[1]),O=Math.max.apply(null,_[0]),R=Math.max.apply(null,_[1]);return new kA(A,P,O-A,R-P)}},{key:"closestPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pointAtT(this.closestPointT(e,t))}},{key:"closestPointLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getOptions(t);return this.lengthAtT(this.closestPointT(e,n),n)}},{key:"closestPointNormalizedLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getOptions(t),r=this.closestPointLength(e,n);if(!r)return 0;var i=this.length(n);return 0===i?0:r/i}},{key:"closestPointT",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getPrecision(t),r=this.getDivisions(t),i=Math.pow(10,-n),a=null,o=0,s=0,l=0,u=0,c=0,h=null,f=r.length,d=f>0?1/f:0;for(r.forEach((function(t,n){var r=t.start.distance(e),i=t.end.distance(e),f=r+i;(null==h||f<h)&&(a=t,o=n*d,s=(n+1)*d,l=r,u=i,h=f,c=t.endpointDistance())}));;){var p=l?Math.abs(l-u)/l:0,v=null!=u?Math.abs(l-u)/u:0;if(p<i||v<i||(!l||l<c*i||(!u||u<c*i)))return l<=u?o:s;var g=a.divide(.5);d/=2;var m=g[0].start.distance(e),y=g[0].end.distance(e),b=m+y,x=g[1].start.distance(e),k=g[1].end.distance(e);b<=x+k?(a=g[0],s-=d,l=m,u=y):(a=g[1],o+=d,l=x,u=k)}}},{key:"closestPointTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.tangentAtT(this.closestPointT(e,t))}},{key:"containsPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.toPolyline(t).containsPoint(e)}},{key:"divideAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0)return this.divideAtT(0);if(e>=1)return this.divideAtT(1);var n=this.tAt(e,t);return this.divideAtT(n)}},{key:"divideAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.tAtLength(e,t);return this.divideAtT(n)}},{key:"divide",value:function(e){return this.divideAtT(e)}},{key:"divideAtT",value:function(e){var n=this.start,r=this.controlPoint1,i=this.controlPoint2,a=this.end;if(e<=0)return[new t(n,n,n,n),new t(n,r,i,a)];if(e>=1)return[new t(n,r,i,a),new t(a,a,a,a)];var o=this.getSkeletonPoints(e),s=o.startControlPoint1,l=o.startControlPoint2,u=o.divider,c=o.dividerControlPoint1,h=o.dividerControlPoint2;return[new t(n,s,l,u),new t(u,c,h,a)]}},{key:"endpointDistance",value:function(){return this.start.distance(this.end)}},{key:"getSkeletonPoints",value:function(e){var t=this.start,n=this.controlPoint1,r=this.controlPoint2,i=this.end;if(e<=0)return{startControlPoint1:t.clone(),startControlPoint2:t.clone(),divider:t.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:r.clone()};if(e>=1)return{startControlPoint1:n.clone(),startControlPoint2:r.clone(),divider:i.clone(),dividerControlPoint1:i.clone(),dividerControlPoint2:i.clone()};var a=new wA(t,n).pointAt(e),o=new wA(n,r).pointAt(e),s=new wA(r,i).pointAt(e),l=new wA(a,o).pointAt(e),u=new wA(o,s).pointAt(e);return{startControlPoint1:a,startControlPoint2:l,divider:new wA(l,u).pointAt(e),dividerControlPoint1:u,dividerControlPoint2:s}}},{key:"getSubdivisions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getPrecision(e),r=[new t(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===n)return r;for(var i,a=this.endpointDistance(),o=Math.pow(10,-n),s=0,l=function(){s+=1;var e=[];r.forEach((function(t){var n=t.divide(.5);e.push(n[0],n[1])}));var t=e.reduce((function(e,t){return e+t.endpointDistance()}),0);if(s>1&&(0!==t?(t-a)/t:0)<o)return{v:e};r=e,a=t};;)if(i=l())return i.v}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getDivisions(e).reduce((function(e,t){return e+t.endpointDistance()}),0)}},{key:"lengthAtT",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0)return 0;var n=void 0===t.precision?this.PRECISION:t.precision;return this.divide(e)[0].length({precision:n})}},{key:"pointAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.tAt(e,t);return this.pointAtT(n)}},{key:"pointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.tAtLength(e,t);return this.pointAtT(n)}},{key:"pointAtT",value:function(e){return e<=0?this.start.clone():e>=1?this.end.clone():this.getSkeletonPoints(e).divider}},{key:"isDifferentiable",value:function(){var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))}},{key:"tangentAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isDifferentiable())return null;e<0?e=0:e>1&&(e=1);var n=this.tAt(e,t);return this.tangentAtT(n)}},{key:"tangentAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isDifferentiable())return null;var n=this.tAtLength(e,t);return this.tangentAtT(n)}},{key:"tangentAtT",value:function(e){if(!this.isDifferentiable())return null;e<0&&(e=0),e>1&&(e=1);var t=this.getSkeletonPoints(e),n=t.startControlPoint2,r=t.dividerControlPoint1,i=t.divider,a=new wA(n,r);return a.translate(i.x-n.x,i.y-n.y),a}},{key:"getPrecision",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null==e.precision?this.PRECISION:e.precision}},{key:"getDivisions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=e.subdivisions)return e.subdivisions;var t=this.getPrecision(e);return this.getSubdivisions({precision:t})}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{precision:this.getPrecision(e),subdivisions:this.getDivisions(e)}}},{key:"tAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e<=0)return 0;if(e>=1)return 1;var n=this.getOptions(t),r=this.length(n)*e;return this.tAtLength(r,n)}},{key:"tAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!0;e<0&&(n=!1,e=-e);for(var r,i,a=this.getPrecision(t),o=this.getDivisions(t),s={precision:a,subdivisions:o},l=null,u=0,c=0,h=0,f=o.length,d=f>0?1/f:0,p=0;p<f;p+=1){var v=n?p:f-1-p,g=o[p],m=g.endpointDistance();if(e<=h+m){l=g,r=v*d,i=(v+1)*d,u=n?e-h:m+h-e,c=n?m+h-e:e-h;break}h+=m}if(null==l)return n?1:0;for(var y=this.length(s),b=Math.pow(10,-a);;){if((0!==y?u/y:0)<b)return r;if((0!==y?c/y:0)<b)return i;var x=void 0,k=void 0,w=l.divide(.5);d/=2;var S=w[0].endpointDistance(),E=w[1].endpointDistance();u<=S?(l=w[0],i-=d,k=S-(x=u)):(l=w[1],r+=d,k=E-(x=u-S)),u=x,c=k}}},{key:"toPoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getDivisions(e),n=[t[0].start.clone()];return t.forEach((function(e){return n.push(e.end.clone())})),n}},{key:"toPolyline",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new PA(this.toPoints(e))}},{key:"scale",value:function(e,t,n){return this.start.scale(e,t,n),this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return this.start.rotate(e,t),this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}},{key:"translate",value:function(e,t){return"number"===typeof e?(this.start.translate(e,t),this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.start.translate(e),this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}},{key:"equals",value:function(e){return null!=e&&this.start.equals(e.start)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)&&this.end.equals(e.end)}},{key:"clone",value:function(){return new t(this.start,this.controlPoint1,this.controlPoint2,this.end)}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){return[this.start.serialize(),this.controlPoint1.serialize(),this.controlPoint2.serialize(),this.end.serialize()].join(" ")}}])}(bA);!function(e){e.isCurve=function(t){return null!=t&&t instanceof e}}(OA||(OA={})),function(e){function t(e){var t=e.length,n=[],r=[],i=2;n[0]=e[0]/i;for(var a=1;a<t;a+=1)r[a]=1/i,i=(a<t-1?4:3.5)-r[a],n[a]=(e[a]-n[a-1])/i;for(var o=1;o<t;o+=1)n[t-o-1]-=r[t-o]*n[t-o];return n}e.throughPoints=function(n){if(null==n||Array.isArray(n)&&n.length<2)throw new Error("At least 2 points are required");for(var r=function(e){var n=e.map((function(e){return xA.clone(e)})),r=[],i=[],a=n.length-1;if(1===a)return r[0]=new xA((2*n[0].x+n[1].x)/3,(2*n[0].y+n[1].y)/3),i[0]=new xA(2*r[0].x-n[0].x,2*r[0].y-n[0].y),[r,i];for(var o=[],s=1;s<a-1;s+=1)o[s]=4*n[s].x+2*n[s+1].x;o[0]=n[0].x+2*n[1].x,o[a-1]=(8*n[a-1].x+n[a].x)/2;for(var l=t(o),u=1;u<a-1;u+=1)o[u]=4*n[u].y+2*n[u+1].y;o[0]=n[0].y+2*n[1].y,o[a-1]=(8*n[a-1].y+n[a].y)/2;for(var c=t(o),h=0;h<a;h+=1)r.push(new xA(l[h],c[h])),h<a-1?i.push(new xA(2*n[h+1].x-l[h+1],2*n[h+1].y-c[h+1])):i.push(new xA((n[a].x+l[a-1])/2,(n[a].y+c[a-1])/2));return[r,i]}(n),i=[],a=0,o=r[0].length;a<o;a+=1){var s=new xA(r[0][a].x,r[0][a].y),l=new xA(r[1][a].x,r[1][a].y);i.push(new e(n[a],s,l,n[a+1]))}return i}}(OA||(OA={}));var RA=function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).isVisible=!0,e.isSegment=!0,e.isSubpathStart=!1,e}return G(t,e),M(t,[{key:"end",get:function(){return this.endPoint}},{key:"start",get:function(){if(null==this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path, or segment has not yet been added to a path.)");return this.previousSegment.end}},{key:"closestPointT",value:function(e,t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(e);throw new Error("Neither `closestPointT` nor `closestPointNormalizedLength` method is implemented.")}},{key:"lengthAtT",value:function(e,t){if(e<=0)return 0;var n=this.length();return e>=1?n:n*e}},{key:"divideAtT",value:function(e){if(this.divideAt)return this.divideAt(e);throw new Error("Neither `divideAtT` nor `divideAt` method is implemented.")}},{key:"pointAtT",value:function(e){if(this.pointAt)return this.pointAt(e);throw new Error("Neither `pointAtT` nor `pointAt` method is implemented.")}},{key:"tangentAtT",value:function(e){if(this.tangentAt)return this.tangentAt(e);throw new Error("Neither `tangentAtT` nor `tangentAt` method is implemented.")}}])}(bA),LA=function(e){function t(e,n){var r;return T(this,t),r=z(this,t),wA.isLine(e)?r.endPoint=e.end.clone().round(2):r.endPoint=xA.create(e,n).round(2),r}return G(t,e),M(t,[{key:"type",get:function(){return"L"}},{key:"line",get:function(){return new wA(this.start,this.end)}},{key:"bbox",value:function(){return this.line.bbox()}},{key:"closestPoint",value:function(e){return this.line.closestPoint(e)}},{key:"closestPointLength",value:function(e){return this.line.closestPointLength(e)}},{key:"closestPointNormalizedLength",value:function(e){return this.line.closestPointNormalizedLength(e)}},{key:"closestPointTangent",value:function(e){return this.line.closestPointTangent(e)}},{key:"length",value:function(){return this.line.length()}},{key:"divideAt",value:function(e){var n=this.line.divideAt(e);return[new t(n[0]),new t(n[1])]}},{key:"divideAtLength",value:function(e){var n=this.line.divideAtLength(e);return[new t(n[0]),new t(n[1])]}},{key:"getSubdivisions",value:function(){return[]}},{key:"pointAt",value:function(e){return this.line.pointAt(e)}},{key:"pointAtLength",value:function(e){return this.line.pointAtLength(e)}},{key:"tangentAt",value:function(e){return this.line.tangentAt(e)}},{key:"tangentAtLength",value:function(e){return this.line.tangentAtLength(e)}},{key:"isDifferentiable",value:function(){return null!=this.previousSegment&&!this.start.equals(this.end)}},{key:"clone",value:function(){return new t(this.end)}},{key:"scale",value:function(e,t,n){return this.end.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return this.end.rotate(e,t),this}},{key:"translate",value:function(e,t){return"number"===typeof e?this.end.translate(e,t):this.end.translate(e),this}},{key:"equals",value:function(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}},{key:"toJSON",value:function(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){var e=this.end;return"".concat(this.type," ").concat(e.x," ").concat(e.y)}}])}(RA);!function(e){e.create=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.length,a=n[0];if(wA.isLine(a))return new e(a);if(xA.isPointLike(a))return 1===i?new e(a):n.map((function(t){return new e(t)}));if(2===i)return new e(+n[0],+n[1]);for(var o=[],s=0;s<i;s+=2){var l=+n[s],u=+n[s+1];o.push(new e(l,u))}return o}}(LA||(LA={}));var NA=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"end",get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. MoveTo), or segment has not yet been added to a path.)");return this.subpathStartSegment.end}},{key:"type",get:function(){return"Z"}},{key:"line",get:function(){return new wA(this.start,this.end)}},{key:"bbox",value:function(){return this.line.bbox()}},{key:"closestPoint",value:function(e){return this.line.closestPoint(e)}},{key:"closestPointLength",value:function(e){return this.line.closestPointLength(e)}},{key:"closestPointNormalizedLength",value:function(e){return this.line.closestPointNormalizedLength(e)}},{key:"closestPointTangent",value:function(e){return this.line.closestPointTangent(e)}},{key:"length",value:function(){return this.line.length()}},{key:"divideAt",value:function(e){var t=this.line.divideAt(e);return[t[1].isDifferentiable()?new LA(t[0]):this.clone(),new LA(t[1])]}},{key:"divideAtLength",value:function(e){var t=this.line.divideAtLength(e);return[t[1].isDifferentiable()?new LA(t[0]):this.clone(),new LA(t[1])]}},{key:"getSubdivisions",value:function(){return[]}},{key:"pointAt",value:function(e){return this.line.pointAt(e)}},{key:"pointAtLength",value:function(e){return this.line.pointAtLength(e)}},{key:"tangentAt",value:function(e){return this.line.tangentAt(e)}},{key:"tangentAtLength",value:function(e){return this.line.tangentAtLength(e)}},{key:"isDifferentiable",value:function(){return!(!this.previousSegment||!this.subpathStartSegment)&&!this.start.equals(this.end)}},{key:"scale",value:function(){return this}},{key:"rotate",value:function(){return this}},{key:"translate",value:function(){return this}},{key:"equals",value:function(e){return this.type===e.type&&this.start.equals(e.start)&&this.end.equals(e.end)}},{key:"clone",value:function(){return new t}},{key:"toJSON",value:function(){return{type:this.type,start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){return this.type}}])}(RA);!function(e){e.create=function(){return new e}}(NA||(NA={}));var IA=function(e){function t(e,n){var r;return T(this,t),(r=z(this,t)).isVisible=!1,r.isSubpathStart=!0,wA.isLine(e)||OA.isCurve(e)?r.endPoint=e.end.clone().round(2):r.endPoint=xA.create(e,n).round(2),r}return G(t,e),M(t,[{key:"start",get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}},{key:"type",get:function(){return"M"}},{key:"bbox",value:function(){return null}},{key:"closestPoint",value:function(){return this.end.clone()}},{key:"closestPointLength",value:function(){return 0}},{key:"closestPointNormalizedLength",value:function(){return 0}},{key:"closestPointT",value:function(){return 1}},{key:"closestPointTangent",value:function(){return null}},{key:"length",value:function(){return 0}},{key:"lengthAtT",value:function(){return 0}},{key:"divideAt",value:function(){return[this.clone(),this.clone()]}},{key:"divideAtLength",value:function(){return[this.clone(),this.clone()]}},{key:"getSubdivisions",value:function(){return[]}},{key:"pointAt",value:function(){return this.end.clone()}},{key:"pointAtLength",value:function(){return this.end.clone()}},{key:"pointAtT",value:function(){return this.end.clone()}},{key:"tangentAt",value:function(){return null}},{key:"tangentAtLength",value:function(){return null}},{key:"tangentAtT",value:function(){return null}},{key:"isDifferentiable",value:function(){return!1}},{key:"scale",value:function(e,t,n){return this.end.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return this.end.rotate(e,t),this}},{key:"translate",value:function(e,t){return"number"===typeof e?this.end.translate(e,t):this.end.translate(e),this}},{key:"clone",value:function(){return new t(this.end)}},{key:"equals",value:function(e){return this.type===e.type&&this.end.equals(e.end)}},{key:"toJSON",value:function(){return{type:this.type,end:this.end.toJSON()}}},{key:"serialize",value:function(){var e=this.end;return"".concat(this.type," ").concat(e.x," ").concat(e.y)}}])}(RA);!function(e){e.create=function(){var t=arguments.length,n=arguments.length<=0?void 0:arguments[0];if(wA.isLine(n))return new e(n);if(OA.isCurve(n))return new e(n);if(xA.isPointLike(n)){if(1===t)return new e(n);for(var r=[],i=0;i<t;i+=1)0===i?r.push(new e(i<0||arguments.length<=i?void 0:arguments[i])):r.push(new LA(i<0||arguments.length<=i?void 0:arguments[i]));return r}if(2===t)return new e(+(arguments.length<=0?void 0:arguments[0]),+(arguments.length<=1?void 0:arguments[1]));for(var a=[],o=0;o<t;o+=2){var s=+(o<0||arguments.length<=o?void 0:arguments[o]),l=+(o+1<0||arguments.length<=o+1?void 0:arguments[o+1]);0===o?a.push(new e(s,l)):a.push(new LA(s,l))}return a}}(IA||(IA={}));var DA=function(e){function t(e,n,r,i,a,o){var s;return T(this,t),s=z(this,t),OA.isCurve(e)?(s.controlPoint1=e.controlPoint1.clone().round(2),s.controlPoint2=e.controlPoint2.clone().round(2),s.endPoint=e.end.clone().round(2)):"number"===typeof e?(s.controlPoint1=new xA(e,n).round(2),s.controlPoint2=new xA(r,i).round(2),s.endPoint=new xA(a,o).round(2)):(s.controlPoint1=xA.create(e).round(2),s.controlPoint2=xA.create(n).round(2),s.endPoint=xA.create(r).round(2)),s}return G(t,e),M(t,[{key:"type",get:function(){return"C"}},{key:"curve",get:function(){return new OA(this.start,this.controlPoint1,this.controlPoint2,this.end)}},{key:"bbox",value:function(){return this.curve.bbox()}},{key:"closestPoint",value:function(e){return this.curve.closestPoint(e)}},{key:"closestPointLength",value:function(e){return this.curve.closestPointLength(e)}},{key:"closestPointNormalizedLength",value:function(e){return this.curve.closestPointNormalizedLength(e)}},{key:"closestPointTangent",value:function(e){return this.curve.closestPointTangent(e)}},{key:"length",value:function(){return this.curve.length()}},{key:"divideAt",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.curve.divideAt(e,n);return[new t(r[0]),new t(r[1])]}},{key:"divideAtLength",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.curve.divideAtLength(e,n);return[new t(r[0]),new t(r[1])]}},{key:"divideAtT",value:function(e){var n=this.curve.divideAtT(e);return[new t(n[0]),new t(n[1])]}},{key:"getSubdivisions",value:function(){return[]}},{key:"pointAt",value:function(e){return this.curve.pointAt(e)}},{key:"pointAtLength",value:function(e){return this.curve.pointAtLength(e)}},{key:"tangentAt",value:function(e){return this.curve.tangentAt(e)}},{key:"tangentAtLength",value:function(e){return this.curve.tangentAtLength(e)}},{key:"isDifferentiable",value:function(){if(!this.previousSegment)return!1;var e=this.start,t=this.controlPoint1,n=this.controlPoint2,r=this.end;return!(e.equals(t)&&t.equals(n)&&n.equals(r))}},{key:"scale",value:function(e,t,n){return this.controlPoint1.scale(e,t,n),this.controlPoint2.scale(e,t,n),this.end.scale(e,t,n),this}},{key:"rotate",value:function(e,t){return this.controlPoint1.rotate(e,t),this.controlPoint2.rotate(e,t),this.end.rotate(e,t),this}},{key:"translate",value:function(e,t){return"number"===typeof e?(this.controlPoint1.translate(e,t),this.controlPoint2.translate(e,t),this.end.translate(e,t)):(this.controlPoint1.translate(e),this.controlPoint2.translate(e),this.end.translate(e)),this}},{key:"equals",value:function(e){return this.start.equals(e.start)&&this.end.equals(e.end)&&this.controlPoint1.equals(e.controlPoint1)&&this.controlPoint2.equals(e.controlPoint2)}},{key:"clone",value:function(){return new t(this.controlPoint1,this.controlPoint2,this.end)}},{key:"toJSON",value:function(){return{type:this.type,start:this.start.toJSON(),controlPoint1:this.controlPoint1.toJSON(),controlPoint2:this.controlPoint2.toJSON(),end:this.end.toJSON()}}},{key:"serialize",value:function(){var e=this.controlPoint1,t=this.controlPoint2,n=this.end;return[this.type,e.x,e.y,t.x,t.y,n.x,n.y].join(" ")}}])}(RA);function FA(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}function UA(e,t,n,r,i,a){var o=1/3,s=2/3;return[o*e+s*n,o*t+s*r,o*i+s*n,o*a+s*r,i,a]}function BA(e,t,n,r,i,a,o,s,l,u){var c,h,f,d,p,v=120*Math.PI/180,g=Math.PI/180*(+i||0),m=[];if(u)h=u[0],f=u[1],d=u[2],p=u[3];else{e=(c=FA(e,t,-g)).x,t=c.y;var y=(e-(s=(c=FA(s,l,-g)).x))/2,b=(t-(l=c.y))/2,x=y*y/(n*n)+b*b/(r*r);x>1&&(n*=x=Math.sqrt(x),r*=x);var k=n*n,w=r*r,S=(a===o?-1:1)*Math.sqrt(Math.abs((k*w-k*b*b-w*y*y)/(k*b*b+w*y*y)));d=S*n*b/r+(e+s)/2,p=S*-r*y/n+(t+l)/2,h=Math.asin((t-p)/r),f=Math.asin((l-p)/r),h=e<d?Math.PI-h:h,f=s<d?Math.PI-f:f,h<0&&(h=2*Math.PI+h),f<0&&(f=2*Math.PI+f),o&&h>f&&(h-=2*Math.PI),!o&&f>h&&(f-=2*Math.PI)}var E=f-h;if(Math.abs(E)>v){var _=f,M=s,T=l;f=h+v*(o&&f>h?1:-1),m=BA(s=d+n*Math.cos(f),l=p+r*Math.sin(f),n,r,i,0,o,M,T,[f,_,d,p])}E=f-h;var C=Math.cos(h),A=Math.sin(h),P=Math.cos(f),O=Math.sin(f),R=Math.tan(E/4),L=4/3*(n*R),N=4/3*(r*R),I=[e,t],D=[e+L*A,t-N*C],F=[s+L*O,l-N*P],U=[s,l];if(D[0]=2*I[0]-D[0],D[1]=2*I[1]-D[1],u)return[D,F,U].concat(m);for(var B=[],z=(m=[D,F,U].concat(m).join().split(",")).length,H=0;H<z;H+=1)B[H]=H%2?FA(+m[H-1],+m[H],g).y:FA(+m[H],+m[H+1],g).x;return B}function zA(e){var t=function(e){if(!e)return null;var t="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",n=new RegExp("([a-z])[".concat(t,",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[").concat(t,"]*,?[").concat(t,"]*)+)"),"ig"),r=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[".concat(t,"]*,?[").concat(t,"]*"),"ig"),i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[];return e.replace(n,(function(e,t,n){var o=[],s=t.toLowerCase();n.replace(r,(function(e,t){return t&&o.push(+t),e})),"m"===s&&o.length>2&&(a.push([t].concat(Y(o.splice(0,2)))),s="l",t="m"===t?"l":"L");for(var l=i[s];o.length>=l&&(a.push([t].concat(Y(o.splice(0,l)))),l););return e})),a}(e);if(!t||!t.length)return[["M",0,0]];for(var n=0,r=0,i=0,a=0,o=[],s=0,l=t.length;s<l;s+=1){var u=[];o.push(u);var c=t[s],h=c[0];if(h!==h.toUpperCase())switch(u[0]=h.toUpperCase(),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+c[6]+n,u[7]=+c[7]+r;break;case"V":u[1]=+c[1]+r;break;case"H":u[1]=+c[1]+n;break;case"M":i=+c[1]+n,a=+c[2]+r;for(var f=1,d=c.length;f<d;f+=1)u[f]=+c[f]+(f%2?n:r);break;default:for(var p=1,v=c.length;p<v;p+=1)u[p]=+c[p]+(p%2?n:r)}else for(var g=0,m=c.length;g<m;g+=1)u[g]=c[g];switch(u[0]){case"Z":n=+i,r=+a;break;case"H":n=u[1];break;case"V":r=u[1];break;case"M":i=u[u.length-2],a=u[u.length-1],n=u[u.length-2],r=u[u.length-1];break;default:n=u[u.length-2],r=u[u.length-1]}}return o}function HA(e){var t=zA(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};function r(e,t,n){var r,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=null,t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":return 0===parseFloat(e[1])||0===parseFloat(e[2])?["L",e[6],e[7]]:["C"].concat(BA.apply(0,[t.x,t.y].concat(e.slice(1))));case"S":return"C"===n||"S"===n?(r=2*t.x-t.bx,i=2*t.y-t.by):(r=t.x,i=t.y),["C",r,i].concat(e.slice(1));case"T":return"Q"===n||"T"===n?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),["C"].concat(UA(t.x,t.y,t.qx,t.qy,e[1],e[2]));case"Q":return t.qx=e[1],t.qy=e[2],["C"].concat(UA(t.x,t.y,e[1],e[2],e[3],e[4]));case"H":return["L"].concat(e[1],t.y);case"V":return["L"].concat(t.x,e[1])}return e}function i(e,n){if(e[n].length>7){e[n].shift();for(var r=e[n];r.length;)a[n]="A",n+=1,e.splice(n,0,["C"].concat(r.splice(0,6)));e.splice(n,1),s=t.length}}for(var a=[],o="",s=t.length,l=0;l<s;l+=1){var u="";t[l]&&(u=t[l][0]),"C"!==u&&(a[l]=u,l>0&&(o=a[l-1])),t[l]=r(t[l],n,o),"A"!==a[l]&&"C"===u&&(a[l]="C"),i(t,l);var c=t[l],h=c.length;n.x=c[h-2],n.y=c[h-1],n.bx=parseFloat(c[h-4])||n.x,n.by=parseFloat(c[h-3])||n.y}return t[0][0]&&"M"===t[0][0]||t.unshift(["M",0,0]),t}function GA(e){return HA(e).map((function(e){return e.map((function(e){return"string"===typeof e?e:vA.round(e,2)}))})).join(",").split(",").join(" ")}!function(e){e.create=function(){var t=arguments.length,n=arguments.length<=0?void 0:arguments[0];if(OA.isCurve(n))return new e(n);if(xA.isPointLike(n)){if(3===t)return new e(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]);for(var r=[],i=0;i<t;i+=3)r.push(new e(i<0||arguments.length<=i?void 0:arguments[i],i+1<0||arguments.length<=i+1?void 0:arguments[i+1],i+2<0||arguments.length<=i+2?void 0:arguments[i+2]));return r}if(6===t)return new e(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]);for(var a=[],o=0;o<t;o+=6)a.push(new e(o<0||arguments.length<=o?void 0:arguments[o],o+1<0||arguments.length<=o+1?void 0:arguments[o+1],o+2<0||arguments.length<=o+2?void 0:arguments[o+2],o+3<0||arguments.length<=o+3?void 0:arguments[o+3],o+4<0||arguments.length<=o+4?void 0:arguments[o+4],o+5<0||arguments.length<=o+5?void 0:arguments[o+5]));return a}}(DA||(DA={}));var jA=function(e){function t(e){var n;if(T(this,t),(n=z(this,t)).PRECISION=3,n.segments=[],Array.isArray(e))if(wA.isLine(e[0])||OA.isCurve(e[0])){var r=null;e.forEach((function(e,i){0===i&&n.appendSegment(t.createSegment("M",e.start)),null==r||r.end.equals(e.start)||n.appendSegment(t.createSegment("M",e.start)),wA.isLine(e)?n.appendSegment(t.createSegment("L",e.end)):OA.isCurve(e)&&n.appendSegment(t.createSegment("C",e.controlPoint1,e.controlPoint2,e.end)),r=e}))}else{e.forEach((function(e){e.isSegment&&n.appendSegment(e)}))}else null!=e&&(wA.isLine(e)?(n.appendSegment(t.createSegment("M",e.start)),n.appendSegment(t.createSegment("L",e.end))):OA.isCurve(e)?(n.appendSegment(t.createSegment("M",e.start)),n.appendSegment(t.createSegment("C",e.controlPoint1,e.controlPoint2,e.end))):PA.isPolyline(e)?e.points&&e.points.length&&e.points.forEach((function(e,r){var i=0===r?t.createSegment("M",e):t.createSegment("L",e);n.appendSegment(i)})):e.isSegment&&n.appendSegment(e));return n}return G(t,e),M(t,[{key:"start",get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=0;n<t;n+=1){var r=e[n];if(r.isVisible)return r.start}return e[t-1].end}},{key:"end",get:function(){var e=this.segments,t=e.length;if(0===t)return null;for(var n=t-1;n>=0;n-=1){var r=e[n];if(r.isVisible)return r.end}return e[t-1].end}},{key:"moveTo",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.appendSegment((e=IA.create).call.apply(e,[null].concat(n)))}},{key:"lineTo",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.appendSegment((e=LA.create).call.apply(e,[null].concat(n)))}},{key:"curveTo",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.appendSegment((e=DA.create).call.apply(e,[null].concat(n)))}},{key:"arcTo",value:function(e,t,n,r,i,a,o){var s=this.end||new xA,l="number"===typeof a?CA(s.x,s.y,e,t,n,r,i,a,o):CA(s.x,s.y,e,t,n,r,i,a.x,a.y);if(null!=l)for(var u=0,c=l.length;u<c;u+=6)this.curveTo(l[u],l[u+1],l[u+2],l[u+3],l[u+4],l[u+5]);return this}},{key:"quadTo",value:function(e,n,r,i){var a=this.end||new xA,o=["M",a.x,a.y];if("number"===typeof e)o.push("Q",e,n,r,i);else{var s=n;o.push("Q",e.x,e.y,s.x,s.y)}var l=t.parse(o.join(" "));return this.appendSegment(l.segments.slice(1)),this}},{key:"close",value:function(){return this.appendSegment(NA.create())}},{key:"drawPoints",value:function(e){var n=TA(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=t.parse(n);r&&r.segments&&this.appendSegment(r.segments)}},{key:"bbox",value:function(){var e,t=this.segments,n=t.length;if(0===n)return null;for(var r=0;r<n;r+=1){var i=t[r];if(i.isVisible){var a=i.bbox();null!=a&&(e=e?e.union(a):a)}}if(null!=e)return e;var o=t[n-1];return new kA(o.end.x,o.end.y,0,0)}},{key:"appendSegment",value:function(e){var t,n=this.segments.length,r=0!==n?this.segments[n-1]:null;if(Array.isArray(e))for(var i=0,a=e.length;i<a;i+=1){var o=e[i];t=this.prepareSegment(o,r,null),this.segments.push(t),r=t}else null!=e&&e.isSegment&&(t=this.prepareSegment(e,r,null),this.segments.push(t));return this}},{key:"insertSegment",value:function(e,t){var n,r=this.segments.length;if(e<0&&(e=r+e+1),e>r||e<0)throw new Error("Index out of range.");var i=null,a=null;if(0!==r&&(e>=1?a=(i=this.segments[e-1]).nextSegment:(i=null,a=this.segments[0])),Array.isArray(t))for(var o=0,s=t.length;o<s;o+=1){var l=t[o];n=this.prepareSegment(l,i,a),this.segments.splice(e+o,0,n),i=n}else n=this.prepareSegment(t,i,a),this.segments.splice(e,0,n);return this}},{key:"removeSegment",value:function(e){var t=this.fixIndex(e),n=this.segments.splice(t,1)[0],r=n.previousSegment,i=n.nextSegment;return r&&(r.nextSegment=i),i&&(i.previousSegment=r),n.isSubpathStart&&i&&this.updateSubpathStartSegment(i),n}},{key:"replaceSegment",value:function(e,t){var n,r=this.fixIndex(e),i=this.segments[r],a=i.previousSegment,o=i.nextSegment,s=i.isSubpathStart;if(Array.isArray(t)){this.segments.splice(e,1);for(var l=0,u=t.length;l<u;l+=1){var c=t[l];n=this.prepareSegment(c,a,o),this.segments.splice(e+l,0,n),a=n,s&&n.isSubpathStart&&(s=!1)}}else n=this.prepareSegment(t,a,o),this.segments.splice(r,1,n),s&&n.isSubpathStart&&(s=!1);s&&o&&this.updateSubpathStartSegment(o)}},{key:"getSegment",value:function(e){var t=this.fixIndex(e);return this.segments[t]}},{key:"fixIndex",value:function(e){var t=this.segments.length;if(0===t)throw new Error("Path has no segments.");for(var n=e;n<0;)n=t+n;if(n>=t||n<0)throw new Error("Index out of range.");return n}},{key:"segmentAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.segmentIndexAt(e,t);return n?this.getSegment(n):null}},{key:"segmentAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.segmentIndexAtLength(e,t);return n?this.getSegment(n):null}},{key:"segmentIndexAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var n=vA.clamp(e,0,1),r=this.getOptions(t),i=this.length(r)*n;return this.segmentIndexAtLength(i,r)}},{key:"segmentIndexAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.segments.length;if(0===n)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i=this.getPrecision(t),a=this.getSubdivisions(t),o=0,s=null,l=0;l<n;l+=1){var u=r?l:n-1-l,c=this.segments[u],h=a[u],f=c.length({precision:i,subdivisions:h});if(c.isVisible){if(e<=o+f)return u;s=u}o+=f}return s}},{key:"getSegmentSubdivisions",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getPrecision(e),n=[],r=0,i=this.segments.length;r<i;r+=1){var a=this.segments[r].getSubdivisions({precision:t});n.push(a)}return n}},{key:"updateSubpathStartSegment",value:function(e){for(var t=e.previousSegment,n=e;n&&!n.isSubpathStart;)n.subpathStartSegment=null!=t?t.subpathStartSegment:null,t=n,n=n.nextSegment}},{key:"prepareSegment",value:function(e,t,n){e.previousSegment=t,e.nextSegment=n,null!=t&&(t.nextSegment=e),null!=n&&(n.previousSegment=e);var r=e;return e.isSubpathStart&&(e.subpathStartSegment=e,r=n),null!=r&&this.updateSubpathStartSegment(r),e}},{key:"closestPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.closestPointT(e,t);return n?this.pointAtT(n):null}},{key:"closestPointLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getOptions(t),r=this.closestPointT(e,n);return r?this.lengthAtT(r,n):0}},{key:"closestPointNormalizedLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getOptions(t),r=this.closestPointLength(e,n);if(0===r)return 0;var i=this.length(n);return 0===i?0:r/i}},{key:"closestPointT",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;for(var n,r=this.getPrecision(t),i=this.getSubdivisions(t),a=1/0,o=0,s=this.segments.length;o<s;o+=1){var l=this.segments[o],u=i[o];if(l.isVisible){var c=l.closestPointT(e,{precision:r,subdivisions:u}),h=l.pointAtT(c),f=vA.squaredLength(h,e);f<a&&(n={segmentIndex:o,value:c},a=f)}}return n||{segmentIndex:this.segments.length-1,value:1}}},{key:"closestPointTangent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;for(var n,r=this.getPrecision(t),i=this.getSubdivisions(t),a=1/0,o=0,s=this.segments.length;o<s;o+=1){var l=this.segments[o],u=i[o];if(l.isDifferentiable()){var c=l.closestPointT(e,{precision:r,subdivisions:u}),h=l.pointAtT(c),f=vA.squaredLength(h,e);f<a&&(n=l.tangentAtT(c),a=f)}}return n||null}},{key:"containsPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toPolylines(t);if(!n)return!1;for(var r=0,i=0,a=n.length;i<a;i+=1){n[i].containsPoint(e)&&(r+=1)}return r%2===1}},{key:"pointAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;if(e<=0)return this.start.clone();if(e>=1)return this.end.clone();var n=this.getOptions(t),r=this.length(n)*e;return this.pointAtLength(r,n)}},{key:"pointAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;if(0===e)return this.start.clone();var n=!0;e<0&&(n=!1,e=-e);for(var r,i=this.getPrecision(t),a=this.getSubdivisions(t),o=0,s=0,l=this.segments.length;s<l;s+=1){var u=n?s:l-1-s,c=this.segments[u],h=a[u],f=c.length({precision:i,subdivisions:h});if(c.isVisible){if(e<=o+f)return c.pointAtLength((n?1:-1)*(e-o),{precision:i,subdivisions:h});r=c}o+=f}return r?n?r.end:r.start:this.segments[this.segments.length-1].end.clone()}},{key:"pointAtT",value:function(e){var t=this.segments,n=t.length;if(0===n)return null;var r=e.segmentIndex;if(r<0)return t[0].pointAtT(0);if(r>=n)return t[n-1].pointAtT(1);var i=vA.clamp(e.value,0,1);return t[r].pointAtT(i)}},{key:"divideAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var n=vA.clamp(e,0,1),r=this.getOptions(t),i=this.length(r)*n;return this.divideAtLength(i,r)}},{key:"divideAtLength",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var r=!0;e<0&&(r=!1,e=-e);for(var i,a,o,s,l,u=this.getPrecision(n),c=this.getSubdivisions(n),h=0,f=0,d=this.segments.length;f<d;f+=1){var p=r?f:d-1-f,v=this.getSegment(p),g={precision:u,subdivisions:c[p]},m=v.length(g);if(v.isDifferentiable()&&(o=v,s=p,e<=h+m)){a=p,i=v.divideAtLength((r?1:-1)*(e-h),g);break}h+=m}if(!o)return null;i||(a=s,l=r?1:0,i=o.divideAtT(l));var y=this.clone(),b=a;y.replaceSegment(b,i);var x=b,k=b+1,w=b+2;i[0].isDifferentiable()||(y.removeSegment(x),k-=1,w-=1);var S=y.getSegment(k).start;y.insertSegment(k,t.createSegment("M",S)),w+=1,i[1].isDifferentiable()||(y.removeSegment(w-1),w-=1);for(var E=w-x-1,_=w,M=y.segments.length;_<M;_+=1){var T=this.getSegment(_-E),C=y.getSegment(_);if("Z"===C.type&&!T.subpathStartSegment.end.equals(C.subpathStartSegment.end)){var A=t.createSegment("L",T.end);y.replaceSegment(_,A)}}return[new t(y.segments.slice(0,k)),new t(y.segments.slice(k))]}},{key:"intersectsWithLine",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.toPolylines(t);if(null==n)return null;for(var r=null,i=0,a=n.length;i<a;i+=1){var o,s=n[i],l=e.intersect(s);if(l)if(null==r&&(r=[]),Array.isArray(l))(o=r).push.apply(o,Y(l));else r.push(l)}return r}},{key:"isDifferentiable",value:function(){for(var e=0,t=this.segments.length;e<t;e+=1){if(this.segments[e].isDifferentiable())return!0}return!1}},{key:"isValid",value:function(){var e=this.segments,t=0===e.length||"M"===e[0].type;return t}},{key:"length",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0===this.segments.length)return 0;for(var t=this.getSubdivisions(e),n=0,r=0,i=this.segments.length;r<i;r+=1){var a=this.segments[r],o=t[r];n+=a.length({subdivisions:o})}return n}},{key:"lengthAtT",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.segments.length;if(0===n)return 0;var r=e.segmentIndex;if(r<0)return 0;var i=vA.clamp(e.value,0,1);r>=n&&(r=n-1,i=1);for(var a=this.getPrecision(t),o=this.getSubdivisions(t),s=0,l=0;l<r;l+=1){var u=this.segments[l],c=o[l];s+=u.length({precision:a,subdivisions:c})}var h=this.segments[r],f=o[r];return s+=h.lengthAtT(i,{precision:a,subdivisions:f})}},{key:"tangentAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var n=vA.clamp(e,0,1),r=this.getOptions(t),i=this.length(r)*n;return this.tangentAtLength(i,r)}},{key:"tangentAtLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===this.segments.length)return null;var n=!0;e<0&&(n=!1,e=-e);for(var r,i=this.getPrecision(t),a=this.getSubdivisions(t),o=0,s=0,l=this.segments.length;s<l;s+=1){var u=n?s:l-1-s,c=this.segments[u],h=a[u],f=c.length({precision:i,subdivisions:h});if(c.isDifferentiable()){if(e<=o+f)return c.tangentAtLength((n?1:-1)*(e-o),{precision:i,subdivisions:h});r=c}o+=f}if(r){var d=n?1:0;return r.tangentAtT(d)}return null}},{key:"tangentAtT",value:function(e){var t=this.segments.length;if(0===t)return null;var n=e.segmentIndex;if(n<0)return this.segments[0].tangentAtT(0);if(n>=t)return this.segments[t-1].tangentAtT(1);var r=vA.clamp(e.value,0,1);return this.segments[n].tangentAtT(r)}},{key:"getPrecision",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null==e.precision?this.PRECISION:e.precision}},{key:"getSubdivisions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null==e.segmentSubdivisions){var t=this.getPrecision(e);return this.getSegmentSubdivisions({precision:t})}return e.segmentSubdivisions}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{precision:this.getPrecision(e),segmentSubdivisions:this.getSubdivisions(e)}}},{key:"toPoints",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.segments,n=t.length;if(0===n)return null;for(var r=this.getSubdivisions(e),i=[],a=[],o=0;o<n;o+=1){var s=t[o];if(s.isVisible){var l=r[o];l.length>0?l.forEach((function(e){return a.push(e.start)})):a.push(s.start)}else a.length>0&&(a.push(t[o-1].end),i.push(a),a=[])}return a.length>0&&(a.push(this.end),i.push(a)),i}},{key:"toPolylines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.toPoints(e);return t?t.map((function(e){return new PA(e)})):null}},{key:"scale",value:function(e,t,n){return this.segments.forEach((function(r){return r.scale(e,t,n)})),this}},{key:"rotate",value:function(e,t){return this.segments.forEach((function(n){return n.rotate(e,t)})),this}},{key:"translate",value:function(e,t){return"number"===typeof e?this.segments.forEach((function(n){return n.translate(e,t)})):this.segments.forEach((function(t){return t.translate(e)})),this}},{key:"clone",value:function(){var e=new t;return this.segments.forEach((function(t){return e.appendSegment(t.clone())})),e}},{key:"equals",value:function(e){if(null==e)return!1;var t=this.segments,n=e.segments,r=t.length;if(n.length!==r)return!1;for(var i=0;i<r;i+=1){var a=t[i],o=n[i];if(a.type!==o.type||!a.equals(o))return!1}return!0}},{key:"toJSON",value:function(){return this.segments.map((function(e){return e.toJSON()}))}},{key:"serialize",value:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.segments.map((function(e){return e.serialize()})).join(" ")}},{key:"toString",value:function(){return this.serialize()}}])}(bA);!function(e){e.isPath=function(t){return null!=t&&t instanceof e}}(jA||(jA={})),function(e){function t(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;if("M"===e)return(i=IA.create).call.apply(i,[null].concat(n));if("L"===e)return(a=LA.create).call.apply(a,[null].concat(n));if("C"===e)return(o=DA.create).call.apply(o,[null].concat(n));if("z"===e||"Z"===e)return NA.create();throw new Error('Invalid path segment type "'.concat(e,'"'))}e.parse=function(n){if(!n)return new e;var r=new e,i=e.normalize(n).match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g);if(null!=i)for(var a=0,o=i.length;a<o;a+=1){var s=i[a].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g);if(null!=s){var l=s[0],u=s.slice(1).map((function(e){return+e})),c=t.call.apply(t,[null,l].concat(Y(u)));r.appendSegment(c)}}return r},e.createSegment=t}(jA||(jA={})),function(e){e.normalize=GA,e.isValid=_A,e.drawArc=AA,e.drawPoints=TA,e.arcToCurves=CA}(jA||(jA={}));var VA=function(){return M((function e(t){T(this,e),this.options=Object.assign({},t),this.data=this.options.data||{},this.register=this.register.bind(this),this.unregister=this.unregister.bind(this)}),[{key:"names",get:function(){return Object.keys(this.data)}},{key:"register",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("object"!==typeof e){!this.exist(e)||r||tT.isApplyingHMR()||this.onDuplicated(e);var i=this.options.process,a=i?Ib(i,this,e,t):t;return this.data[e]=a,a}Object.entries(e).forEach((function(e){var r=R(e,2),i=r[0],a=r[1];n.register(i,a,t)}))}},{key:"unregister",value:function(e){var t=e?this.data[e]:null;return delete this.data[e],t}},{key:"get",value:function(e){return e?this.data[e]:null}},{key:"exist",value:function(e){return!!e&&null!=this.data[e]}},{key:"onDuplicated",value:function(e){try{throw this.options.onConflict&&Ib(this.options.onConflict,this,e),new Error("".concat(RM(this.options.type)," with name '").concat(e,"' already registered."))}catch(hQ){throw hQ}}},{key:"onNotFound",value:function(e,t){throw new Error(this.getSpellingSuggestion(e,t))}},{key:"getSpellingSuggestion",value:function(e,t){var n=this.getSpellingSuggestionForName(e),r=t?"".concat(t," ").concat(GM(this.options.type)):this.options.type;return"".concat(RM(r)," with name '").concat(e,"' does not exist.").concat(n?" Did you mean '".concat(n,"'?"):"")}},{key:"getSpellingSuggestionForName",value:function(e){return function(e,t,n){var r,i,a=Math.min(2,Math.floor(.34*e.length)),o=Math.floor(.4*e.length)+1,s=!1,l=e.toLowerCase(),u=q(t);try{for(u.s();!(i=u.n()).done;){var c=i.value,h=n(c);if(void 0!==h&&Math.abs(h.length-l.length)<=a){var f=h.toLowerCase();if(f===l){if(h===e)continue;return c}if(s)continue;if(h.length<3)continue;var d=YM(l,f,o-1);if(void 0===d)continue;d<3?(s=!0,r=c):(o=d,r=c)}}}catch(hQ){u.e(hQ)}finally{u.f()}return r}(e,Object.keys(this.data),(function(e){return e}))}}])}();!function(e){e.create=function(t){return new e(t)}}(VA||(VA={}));var WA={color:"#aaaaaa",thickness:1,markup:"rect",update:function(e,t){var n=t.thickness*t.sx,r=t.thickness*t.sy;QT(e,{width:n,height:r,rx:n,ry:r,fill:t.color})}},XA={color:"#aaaaaa",thickness:1,markup:"rect",update:function(e,t){var n=t.sx<=1?t.thickness*t.sx:t.thickness;QT(e,{width:n,height:n,rx:n,ry:n,fill:t.color})}},qA={color:"rgba(224,224,224,1)",thickness:1,markup:"path",update:function(e,t){var n=t.width,r=t.height,i=t.thickness;QT(e,{d:n-i>=0&&r-i>=0?["M",n,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",stroke:t.color,"stroke-width":t.thickness})}},YA=[{color:"rgba(224,224,224,1)",thickness:1,markup:"path",update:function(e,t){var n=t.width,r=t.height,i=t.thickness;QT(e,{d:n-i>=0&&r-i>=0?["M",n,0,"H0 M0 0 V0",r].join(" "):"M 0 0 0 0",stroke:t.color,"stroke-width":t.thickness})}},{color:"rgba(224,224,224,0.2)",thickness:3,factor:4,markup:"path",update:function(e,t){var n,r=t.factor||1,i=t.width*r,a=t.height*r,o=t.thickness;n=i-o>=0&&a-o>=0?["M",i,0,"H0 M0 0 V0",a].join(" "):"M 0 0 0 0",t.width=i,t.height=a,QT(e,{d:n,stroke:t.color,"stroke-width":t.thickness})}}],KA=function(){return M((function e(){T(this,e),this.patterns={},this.root=bC.create(DT(),{width:"100%",height:"100%"},[IT("defs")]).node}),[{key:"add",value:function(e,t){var n=this.root.childNodes[0];n&&n.appendChild(t),this.patterns[e]=t,bC.create("rect",{width:"100%",height:"100%",fill:"url(#".concat(e,")")}).appendTo(this.root)}},{key:"get",value:function(e){return this.patterns[e]}},{key:"has",value:function(e){return null!=this.patterns[e]}}])}();!function(e){e.presets=t,e.registry=VA.create({type:"grid"}),e.registry.register(e.presets,!0)}(KA||(KA={}));var JA,ZA,QA=function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(2*n,0),i.scale(-1,1),i.drawImage(e,0,0,n,r),t},$A=function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.translate(0,2*r),i.scale(1,-1),i.drawImage(e,0,0,n,r),t},eP=function(e){var t=document.createElement("canvas"),n=e.width,r=e.height;t.width=2*n,t.height=2*r;var i=t.getContext("2d");return i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,-1,t.width,t.height),i.drawImage(e,0,0,n,r),i.setTransform(-1,0,0,1,t.width,0),i.drawImage(e,0,0,n,r),i.setTransform(1,0,0,-1,0,t.height),i.drawImage(e,0,0,n,r),t},tP=function(e,t){var n=e.width,r=e.height,i=document.createElement("canvas");i.width=3*n,i.height=3*r;for(var a=i.getContext("2d"),o=null!=t.angle?-t.angle:-20,s=pA.toRad(o),l=i.width/4,u=i.height/4,c=0;c<4;c+=1)for(var h=0;h<4;h+=1)(c+h)%2>0&&(a.setTransform(1,0,0,1,(2*c-1)*l,(2*h-1)*u),a.rotate(s),a.drawImage(e,-n/2,-r/2,n,r));return i};function nP(e,t){return null!=e?e:t}function rP(e,t){return null!=e&&Number.isFinite(e)?e:t}function iP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=nP(e.color,"blue"),n=rP(e.width,1),r=rP(e.margin,2),i=rP(e.opacity,1),a=r,o=r+n;return'\n    <filter>\n      <feFlood flood-color="'.concat(t,'" flood-opacity="').concat(i,'" result="colored"/>\n      <feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="').concat(o,'" />\n      <feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="').concat(a,'" />\n      <feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/>\n      <feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/>\n      <feMerge>\n        <feMergeNode in="outline"/>\n        <feMergeNode in="SourceGraphic"/>\n      </feMerge>\n    </filter>\n  ').trim()}function aP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=nP(e.color,"red"),n=rP(e.blur,0),r=rP(e.width,1),i=rP(e.opacity,1);return'\n      <filter>\n        <feFlood flood-color="'.concat(t,'" flood-opacity="').concat(i,'" result="colored"/>\n        <feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="').concat(r,'"/>\n        <feComposite result="composed" in="colored" in2="morphed" operator="in"/>\n        <feGaussianBlur result="blured" in="composed" stdDeviation="').concat(n,'"/>\n        <feBlend in="SourceGraphic" in2="blured" mode="normal"/>\n      </filter>\n    ').trim()}function oP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rP(e.x,2),n=null!=e.y&&Number.isFinite(e.y)?[t,e.y]:t;return'\n    <filter>\n      <feGaussianBlur stdDeviation="'.concat(n,'"/>\n    </filter>\n  ').trim()}function sP(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=rP(e.dx,0),n=rP(e.dy,0),r=nP(e.color,"black"),i=rP(e.blur,4),a=rP(e.opacity,1);return"SVGFEDropShadowElement"in window?'<filter>\n         <feDropShadow stdDeviation="'.concat(i,'" dx="').concat(t,'" dy="').concat(n,'" flood-color="').concat(r,'" flood-opacity="').concat(a,'" />\n       </filter>').trim():'<filter>\n         <feGaussianBlur in="SourceAlpha" stdDeviation="'.concat(i,'" />\n         <feOffset dx="').concat(t,'" dy="').concat(n,'" result="offsetblur" />\n         <feFlood flood-color="').concat(r,'" />\n         <feComposite in2="offsetblur" operator="in" />\n         <feComponentTransfer>\n           <feFuncA type="linear" slope="').concat(a,'" />\n         </feComponentTransfer>\n         <feMerge>\n           <feMergeNode/>\n           <feMergeNode in="SourceGraphic"/>\n         </feMerge>\n       </filter>').trim()}function lP(){var e=rP((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1),t=.7152-.7152*(1-e),n=.0722-.0722*(1-e),r=.2126-.2126*(1-e),i=.7152+.2848*(1-e),a=.0722-.0722*(1-e),o=.2126-.2126*(1-e),s=.0722+.9278*(1-e);return'\n    <filter>\n      <feColorMatrix type="matrix" values="'.concat(.2126+.7874*(1-e)," ").concat(t," ").concat(n," 0 0 ").concat(r," ").concat(i," ").concat(a," 0 0 ").concat(o," ").concat(t," ").concat(s,' 0 0 0 0 0 1 0"/>\n    </filter>\n  ').trim()}function uP(){var e=rP((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1),t=.769-.769*(1-e),n=.189-.189*(1-e),r=.349-.349*(1-e),i=.686+.314*(1-e),a=.168-.168*(1-e),o=.272-.272*(1-e),s=.534-.534*(1-e),l=.131+.869*(1-e);return'\n      <filter>\n        <feColorMatrix type="matrix" values="'.concat(.393+.607*(1-e)," ").concat(t," ").concat(n," 0 0 ").concat(r," ").concat(i," ").concat(a," 0 0 ").concat(o," ").concat(s," ").concat(l,' 0 0 0 0 0 1 0"/>\n      </filter>\n    ').trim()}function cP(){var e=rP((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1);return'\n      <filter>\n        <feColorMatrix type="saturate" values="'.concat(1-e,'"/>\n      </filter>\n    ').trim()}function hP(){var e=rP((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).angle,0);return'\n      <filter>\n        <feColorMatrix type="hueRotate" values="'.concat(e,'"/>\n      </filter>\n    ').trim()}function fP(){var e=rP((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1),t=1-e;return'\n      <filter>\n        <feComponentTransfer>\n          <feFuncR type="table" tableValues="'.concat(e," ").concat(t,'"/>\n          <feFuncG type="table" tableValues="').concat(e," ").concat(t,'"/>\n          <feFuncB type="table" tableValues="').concat(e," ").concat(t,'"/>\n        </feComponentTransfer>\n      </filter>\n    ').trim()}function dP(){var e=rP((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1);return'\n    <filter>\n      <feComponentTransfer>\n        <feFuncR type="linear" slope="'.concat(e,'"/>\n        <feFuncG type="linear" slope="').concat(e,'"/>\n        <feFuncB type="linear" slope="').concat(e,'"/>\n      </feComponentTransfer>\n    </filter>\n  ').trim()}function pP(){var e=rP((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).amount,1),t=.5-e/2;return'\n    <filter>\n     <feComponentTransfer>\n        <feFuncR type="linear" slope="'.concat(e,'" intercept="').concat(t,'"/>\n        <feFuncG type="linear" slope="').concat(e,'" intercept="').concat(t,'"/>\n        <feFuncB type="linear" slope="').concat(e,'" intercept="').concat(t,'"/>\n      </feComponentTransfer>\n    </filter>\n  ').trim()}!function(e){e.presets=Object.assign({},r),e.presets["flip-x"]=QA,e.presets["flip-y"]=$A,e.presets["flip-xy"]=eP,e.registry=VA.create({type:"background pattern"}),e.registry.register(e.presets,!0)}(JA||(JA={})),function(e){e.presets=i,e.registry=VA.create({type:"filter"}),e.registry.register(e.presets,!0)}(ZA||(ZA={}));var vP={xlinkHref:"xlink:href",xlinkShow:"xlink:show",xlinkRole:"xlink:role",xlinkType:"xlink:type",xlinkArcrole:"xlink:arcrole",xlinkTitle:"xlink:title",xlinkActuate:"xlink:actuate",xmlSpace:"xml:space",xmlBase:"xml:base",xmlLang:"xml:lang",preserveAspectRatio:"preserveAspectRatio",requiredExtension:"requiredExtension",requiredFeatures:"requiredFeatures",systemLanguage:"systemLanguage",externalResourcesRequired:"externalResourceRequired"},gP={},mP={position:zP("x","width","origin")},yP={position:zP("y","height","origin")},bP={position:zP("x","width","corner")},xP={position:zP("y","height","corner")},kP={set:HP("width","width")},wP={set:HP("height","height")},SP={set:HP("rx","width")},EP={set:HP("ry","height")},_P={set:function(e){var t=HP("r","width"),n=HP("r","height");return function(e,r){var i=r.refBBox;return Ib(i.height>i.width?t:n,this,e,r)}}()},MP={set:function(e,t){var n=t.refBBox,r=parseFloat(e),i=QM(e);i&&(r/=100);var a,o=Math.sqrt(n.height*n.height+n.width*n.width);return Number.isFinite(r)&&(a=i||r>=0&&r<=1?r*o:Math.max(r+o,0)),{r:a}}},TP={set:HP("cx","width")},CP={set:HP("cy","height")},AP={set:jP({resetOffset:!0})},PP={set:jP({resetOffset:!1})},OP={set:VP({resetOffset:!0})},RP={set:VP({resetOffset:!1})},LP=_P,NP=AP,IP=OP,DP=mP,FP=yP,UP=kP,BP=wP;function zP(e,t,n){return function(r,i){var a=i.refBBox;if(null==r)return null;var o,s=parseFloat(r),l=QM(r);if(l&&(s/=100),Number.isFinite(s)){var u=a[n];o=l||s>0&&s<1?u[e]+a[t]*s:u[e]+s}var c=new xA;return c[e]=o||0,c}}function HP(e,t){return function(n,r){var i=r.refBBox,a=parseFloat(n),o=QM(n);o&&(a/=100);var s={};if(Number.isFinite(a)){var l=o||a>=0&&a<=1?a*i[t]:Math.max(a+i[t],0);s[e]=l}return s}}function GP(e,t){var n="x6-shape",r=t&&t.resetOffset;return function(t,i){var a=i.elem,o=i.refBBox,s=yC(a,n);if(!s||s.value!==t){var l=e(t);s={value:t,shape:l,shapeBBox:l.bbox()},yC(a,n,s)}var u=s.shape.clone(),c=s.shapeBBox.clone(),h=c.getOrigin(),f=o.getOrigin();c.x=f.x,c.y=f.y;var d=o.getMaxScaleToFit(c,f),p=0===c.width||0===o.width?1:d.sx,v=0===c.height||0===o.height?1:d.sy;return u.scale(p,v,h),r&&u.translate(-h.x,-h.y),u}}function jP(e){var t=GP((function(e){return jA.parse(e)}),e);return function(e,n){return{d:t(e,n).serialize()}}}function VP(e){var t=GP((function(e){return new PA(e)}),e);return function(e,n){return{points:t(e,n).serialize()}}}var WP={qualify:yw,set:function(e,t){var n=t.view;return"url(#".concat(n.graph.defineGradient(e),")")}},XP={qualify:yw,set:function(e,t){var n=t.view,r=n.cell,i=Object.assign({},e);if(r.isEdge()&&"linearGradient"===i.type){var a=n,o=a.sourcePoint,s=a.targetPoint;i.id="gradient-".concat(i.type,"-").concat(r.id),i.attrs=Object.assign(Object.assign({},i.attrs),{x1:o.x,y1:o.y,x2:s.x,y2:s.y,gradientUnits:"userSpaceOnUse"}),n.graph.defs.remove(i.id)}return"url(#".concat(n.graph.defineGradient(i),")")}},qP={qualify:function(e,t){var n=t.attrs;return null==n.textWrap||!yw(n.textWrap)},set:function(e,t){var n=t.view,r=t.elem,i=t.attrs,a="x6-text",o=yC(r,a),s=function(e){try{return JSON.parse(e)}catch(t){return e}},l={x:i.x,eol:i.eol,annotations:s(i.annotations),textPath:s(i["text-path"]||i.textPath),textVerticalAnchor:i["text-vertical-anchor"]||i.textVerticalAnchor,displayEmpty:"true"===(i["display-empty"]||i.displayEmpty),lineHeight:i["line-height"]||i.lineHeight},u=i["font-size"]||i.fontSize,c=JSON.stringify([e,l]);if(u&&r.setAttribute("font-size",u),null==o||o!==c){var h=l.textPath;if(null!=h&&"object"===typeof h){var f=h.selector;if("string"===typeof f){var d=n.find(f)[0];d instanceof SVGPathElement&&(PT(d),l.textPath=Object.assign({"xlink:href":"#".concat(d.id)},h))}}SC(r,"".concat(e),l),yC(r,a,c)}}},YP={qualify:yw,set:function(e,t){var n=t.view,r=t.elem,i=t.attrs,a=t.refBBox,o=e,s=o.width||0;QM(s)?a.width*=parseFloat(s)/100:s<=0?a.width+=s:a.width=s;var l,u=o.height||0;QM(u)?a.height*=parseFloat(u)/100:u<=0?a.height+=u:a.height=u;var c=o.text;null==c&&(c=i.text||(null===r||void 0===r?void 0:r.textContent)),l=null!=c?MC("".concat(c),a,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":i["font-size"]||i.fontSize,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight},{ellipsis:o.ellipsis}):"",Ib(qP.set,this,l,{view:n,elem:r,attrs:i,refBBox:a,cell:n.cell})}},KP=function(e,t){return void 0!==t.attrs.text},JP={qualify:KP},ZP={qualify:KP},QP={qualify:KP},$P={qualify:KP},eO={qualify:KP},tO={qualify:KP},nO={qualify:function(e,t){return t.elem instanceof SVGElement},set:function(e,t){var n=t.elem,r="x6-title",i="".concat(e),a=yC(n,r);if(null==a||a!==i){yC(n,r,i);var o=n.firstChild;if(o&&"TITLE"===o.tagName.toUpperCase()){o.textContent=i}else{var s=document.createElementNS(n.namespaceURI,"title");s.textContent=i,n.insertBefore(s,o)}}}},rO={offset:oO("x","width","right")},iO={offset:oO("y","height","bottom")},aO={offset:function(e,t){var n=t.refBBox;return e?{x:-n.x,y:-n.y}:{x:0,y:0}}};function oO(e,t,n){return function(r,i){var a,o=i.refBBox,s=new xA;return a="middle"===r?o[t]/2:r===n?o[t]:"number"===typeof r&&Number.isFinite(r)?r>-1&&r<1?-o[t]*r:-r:QM(r)?o[t]*parseFloat(r)/100:0,s[e]=-(o[e]+a),s}}var sO={qualify:yw,set:function(e,t){vC(t.elem,e)}},lO={set:function(e,t){t.elem.innerHTML="".concat(e)}},uO={qualify:yw,set:function(e,t){var n=t.view;return"url(#".concat(n.graph.defineFilter(e),")")}},cO={set:function(e){return null!=e&&"object"===typeof e&&e.id?e.id:e}};function hO(e,t,n){var r,i;"object"===typeof t?(r=t.x,i=t.y):(r=t,i=n);var a=jA.parse(e),o=a.bbox();if(o){var s=-o.height/2-o.y,l=-o.width/2-o.x;"number"===typeof r&&(l-=r),"number"===typeof i&&(s-=i),a.translate(l,s)}return a.serialize()}var fO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},dO=function(e){return vO({size:e.size,width:e.width,height:e.height,offset:e.offset},!0===e.open,!0,void 0,fO(e,["size","width","height","offset","open"]))},pO=function(e){return vO({size:e.size,width:e.width,height:e.height,offset:e.offset},!1,!1,e.factor,fO(e,["size","width","height","offset","factor"]))};function vO(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3/4,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=e.size||10,o=e.width||a,s=e.height||a,l=new jA,u={};if(t)l.moveTo(o,0).lineTo(0,s/2).lineTo(o,s),u.fill="none";else{if(l.moveTo(0,s/2),l.lineTo(o,0),!n){var c=ZM(r,0,1);l.lineTo(o*c,s/2)}l.lineTo(o,s),l.close()}return Object.assign(Object.assign(Object.assign({},u),i),{tagName:"path",d:hO(l.serialize(),{x:null!=e.offset?e.offset:-o/2})})}var gO,mO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},yO=function(e){var t=e.size,n=e.width,r=e.height,i=e.offset,a=mO(e,["size","width","height","offset"]),o=t||10,s=n||o,l=r||o,u=new jA;return u.moveTo(0,l/2).lineTo(s/2,0).lineTo(s,l/2).lineTo(s/2,l).close(),Object.assign(Object.assign({},a),{tagName:"path",d:hO(u.serialize(),null==i?-s/2:i)})},bO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},xO=function(e){var t=e.d,n=e.offsetX,r=e.offsetY,i=bO(e,["d","offsetX","offsetY"]);return Object.assign(Object.assign({},i),{tagName:"path",d:hO(t,n,r)})},kO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},wO=function(e){var t=e.size,n=e.width,r=e.height,i=e.offset,a=kO(e,["size","width","height","offset"]),o=t||10,s=n||o,l=r||o,u=new jA;return u.moveTo(0,0).lineTo(s,l).moveTo(0,l).lineTo(s,0),Object.assign(Object.assign({},a),{tagName:"path",fill:"none",d:hO(u.serialize(),i||-s/2)})},SO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},EO=function(e){var t=e.width,n=e.height,r=e.offset,i=e.open,a=e.flip,o=SO(e,["width","height","offset","open","flip"]),s=n||6,l=t||10,u=!0===i,c=!0===a,h=Object.assign(Object.assign({},o),{tagName:"path"});c&&(s=-s);var f=new jA;return f.moveTo(0,s).lineTo(l,0),u?h.fill="none":(f.lineTo(l,s),f.close()),h.d=hO(f.serialize(),{x:r||-l/2,y:s/2}),h},_O=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},MO=function(e){var t=e.r,n=_O(e,["r"]),r=t||5;return Object.assign(Object.assign({cx:r},n),{tagName:"circle",r:r})},TO=function(e){var t=e.r,n=_O(e,["r"]),r=t||5,i=new jA;return i.moveTo(r,0).lineTo(r,2*r),i.moveTo(0,r).lineTo(2*r,r),{children:[Object.assign(Object.assign({},MO({r:r})),{fill:"none"}),Object.assign(Object.assign({},n),{tagName:"path",d:hO(i.serialize(),-r)})]}},CO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},AO=function(e){var t=e.rx,n=e.ry,r=CO(e,["rx","ry"]),i=t||5,a=n||5;return Object.assign(Object.assign({cx:i},r),{tagName:"ellipse",rx:i,ry:a})};!function(e){e.presets=a,e.registry=VA.create({type:"marker"}),e.registry.register(e.presets,!0)}(gO||(gO={})),function(e){e.normalize=hO}(gO||(gO={}));var PO=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function OO(e){return"string"===typeof e||yw(e)}var RO={qualify:OO,set:function(e,t){return IO("marker-start",e,t.view,t.attrs)}},LO={qualify:OO,set:function(e,t){return IO("marker-end",e,t.view,t.attrs,{transform:"rotate(180)"})}},NO={qualify:OO,set:function(e,t){return IO("marker-mid",e,t.view,t.attrs)}};function IO(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a="string"===typeof t?{name:t}:t,o=a.name,s=a.args,l=PO(a,["name","args"]),u=l;if(o&&"string"===typeof o){var c=gO.registry.get(o);if(!c)return gO.registry.onNotFound(o);u=c(Object.assign(Object.assign({},l),s))}var h=Object.assign(Object.assign(Object.assign({},function(e,t){var n={},r=e.stroke;"string"===typeof r&&(n.stroke=r,n.fill=r);var i=e.strokeOpacity;null==i&&(i=e["stroke-opacity"]);null==i&&(i=e.opacity);null!=i&&(n["stroke-opacity"]=i,n["fill-opacity"]=i);if("marker-mid"!==t){var a=parseFloat(e.strokeWidth||e["stroke-width"]);if(Number.isFinite(a)&&a>1){var o=Math.ceil(a/2);n.refX="marker-start"===t?o:-o}}return n}(r,e)),i),u);return j({},e,"url(#".concat(n.graph.defineMarker(h),")"))}var DO,FO=function(e,t){return t.view.cell.isEdge()},UO={qualify:FO,set:function(e,t){var n,r,i,a,o,s=t.view,l=e.reverse||!1,u=e.stubs||0;if(Number.isFinite(u)&&0!==u)if(l){var c,h,f=s.getConnectionLength()||0;u<0?(c=(f+u)/2,h=-u):(c=u,h=f-2*u);var d=s.getConnection();o=null===(a=null===(i=null===(r=null===(n=null===d||void 0===d?void 0:d.divideAtLength(c))||void 0===n?void 0:n[1])||void 0===r?void 0:r.divideAtLength(h))||void 0===i?void 0:i[0])||void 0===a?void 0:a.serialize()}else{var p;if(u<0)p=((s.getConnectionLength()||0)+u)/2;else p=u;var v=s.getConnection();if(v){var g=v.divideAtLength(p),m=v.divideAtLength(-p);g&&m&&(o="".concat(g[0].serialize()," ").concat(m[1].serialize()))}}return{d:o||s.getConnectionPathData()}}},BO={qualify:FO,set:WO("getTangentAtLength",{rotate:!0})},zO={qualify:FO,set:WO("getTangentAtLength",{rotate:!1})},HO={qualify:FO,set:WO("getTangentAtRatio",{rotate:!0})},GO={qualify:FO,set:WO("getTangentAtRatio",{rotate:!1})},jO=BO,VO=HO;function WO(e,t){var n={x:1,y:0};return function(r,i){var a,o,s=i.view,l=s[e](Number(r));return l?(o=t.rotate?l.vector().vectorAngle(n):0,a=l.start):(a=s.path.start,o=0),0===o?{transform:"translate(".concat(a.x,",").concat(a.y,"')")}:{transform:"translate(".concat(a.x,",").concat(a.y,"') rotate(").concat(o,")")}}}!function(e){e.isValidDefinition=function(e,t,n){if(null!=e){if("string"===typeof e)return!0;if("function"!==typeof e.qualify||Ib(e.qualify,this,t,n))return!0}return!1}}(DO||(DO={})),function(e){e.presets=Object.assign(Object.assign({},vP),o),e.registry=VA.create({type:"attribute definition"}),e.registry.register(e.presets,!0)}(DO||(DO={}));var XO,qO={prefixCls:"x6",autoInsertCSS:!0,useCSSSelector:!0,prefix:function(e){return"".concat(qO.prefixCls,"-").concat(e)}},YO=qO.prefix("highlighted"),KO={highlight:function(e,t,n){MT(t,n&&n.className||YO)},unhighlight:function(e,t,n){TT(t,n&&n.className||YO)}},JO=qO.prefix("highlight-opacity"),ZO={highlight:function(e,t){MT(t,JO)},unhighlight:function(e,t){TT(t,JO)}};!function(e){function t(e,t){var n=function(e,t){var n=IT("svg").createSVGPoint();return n.x=e,n.y=t,n}(e.x,e.y).matrixTransform(t);return new xA(n.x,n.y)}function n(e,t){var n=IT("svg").createSVGPoint();n.x=e.x,n.y=e.y;var r=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y;var i=n.matrixTransform(t);n.x=e.x+e.width,n.y=e.y+e.height;var a=n.matrixTransform(t);n.x=e.x,n.y=e.y+e.height;var o=n.matrixTransform(t),s=Math.min(r.x,i.x,a.x,o.x),l=Math.max(r.x,i.x,a.x,o.x),u=Math.min(r.y,i.y,a.y,o.y),c=Math.max(r.y,i.y,a.y,o.y);return new kA(s,u,l-s,c-u)}function r(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.ownerSVGElement||!OT(e)){if(WT(e)){var o=i(e),s=o.left,l=o.top,u=o.width,c=o.height;return new kA(s,l,u,c)}return new kA(0,0,0,0)}var h=a.target;if(!a.recursive){try{t=e.getBBox()}catch(cQ){t={x:e.clientLeft,y:e.clientTop,width:e.clientWidth,height:e.clientHeight}}return h?n(t,KC(e,h)):kA.create(t)}var f=e.childNodes,d=f.length;if(0===d)return r(e,{target:h});h||(h=e);for(var p=0;p<d;p+=1){var v=f[p],g=void 0;g=0===v.childNodes.length?r(v,{target:h}):r(v,{target:h,recursive:!0}),t=t?t.union(g):g}return t}function i(e){var t=0,n=0,r=0,i=0;if(e){for(var a=e;a;)t+=a.offsetLeft,n+=a.offsetTop,(a=a.offsetParent)&&(t+=parseInt(hC(a,"borderLeft"),10),n+=parseInt(hC(a,"borderTop"),10));r=e.offsetWidth,i=e.offsetHeight}return{left:t,top:n,width:r,height:i}}function a(e){var t=function(t){var n=e.getAttribute(t),r=n?parseFloat(n):0;return Number.isNaN(r)?0:r};switch(e instanceof SVGElement&&e.nodeName.toLowerCase()){case"rect":return new kA(t("x"),t("y"),t("width"),t("height"));case"circle":return new SA(t("cx"),t("cy"),t("r"),t("r"));case"ellipse":return new SA(t("cx"),t("cy"),t("rx"),t("ry"));case"polyline":var n=PC(e);return new PA(n);case"polygon":var i=PC(e);return i.length>1&&i.push(i[0]),new PA(i);case"path":var a=e.getAttribute("d");return jA.isValid(a)||(a=jA.normalize(a)),jA.parse(a);case"line":return new wA(t("x1"),t("y1"),t("x2"),t("y2"))}return r(e)}function o(e){if(null==e)return null;var t=e;do{var n=t.tagName;if("string"!==typeof n)return null;if(n=n.toUpperCase(),_T(t,"x6-port"))t=t.nextElementSibling;else if("G"===n)t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}e.normalizeMarker=hO,e.transformPoint=t,e.transformLine=function(e,n){return new wA(t(e.start,n),t(e.end,n))},e.transformPolyline=function(e,n){var r=e instanceof PA?e.points:e;return Array.isArray(r)||(r=[]),new PA(r.map((function(e){return t(e,n)})))},e.transformRectangle=n,e.bbox=function(e,t,r){var i,a=e.ownerSVGElement;if(!a)return new kA(0,0,0,0);try{i=e.getBBox()}catch(cQ){i={x:e.clientLeft,y:e.clientTop,width:e.clientWidth,height:e.clientHeight}}return t?kA.create(i):n(i,KC(e,r||a))},e.getBBox=r,e.getBoundingOffsetRect=i,e.toGeometryShape=a,e.translateAndAutoOrient=function(e,t,n,i){var a=xA.create(t),o=xA.create(n);i||(i=e instanceof SVGSVGElement?e:e.ownerSVGElement);var s=YC(e);e.setAttribute("transform","");var l=r(e,{target:i}).scale(s.sx,s.sy),u=zC();u.setTranslate(-l.x-l.width/2,-l.y-l.height/2);var c=zC(),h=a.angleBetween(o,a.clone().translate(1,0));h&&c.setRotate(h,0,0);var f=zC(),d=a.clone().move(o,l.width/2);f.setTranslate(2*a.x-d.x,2*a.y-d.y);var p=KC(e,i),v=zC();v.setMatrix(f.matrix.multiply(c.matrix.multiply(u.matrix.multiply(p.scale(s.sx,s.sy))))),e.setAttribute("transform",GC(v.matrix))},e.findShapeNode=o,e.getBBoxV2=function(e){var t=o(e);if(!OT(t)){if(WT(e)){var n=i(e),r=n.left,s=n.top,l=n.width,u=n.height;return new kA(r,s,l,u)}return new kA(0,0,0,0)}return a(t).bbox()||kA.create()}}(XO||(XO={}));var QO,$O,eR={padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},tR={highlight:function(e,t,n){var r=QO.getHighlighterId(t,n);if(!QO.hasCache(r)){n=ME({},n,eR);var i,a,o=bC.create(t);try{i=o.toPathData()}catch(b){a=XO.bbox(o.node,!0),i=OC(Object.assign(Object.assign({},n),a))}var s=IT("path");if(QT(s,Object.assign({d:i,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"},n.attrs?eC(n.attrs):null)),e.isEdgeElement(t))QT(s,"d",e.getConnectionPathData());else{var l=o.getTransformToElement(e.container),u=n.padding;if(u){null==a&&(a=XO.bbox(o.node,!0));var c=a.x+a.width/2,h=a.y+a.height/2;a=XO.transformRectangle(a,l);var f=Math.max(a.width,1),d=Math.max(a.height,1),p=(f+u)/f,v=(d+u)/d,g=BC({a:p,b:0,c:0,d:v,e:c-p*c,f:h-v*h});l=l.multiply(g)}WC(s,l)}MT(s,qO.prefix("highlight-stroke"));var m=e.cell,y=function(){return QO.removeHighlighter(r)};m.on("removed",y),m.model&&m.model.on("reseted",y),e.container.appendChild(s),QO.setCache(r,s)}},unhighlight:function(e,t,n){QO.removeHighlighter(QO.getHighlighterId(t,n))}};function nR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new xA($M(t.x,e.width),$M(t.y,e.height))}function rR(e,t,n){return Object.assign({angle:t,position:e.toJSON()},n)}!function(e){e.getHighlighterId=function(e,t){return PT(e),e.id+JSON.stringify(t)};var t={};e.setCache=function(e,n){t[e]=n},e.hasCache=function(e){return null!=t[e]},e.removeHighlighter=function(e){var n=t[e];n&&(zT(n),delete t[e])}}(QO||(QO={})),function(e){e.check=function(e,t){if("function"!==typeof t.highlight)throw new Error("Highlighter '".concat(e,"' is missing required `highlight()` method"));if("function"!==typeof t.unhighlight)throw new Error("Highlighter '".concat(e,"' is missing required `unhighlight()` method"))}}($O||($O={})),function(e){e.presets=s,e.registry=VA.create({type:"highlighter"}),e.registry.register(e.presets,!0)}($O||($O={}));var iR=function(e,t){return e.map((function(e){var n=e.x,r=e.y,i=e.angle;return rR(nR(t,{x:n,y:r}),i||0)}))},aR=function(e,t,n){var r=n.start||0,i=n.step||20;return sR(e,t,r,(function(e,t){return(e+.5-t/2)*i}))},oR=function(e,t,n){var r=n.start||0,i=n.step||360/e.length;return sR(e,t,r,(function(e){return e*i}))};function sR(e,t,n,r){var i=t.getCenter(),a=t.getTopCenter(),o=t.width/t.height,s=SA.fromRect(t),l=e.length;return e.map((function(e,t){var u=n+r(t,l),c=a.clone().rotate(-u,i).scale(o,1,i),h=e.compensateRotate?-s.tangentTheta(c):0;return(e.dx||e.dy)&&c.translate(e.dx||0,e.dy||0),e.dr&&c.move(i,e.dr),rR(c.round(),h,e)}))}var lR,uR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},cR=function(e,t,n){return vR(e,nR(t,n.start||t.getOrigin()),nR(t,n.end||t.getCorner()),n)},hR=function(e,t,n){return vR(e,t.getTopLeft(),t.getBottomLeft(),n)},fR=function(e,t,n){return vR(e,t.getTopRight(),t.getBottomRight(),n)},dR=function(e,t,n){return vR(e,t.getTopLeft(),t.getTopRight(),n)},pR=function(e,t,n){return vR(e,t.getBottomLeft(),t.getBottomRight(),n)};function vR(e,t,n,r){var i=new wA(t,n),a=e.length;return e.map((function(e,t){var n=e.strict,o=uR(e,["strict"]),s=n||r.strict?(t+1)/(a+1):(t+.5)/a,l=i.pointAt(s);return(o.dx||o.dy)&&l.translate(o.dx||0,o.dy||0),rR(l.round(),0,o)}))}!function(e){e.presets=l,e.registry=VA.create({type:"port layout"}),e.registry.register(e.presets,!0)}(lR||(lR={}));var gR={position:{x:0,y:0},angle:0,attrs:{".":{y:"0","text-anchor":"start"}}};function mR(e,t){var n=t||{},r=n.x,i=n.y,a=n.angle,o=n.attrs;return ME({},{angle:a,attrs:o,position:{x:r,y:i}},e,gR)}var yR=function(e,t,n){return mR({position:t.getTopLeft()},n)},bR=function(e,t,n){return mR({position:{x:-15,y:0},attrs:{".":{y:".3em","text-anchor":"end"}}},n)},xR=function(e,t,n){return mR({position:{x:15,y:0},attrs:{".":{y:".3em","text-anchor":"start"}}},n)},kR=function(e,t,n){return mR({position:{x:0,y:-15},attrs:{".":{"text-anchor":"middle"}}},n)},wR=function(e,t,n){return mR({position:{x:0,y:15},attrs:{".":{y:".6em","text-anchor":"middle"}}},n)},SR=function(e,t,n){return TR(e,t,!1,n)},ER=function(e,t,n){return TR(e,t,!0,n)},_R=function(e,t,n){return CR(e,t,!1,n)},MR=function(e,t,n){return CR(e,t,!0,n)};function TR(e,t,n,r){var i,a,o,s,l=null!=r.offset?r.offset:15,u=t.getCenter().theta(e),c=AR(t),h=0;return u<c[1]||u>c[2]?(i=".3em",a=l,o=0,s="start"):u<c[0]?(i="0",a=0,o=-l,n?(h=-90,s="start"):s="middle"):u<c[3]?(i=".3em",a=-l,o=0,s="end"):(i=".6em",a=0,o=l,n?(h=90,s="start"):s="middle"),mR({position:{x:Math.round(a),y:Math.round(o)},angle:h,attrs:{".":{y:i,"text-anchor":s}}},r)}function CR(e,t,n,r){var i,a,o,s,l=null!=r.offset?r.offset:15,u=t.getCenter().theta(e),c=AR(t),h=0;return u<c[1]||u>c[2]?(i=".3em",a=-l,o=0,s="end"):u<c[0]?(i=".6em",a=0,o=l,n?(h=90,s="start"):s="middle"):u<c[3]?(i=".3em",a=l,o=0,s="start"):(i="0em",a=0,o=-l,n?(h=-90,s="start"):s="middle"),mR({position:{x:Math.round(a),y:Math.round(o)},angle:h,attrs:{".":{y:i,"text-anchor":s}}},r)}function AR(e){var t=e.getCenter(),n=t.theta(e.getTopLeft()),r=t.theta(e.getBottomLeft()),i=t.theta(e.getBottomRight());return[n,t.theta(e.getTopRight()),i,r]}var PR,OR=function(e,t,n){return LR(e.diff(t.getCenter()),!1,n)},RR=function(e,t,n){return LR(e.diff(t.getCenter()),!0,n)};function LR(e,t,n){var r,i=null!=n.offset?n.offset:20,a=new xA(0,0),o=-e.theta(a),s=".3em",l=o;return(o+90)%180===0?(r=t?"end":"middle",t||-270!==o||(s="0em")):o>-270&&o<-90?(r="start",l=o-180):r="end",mR({position:e.clone().move(a,i).diff(e).round().round().toJSON(),angle:t?l:0,attrs:{".":{y:s,"text-anchor":r}}},n)}!function(e){e.presets=u,e.registry=VA.create({type:"port label layout"}),e.registry.register(e.presets,!0)}(PR||(PR={}));var NR,IR=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},DR=function(e){function t(){var e;return T(this,t),(e=z(this,t)).cid=NR.uniqueId(),t.views[e.cid]=e,e}return G(t,e),M(t,[{key:"priority",get:function(){return 2}},{key:"disposeContainer",get:function(){return!0}},{key:"confirmUpdate",value:function(e,t){return 0}},{key:"empty",value:function(){return HT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container),this}},{key:"unmount",value:function(){return zT(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container),this}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;return e===this.container?(this.removeEventListeners(document),this.onRemove(),delete t.views[this.cid],this.disposeContainer&&this.unmount(e)):this.unmount(e),this}},{key:"onRemove",value:function(){}},{key:"setClass",value:function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container).classList.value=Array.isArray(e)?e.join(" "):e}},{key:"addClass",value:function(e){return MT(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,Array.isArray(e)?e.join(" "):e),this}},{key:"removeClass",value:function(e){return TT(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,Array.isArray(e)?e.join(" "):e),this}},{key:"setStyle",value:function(e){return vC(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,e),this}},{key:"setAttrs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;return null!=e&&null!=t&&QT(t,e),this}},{key:"findAttr",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;t&&1===t.nodeType;){var n=t.getAttribute(e);if(null!=n)return n;if(t===this.container)return null;t=t.parentNode}return null}},{key:"find",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectors;return t.find(e,n,r).elems}},{key:"findOne",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.selectors,r=this.find(e,t,n);return r.length>0?r[0]:null}},{key:"findByAttr",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;t&&t.getAttribute;){var n=t.getAttribute(e);if((null!=n||t===this.container)&&"false"!==n)return t;t=t.parentNode}return null}},{key:"getSelector",value:function(e,t){var n;if(e===this.container)return"string"===typeof t&&(n="> ".concat(t)),n;if(e){var r=FT(e)+1;n="".concat(e.tagName.toLowerCase(),":nth-child(").concat(r,")"),t&&(n+=" > ".concat(t)),n=this.getSelector(e.parentNode,n)}return n}},{key:"prefixClassName",value:function(e){return qO.prefix(e)}},{key:"delegateEvents",value:function(e,t){var n=this;if(null==e)return this;t||this.undelegateEvents();var r=/^(\S+)\s*(.*)$/;return Object.keys(e).forEach((function(t){var i=t.match(r);if(null!=i){var a=n.getEventHandler(e[t]);"function"===typeof a&&n.delegateEvent(i[1],i[2],a)}})),this}},{key:"undelegateEvents",value:function(){return $C.off(this.container,this.getEventNamespace()),this}},{key:"delegateDocumentEvents",value:function(e,t){return this.addEventListeners(document,e,t),this}},{key:"undelegateDocumentEvents",value:function(){return this.removeEventListeners(document),this}},{key:"delegateEvent",value:function(e,t,n){return $C.on(this.container,e+this.getEventNamespace(),t,n),this}},{key:"undelegateEvent",value:function(e,t,n){var r=e+this.getEventNamespace();return null==t?$C.off(this.container,r):"string"===typeof t?$C.off(this.container,r,t,n):$C.off(this.container,r,t),this}},{key:"addEventListeners",value:function(e,t,n){var r=this;if(null==t)return this;var i=this.getEventNamespace();return Object.keys(t).forEach((function(a){var o=r.getEventHandler(t[a]);"function"===typeof o&&$C.on(e,a+i,n,o)})),this}},{key:"removeEventListeners",value:function(e){return null!=e&&$C.off(e,this.getEventNamespace()),this}},{key:"getEventNamespace",value:function(){return".".concat(qO.prefixCls,"-event-").concat(this.cid)}},{key:"getEventHandler",value:function(e){var t,n=this;if("string"===typeof e){var r=this[e];"function"===typeof r&&(t=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return r.call.apply(r,[n].concat(t))})}else t=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.call.apply(e,[n].concat(r))};return t}},{key:"getEventTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.target,r=e.type,i=e.clientX,a=void 0===i?0:i,o=e.clientY,s=void 0===o?0:o;return t.fromPoint||"touchmove"===r||"touchend"===r?document.elementFromPoint(a,s):n}},{key:"stopPropagation",value:function(e){return this.setEventData(e,{propagationStopped:!0}),this}},{key:"isPropagationStopped",value:function(e){return!0===this.getEventData(e).propagationStopped}},{key:"getEventData",value:function(e){return this.eventData(e)}},{key:"setEventData",value:function(e,t){return this.eventData(e,t)}},{key:"eventData",value:function(e,t){if(null==e)throw new TypeError("Event object required");var n=e.data,r="__".concat(this.cid,"__");return null==t?null==n?{}:n[r]||{}:(null==n&&(n=e.data={}),null==n[r]?n[r]=Object.assign({},t):n[r]=Object.assign(Object.assign({},n[r]),t),n[r])}},{key:"normalizeEvent",value:function(e){return t.normalizeEvent(e)}},{key:"dispose",value:function(){this.remove()}}])}(IE);IR([DR.dispose()],DR.prototype,"dispose",null),function(e){e.createElement=function(e,t){return t?IT(e||"g"):NT(e||"div")},e.find=function(e,t,n){if(!e||"."===e)return{elems:[t]};if(n){var r=n[e];if(r)return{elems:Array.isArray(r)?r:[r]}}if(qO.useCSSSelector){var i=e.includes(">")?":scope ".concat(e):e;return{isCSSSelector:!0,elems:Array.prototype.slice.call(t.querySelectorAll(i))}}return{elems:[]}},e.normalizeEvent=function(e){var t=e,n=e.originalEvent,r=n&&n.changedTouches&&n.changedTouches[0];if(r){for(var i in e)void 0===r[i]&&(r[i]=e[i]);t=r}return t}}(DR||(DR={})),function(e){e.views={},e.getView=function(t){return e.views[t]||null}}(DR||(DR={})),function(e){var t=0;e.uniqueId=function(){var e="v".concat(t);return t+=1,e}}(NR||(NR={}));var FR,UR=function(){return M((function e(t){T(this,e),this.view=t,this.clean()}),[{key:"clean",value:function(){this.elemCache&&this.elemCache.dispose(),this.elemCache=new dA,this.pathCache={}}},{key:"get",value:function(e){return this.elemCache.has(e)||this.elemCache.set(e,{}),this.elemCache.get(e)}},{key:"getData",value:function(e){var t=this.get(e);return t.data||(t.data={}),t.data}},{key:"getMatrix",value:function(e){var t=this.get(e);if(null==t.matrix){var n=this.view.container;t.matrix=function(e,t){var n=BC();if(OT(t)&&OT(e)){for(var r=e,i=[];r&&r!==t;){var a=HC(r.getAttribute("transform")||null);i.push(a),r=r.parentNode}i.reverse().forEach((function(e){n=n.multiply(e)}))}return n}(e,n)}return BC(t.matrix)}},{key:"getShape",value:function(e){var t=this.get(e);return null==t.shape&&(t.shape=XO.toGeometryShape(e)),t.shape.clone()}},{key:"getBoundingRect",value:function(e){var t=this.get(e);return null==t.boundingRect&&(t.boundingRect=XO.getBBoxV2(e)),t.boundingRect.clone()}}])}();!function(e){function t(e){return null!=e&&"string"===typeof e}function n(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:RT.svg},n=document.createDocumentFragment(),r={},i={},a=[{markup:Array.isArray(e)?e:[e],parent:n,ns:t.ns}],o=function(){var e=a.pop(),t=e.ns||RT.svg,n=e.markup,o=e.parent;n.forEach((function(e){var n=e.tagName;if(!n)throw new TypeError("Invalid tagName");e.ns&&(t=e.ns);var s=t?NT(n,t):LT(n),l=e.attrs;l&&QT(s,eC(l));var u=e.style;u&&vC(s,u);var c=e.className;null!=c&&s.setAttribute("class",Array.isArray(c)?c.join(" "):c),e.textContent&&(s.textContent=e.textContent);var h=e.selector;if(null!=h){if(i[h])throw new TypeError("Selector must be unique");i[h]=s}if(e.groupSelector){var f=e.groupSelector;Array.isArray(f)||(f=[f]),f.forEach((function(e){r[e]||(r[e]=[]),r[e].push(s)}))}o.appendChild(s);var d=e.children;Array.isArray(d)&&a.push({ns:t,markup:d,parent:s})}))};a.length>0;)o();return Object.keys(r).forEach((function(e){if(i[e])throw new Error("Ambiguous group selector");i[e]=r[e]})),{fragment:n,selectors:i,groups:r}}function r(e){return e instanceof SVGElement?IT("g"):LT("div")}e.isJSONMarkup=function(e){return null!=e&&!t(e)},e.isStringMarkup=t,e.clone=function(e){return null==e||t(e)?e:yE(e)},e.sanitize=function(e){return"".concat(e).trim().replace(/[\r|\n]/g," ").replace(/>\s+</g,"><")},e.parseJSONMarkup=n,e.renderMarkup=function(e){if(t(e)){var i=bC.createVectors(e),a=i.length;if(1===a)return{elem:i[0].node};if(a>1){var o=r(i[0].node);return i.forEach((function(e){o.appendChild(e.node)})),{elem:o}}return{}}var s=n(e),l=s.fragment,u=null;return l.childNodes.length>1?(u=r(l.firstChild)).appendChild(l):u=l.firstChild,{elem:u,selectors:s.selectors}},e.parseLabelStringMarkup=function(e){for(var t=bC.createVectors(e),n=document.createDocumentFragment(),r=0,i=t.length;r<i;r+=1){var a=t[r].node;n.appendChild(a)}return{fragment:n,selectors:{}}}}(FR||(FR={})),function(e){e.getSelector=function e(t,n,r){if(null!=t){var i,a=t.tagName.toLowerCase();if(t===n)return i="string"===typeof r?"> ".concat(a," > ").concat(r):"> ".concat(a);var o=t.parentNode;if(o&&o.childNodes.length>1){var s=FT(t)+1;i="".concat(a,":nth-child(").concat(s,")")}else i=a;return r&&(i+=" > ".concat(r)),e(t.parentNode,n,i)}return r}}(FR||(FR={})),function(e){e.getPortContainerMarkup=function(){return"g"},e.getPortMarkup=function(){return{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#FFFFFF",stroke:"#000000"}}},e.getPortLabelMarkup=function(){return{tagName:"text",selector:"text",attrs:{fill:"#000000"}}}}(FR||(FR={})),function(e){e.getEdgeMarkup=function(){return[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}]}}(FR||(FR={})),function(e){e.getForeignObjectMarkup=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{tagName:"foreignObject",selector:"fo",children:[{ns:RT.xhtml,tagName:"body",selector:"foBody",attrs:{xmlns:RT.xhtml},style:{width:"100%",height:"100%",background:"transparent"},children:e?[]:[{tagName:"div",selector:"foContent",style:{width:"100%",height:"100%"}}]}]}}}(FR||(FR={}));var BR=function(){return M((function e(t){T(this,e),this.view=t}),[{key:"cell",get:function(){return this.view.cell}},{key:"getDefinition",value:function(e){return this.cell.getAttrDefinition(e)}},{key:"processAttrs",value:function(e,t){var n,r,i,a,o=this,s=[];return Object.keys(t).forEach((function(r){var i=t[r],a=o.getDefinition(r),l=Ib(DO.isValidDefinition,o.view,a,i,{elem:e,attrs:t,cell:o.cell,view:o.view});if(a&&l)"string"===typeof a?(null==n&&(n={}),n[a]=i):null!==i&&s.push({name:r,definition:a});else{null==n&&(n={});var u=YT.includes(r)?r:VM(r);n[u]=i}})),s.forEach((function(e){var n=e.name,o=e.definition,s=t[n];"function"===typeof o.set&&(null==r&&(r={}),r[n]=s),"function"===typeof o.offset&&(null==i&&(i={}),i[n]=s),"function"===typeof o.position&&(null==a&&(a={}),a[n]=s)})),{raw:t,normal:n,set:r,offset:i,position:a}}},{key:"mergeProcessedAttrs",value:function(e,t){e.set=Object.assign(Object.assign({},e.set),t.set),e.position=Object.assign(Object.assign({},e.position),t.position),e.offset=Object.assign(Object.assign({},e.offset),t.offset);var n=e.normal&&e.normal.transform;null!=n&&t.normal&&(t.normal.transform=n),e.normal=t.normal}},{key:"findAttrs",value:function(e,t,n,r){var i=[],a=new dA;return Object.keys(e).forEach((function(o){var s=e[o];if(yw(s)){var l=DR.find(o,t,r),u=l.isCSSSelector,c=l.elems;n[o]=c;for(var h=0,f=c.length;h<f;h+=1){var d=c[h],p=r&&r[o]===d,v=a.get(d);if(v){v.array||(i.push(d),v.array=!0,v.attrs=[v.attrs],v.priority=[v.priority]);var g=v.attrs,m=v.priority;if(p)g.unshift(s),m.unshift(-1);else{var y=ZE(m,u?-1:f);g.splice(y,0,s),m.splice(y,0,f)}}else a.set(d,{elem:d,attrs:s,priority:p?-1:f,array:!1})}}})),i.forEach((function(e){var t=a.get(e),n=t.attrs;t.attrs=n.reduceRight((function(e,t){return Ww(e,t)}),{})})),a}},{key:"updateRelativeAttrs",value:function(e,t,n){var r=this,i=t.raw||{},a=t.normal||{},o=t.set,s=t.position,l=t.offset,u=function(){return{elem:e,cell:r.cell,view:r.view,attrs:i,refBBox:n.clone()}};if(null!=o&&Object.keys(o).forEach((function(e){var t=o[e],n=r.getDefinition(e);if(null!=n){var i=Ib(n.set,r.view,t,u());"object"===typeof i?a=Object.assign(Object.assign({},a),i):null!=i&&(a[e]=i)}})),e instanceof HTMLElement)this.view.setAttrs(a,e);else{var c=a.transform,h=HC(c?"".concat(c):null),f=new xA(h.e,h.f);c&&(delete a.transform,h.e=0,h.f=0);var d=!1;null!=s&&Object.keys(s).forEach((function(e){var t=s[e],n=r.getDefinition(e);if(null!=n){var i=Ib(n.position,r.view,t,u());null!=i&&(d=!0,f.translate(xA.create(i)))}})),this.view.setAttrs(a,e);var p=!1;if(null!=l){var v=this.view.getBoundingRectOfElement(e);if(v.width>0&&v.height>0){var g=XO.transformRectangle(v,h);Object.keys(l).forEach((function(t){var n=l[t],a=r.getDefinition(t);if(null!=a){var o=Ib(a.offset,r.view,n,{elem:e,cell:r.cell,view:r.view,attrs:i,refBBox:g});null!=o&&(p=!0,f.translate(xA.create(o)))}}))}}(null!=c||d||p)&&(f.round(1),h.e=f.x,h.f=f.y,e.setAttribute("transform",GC(h)))}}},{key:"update",value:function(e,t,n){var r=this,i={},a=this.findAttrs(n.attrs||t,e,i,n.selectors),o=n.attrs?this.findAttrs(t,e,i,n.selectors):a,s=[];a.each((function(t){var a=t.elem,l=t.attrs,u=r.processAttrs(a,l);if(null==u.set&&null==u.position&&null==u.offset)r.view.setAttrs(u.normal,a);else{var c,h=o.get(a),f=h?h.attrs:null,d=f&&null==l.ref?f.ref:l.ref;if(d){if(!(c=(i[d]||r.view.find(d,e,n.selectors))[0]))throw new Error('"'.concat(d,'" reference does not exist.'))}else c=null;var p={node:a,refNode:c,attributes:f,processedAttributes:u},v=s.findIndex((function(e){return e.refNode===a}));v>-1?s.splice(v,0,p):s.push(p)}}));var l,u=new dA;s.forEach((function(t){var i,a,o=t.node,s=t.refNode,c=null!=s&&null!=n.rotatableNode&&BT(n.rotatableNode,s);if(s&&(i=u.get(s)),!i){var h=c?n.rotatableNode:e;i=s?XO.getBBox(s,{target:h}):n.rootBBox,s&&u.set(s,i)}n.attrs&&t.attributes?(a=r.processAttrs(o,t.attributes),r.mergeProcessedAttrs(a,t.processedAttributes)):a=t.processedAttributes;var f=i;c&&null!=n.rotatableNode&&!n.rotatableNode.contains(o)&&(l||(l=HC(QT(n.rotatableNode,"transform"))),f=XO.transformRectangle(i,l)),r.updateRelativeAttrs(o,a,f)}))}}])}(),zR=function(){return M((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];T(this,e),this.view=t;var i={},a={},o=0;Object.keys(n).forEach((function(e){var t=n[e];Array.isArray(t)||(t=[t]),t.forEach((function(t){var n=i[t];n||(o+=1,n=i[t]=1<<o),a[e]|=n}))}));var s=r;if(Array.isArray(s)||(s=[s]),s.forEach((function(e){i[e]||(o+=1,i[e]=1<<o)})),o>25)throw new Error("Maximum number of flags exceeded.");this.flags=i,this.attrs=a,this.bootstrap=r}),[{key:"cell",get:function(){return this.view.cell}},{key:"getFlag",value:function(e){var t=this.flags;return null==t?0:Array.isArray(e)?e.reduce((function(e,n){return e|t[n]}),0):0|t[e]}},{key:"hasAction",value:function(e,t){return e&this.getFlag(t)}},{key:"removeAction",value:function(e,t){return e^e&this.getFlag(t)}},{key:"getBootstrapFlag",value:function(){return this.getFlag(this.bootstrap)}},{key:"getChangedFlag",value:function(){var e=this,t=0;return this.attrs?(Object.keys(this.attrs).forEach((function(n){e.cell.hasChanged(n)&&(t|=e.attrs[n])})),t):t}}])}(),HR=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},GR=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jR=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T(this,t),(n=z(this,t)).cell=e,n.options=n.ensureOptions(r),n.graph=n.options.graph,n.attr=new BR(n),n.flag=new zR(n,n.options.actions,n.options.bootstrap),n.cache=new UR(n),n.setContainer(n.ensureContainer()),n.setup(),n.init(),n}return G(t,e),M(t,[{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"init",value:function(){}},{key:"onRemove",value:function(){this.removeTools()}},{key:"priority",get:function(){return this.options.priority}},{key:"rootSelector",get:function(){return this.options.rootSelector}},{key:"getConstructor",value:function(){return this.constructor}},{key:"ensureOptions",value:function(e){return this.getConstructor().getOptions(e)}},{key:"getContainerTagName",value:function(){return this.options.isSvgElement?"g":"div"}},{key:"getContainerStyle",value:function(){}},{key:"getContainerAttrs",value:function(){return{"data-cell-id":this.cell.id,"data-shape":this.cell.shape}}},{key:"getContainerClassName",value:function(){return this.prefixClassName("cell")}},{key:"ensureContainer",value:function(){return DR.createElement(this.getContainerTagName(),this.options.isSvgElement)}},{key:"setContainer",value:function(e){if(this.container!==e){this.undelegateEvents(),this.container=e,null!=this.options.events&&this.delegateEvents(this.options.events);var t=this.getContainerAttrs();null!=t&&this.setAttrs(t,e);var n=this.getContainerStyle();null!=n&&this.setStyle(n,e);var r=this.getContainerClassName();null!=r&&this.addClass(r,e)}return this}},{key:"isNodeView",value:function(){return!1}},{key:"isEdgeView",value:function(){return!1}},{key:"render",value:function(){return this}},{key:"confirmUpdate",value:function(e){return 0}},{key:"getBootstrapFlag",value:function(){return this.flag.getBootstrapFlag()}},{key:"getFlag",value:function(e){return this.flag.getFlag(e)}},{key:"hasAction",value:function(e,t){return this.flag.hasAction(e,t)}},{key:"removeAction",value:function(e,t){return this.flag.removeAction(e,t)}},{key:"handleAction",value:function(e,t,n,r){if(this.hasAction(e,t)){n();var i=[t];return r&&("string"===typeof r?i.push(r):i.push.apply(i,Y(r))),this.removeAction(e,i)}return e}},{key:"setup",value:function(){this.cell.on("changed",this.onCellChanged,this)}},{key:"onCellChanged",value:function(e){var t=e.options;this.onAttrsChange(t)}},{key:"onAttrsChange",value:function(e){var t=this.flag.getChangedFlag();!e.updated&&t&&(e.dirty&&this.hasAction(t,"update")&&(t|=this.getFlag("render")),e.toolId&&(e.async=!1),null!=this.graph&&this.graph.renderer.requestViewUpdate(this,t,e))}},{key:"parseJSONMarkup",value:function(e,t){var n=FR.parseJSONMarkup(e),r=n.selectors,i=this.rootSelector;if(t&&i){if(r[i])throw new Error("Invalid root selector");r[i]=t}return n}},{key:"can",value:function(e){var t=this.graph.options.interacting;if("function"===typeof t&&(t=Ib(t,this.graph,this)),"object"===typeof t){var n=t[e];return"function"===typeof n&&(n=Ib(n,this.graph,this)),!1!==n}return"boolean"===typeof t&&t}},{key:"cleanCache",value:function(){return this.cache.clean(),this}},{key:"getCache",value:function(e){return this.cache.get(e)}},{key:"getDataOfElement",value:function(e){return this.cache.getData(e)}},{key:"getMatrixOfElement",value:function(e){return this.cache.getMatrix(e)}},{key:"getShapeOfElement",value:function(e){return this.cache.getShape(e)}},{key:"getBoundingRectOfElement",value:function(e){return this.cache.getBoundingRect(e)}},{key:"getBBoxOfElement",value:function(e){var t=this.getBoundingRectOfElement(e),n=this.getMatrixOfElement(e),r=this.getRootRotatedMatrix(),i=this.getRootTranslatedMatrix();return XO.transformRectangle(t,i.multiply(r).multiply(n))}},{key:"getUnrotatedBBoxOfElement",value:function(e){var t=this.getBoundingRectOfElement(e),n=this.getMatrixOfElement(e),r=this.getRootTranslatedMatrix();return XO.transformRectangle(t,r.multiply(n))}},{key:"getBBox",value:function(){var e;if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).useCellGeometry){var t=this.cell,n=t.isNode()?t.getAngle():0;e=t.getBBox().bbox(n)}else e=this.getBBoxOfElement(this.container);return this.graph.coord.localToGraphRect(e)}},{key:"getRootTranslatedMatrix",value:function(){var e=this.cell,t=e.isNode()?e.getPosition():{x:0,y:0};return BC().translate(t.x,t.y)}},{key:"getRootRotatedMatrix",value:function(){var e=BC(),t=this.cell,n=t.isNode()?t.getAngle():0;if(n){var r=t.getBBox(),i=r.width/2,a=r.height/2;e=e.translate(i,a).rotate(n).translate(-i,-a)}return e}},{key:"findMagnet",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container;return this.findByAttr("magnet",e)}},{key:"updateAttrs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null==n.rootBBox&&(n.rootBBox=new kA),null==n.selectors&&(n.selectors=this.selectors),this.attr.update(e,t,n)}},{key:"isEdgeElement",value:function(e){return this.cell.isEdge()&&(null==e||e===this.container)}},{key:"prepareHighlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e||this.container;return t.partial=n===this.container,n}},{key:"highlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.prepareHighlight(e,t);return this.notify("cell:highlight",{magnet:n,options:t,view:this,cell:this.cell}),this.isEdgeView()?this.notify("edge:highlight",{magnet:n,options:t,view:this,edge:this.cell,cell:this.cell}):this.isNodeView()&&this.notify("node:highlight",{magnet:n,options:t,view:this,node:this.cell,cell:this.cell}),this}},{key:"unhighlight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.prepareHighlight(e,t);return this.notify("cell:unhighlight",{magnet:n,options:t,view:this,cell:this.cell}),this.isNodeView()?this.notify("node:unhighlight",{magnet:n,options:t,view:this,node:this.cell,cell:this.cell}):this.isEdgeView()&&this.notify("edge:unhighlight",{magnet:n,options:t,view:this,edge:this.cell,cell:this.cell}),this}},{key:"notifyUnhighlight",value:function(e,t){}},{key:"getEdgeTerminal",value:function(e,t,n,r,i){var a=this.cell,o=this.findAttr("port",e),s=e.getAttribute("data-selector"),l={cell:a.id};return null!=s&&(l.magnet=s),null!=o?(l.port=o,a.isNode()&&(a.hasPort(o)||null!=s||(l.selector=this.getSelector(e)))):null==s&&this.container!==e&&(l.selector=this.getSelector(e)),l}},{key:"getMagnetFromEdgeTerminal",value:function(e){var t,n=this.cell,r=this.container,i=e.port,a=e.magnet;return null!=i&&n.isNode()&&n.hasPort(i)?t=this.findPortElem(i,a)||r:(a||(a=e.selector),a||null==i||(a='[port="'.concat(i,'"]')),t=this.findOne(a,r,this.selectors)),t}},{key:"hasTools",value:function(e){var t=this.tools;return null!=t&&(null==e||t.name===e)}},{key:"addTools",value:function(e){if(this.removeTools(),e){if(!this.can("toolsAddable"))return this;var t=VR.isToolsView(e)?e:new VR(e);this.tools=t,t.config({view:this}),t.mount()}return this}},{key:"updateTools",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.tools&&this.tools.update(e),this}},{key:"removeTools",value:function(){return this.tools&&(this.tools.remove(),this.tools=null),this}},{key:"hideTools",value:function(){return this.tools&&this.tools.hide(),this}},{key:"showTools",value:function(){return this.tools&&this.tools.show(),this}},{key:"renderTools",value:function(){var e=this.cell.getTools();return this.addTools(e),this}},{key:"notify",value:function(e,t){return this.trigger(e,t),this.graph.trigger(e,t),this}},{key:"getEventArgs",value:function(e,t,n){var r=this,i=r.cell;return null==t||null==n?{e:e,view:r,cell:i}:{e:e,x:t,y:n,view:r,cell:i}}},{key:"onClick",value:function(e,t,n){this.notify("cell:click",this.getEventArgs(e,t,n))}},{key:"onDblClick",value:function(e,t,n){this.notify("cell:dblclick",this.getEventArgs(e,t,n))}},{key:"onContextMenu",value:function(e,t,n){this.notify("cell:contextmenu",this.getEventArgs(e,t,n))}},{key:"onMouseDown",value:function(e,t,n){this.cell.model&&(this.cachedModelForMouseEvent=this.cell.model,this.cachedModelForMouseEvent.startBatch("mouse")),this.notify("cell:mousedown",this.getEventArgs(e,t,n))}},{key:"onMouseUp",value:function(e,t,n){this.notify("cell:mouseup",this.getEventArgs(e,t,n)),this.cachedModelForMouseEvent&&(this.cachedModelForMouseEvent.stopBatch("mouse",{cell:this.cell}),this.cachedModelForMouseEvent=null)}},{key:"onMouseMove",value:function(e,t,n){this.notify("cell:mousemove",this.getEventArgs(e,t,n))}},{key:"onMouseOver",value:function(e){this.notify("cell:mouseover",this.getEventArgs(e))}},{key:"onMouseOut",value:function(e){this.notify("cell:mouseout",this.getEventArgs(e))}},{key:"onMouseEnter",value:function(e){this.notify("cell:mouseenter",this.getEventArgs(e))}},{key:"onMouseLeave",value:function(e){this.notify("cell:mouseleave",this.getEventArgs(e))}},{key:"onMouseWheel",value:function(e,t,n,r){this.notify("cell:mousewheel",Object.assign({delta:r},this.getEventArgs(e,t,n)))}},{key:"onCustomEvent",value:function(e,t,n,r){this.notify("cell:customevent",Object.assign({name:t},this.getEventArgs(e,n,r))),this.notify(t,Object.assign({},this.getEventArgs(e,n,r)))}},{key:"onMagnetMouseDown",value:function(e,t,n,r){}},{key:"onMagnetDblClick",value:function(e,t,n,r){}},{key:"onMagnetContextMenu",value:function(e,t,n,r){}},{key:"onLabelMouseDown",value:function(e,t,n){}},{key:"checkMouseleave",value:function(e){var t=this.getEventTarget(e,{fromPoint:!0}),n=this.graph.findViewByElem(t);n!==this&&(this.onMouseLeave(e),n&&n.onMouseEnter(e))}},{key:"dispose",value:function(){this.cell.off("changed",this.onCellChanged,this)}}],[{key:"getDefaults",value:function(){return this.defaults}},{key:"config",value:function(e){this.defaults=this.getOptions(e)}},{key:"getOptions",value:function(e){var t=function(e,t){return null!=t?WE([].concat(Y(Array.isArray(e)?e:[e]),Y(Array.isArray(t)?t:[t]))):Array.isArray(e)?Y(e):[e]},n=yE(this.getDefaults()),r=e.bootstrap,i=e.actions,a=e.events,o=e.documentEvents,s=GR(e,["bootstrap","actions","events","documentEvents"]);return r&&(n.bootstrap=t(n.bootstrap,r)),i&&Object.entries(i).forEach((function(e){var r=R(e,2),i=r[0],a=r[1],o=n.actions[i];a&&o?n.actions[i]=t(o,a):a&&(n.actions[i]=t(a))})),a&&(n.events=Object.assign(Object.assign({},n.events),a)),e.documentEvents&&(n.documentEvents=Object.assign(Object.assign({},n.documentEvents),o)),Ww(n,s)}}])}(DR);jR.defaults={isSvgElement:!0,rootSelector:"root",priority:0,bootstrap:[],actions:{}},HR([jR.dispose()],jR.prototype,"dispose",null),function(e){e.Flag=zR,e.Attr=BR}(jR||(jR={})),function(e){e.toStringTag="X6.".concat(e.name),e.isCellView=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNodeView&&"function"===typeof r.isEdgeView&&"function"===typeof r.confirmUpdate}}(jR||(jR={})),function(e){e.priority=function(e){return function(t){t.config({priority:e})}},e.bootstrap=function(e){return function(t){t.config({bootstrap:e})}}}(jR||(jR={})),function(e){e.registry=VA.create({type:"view"})}(jR||(jR={}));var VR=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T(this,t),(e=z(this,t)).svgContainer=e.createContainer(!0,n),e.htmlContainer=e.createContainer(!1,n),e.config(n),e}return G(t,e),M(t,[{key:"name",get:function(){return this.options.name}},{key:"graph",get:function(){return this.cellView.graph}},{key:"cell",get:function(){return this.cellView.cell}},{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"createContainer",value:function(e,t){var n=e?DR.createElement("g",!0):DR.createElement("div",!1);return MT(n,this.prefixClassName("cell-tools")),t.className&&MT(n,t.className),n}},{key:"config",value:function(e){if(this.options=Object.assign(Object.assign({},this.options),e),!jR.isCellView(e.view)||e.view===this.cellView)return this;this.cellView=e.view,this.cell.isEdge()?(MT(this.svgContainer,this.prefixClassName("edge-tools")),MT(this.htmlContainer,this.prefixClassName("edge-tools"))):this.cell.isNode()&&(MT(this.svgContainer,this.prefixClassName("node-tools")),MT(this.htmlContainer,this.prefixClassName("node-tools"))),this.svgContainer.setAttribute("data-cell-id",this.cell.id),this.htmlContainer.setAttribute("data-cell-id",this.cell.id),this.name&&(this.svgContainer.setAttribute("data-tools-name",this.name),this.htmlContainer.setAttribute("data-tools-name",this.name));var n=this.options.items;if(!Array.isArray(n))return this;this.tools=[];var r=[];n.forEach((function(e){t.ToolItem.isToolItem(e)?"vertices"===e.name?r.unshift(e):r.push(e):"vertices"===("object"===typeof e?e.name:e)?r.unshift(e):r.push(e)}));for(var i=0;i<r.length;i+=1){var a=r[i],o=void 0;if(t.ToolItem.isToolItem(a))o=a;else{var s="object"===typeof a?a.name:a,l="object"===typeof a&&a.args||{};if(s)if(this.cell.isNode()){var u=fL.registry.get(s);if(!u)return fL.registry.onNotFound(s);o=new u(l)}else if(this.cell.isEdge()){var c=dL.registry.get(s);if(!c)return dL.registry.onNotFound(s);o=new c(l)}}if(o)o.config(this.cellView,this),o.render(),(!1!==o.options.isSVGElement?this.svgContainer:this.htmlContainer).appendChild(o.container),this.tools.push(o)}return this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.tools;return t&&t.forEach((function(t){e.toolId!==t.cid&&t.isVisible()&&t.update()})),this}},{key:"focus",value:function(e){var t=this.tools;return t&&t.forEach((function(t){e===t?t.show():t.hide()})),this}},{key:"blur",value:function(e){var t=this.tools;return t&&t.forEach((function(t){t===e||t.isVisible()||(t.show(),t.update())})),this}},{key:"hide",value:function(){return this.focus(null)}},{key:"show",value:function(){return this.blur(null)}},{key:"remove",value:function(){var e=this.tools;return e&&(e.forEach((function(e){return e.remove()})),this.tools=null),zT(this.svgContainer),zT(this.htmlContainer),ar(D(t.prototype),"remove",this).call(this)}},{key:"mount",value:function(){var e=this.tools,t=this.cellView;if(t&&e){var n=e.some((function(e){return!1!==e.options.isSVGElement})),r=e.some((function(e){return!1===e.options.isSVGElement}));if(n)(this.options.local?t.container:t.graph.view.decorator).appendChild(this.svgContainer);r&&this.graph.container.appendChild(this.htmlContainer)}return this}}])}(DR);!function(e){e.toStringTag="X6.".concat(e.name),e.isToolsView=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&null!=r.graph&&null!=r.cell&&"function"===typeof r.config&&"function"===typeof r.update&&"function"===typeof r.focus&&"function"===typeof r.blur&&"function"===typeof r.show&&"function"===typeof r.hide}}(VR||(VR={})),function(e){var t=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T(this,t),(e=z(this,t)).visible=!0,e.options=e.getOptions(n),e.container=DR.createElement(e.options.tagName||"g",!1!==e.options.isSVGElement),MT(e.container,e.prefixClassName("cell-tool")),"string"===typeof e.options.className&&MT(e.container,e.options.className),e.init(),e}return G(t,e),M(t,[{key:"graph",get:function(){return this.cellView.graph}},{key:"cell",get:function(){return this.cellView.cell}},{key:"name",get:function(){return this.options.name}},{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"init",value:function(){}},{key:"getOptions",value:function(e){return this.constructor.getOptions(e)}},{key:"delegateEvents",value:function(){return this.options.events&&ar(D(t.prototype),"delegateEvents",this).call(this,this.options.events),this}},{key:"config",value:function(e,t){return this.cellView=e,this.parent=t,this.stamp(this.container),this.cell.isEdge()?MT(this.container,this.prefixClassName("edge-tool")):this.cell.isNode()&&MT(this.container,this.prefixClassName("node-tool")),this.name&&this.container.setAttribute("data-tool-name",this.name),this.delegateEvents(),this}},{key:"render",value:function(){this.empty();var e=this.options.markup;if(e){var t=FR.parseJSONMarkup(e);this.container.appendChild(t.fragment),this.childNodes=t.selectors}return this.onRender(),this}},{key:"onRender",value:function(){}},{key:"update",value:function(){return this}},{key:"stamp",value:function(e){e&&e.setAttribute("data-cell-id",this.cellView.cell.id)}},{key:"show",value:function(){return this.container.style.display="",this.visible=!0,this}},{key:"hide",value:function(){return this.container.style.display="none",this.visible=!1,this}},{key:"isVisible",value:function(){return this.visible}},{key:"focus",value:function(){var e=this.options.focusOpacity;return null!=e&&Number.isFinite(e)&&(this.container.style.opacity="".concat(e)),this.parent.focus(this),this}},{key:"blur",value:function(){return this.container.style.opacity="",this.parent.blur(this),this}},{key:"guard",value:function(e){return null==this.graph||null==this.cellView||this.graph.view.guard(e,this.cellView)}}],[{key:"getDefaults",value:function(){return this.defaults}},{key:"config",value:function(e){this.defaults=this.getOptions(e)}},{key:"getOptions",value:function(e){return Ww(yE(this.getDefaults()),e)}}])}(DR);t.defaults={isSVGElement:!0,tagName:"g"},e.ToolItem=t,function(e){var t=0;e.define=function(e){var n,r=AE((n=e.name)?WM(n):"CustomTool".concat(t+=1),this);return r.config(e),r}}(t=e.ToolItem||(e.ToolItem={})),function(e){e.toStringTag="X6.".concat(e.name),e.isToolItem=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&null!=r.graph&&null!=r.cell&&"function"===typeof r.config&&"function"===typeof r.update&&"function"===typeof r.focus&&"function"===typeof r.blur&&"function"===typeof r.show&&"function"===typeof r.hide&&"function"===typeof r.isVisible}}(t=e.ToolItem||(e.ToolItem={}))}(VR||(VR={}));var WR=function(e){return e};function XR(e,t){return 0===t?"0%":"".concat(Math.round(e/t*100),"%")}function qR(e){return function(t,n,r,i){return n.isEdgeElement(r)?function(e,t,n,r,i){var a=n.getConnection();if(!a)return t;var o=a.closestPointLength(i);if(e){var s=a.length();t.anchor={name:"ratio",args:{ratio:o/s}}}else t.anchor={name:"length",args:{length:o}};return t}(e,t,n,0,i):function(e,t,n,r,i){var a=n.cell,o=a.getAngle(),s=n.getUnrotatedBBoxOfElement(r),l=a.getBBox().getCenter(),u=xA.create(i).rotate(o,l),c=u.x-s.x,h=u.y-s.y;e&&(c=XR(c,s.width),h=XR(h,s.height));return t.anchor={name:"topLeft",args:{dx:c,dy:h,rotate:!0}},t}(e,t,n,r,i)}}var YR,KR=qR(!0),JR=qR(!1);function ZR(e,t,n,r){return Ib(YR.presets.pinRelative,this.graph,{},t,n,e,this.cell,r,{}).anchor}function QR(e,t){return t?e.cell.getBBox():e.cell.isEdge()?e.getConnection().bbox():e.getUnrotatedBBoxOfElement(e.container)}!function(e){e.presets=c,e.registry=VA.create({type:"connection strategy"}),e.registry.register(e.presets,!0)}(YR||(YR={}));var $R=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"onRender",value:function(){MT(this.container,this.prefixClassName("cell-tool-button")),this.update()}},{key:"update",value:function(){return this.updatePosition(),this}},{key:"updatePosition",value:function(){var e=this.cellView.cell.isEdge()?this.getEdgeMatrix():this.getNodeMatrix();WC(this.container,e,{absolute:!0})}},{key:"getNodeMatrix",value:function(){var e=this.cellView,t=this.options,n=t.x,r=void 0===n?0:n,i=t.y,a=void 0===i?0:i,o=t.offset,s=t.useCellGeometry,l=t.rotate,u=QR(e,s),c=e.cell.getAngle();l||(u=u.bbox(c));var h=0,f=0;"number"===typeof o?(h=o,f=o):"object"===typeof o&&(h=o.x,f=o.y),r=$M(r,u.width),a=$M(a,u.height);var d=BC().translate(u.x+u.width/2,u.y+u.height/2);return l&&(d=d.rotate(c)),d=d.translate(r+h-u.width/2,a+f-u.height/2)}},{key:"getEdgeMatrix",value:function(){var e,t,n,r=this.cellView,i=this.options,a=i.offset,o=void 0===a?0:a,s=i.distance,l=void 0===s?0:s,u=i.rotate,c=$M(l,1);(e=c>=0&&c<=1?r.getTangentAtRatio(c):r.getTangentAtLength(c))?(t=e.start,n=e.vector().vectorAngle(new xA(1,0))||0):(t=r.getConnection().start,n=0);var h=BC().translate(t.x,t.y).rotate(n);return h="object"===typeof o?h.translate(o.x||0,o.y||0):h.translate(0,o),u||(h=h.rotate(-n)),h}},{key:"onMouseDown",value:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.options.onClick;"function"===typeof t&&Ib(t,this.cellView,{e:e,view:this.cellView,cell:this.cellView.cell,btn:this})}}}])}(VR.ToolItem);!function(e){e.config({name:"button",useCellGeometry:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"}})}($R||($R={})),function(e){e.Remove=e.define({name:"button-remove",markup:[{tagName:"circle",selector:"button",attrs:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attrs:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],distance:60,offset:0,useCellGeometry:!0,onClick:function(e){var t=e.view,n=e.btn;n.parent.remove(),t.cell.remove({ui:!0,toolId:n.cid})}})}($R||($R={}));var eL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tL=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"onRender",value:function(){if(MT(this.container,this.prefixClassName("cell-tool-boundary")),this.options.attrs){var e=this.options.attrs,t=e.class,n=eL(e,["class"]);QT(this.container,eC(n)),t&&MT(this.container,t)}this.update()}},{key:"update",value:function(){var e=this.cellView,t=this.options,n=t.useCellGeometry,r=t.rotate,i=eT(t.padding),a=QR(e,n).moveAndExpand({x:-i.left,y:-i.top,width:i.left+i.right,height:i.top+i.bottom}),o=e.cell;if(o.isNode()){var s=o.getAngle();if(s)if(r){var l=o.getBBox().getCenter();qC(this.container,s,l.x,l.y,{absolute:!0})}else a=a.bbox(s)}return QT(this.container,a.toJSON()),this}}])}(VR.ToolItem);!function(e){e.config({name:"boundary",tagName:"rect",padding:10,useCellGeometry:!0,attrs:{fill:"none",stroke:"#333","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"}})}(tL||(tL={}));var nL=function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).handles=[],e}return G(t,e),M(t,[{key:"vertices",get:function(){return this.cellView.cell.getVertices()}},{key:"onRender",value:function(){return this.addClass(this.prefixClassName("edge-tool-vertices")),this.options.addable&&this.updatePath(),this.resetHandles(),this.renderHandles(),this}},{key:"update",value:function(){return this.vertices.length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.addable&&this.updatePath(),this}},{key:"resetHandles",value:function(){var e=this,t=this.handles;this.handles=[],t&&t.forEach((function(t){e.stopHandleListening(t),t.remove()}))}},{key:"renderHandles",value:function(){for(var e=this,t=this.vertices,n=0,r=t.length;n<r;n+=1){var i=t[n],a=this.options.createHandle,o=this.options.processHandle,s=a({index:n,graph:this.graph,guard:function(t){return e.guard(t)},attrs:this.options.attrs||{}});o&&o(s),s.updatePosition(i.x,i.y),this.stamp(s.container),this.container.appendChild(s.container),this.handles.push(s),this.startHandleListening(s)}}},{key:"updateHandles",value:function(){for(var e=this.vertices,t=0,n=e.length;t<n;t+=1){var r=e[t],i=this.handles[t];i&&i.updatePosition(r.x,r.y)}}},{key:"updatePath",value:function(){var e=this.childNodes.connection;e&&e.setAttribute("d",this.cellView.getConnectionPathData())}},{key:"startHandleListening",value:function(e){var t=this.cellView;t.can("vertexMovable")&&(e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.on("remove",this.onHandleRemove,this)}},{key:"stopHandleListening",value:function(e){var t=this.cellView;t.can("vertexMovable")&&(e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)),t.can("vertexDeletable")&&e.off("remove",this.onHandleRemove,this)}},{key:"getNeighborPoints",value:function(e){var t=this.cellView,n=this.vertices,r=e>0?n[e-1]:t.sourceAnchor,i=e<n.length-1?n[e+1]:t.targetAnchor;return{prev:xA.create(r),next:xA.create(i)}}},{key:"getMouseEventArgs",value:function(e){var t=this.normalizeEvent(e),n=this.graph.snapToGrid(t.clientX,t.clientY);return{e:t,x:n.x,y:n.y}}},{key:"onHandleChange",value:function(e){var t=e.e;this.focus();var n=this.cellView;if(n.cell.startBatch("move-vertex",{ui:!0,toolId:this.cid}),!this.options.stopPropagation){var r=this.getMouseEventArgs(t),i=r.e,a=r.x,o=r.y;this.eventData(i,{start:{x:a,y:o}}),n.notifyMouseDown(i,a,o)}}},{key:"onHandleChanging",value:function(e){var t=e.handle,n=e.e,r=this.cellView,i=t.options.index,a=this.getMouseEventArgs(n),o=a.e,s=a.x,l=a.y,u={x:s,y:l};this.snapVertex(u,i),r.cell.setVertexAt(i,u,{ui:!0,toolId:this.cid}),t.updatePosition(u.x,u.y),this.options.stopPropagation||r.notifyMouseMove(o,s,l)}},{key:"stopBatch",value:function(e){this.cell.stopBatch("move-vertex",{ui:!0,toolId:this.cid}),e&&this.cell.stopBatch("add-vertex",{ui:!0,toolId:this.cid})}},{key:"onHandleChanged",value:function(e){var t=e.e,n=this.options,r=this.cellView;if(n.addable&&this.updatePath(),n.removeRedundancies){r.removeRedundantLinearVertices({ui:!0,toolId:this.cid})&&this.render(),this.blur(),this.stopBatch(this.eventData(t).vertexAdded);var i=this.getMouseEventArgs(t),a=i.e,o=i.x,s=i.y;if(!this.options.stopPropagation){r.notifyMouseUp(a,o,s);var l=this.eventData(a).start;if(l){var u=l.x,c=l.y;u===o&&c===s&&r.onClick(a,o,s)}}r.checkMouseleave(a),n.onChanged&&n.onChanged({edge:r.cell,edgeView:r})}else this.stopBatch(this.eventData(t).vertexAdded)}},{key:"snapVertex",value:function(e,t){var n=this.options.snapRadius||0;if(n>0){var r=this.getNeighborPoints(t),i=r.prev,a=r.next;Math.abs(e.x-i.x)<n?e.x=i.x:Math.abs(e.x-a.x)<n&&(e.x=a.x),Math.abs(e.y-i.y)<n?e.y=r.prev.y:Math.abs(e.y-a.y)<n&&(e.y=a.y)}}},{key:"onHandleRemove",value:function(e){var t=e.handle,n=e.e;if(this.options.removable){var r=t.options.index,i=this.cellView;i.cell.removeVertexAt(r,{ui:!0}),this.options.addable&&this.updatePath(),i.checkMouseleave(this.normalizeEvent(n))}}},{key:"allowAddVertex",value:function(e){var t=this.guard(e),n=this.options.addable&&this.cellView.can("vertexAddable"),r=!this.options.modifiers||cA.isMatch(e,this.options.modifiers);return!t&&n&&r}},{key:"onPathMouseDown",value:function(e){var t=this.cellView;if(this.allowAddVertex(e)){e.stopPropagation(),e.preventDefault();var n=this.normalizeEvent(e),r=this.graph.snapToGrid(n.clientX,n.clientY).toJSON();t.cell.startBatch("add-vertex",{ui:!0,toolId:this.cid});var i=t.getVertexIndex(r.x,r.y);this.snapVertex(r,i),t.cell.insertVertex(r,i,{ui:!0,toolId:this.cid}),this.render();var a=this.handles[i];this.eventData(n,{vertexAdded:!0}),a.onMouseDown(n)}}},{key:"onRemove",value:function(){this.resetHandles()}}])}(VR.ToolItem);!function(e){var t=function(t){function n(e){var t;return T(this,n),(t=z(this,n)).options=e,t.render(),t.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDoubleClick"}),t}return G(n,t),M(n,[{key:"graph",get:function(){return this.options.graph}},{key:"render",value:function(){this.container=DR.createElement("circle",!0);var t=this.options.attrs;if("function"===typeof t){var n=e.getDefaults();this.setAttrs(Object.assign(Object.assign({},n.attrs),t(this)))}else this.setAttrs(t);this.addClass(this.prefixClassName("edge-tool-vertex"))}},{key:"updatePosition",value:function(e,t){this.setAttrs({cx:e,cy:t})}},{key:"onMouseDown",value:function(e){this.options.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},e.data),this.emit("change",{e:e,handle:this}))}},{key:"onMouseMove",value:function(e){this.emit("changing",{e:e,handle:this})}},{key:"onMouseUp",value:function(e){this.emit("changed",{e:e,handle:this}),this.undelegateDocumentEvents(),this.graph.view.delegateEvents()}},{key:"onDoubleClick",value:function(e){this.emit("remove",{e:e,handle:this})}}])}(DR);e.Handle=t}(nL||(nL={})),function(e){var t=qO.prefix("edge-tool-vertex-path");e.config({name:"vertices",snapRadius:20,addable:!0,removable:!0,removeRedundancies:!0,stopPropagation:!0,attrs:{r:6,fill:"#333",stroke:"#fff",cursor:"move","stroke-width":2},createHandle:function(t){return new e.Handle(t)},markup:[{tagName:"path",selector:"connection",className:t,attrs:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"pointer"}}],events:j(j({},"mousedown .".concat(t),"onPathMouseDown"),"touchstart .".concat(t),"onPathMouseDown")})}(nL||(nL={}));var rL=function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).handles=[],e}return G(t,e),M(t,[{key:"vertices",get:function(){return this.cellView.cell.getVertices()}},{key:"update",value:function(){return this.render(),this}},{key:"onRender",value:function(){MT(this.container,this.prefixClassName("edge-tool-segments")),this.resetHandles();var e=this.cellView,t=Y(this.vertices);t.unshift(e.sourcePoint),t.push(e.targetPoint);for(var n=0,r=t.length;n<r-1;n+=1){var i=t[n],a=t[n+1],o=this.renderHandle(i,a,n);this.stamp(o.container),this.handles.push(o)}return this}},{key:"renderHandle",value:function(e,t,n){var r=this,i=this.options.createHandle({index:n,graph:this.graph,guard:function(e){return r.guard(e)},attrs:this.options.attrs||{}});return this.options.processHandle&&this.options.processHandle(i),this.updateHandle(i,e,t),this.container.appendChild(i.container),this.startHandleListening(i),i}},{key:"startHandleListening",value:function(e){e.on("change",this.onHandleChange,this),e.on("changing",this.onHandleChanging,this),e.on("changed",this.onHandleChanged,this)}},{key:"stopHandleListening",value:function(e){e.off("change",this.onHandleChange,this),e.off("changing",this.onHandleChanging,this),e.off("changed",this.onHandleChanged,this)}},{key:"resetHandles",value:function(){var e=this,t=this.handles;this.handles=[],t&&t.forEach((function(t){e.stopHandleListening(t),t.remove()}))}},{key:"shiftHandleIndexes",value:function(e){for(var t=this.handles,n=0,r=t.length;n<r;n+=1)t[n].options.index+=e}},{key:"resetAnchor",value:function(e,t){var n=this.cellView.cell,r={ui:!0,toolId:this.cid};t?n.prop([e,"anchor"],t,r):n.removeProp([e,"anchor"],r)}},{key:"snapHandle",value:function(e,t,n){var r=e.options.axis,i=e.options.index,a=this.cellView.cell.getVertices(),o=a[i-2]||n.sourceAnchor,s=a[i+1]||n.targetAnchor,l=this.options.snapRadius;return Math.abs(t[r]-o[r])<l?t[r]=o[r]:Math.abs(t[r]-s[r])<l&&(t[r]=s[r]),t}},{key:"onHandleChanging",value:function(e){var t=e.handle,n=e.e,r=this.graph,i=this.options,a=this.cellView,o=i.anchor,s=t.options.axis,l=t.options.index-1,u=this.getEventData(n),c=this.normalizeEvent(n),h=r.snapToGrid(c.clientX,c.clientY),f=this.snapHandle(t,h.clone(),u),d=yE(this.vertices),p=d[l],v=d[l+1],g=a.sourceView,m=a.sourceBBox,y=!1,b=!1;if(p?0===l?m.containsPoint(p)?(d.shift(),this.shiftHandleIndexes(-1),y=!0):(p[s]=f[s],b=!0):p[s]=f[s]:((p=a.sourceAnchor.toJSON())[s]=f[s],m.containsPoint(p)?y=!0:(d.unshift(p),this.shiftHandleIndexes(1),b=!0)),"function"===typeof o&&g){if(y){var x=u.sourceAnchor.clone();x[s]=f[s];var k=Ib(o,a,x,g,a.sourceMagnet||g.container,"source",a,this);this.resetAnchor("source",k)}b&&this.resetAnchor("source",u.sourceAnchorDef)}var w=a.targetView,S=a.targetBBox,E=!1,_=!1;if(v?l===d.length-2?S.containsPoint(v)?(d.pop(),E=!0):(v[s]=f[s],_=!0):v[s]=f[s]:((v=a.targetAnchor.toJSON())[s]=f[s],S.containsPoint(v)?E=!0:(d.push(v),_=!0)),"function"===typeof o&&w){if(E){var M=u.targetAnchor.clone();M[s]=f[s];var T=Ib(o,a,M,w,a.targetMagnet||w.container,"target",a,this);this.resetAnchor("target",T)}_&&this.resetAnchor("target",u.targetAnchorDef)}xA.equalPoints(d,this.vertices)||this.cellView.cell.setVertices(d,{ui:!0,toolId:this.cid}),this.updateHandle(t,p,v,0),i.stopPropagation||a.notifyMouseMove(c,h.x,h.y)}},{key:"onHandleChange",value:function(e){var t=e.handle,n=e.e,r=this.options,i=this.handles,a=this.cellView,o=t.options.index;if(Array.isArray(i)){for(var s=0,l=i.length;s<l;s+=1)s!==o&&i[s].hide();if(this.focus(),this.setEventData(n,{sourceAnchor:a.sourceAnchor.clone(),targetAnchor:a.targetAnchor.clone(),sourceAnchorDef:yE(this.cell.prop(["source","anchor"])),targetAnchorDef:yE(this.cell.prop(["target","anchor"]))}),this.cell.startBatch("move-segment",{ui:!0,toolId:this.cid}),!r.stopPropagation){var u=this.normalizeEvent(n),c=this.graph.snapToGrid(u.clientX,u.clientY);a.notifyMouseDown(u,c.x,c.y)}}}},{key:"onHandleChanged",value:function(e){var t=e.e,n=this.options,r=this.cellView;n.removeRedundancies&&r.removeRedundantLinearVertices({ui:!0,toolId:this.cid});var i=this.normalizeEvent(t),a=this.graph.snapToGrid(i.clientX,i.clientY);this.render(),this.blur(),this.cell.stopBatch("move-segment",{ui:!0,toolId:this.cid}),n.stopPropagation||r.notifyMouseUp(i,a.x,a.y),r.checkMouseleave(i),n.onChanged&&n.onChanged({edge:r.cell,edgeView:r})}},{key:"updateHandle",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=this.options.precision||0,a=Math.abs(t.x-n.x)<i,o=Math.abs(t.y-n.y)<i;if(a||o){var s=new wA(t,n);if(s.length()<this.options.threshold)e.hide();else{var l=s.getCenter(),u=a?"x":"y";l[u]+=r||0;var c=s.vector().vectorAngle(new xA(1,0));e.updatePosition(l.x,l.y,c,this.cellView),e.show(),e.options.axis=u}}else e.hide()}},{key:"onRemove",value:function(){this.resetHandles()}}])}(VR.ToolItem);!function(e){var t=function(t){function n(e){var t;return T(this,n),(t=z(this,n)).options=e,t.render(),t.delegateEvents({mousedown:"onMouseDown",touchstart:"onMouseDown"}),t}return G(n,t),M(n,[{key:"render",value:function(){this.container=DR.createElement("rect",!0);var t=this.options.attrs;if("function"===typeof t){var n=e.getDefaults();this.setAttrs(Object.assign(Object.assign({},n.attrs),t(this)))}else this.setAttrs(t);this.addClass(this.prefixClassName("edge-tool-segment"))}},{key:"updatePosition",value:function(e,t,n,r){var i=r.getClosestPoint(new xA(e,t))||new xA(e,t),a=BC().translate(i.x,i.y);if(i.equals({x:e,y:t}))a=a.rotate(n);else{var o=new wA(e,t,i.x,i.y).vector().vectorAngle(new xA(1,0));0!==o&&(o+=90),a=a.rotate(o)}this.setAttrs({transform:GC(a),cursor:n%180===0?"row-resize":"col-resize"})}},{key:"onMouseDown",value:function(e){this.options.guard(e)||(this.trigger("change",{e:e,handle:this}),e.stopPropagation(),e.preventDefault(),this.options.graph.view.undelegateEvents(),this.delegateDocumentEvents({mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},e.data))}},{key:"onMouseMove",value:function(e){this.emit("changing",{e:e,handle:this})}},{key:"onMouseUp",value:function(e){this.emit("changed",{e:e,handle:this}),this.undelegateDocumentEvents(),this.options.graph.view.delegateEvents()}},{key:"show",value:function(){this.container.style.display=""}},{key:"hide",value:function(){this.container.style.display="none"}}])}(DR);e.Handle=t}(rL||(rL={})),function(e){e.config({name:"segments",precision:.5,threshold:40,snapRadius:10,stopPropagation:!0,removeRedundancies:!0,attrs:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#333",stroke:"#fff","stroke-width":2},createHandle:function(t){return new e.Handle(t)},anchor:ZR})}(rL||(rL={}));var iL=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"type",get:function(){return this.options.type}},{key:"onRender",value:function(){MT(this.container,this.prefixClassName("edge-tool-".concat(this.type,"-anchor"))),this.toggleArea(!1),this.update()}},{key:"update",value:function(){var e=this.type;return this.cellView.getTerminalView(e)?(this.updateAnchor(),this.updateArea(),this.container.style.display=""):this.container.style.display="none",this}},{key:"updateAnchor",value:function(){var e=this.childNodes;if(e){var t=e.anchor;if(t){var n=this.type,r=this.cellView,i=this.options,a=r.getTerminalAnchor(n),o=r.cell.prop([n,"anchor"]);t.setAttribute("transform","translate(".concat(a.x,", ").concat(a.y,")"));var s=o?i.customAnchorAttrs:i.defaultAnchorAttrs;s&&Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])}))}}}},{key:"updateArea",value:function(){var e=this.childNodes;if(e){var t=e.area;if(t){var n=this.type,r=this.cellView,i=r.getTerminalView(n);if(i){var a,o,s,l=i.cell,u=r.getTerminalMagnet(n),c=this.options.areaPadding||0;Number.isFinite(c)||(c=0),i.isEdgeElement(u)?(o=0,s=(a=i.getBBox()).getCenter()):(a=i.getUnrotatedBBoxOfElement(u),o=l.getAngle(),s=a.getCenter(),o&&s.rotate(-o,l.getBBox().getCenter())),a.inflate(c),QT(t,{x:-a.width/2,y:-a.height/2,width:a.width,height:a.height,transform:"translate(".concat(s.x,", ").concat(s.y,") rotate(").concat(o,")")})}}}}},{key:"toggleArea",value:function(e){if(this.childNodes){var t=this.childNodes.area;t&&(t.style.display=e?"":"none")}}},{key:"onMouseDown",value:function(e){this.guard(e)||(e.stopPropagation(),e.preventDefault(),this.graph.view.undelegateEvents(),this.options.documentEvents&&this.delegateDocumentEvents(this.options.documentEvents),this.focus(),this.toggleArea(this.options.restrictArea),this.cell.startBatch("move-anchor",{ui:!0,toolId:this.cid}))}},{key:"resetAnchor",value:function(e){var t=this.type,n=this.cell;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,toolId:this.cid}):n.removeProp([t,"anchor"],{ui:!0,toolId:this.cid})}},{key:"onMouseMove",value:function(e){var t=this.type,n=this.cellView,r=n.getTerminalView(t);if(null!=r){var i,a=this.normalizeEvent(e),o=r.cell,s=n.getTerminalMagnet(t),l=this.graph.coord.clientToLocalPoint(a.clientX,a.clientY),u=this.options.snap;if("function"===typeof u){var c=Ib(u,n,l,r,s,t,n,this);l=xA.create(c)}if(this.options.restrictArea)if(r.isEdgeElement(s)){var h=r.getClosestPoint(l);h&&(l=h)}else{var f=r.getUnrotatedBBoxOfElement(s),d=o.getAngle(),p=o.getBBox().getCenter(),v=l.clone().rotate(d,p);f.containsPoint(v)||(l=f.getNearestPointToPoint(v).rotate(-d,p))}var g=this.options.anchor;"function"===typeof g&&(i=Ib(g,n,l,r,s,t,n,this)),this.resetAnchor(i),this.update()}}},{key:"onMouseUp",value:function(e){this.graph.view.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var t=this.cellView;this.options.removeRedundancies&&t.removeRedundantLinearVertices({ui:!0,toolId:this.cid}),this.cell.stopBatch("move-anchor",{ui:!0,toolId:this.cid})}},{key:"onDblClick",value:function(){var e=this.options.resetAnchor;e&&this.resetAnchor(!0===e?void 0:e),this.update()}}])}(VR.ToolItem);!function(e){e.config({tagName:"g",markup:[{tagName:"circle",selector:"anchor",attrs:{cursor:"pointer"}},{tagName:"rect",selector:"area",attrs:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onMouseDown",touchstart:"onMouseDown",dblclick:"onDblClick"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"},customAnchorAttrs:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttrs:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,resetAnchor:!0,restrictArea:!0,removeRedundancies:!0,anchor:ZR,snap:function(e,t,n,r,i,a){var o=a.options.snapRadius||0,s="source"===r,l=s?0:-1,u=this.cell.getVertexAt(l)||this.getTerminalAnchor(s?"target":"source");return u&&(Math.abs(u.x-e.x)<o&&(e.x=u.x),Math.abs(u.y-e.y)<o&&(e.y=u.y)),e}})}(iL||(iL={}));var aL=iL.define({name:"source-anchor",type:"source"}),oL=iL.define({name:"target-anchor",type:"target"}),sL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lL=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"type",get:function(){return this.options.type}},{key:"ratio",get:function(){return this.options.ratio}},{key:"init",value:function(){if(this.options.attrs){var e=this.options.attrs,t=e.class,n=sL(e,["class"]);this.setAttrs(n,this.container),t&&MT(this.container,t)}}},{key:"onRender",value:function(){MT(this.container,this.prefixClassName("edge-tool-".concat(this.type,"-arrowhead"))),this.update()}},{key:"update",value:function(){var e=this.ratio,t=this.cellView,n=t.getTangentAtRatio(e),r=n?n.start:t.getPointAtRatio(e),i=n&&n.vector().vectorAngle(new xA(1,0))||0;if(!r)return this;var a=BC().translate(r.x,r.y).rotate(i);return WC(this.container,a,{absolute:!0}),this}},{key:"onMouseDown",value:function(e){if(!this.guard(e)){e.stopPropagation(),e.preventDefault();var t=this.cellView;if(t.can("arrowheadMovable")){t.cell.startBatch("move-arrowhead",{ui:!0,toolId:this.cid});var n=this.graph.snapToGrid(e.clientX,e.clientY),r=t.prepareArrowheadDragging(this.type,{x:n.x,y:n.y,options:Object.assign(Object.assign({},this.options),{toolId:this.cid})});this.cellView.setEventData(e,r),this.delegateDocumentEvents(this.options.documentEvents,e.data),t.graph.view.undelegateEvents(),this.container.style.pointerEvents="none"}this.focus()}}},{key:"onMouseMove",value:function(e){var t=this.normalizeEvent(e),n=this.graph.snapToGrid(t.clientX,t.clientY);this.cellView.onMouseMove(t,n.x,n.y),this.update()}},{key:"onMouseUp",value:function(e){this.undelegateDocumentEvents();var t=this.normalizeEvent(e),n=this.cellView,r=this.graph.snapToGrid(t.clientX,t.clientY);n.onMouseUp(t,r.x,r.y),this.graph.view.delegateEvents(),this.blur(),this.container.style.pointerEvents="",n.cell.stopBatch("move-arrowhead",{ui:!0,toolId:this.cid})}}])}(VR.ToolItem);!function(e){e.config({tagName:"path",isSVGElement:!0,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}})}(lL||(lL={}));var uL=lL.define({name:"source-arrowhead",type:"source",ratio:0,attrs:{d:"M 10 -8 -10 0 10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),cL=lL.define({name:"target-arrowhead",type:"target",ratio:1,attrs:{d:"M -10 -8 10 0 -10 8 Z",fill:"#333",stroke:"#fff","stroke-width":2,cursor:"move"}}),hL=function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).labelIndex=-1,e.distance=.5,e.dblClick=e.onCellDblClick.bind(e),e}return G(t,e),M(t,[{key:"onRender",value:function(){var e=this.cellView;e&&e.on("cell:dblclick",this.dblClick)}},{key:"createElement",value:function(){var e=[this.prefixClassName("".concat(this.cell.isEdge()?"edge":"node","-tool-editor")),this.prefixClassName("cell-tool-editor")];this.editor=VR.createElement("div",!1),this.addClass(e,this.editor),this.editor.contentEditable="true",this.container.appendChild(this.editor)}},{key:"removeElement",value:function(){this.undelegateDocumentEvents(),this.editor&&(this.container.removeChild(this.editor),this.editor=null)}},{key:"updateEditor",value:function(){var e=this.cell,t=this.editor;if(t){var n=t.style;e.isNode()?this.updateNodeEditorTransform():e.isEdge()&&this.updateEdgeEditorTransform();var r=this.options.attrs;n.fontSize="".concat(r.fontSize,"px"),n.fontFamily=r.fontFamily,n.color=r.color,n.backgroundColor=r.backgroundColor;var i=this.getCellText()||"";return t.innerText=i,this.setCellText(""),this}}},{key:"updateNodeEditorTransform",value:function(){var e=this.graph,t=this.cell,n=this.editor;if(n){var r=xA.create(),i=20,a="",o=this.options,s=o.x,l=o.y,u=this.options,c=u.width,h=u.height;if("undefined"!==typeof s&&"undefined"!==typeof l){var f=t.getBBox();s=$M(s,f.width),l=$M(l,f.height),r=f.topLeft.translate(s,l),i=f.width-2*s}else{var d=t.getBBox();r=d.center,i=d.width-4,a="translate(-50%, -50%)"}var p=e.scale(),v=n.style;r=e.localToGraph(r),v.left="".concat(r.x,"px"),v.top="".concat(r.y,"px"),v.transform="scale(".concat(p.sx,", ").concat(p.sy,") ").concat(a),v.minWidth="".concat(i,"px"),"number"===typeof c&&(v.width="".concat(c,"px")),"number"===typeof h&&(v.height="".concat(h,"px"))}}},{key:"updateEdgeEditorTransform",value:function(){if(this.event){var e=this.graph,t=this.editor;if(t){var n=xA.create(),r=20,i=t.style,a=this.event.target,o=a.parentElement;if(o&&_T(o,this.prefixClassName("edge-label"))){var s=o.getAttribute("data-index")||"0";this.labelIndex=parseInt(s,10);var l=jC(o.getAttribute("transform")).translation;n=new xA(l.tx,l.ty),r=XO.getBBox(a).width}else{if(!this.options.labelAddable)return this;n=e.clientToLocal(xA.create(this.event.clientX,this.event.clientY));var u=this.cellView.path.closestPointLength(n);this.distance=u,this.labelIndex=-1}n=e.localToGraph(n);var c=e.scale();i.left="".concat(n.x,"px"),i.top="".concat(n.y,"px"),i.minWidth="".concat(r,"px"),i.transform="scale(".concat(c.sx,", ").concat(c.sy,") translate(-50%, -50%)")}}}},{key:"onDocumentMouseUp",value:function(e){if(this.editor&&e.target!==this.editor){var t=this.editor.innerText.replace(/\n$/,"")||"";this.setCellText(""!==t?t:null),this.removeElement()}}},{key:"onCellDblClick",value:function(e){var t=e.e;this.editor||(t.stopPropagation(),this.removeElement(),this.event=t,this.createElement(),this.updateEditor(),this.autoFocus(),this.delegateDocumentEvents(this.options.documentEvents))}},{key:"onMouseDown",value:function(e){e.stopPropagation()}},{key:"autoFocus",value:function(){var e=this;setTimeout((function(){e.editor&&(e.editor.focus(),e.selectText())}))}},{key:"selectText",value:function(){if(window.getSelection&&this.editor){var e=document.createRange(),t=window.getSelection();e.selectNodeContents(this.editor),t.removeAllRanges(),t.addRange(e)}}},{key:"getCellText",value:function(){var e=this.options.getText;if("function"===typeof e)return Ib(e,this.cellView,{cell:this.cell,index:this.labelIndex});if("string"===typeof e){if(this.cell.isNode())return this.cell.attr(e);if(this.cell.isEdge()&&-1!==this.labelIndex)return this.cell.prop("labels/".concat(this.labelIndex,"/attrs/").concat(e))}}},{key:"setCellText",value:function(e){var t=this.options.setText;if("function"!==typeof t){if("string"===typeof t){if(this.cell.isNode())return void(null!==e&&this.cell.attr(t,e));if(this.cell.isEdge()){var n=this.cell;if(-1===this.labelIndex){if(e){var r={position:{distance:this.distance},attrs:{}};RE(r,"attrs/".concat(t),e),n.appendLabel(r)}}else null!==e?n.prop("labels/".concat(this.labelIndex,"/attrs/").concat(t),e):"number"===typeof this.labelIndex&&n.removeLabelAt(this.labelIndex)}}}else Ib(t,this.cellView,{cell:this.cell,value:e,index:this.labelIndex,distance:this.distance})}},{key:"onRemove",value:function(){var e=this.cellView;e&&e.off("cell:dblclick",this.dblClick),this.removeElement()}}])}(VR.ToolItem);!function(e){e.config({tagName:"div",isSVGElement:!1,events:{mousedown:"onMouseDown",touchstart:"onMouseDown"},documentEvents:{mouseup:"onDocumentMouseUp",touchend:"onDocumentMouseUp",touchcancel:"onDocumentMouseUp"}})}(hL||(hL={})),function(e){e.NodeEditor=e.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},getText:"text/text",setText:"text/text"}),e.EdgeEditor=e.define({attrs:{fontSize:14,fontFamily:"Arial, helvetica, sans-serif",color:"#000",backgroundColor:"#fff"},labelAddable:!0,getText:"label/text",setText:"label/text"})}(hL||(hL={}));var fL,dL,pL=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){e.presets={boundary:tL,button:$R,"button-remove":$R.Remove,"node-editor":hL.NodeEditor},e.registry=VA.create({type:"node tool",process:function(e,t){if("function"===typeof t)return t;var n=VR.ToolItem,r=t.inherit,i=pL(t,["inherit"]);if(r){var a=this.get(r);null==a?this.onNotFound(r,"inherited"):n=a}return null==i.name&&(i.name=e),n.define.call(n,i)}}),e.registry.register(e.presets,!0)}(fL||(fL={})),function(e){e.presets={boundary:tL,vertices:nL,segments:rL,button:$R,"button-remove":$R.Remove,"source-anchor":aL,"target-anchor":oL,"source-arrowhead":uL,"target-arrowhead":cL,"edge-editor":hL.EdgeEditor},e.registry=VA.create({type:"edge tool",process:function(e,t){if("function"===typeof t)return t;var n=VR.ToolItem,r=t.inherit,i=pL(t,["inherit"]);if(r){var a=this.get(r);null==a?this.onNotFound(r,"inherited"):n=a}return null==i.name&&(i.name=e),n.define.call(n,i)}}),e.registry.register(e.presets,!0)}(dL||(dL={}));var vL=EL("center"),gL=EL("topCenter"),mL=EL("bottomCenter"),yL=EL("leftMiddle"),bL=EL("rightMiddle"),xL=EL("topLeft"),kL=EL("topRight"),wL=EL("bottomLeft"),SL=EL("bottomRight");function EL(e){return function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.rotate?t.getUnrotatedBBoxOfElement(n):t.getBBoxOfElement(n),o=a[e];o.x+=$M(i.dx,a.width),o.y+=$M(i.dy,a.height);var s=t.cell;return i.rotate?o.rotate(-s.getAngle(),s.getBBox().getCenter()):o}}function _L(e){return function(t,n,r,i){if(r instanceof Element){var a,o=this.graph.findViewByElem(r);if(o)if(o.isEdgeElement(r))a=ML(o,null!=i.fixedAt?i.fixedAt:"50%");else a=o.getBBoxOfElement(r).getCenter();else a=new xA;return e.call(this,t,n,a,i)}return e.apply(this,arguments)}}function ML(e,t){var n=QM(t),r="string"===typeof t?parseFloat(t):t;return n?e.getPointAtRatio(r/100):e.getPointAtLength(r)}var TL,CL=_L((function(e,t,n,r){var i=pA.normalize(e.cell.getAngle()),a=e.getBBoxOfElement(t),o=a.getCenter(),s=a.getTopLeft(),l=a.getBottomRight(),u=r.padding;if(Number.isFinite(u)||(u=0),s.y+u<=n.y&&n.y<=l.y-u){var c=n.y-o.y;o.x+=0===i||180===i?0:1*c/Math.tan(pA.toRad(i)),o.y+=c}else if(s.x+u<=n.x&&n.x<=l.x-u){var h=n.x-o.x;o.y+=90===i||270===i?0:h*Math.tan(pA.toRad(i)),o.x+=h}return o})),AL=function(e,t,n,r,i){var a=e.cell.getConnectionPoint(this.cell,i);return(r.dx||r.dy)&&a.translate(r.dx||0,r.dy||0),a},PL=_L((function(e,t,n,r){var i,a,o=0,s=e.cell;r.rotate?(i=e.getUnrotatedBBoxOfElement(t),a=s.getBBox().getCenter(),o=s.getAngle()):i=e.getBBoxOfElement(t);var l=r.padding;null!=l&&Number.isFinite(l)&&i.inflate(l),r.rotate&&n.rotate(o,a);var u,c=i.getNearestSideToPoint(n);switch(c){case"left":u=i.getLeftMiddle();break;case"right":u=i.getRightMiddle();break;case"top":u=i.getTopCenter();break;case"bottom":u=i.getBottomCenter()}var h=r.direction;return"H"===h?"top"!==c&&"bottom"!==c||(u=n.x<=i.x+i.width?i.getLeftMiddle():i.getRightMiddle()):"V"===h&&(u=n.y<=i.y+i.height?i.getTopCenter():i.getBottomCenter()),r.rotate?u.rotate(-o,a):u}));!function(e){e.presets=f,e.registry=VA.create({type:"node endpoint"}),e.registry.register(e.presets,!0)}(TL||(TL={}));var OL,RL=function(e,t,n,r){var i=null!=r.ratio?r.ratio:.5;return i>1&&(i/=100),e.getPointAtRatio(i)},LL=function(e,t,n,r){var i=null!=r.length?r.length:20;return e.getPointAtLength(i)},NL=function(e,t,n,r){var i=e.getClosestPoint(n);return null!=i?i:new xA},IL=_L(NL),DL=_L((function(e,t,n,r){var i=1e6,a=e.getConnection(),o=e.getConnectionSubdivisions(),s=new wA(n.clone().translate(0,i),n.clone().translate(0,-i)),l=new wA(n.clone().translate(i,0),n.clone().translate(-i,0)),u=s.intersect(a,{segmentSubdivisions:o}),c=l.intersect(a,{segmentSubdivisions:o}),h=[];return u&&h.push.apply(h,Y(u)),c&&h.push.apply(h,Y(c)),h.length>0?n.closest(h):null!=r.fallbackAt?ML(e,r.fallbackAt):Ib(NL,this,e,t,n,r)}));function FL(e,t,n){var r;if("object"===typeof n){if(Number.isFinite(n.y)){var i=new wA(t,e).parallel(n.y);t=i.start,e=i.end}r=n.x}else r=n;if(null==r||!Number.isFinite(r))return e;var a=e.distance(t);return 0===r&&a>0?e:e.move(t,-Math.min(r,a-1))}function UL(e){var t=e.getAttribute("stroke-width");return null===t?0:parseFloat(t)||0}!function(e){e.presets=d,e.registry=VA.create({type:"edge endpoint"}),e.registry.register(e.presets,!0)}(OL||(OL={}));var BL=function(e,t,n,r){var i=t.getBBoxOfElement(n);r.stroked&&i.inflate(UL(n)/2);var a=e.intersect(i);return FL(a&&a.length?e.start.closest(a):e.end,e.start,r.offset)},zL=function(e,t,n,r,i){var a=t.cell,o=a.isNode()?a.getAngle():0;if(0===o)return Ib(BL,this,e,t,n,r,i);var s=t.getUnrotatedBBoxOfElement(n);r.stroked&&s.inflate(UL(n)/2);var l=s.getCenter(),u=e.clone().rotate(o,l),c=u.setLength(1e6).intersect(s);return FL(c&&c.length?u.start.closest(c).rotate(-o,l):e.end,e.start,r.offset)},HL=function(e,t,n,r){var i,a,o=e.end,s=r.selector;if(i="string"===typeof s?t.findOne(s):Array.isArray(s)?OE(n,s):function(e){if(null==e)return null;var t=e;do{var n=t.tagName;if("string"!==typeof n)return null;if("G"===(n=n.toUpperCase()))t=t.firstElementChild;else{if("TITLE"!==n)break;t=t.nextElementSibling}}while(t);return t}(n),!OT(i)){if(i===n||!OT(n))return o;i=n}var l,u=t.getShapeOfElement(i),c=t.getMatrixOfElement(i),h=t.getRootTranslatedMatrix(),f=t.getRootRotatedMatrix(),d=h.multiply(f).multiply(c),p=d.inverse(),v=XO.transformLine(e,p),g=v.start.clone(),m=t.getDataOfElement(i);if(!1===r.insideout){null==m.shapeBBox&&(m.shapeBBox=u.bbox());var y=m.shapeBBox;if(null!=y&&y.containsPoint(g))return o}if(!0===r.extrapolate&&v.setLength(1e6),jA.isPath(u)){var b=r.precision||2;null==m.segmentSubdivisions&&(m.segmentSubdivisions=u.getSegmentSubdivisions({precision:b})),l={precision:b,segmentSubdivisions:m.segmentSubdivisions},a=v.intersect(u,l)}else a=v.intersect(u);a?Array.isArray(a)&&(a=g.closest(a)):!0===r.sticky&&(a=kA.isRectangle(u)?u.getNearestPointToPoint(g):SA.isEllipse(u)?u.intersectsWithLineFromCenterToPoint(g):u.closestPoint(g,l));var x=a?XO.transformPoint(a,d):o,k=r.offset||0;return!1!==r.stroked&&("object"===typeof k?(null==(k=Object.assign({},k)).x&&(k.x=0),k.x+=UL(i)/2):k+=UL(i)/2),FL(x,e.start,k)};var GL,jL=function(e,t,n,r){var i=r.alignOffset,a=r.align;return a&&function(e,t){var n,r,i,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=e.start,l=e.end;switch(t){case"left":a="x",n=l,r=s,i=-1;break;case"right":a="x",n=s,r=l,i=1;break;case"top":a="y",n=l,r=s,i=-1;break;case"bottom":a="y",n=s,r=l,i=1;break;default:return}s[a]<l[a]?n[a]=r[a]:r[a]=n[a],Number.isFinite(o)&&(n[a]+=i*o,r[a]+=i*o)}(e,a,i),FL(e.end,e.start,r.offset)};!function(e){e.presets=p,e.registry=VA.create({type:"connection point"}),e.registry.register(e.presets,!0)}(GL||(GL={}));var VL=function(e){return Y(e)},WL=function(e,t,n){var r,i,a,o=t.side||"bottom",s=eT(t.padding||40),l=n.sourceBBox,u=n.targetBBox,c=l.getCenter(),h=u.getCenter();switch(o){case"top":a=-1,r="y",i="height";break;case"left":a=-1,r="x",i="width";break;case"right":a=1,r="x",i="width";break;default:a=1,r="y",i="height"}return c[r]+=a*(l[i]/2+s[o]),h[r]+=a*(u[i]/2+s[o]),a*(c[r]-h[r])>0?h[r]=c[r]:c[r]=h[r],[c.toJSON()].concat(Y(e),[h.toJSON()])};function XL(e){return new kA(e.x,e.y,0,0)}function qL(){var e=eT((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).padding||20);return{x:-e.left,y:-e.top,width:e.left+e.right,height:e.top+e.bottom}}function YL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sourceBBox.clone().moveAndExpand(qL(t))}function KL(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.targetBBox.clone().moveAndExpand(qL(t))}var JL,ZL=function(e,t,n){var r=YL(n,t),i=KL(n,t),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.sourceAnchor?e.sourceAnchor:YL(e,t).getCenter()}(n,t),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.targetAnchor?e.targetAnchor:KL(e,t).getCenter()}(n,t);r=r.union(XL(a)),i=i.union(XL(o));var s=e.map((function(e){return xA.create(e)}));s.unshift(a),s.push(o);for(var l=null,u=[],c=0,h=s.length-1;c<h;c+=1){var f=null,d=s[c],p=s[c+1],v=null!=JL.getBearing(d,p);if(0===c)c+1===h?r.intersectsWithRect(i.clone().inflate(1))?f=JL.insideNode(d,p,r,i):v||(f=JL.nodeToNode(d,p,r,i)):r.containsPoint(p)?f=JL.insideNode(d,p,r,XL(p).moveAndExpand(qL(t))):v||(f=JL.nodeToVertex(d,p,r));else if(c+1===h){var g=v&&JL.getBearing(p,d)===l;i.containsPoint(d)||g?f=JL.insideNode(d,p,XL(d).moveAndExpand(qL(t)),i,l):v||(f=JL.vertexToNode(d,p,i,l))}else v||(f=JL.vertexToVertex(d,p,l));f?(u.push.apply(u,Y(f.points)),l=f.direction):l=JL.getBearing(d,p),c+1<h&&u.push(p)}return u};!function(e){var t={N:"S",S:"N",E:"W",W:"E"},n={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function r(e,t,n){var r=new xA(e.x,t.y);return n.containsPoint(r)&&(r=new xA(t.x,e.y)),r}function i(e,t){return e["W"===t||"E"===t?"width":"height"]}function a(e,t){return e.x===t.x?e.y>t.y?"N":"S":e.y===t.y?e.x>t.x?"W":"E":null}function o(e,n,r){var i=new xA(e.x,n.y),o=new xA(n.x,e.y),s=a(e,i),l=a(e,o),u=r?t[r]:null,c=s===r||s!==u&&(l===u||l!==r)?i:o;return{points:[c],direction:a(c,n)}}function s(e,t,n){var i=r(e,t,n);return{points:[i],direction:a(i,t)}}e.getBBoxSize=i,e.getBearing=a,e.vertexToVertex=o,e.nodeToVertex=s,e.vertexToNode=function(e,t,n,o){var s,l=[new xA(e.x,t.y),new xA(t.x,e.y)],u=l.filter((function(e){return!n.containsPoint(e)})),c=u.filter((function(t){return a(t,e)!==o}));if(c.length>0)return{points:[s=(s=c.filter((function(t){return a(e,t)===o})).pop())||c[0]],direction:a(s,t)};s=M_(l,u)[0];var h=xA.create(t).move(s,-i(n,o)/2);return{points:[r(h,e,n),h],direction:a(h,t)}},e.nodeToNode=function(e,t,n,r){var l=s(t,e,r),u=l.points[0];if(n.containsPoint(u)){var c=(l=s(e,t,n)).points[0];if(r.containsPoint(c)){var h=xA.create(e).move(c,-i(n,a(e,c))/2),f=xA.create(t).move(u,-i(r,a(t,u))/2),d=new wA(h,f).getCenter(),p=s(e,d,n),v=o(d,t,p.direction);l.points=[p.points[0],v.points[0]],l.direction=v.direction}}return l},e.insideNode=function(e,t,i,o,s){var l,u,c,h,f=i.union(o).inflate(1),d=f.getCenter(),p=d.distance(t)>d.distance(e),v=p?t:e,g=p?e:t;return s?(l=xA.fromPolar(f.width+f.height,n[s],v),l=f.getNearestPointToPoint(l).move(l,-1)):l=f.getNearestPointToPoint(v).move(v,1),u=r(l,g,f),l.round().equals(u.round())?(u=xA.fromPolar(f.width+f.height,pA.toRad(l.theta(v))+Math.PI/2,g),c=r(l,u=f.getNearestPointToPoint(u).move(g,1).round(),f),h=p?[u,c,l]:[l,c,u]):h=p?[u,l]:[l,u],{points:h,direction:a(p?l:u,t)}}}(JL||(JL={}));var QL={step:10,maxLoopCount:2e3,precision:1,maxDirectionChange:90,perpendicular:!0,excludeTerminals:[],excludeNodes:[],excludeShapes:[],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return $L(this.step,this)},directions:function(){var e=$L(this.step,this),t=$L(this.cost,this);return[{cost:t,offsetX:e,offsetY:0},{cost:t,offsetX:-e,offsetY:0},{cost:t,offsetX:0,offsetY:e},{cost:t,offsetX:0,offsetY:-e}]},penalties:function(){var e=$L(this.step,this);return{0:0,45:e/2,90:e/2}},paddingBox:function(){var e=$L(this.step,this);return{x:-e,y:-e,width:2*e,height:2*e}},fallbackRouter:ZL,draggingRouter:null,snapToGrid:!0};function $L(e,t){return"function"===typeof e?e.call(t):e}var eN=function(){return M((function e(){T(this,e),this.items=[],this.hash={},this.values={}}),[{key:"add",value:function(e,t){var n=this;this.hash[e]?this.items.splice(this.items.indexOf(e),1):this.hash[e]=1,this.values[e]=t;var r=u_(this.items,e,(function(e){return n.values[e]}));this.items.splice(r,0,e)}},{key:"pop",value:function(){var e=this.items.shift();return e&&(this.hash[e]=2),e}},{key:"isOpen",value:function(e){return 1===this.hash[e]}},{key:"isClose",value:function(e){return 2===this.hash[e]}},{key:"isEmpty",value:function(){return 0===this.items.length}}])}(),tN=function(){return M((function e(t){T(this,e),this.options=t,this.mapGridSize=100,this.map={}}),[{key:"build",value:function(e,t){var n=this.options,r=n.excludeTerminals.reduce((function(n,r){var i=t[r];if(i){var a=e.getCell(i.cell);a&&n.push(a)}return n}),[]),i=[],a=e.getCell(t.getSourceCellId());a&&(i=XE(i,a.getAncestors().map((function(e){return e.id}))));var o=e.getCell(t.getTargetCellId());o&&(i=XE(i,o.getAncestors().map((function(e){return e.id}))));var s=this.mapGridSize;return e.getNodes().reduce((function(e,t){var a=r.some((function(e){return e.id===t.id})),o=!!t.shape&&n.excludeShapes.includes(t.shape),l=n.excludeNodes.some((function(e){return"string"===typeof e?t.id===e:e===t})),u=i.includes(t.id),c=o||a||l||u;if(t.isVisible()&&!c)for(var h=t.getBBox().moveAndExpand(n.paddingBox),f=h.getOrigin().snapToGrid(s),d=h.getCorner().snapToGrid(s),p=f.x;p<=d.x;p+=s)for(var v=f.y;v<=d.y;v+=s){var g=new xA(p,v).toString();null==e[g]&&(e[g]=[]),e[g].push(h)}return e}),this.map),this}},{key:"isAccessible",value:function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString(),n=this.map[t];return!n||n.every((function(t){return!t.containsPoint(e)}))}}])}();function nN(e,t){var n=e.sourceBBox.clone();return t&&t.paddingBox?n.moveAndExpand(t.paddingBox):n}function rN(e,t){var n=e.targetBBox.clone();return t&&t.paddingBox?n.moveAndExpand(t.paddingBox):n}function iN(e,t){return e.sourceAnchor?e.sourceAnchor:nN(e,t).getCenter()}function aN(e,t,n,r,i){var a=360/n,o=e.theta(function(e,t,n,r){var i=r.step,a=t.x-e.x,o=t.y-e.y,s=a/n.x,l=o/n.y,u=s*i,c=l*i;return new xA(e.x+u,e.y+c)}(e,t,r,i)),s=pA.normalize(o+a/2);return a*Math.floor(s/a)}function oN(e,t){var n=Math.abs(e-t);return n>180?360-n:n}function sN(e,t){if(!e)return t;var n=Math.abs(e),r=Math.round(n/t);return r?t+(n-r*t)/r:n}function lN(e,t){return e.round(t)}function uN(e,t,n){return lN(function(e,t){var n=t.source,r=vA.snapToGrid(e.x-n.x,t.x)+n.x,i=vA.snapToGrid(e.y-n.y,t.y)+n.y;return new xA(r,i)}(e.clone(),t),n)}function cN(e){return e.toString()}function hN(e){return new xA(0===e.x?0:Math.abs(e.x)/e.x,0===e.y?0:Math.abs(e.y)/e.y)}function fN(e,t){for(var n=1/0,r=0,i=t.length;r<i;r+=1){var a=e.manhattanDistance(t[r]);a<n&&(n=a)}return n}function dN(e,t,n,r,i){var a=i.precision,o=i.directionMap,s=e.diff(t.getCenter()),l=Object.keys(o).reduce((function(i,l){if(n.includes(l)){for(var u,c=o[l],h=new xA(e.x+c.x*(Math.abs(s.x)+t.width),e.y+c.y*(Math.abs(s.y)+t.height)),f=new wA(e,h).intersect(t)||[],d=null,p=0;p<f.length;p+=1){var v=f[p],g=e.squaredDistance(v);(null==u||g>u)&&(u=g,d=v)}if(d){var m=uN(d,r,a);t.containsPoint(m)&&(m=uN(m.translate(c.x*r.x,c.y*r.y),r,a)),i.push(m)}}return i}),[]);return t.containsPoint(e)||l.push(uN(e,r,a)),l}function pN(e,t,n,r,i){for(var a,o=[],s=hN(i.diff(n)),l=cN(n),u=e[l];u;){var c=hN((a=t[l]).diff(u));c.equals(s)||(o.unshift(a),s=c),u=e[l=cN(u)]}var h=t[l];return hN(h.diff(r)).equals(s)||o.unshift(h),o}function vN(e,t,n,r,i){var a,o,s=i.precision;a=kA.isRectangle(t)?lN(iN(e,i).clone(),s):lN(t.clone(),s),o=kA.isRectangle(n)?lN(function(e,t){return e.targetAnchor?e.targetAnchor:rN(e,t).getCenter()}(e,i).clone(),s):lN(n.clone(),s);var l,u,c,h,f,d=(l=i.step,c=o,{source:(u=a).clone(),x:sN(c.x-u.x,l),y:sN(c.y-u.y,l)}),p=a,v=o;if(h=kA.isRectangle(t)?dN(p,t,i.startDirections,d,i):[p],f=kA.isRectangle(n)?dN(o,n,i.endDirections,d,i):[v],h=h.filter((function(e){return r.isAccessible(e)})),f=f.filter((function(e){return r.isAccessible(e)})),h.length>0&&f.length>0){for(var g=new eN,m={},y={},b={},x=0,k=h.length;x<k;x+=1){var w=h[x],S=cN(w);g.add(S,fN(w,f)),m[S]=w,b[S]=0}for(var E,_,M=i.previousDirectionAngle,T=void 0===M,C=function(e,t){var n=t.step;return t.directions.forEach((function(t){t.gridOffsetX=t.offsetX/n*e.x,t.gridOffsetY=t.offsetY/n*e.y})),t.directions}(d,i),A=C.length,P=f.reduce((function(e,t){var n=cN(t);return e.push(n),e}),[]),O=xA.equalPoints(h,f),R=i.maxLoopCount;!g.isEmpty()&&R>0;){var L=g.pop(),N=m[L],I=y[L],D=b[L],F=N.equals(p),U=null==I,B=void 0;if(B=U?T?F?null:aN(p,N,A,d,i):M:aN(I,N,A,d,i),!(U&&O)&&P.indexOf(L)>=0)return i.previousDirectionAngle=B,pN(y,m,N,p,v);for(var z=0;z<A;z+=1){var H=(E=C[z]).angle;if(_=oN(B,H),T&&F||!(_>i.maxDirectionChange)){var G=uN(N.clone().translate(E.gridOffsetX||0,E.gridOffsetY||0),d,s),j=cN(G);if(!g.isClose(j)&&r.isAccessible(G)){if(P.indexOf(j)>=0)if(!G.equals(v))if(oN(H,aN(G,v,A,d,i))>i.maxDirectionChange)continue;var V=D+E.cost+(F?0:i.penalties[_]);(!g.isOpen(j)||V<b[j])&&(m[j]=G,y[j]=N,b[j]=V,g.add(j,V+fN(G,f)))}}}R-=1}}return i.fallbackRoute?Ib(i.fallbackRoute,this,p,v,i):null}var gN=function(e,t,n){for(var r,i,a=function(e){var t=Object.keys(e).reduce((function(t,n){return t[n]="fallbackRouter"===n||"draggingRouter"===n||"fallbackRoute"===n?e[n]:$L(e[n],e),t}),{});if(t.padding){var n=eT(t.padding);t.paddingBox={x:-n.left,y:-n.top,width:n.left+n.right,height:n.top+n.bottom}}return t.directions.forEach((function(e){var t=new xA(0,0),n=new xA(e.offsetX,e.offsetY);e.angle=pA.normalize(t.theta(n))})),t}(t),o=nN(n,a),s=rN(n,a),l=iN(n,a),u=new tN(a).build(n.graph.model,n.cell),c=e.map((function(e){return xA.create(e)})),h=[],f=l,d=0,p=c.length;d<=p;d+=1){var v=null;if(r=i||o,null==(i=c[d])){i=s;var g=n.cell;if((null==g.getSourceCellId()||null==g.getTargetCellId())&&"function"===typeof a.draggingRouter){var m=r===o?l:r,y=i.getOrigin();v=Ib(a.draggingRouter,n,m,y,a)}}if(null==v&&(v=vN(n,r,i,u,a)),null===v)return console.warn("Unable to execute manhattan algorithm, use orth instead"),Ib(a.fallbackRouter,this,e,a,n);var b=v[0];b&&b.equals(f)&&v.shift(),f=v[v.length-1]||f,h.push.apply(h,Y(v))}return a.snapToGrid?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(e.length<=1)return e;for(var n=0,r=e.length;n<r-1;n+=1){var i=e[n],a=e[n+1];if(i.x===a.x){var o=t*Math.round(i.x/t);i.x!==o&&(i.x=o,a.x=o)}else if(i.y===a.y){var s=t*Math.round(i.y/t);i.y!==s&&(i.y=s,a.y=s)}}return e}(h,n.graph.grid.getGridSize()):h},mN=function(e,t,n){return Ib(gN,this,e,Object.assign(Object.assign({},QL),t),n)},yN={maxDirectionChange:45,directions:function(){var e=$L(this.step,this),t=$L(this.cost,this),n=Math.ceil(Math.sqrt(e*e<<1));return[{cost:t,offsetX:e,offsetY:0},{cost:n,offsetX:e,offsetY:e},{cost:t,offsetX:0,offsetY:e},{cost:n,offsetX:-e,offsetY:e},{cost:t,offsetX:-e,offsetY:0},{cost:n,offsetX:-e,offsetY:-e},{cost:t,offsetX:0,offsetY:-e},{cost:n,offsetX:e,offsetY:-e}]},fallbackRoute:function(e,t,n){var r=e.theta(t),i=[],a={x:t.x,y:e.y},o={x:e.x,y:t.y};if(r%180>90){var s=a;a=o,o=s}var l=r%90<45?a:o,u=new wA(e,l),c=90*Math.ceil(r/90),h=xA.fromPolar(u.squaredLength(),pA.toRad(c+135),l),f=new wA(t,h),d=u.intersectsWithLine(f),p=d||t,v=d?p:e,g=360/n.directions.length,m=v.theta(t),y=pA.normalize(m+g/2),b=g*Math.floor(y/g);return n.previousDirectionAngle=b,p&&i.push(p.round()),i.push(t),i}},bN=function(e,t,n){return Ib(mN,this,e,Object.assign(Object.assign({},yN),t),n)},xN=function(e,t,n){var r,i,a,o=t.offset||32,s=null==t.min?16:t.min,l=0,u=t.direction,c=n.sourceBBox,h=n.targetBBox,f=c.getCenter(),d=h.getCenter();if("number"===typeof o&&(l=o),null==u){var p=h.left-c.right,v=h.top-c.bottom;p>=0&&v>=0?u=p>=v?"L":"T":p<=0&&v>=0?u=(p=c.left-h.right)>=0&&p>=v?"R":"T":p>=0&&v<=0?u=(v=c.top-h.bottom)>=0?p>=v?"L":"B":"L":(p=c.left-h.right,v=c.top-h.bottom,u=p>=0&&v>=0?p>=v?"R":"B":p<=0&&v>=0?"B":p>=0&&v<=0||Math.abs(p)>Math.abs(v)?"R":"B")}"H"===u?u=d.x-f.x>=0?"L":"R":"V"===u&&(u=d.y-f.y>=0?"T":"B"),"center"===o&&("L"===u?l=(h.left-c.right)/2:"R"===u?l=(c.left-h.right)/2:"T"===u?l=(h.top-c.bottom)/2:"B"===u&&(l=(c.top-h.bottom)/2));var g="L"===u||"R"===u;if(g){if(d.y===f.y)return Y(e);a="L"===u?1:-1,r="x",i="width"}else{if(d.x===f.x)return Y(e);a="T"===u?1:-1,r="y",i="height"}var m=f.clone(),y=d.clone();if(m[r]+=a*(c[i]/2+l),y[r]-=a*(h[i]/2+l),g){var b=m.x,x=y.x,k=c.width/2+s,w=h.width/2+s;d.x>f.x?x<=b&&(m.x=Math.max(x,f.x+k),y.x=Math.min(b,d.x-w)):x>=b&&(m.x=Math.min(x,f.x-k),y.x=Math.max(b,d.x+w))}else{var S=m.y,E=y.y,_=c.height/2+s,M=h.height/2+s;d.y>f.y?E<=S&&(m.y=Math.max(E,f.y+_),y.y=Math.min(S,d.y-M)):E>=S&&(m.y=Math.min(E,f.y-_),y.y=Math.max(S,d.y+M))}return[m.toJSON()].concat(Y(e),[y.toJSON()])};function kN(e,t){if(null!=t&&!1!==t){var n="boolean"===typeof t?0:t;if(n>0){var r=xA.create(e[1]).move(e[2],n),i=xA.create(e[1]).move(e[0],n);return[r.toJSON()].concat(Y(e),[i.toJSON()])}var a=e[1];return[Object.assign({},a)].concat(Y(e),[Object.assign({},a)])}return e}var wN,SN=function(e,t,n){var r=t.width||50,i=(t.height||80)/2,a=t.angle||"auto",o=n.sourceAnchor,s=n.targetAnchor,l=n.sourceBBox,u=n.targetBBox;if(o.equals(s)){var c=function(e){var t=pA.toRad(e),n=Math.sin(t),a=Math.cos(t),s=new xA(o.x+a*r,o.y+n*r),l=new xA(s.x-a*i,s.y-n*i),u=l.clone().rotate(-90,s),c=l.clone().rotate(90,s);return[u.toJSON(),s.toJSON(),c.toJSON()]},h=function(e){var t=o.clone().move(e,-1),n=new wA(t,e);return!l.containsPoint(e)&&!l.intersectsWithLine(n)},f=[0,90,180,270,45,135,225,315];if("number"===typeof a)return kN(c(a),t.merge);var d=l.getCenter();if(d.equals(o))return kN(c(0),t.merge);var p=d.angleBetween(o,d.clone().translate(1,0)),v=c(p);if(h(v[1]))return kN(v,t.merge);for(var g=1,m=f.length;g<m;g+=1)if(h((v=c(p+f[g]))[1]))return kN(v,t.merge);return kN(v,t.merge)}var y=new wA(o,s),b=y.parallel(-r),x=b.getCenter(),k=b.start.clone().move(b.end,i),w=b.end.clone().move(b.start,i),S=y.parallel(-1),E=new wA(S.start,x),_=new wA(S.end,x);if((l.containsPoint(x)||u.containsPoint(x)||l.intersectsWithLine(E)||l.intersectsWithLine(_)||u.intersectsWithLine(E)||u.intersectsWithLine(_))&&(x=(b=y.parallel(r)).getCenter(),k=b.start.clone().move(b.end,i),w=b.end.clone().move(b.start,i)),t.merge){var M=new wA(o,s),T=new wA(x,M.center).setLength(Number.MAX_SAFE_INTEGER),C=l.intersectsWithLine(T),A=u.intersectsWithLine(T),P=C?Array.isArray(C)?C:[C]:[];A&&(Array.isArray(A)?P.push.apply(P,Y(A)):P.push(A));var O=M.center.closest(P);O?(n.sourceAnchor=O.clone(),n.targetAnchor=O.clone()):(n.sourceAnchor=M.center.clone(),n.targetAnchor=M.center.clone())}return kN([k.toJSON(),x.toJSON(),w.toJSON()],t.merge)};!function(e){e.presets=v,e.registry=VA.create({type:"router"}),e.registry.register(e.presets,!0)}(wN||(wN={}));var EN,_N,MN=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=[e].concat(Y(n),[t]),a=new PA(i),o=new jA(a);return r.raw?o:o.serialize()},TN=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=3===n.length?0:1,a=xA.create(n[0+i]),o=xA.create(n[2+i]),s=xA.create(n[1+i]);if(!xA.equals(e,t)){var l=new xA((e.x+t.x)/2,(e.y+t.y)/2),u=l.angleBetween(xA.create(e).rotate(90,l),s);u>1&&(a.rotate(180-u,l),o.rotate(180-u,l),s.rotate(180-u,l))}var c="\n     M ".concat(e.x," ").concat(e.y,"\n     Q ").concat(a.x," ").concat(a.y," ").concat(s.x," ").concat(s.y,"\n     Q ").concat(o.x," ").concat(o.y," ").concat(t.x," ").concat(t.y,"\n  ");return r.raw?jA.parse(c):c},CN=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new jA;i.appendSegment(jA.createSegment("M",e));for(var a,o,s=1/3,l=2/3,u=r.radius||10,c=0,h=n.length;c<h;c+=1){var f=xA.create(n[c]),d=n[c-1]||e,p=n[c+1]||t;a=o||f.distance(d)/2,o=f.distance(p)/2;var v=-Math.min(u,a),g=-Math.min(u,o),m=f.clone().move(d,v).round(),y=f.clone().move(p,g).round(),b=new xA(s*m.x+l*f.x,l*f.y+s*m.y),x=new xA(s*y.x+l*f.x,l*f.y+s*y.y);i.appendSegment(jA.createSegment("L",m)),i.appendSegment(jA.createSegment("C",b,x,y))}return i.appendSegment(jA.createSegment("L",t)),r.raw?i:i.serialize()},AN=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.direction;if(n&&0!==n.length){var o=[e].concat(Y(n),[t]),s=OA.throughPoints(o);r=new jA(s)}else if((r=new jA).appendSegment(jA.createSegment("M",e)),a||(a=Math.abs(e.x-t.x)>=Math.abs(e.y-t.y)?"H":"V"),"H"===a){var l=(e.x+t.x)/2;r.appendSegment(jA.createSegment("C",l,e.y,l,t.y,t.x,t.y))}else{var u=(e.y+t.y)/2;r.appendSegment(jA.createSegment("C",e.x,u,t.x,u,t.x,t.y))}return i.raw?r:r.serialize()},PN=1/3,ON=2/3;function RN(e,t){var n=[e].concat(Y(arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]),[t]),r=[];return n.forEach((function(e,t){var i=n[t+1];null!=i&&r.push(new wA(e,i))})),r}function LN(e,t){return new wA(e,t).squaredLength()}function NN(e,t,n,r){var i,a=new jA;return i=jA.createSegment("M",e[0].start),a.appendSegment(i),e.forEach((function(o,s){if(EN.includes(o)){var l,u,c,h;if("arc"===n){l=-90,((u=o.start.diff(o.end)).x<0||0===u.x&&u.y<0)&&(l+=180);var f,d=o.getCenter(),p=new wA(d,o.end).rotate(l,d);c=(f=new wA(o.start,d)).pointAt(2/3).rotate(l,o.start),h=p.pointAt(1/3).rotate(-l,p.end),i=jA.createSegment("C",c,h,p.end),a.appendSegment(i),f=new wA(d,o.end),c=p.pointAt(1/3).rotate(l,p.end),h=f.pointAt(1/3).rotate(-l,o.end),i=jA.createSegment("C",c,h,o.end),a.appendSegment(i)}else if("gap"===n)i=jA.createSegment("M",o.end),a.appendSegment(i);else if("cubic"===n){l=o.start.theta(o.end);var v=.6*t,g=1.35*t;((u=o.start.diff(o.end)).x<0||0===u.x&&u.y<0)&&(g*=-1),c=new xA(o.start.x+v,o.start.y+g).rotate(l,o.start),h=new xA(o.end.x-v,o.end.y+g).rotate(l,o.end),i=jA.createSegment("C",c,h,o.end),a.appendSegment(i)}}else{var m=e[s+1];0===r||!m||EN.includes(m)?(i=jA.createSegment("L",o.end),a.appendSegment(i)):function(e,t,n,r,i){var a,o=n.distance(r)/2,s=n.distance(i)/2,l=-Math.min(e,o),u=-Math.min(e,s),c=n.clone().move(r,l).round(),h=n.clone().move(i,u).round(),f=new xA(PN*c.x+ON*n.x,ON*n.y+PN*c.y),d=new xA(PN*h.x+ON*n.x,ON*n.y+PN*h.y);a=jA.createSegment("L",c),t.appendSegment(a),a=jA.createSegment("C",f,d,h),t.appendSegment(a)}(r,a,o.end,o.start,m.end)}})),a}var IN,DN=function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};EN=[],_N=[],function(e){var t=e.graph._jumpOverUpdateList;if(null==t&&(t=e.graph._jumpOverUpdateList=[],e.graph.on("cell:mouseup",(function(){var t=e.graph._jumpOverUpdateList;setTimeout((function(){for(var e=0;e<t.length;e+=1)t[e].update()}))})),e.graph.on("model:reseted",(function(){t=e.graph._jumpOverUpdateList=[]}))),t.indexOf(e)<0){t.push(e);var n=function(){return t.splice(t.indexOf(e),1)};e.cell.once("change:connector",n),e.cell.once("removed",n)}}(this);var a=i.size||5,o=i.type||"arc",s=i.radius||0,l=i.ignoreConnectors||["smooth"],u=this.graph,c=u.model.getEdges();if(1===c.length)return NN(RN(e,t,n),a,o,s);var h=this.cell,f=c.indexOf(h),d=u.options.connecting.connector||{},p=c.filter((function(e,t){var n=e.getConnector()||d;return!l.includes(n.name)&&(!(t>f)||"jumpover"!==n.name)})),v=p.map((function(e){return u.findViewByCell(e)})),g=RN(e,t,n),m=v.map((function(e){return null==e?[]:e===r?g:RN(e.sourcePoint,e.targetPoint,e.routePoints)})),y=[];g.forEach((function(e){var t=p.reduce((function(t,n,r){if(n!==h){var i=function(e,t){var n=[];return t.forEach((function(t){var r=e.intersectsWithLine(t);r&&n.push(r)})),n}(e,m[r]);t.push.apply(t,Y(i))}return t}),[]).sort((function(t,n){return LN(e.start,t)-LN(e.start,n)}));t.length>0?y.push.apply(y,Y(function(e,t,n){return t.reduce((function(r,i,a){if(_N.includes(i))return r;var o=r.pop()||e,s=xA.create(i).move(o.start,-n),l=xA.create(i).move(o.start,+n),u=t[a+1];if(null!=u){var c=l.distance(u);c<=n&&(l=u.move(o.start,c),_N.push(u))}else if(s.distance(o.end)<2*n+1)return r.push(o),r;if(l.distance(o.start)<2*n+1)return r.push(o),r;var h=new wA(s,l);return EN.push(h),r.push(new wA(o.start,s),h,new wA(l,o.end)),r}),[])}(e,t,a))):y.push(e)}));var b=NN(y,a,o,s);return EN=[],_N=[],i.raw?b:b.serialize()};!function(e){e.presets=g,e.registry=VA.create({type:"connector"}),e.registry.register(e.presets,!0)}(IN||(IN={}));var FN=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},UN=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T(this,t),(e=z(this,t)).pending=!1,e.changing=!1,e.data={},e.mutate(yE(n)),e.changed={},e}return G(t,e),M(t,[{key:"mutate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=!0===n.unset,i=!0===n.silent,a=[],o=this.changing;this.changing=!0,o||(this.previous=yE(this.data),this.changed={});var s=this.data,l=this.previous,u=this.changed;if(Object.keys(e).forEach((function(t){var n=t,i=e[n];zS(s[n],i)||a.push(n),zS(l[n],i)?delete u[n]:u[n]=i,r?delete s[n]:s[n]=i})),!i&&a.length>0&&(this.pending=!0,this.pendingOptions=n,a.forEach((function(e){t.emit("change:*",{key:e,options:n,store:t,current:s[e],previous:l[e]})}))),o)return this;if(!i)for(;this.pending;)this.pending=!1,this.emit("changed",{current:s,previous:l,store:this,options:this.pendingOptions});return this.pending=!1,this.changing=!1,this.pendingOptions=null,this}},{key:"get",value:function(e,t){if(null==e)return this.data;var n=this.data[e];return null==n?t:n}},{key:"getPrevious",value:function(e){if(this.previous){var t=this.previous[e];return null==t?void 0:t}}},{key:"set",value:function(e,t,n){return null!=e&&("object"===typeof e?this.mutate(e,t):this.mutate(j({},e,t),n)),this}},{key:"remove",value:function(e,t){var n,r=void 0,i={};if("string"===typeof e)i[e]=r,n=t;else if(Array.isArray(e))e.forEach((function(e){return i[e]=r})),n=t;else{for(var a in this.data)i[a]=r;n=e}return this.mutate(i,Object.assign(Object.assign({},n),{unset:!0})),this}},{key:"getByPath",value:function(e){return OE(this.data,e,"/")}},{key:"setByPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="/",i=Array.isArray(e)?Y(e):e.split(r),a=Array.isArray(e)?e.join(r):e,o=i[0],s=i.length;if(n.propertyPath=a,n.propertyValue=t,n.propertyPathArray=i,1===s)this.set(o,t,n);else{for(var l={},u=l,c=o,h=1;h<s;h+=1){var f=i[h],d=Number.isFinite(Number(f));u=u[c]=d?[]:{},c=f}RE(l,i,t,r);var p=yE(this.data);n.rewrite&&LE(p,e,r);var v=Ww(p,l);this.set(o,v[o],n)}return this}},{key:"removeByPath",value:function(e,t){var n=Array.isArray(e)?e:e.split("/"),r=n[0];if(1===n.length)this.remove(r,t);else{var i=n.slice(1),a=yE(this.get(r));a&&LE(a,i),this.set(r,a,t)}return this}},{key:"hasChanged",value:function(e){return null==e?Object.keys(this.changed).length>0:e in this.changed}},{key:"getChanges",value:function(e){if(null==e)return this.hasChanged()?yE(this.changed):null;var t,n=this.changing?this.previous:this.data,r={};for(var i in e){var a=e[i];zS(n[i],a)||(r[i]=a,t=!0)}return t?yE(r):null}},{key:"toJSON",value:function(){return yE(this.data)}},{key:"clone",value:function(){return new(0,this.constructor)(this.data)}},{key:"dispose",value:function(){this.off(),this.data={},this.previous={},this.changed={},this.pending=!1,this.changing=!1,this.pendingOptions=null,this.trigger("disposed",{store:this})}}])}(IE);FN([IE.dispose()],UN.prototype,"dispose",null);var BN=function(){function e(t){T(this,e),this.cell=t,this.ids={},this.cache={}}return M(e,[{key:"get",value:function(){return Object.keys(this.ids)}},{key:"start",value:function(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/",o=this.cell.getPropByPath(t),s=wE(i,e.defaultOptions),l=this.getTiming(s.timing),u=this.getInterp(s.interp,o,n),c=0,h=Array.isArray(t)?t.join(a):t,f=Array.isArray(t)?t:t.split(a),d=function(){var e=(new Date).getTime();0===c&&(c=e);var t=(e-c)/s.duration;t<1?r.ids[h]=requestAnimationFrame(d):t=1;var n=u(l(t));r.cell.setPropByPath(f,n),i.progress&&i.progress(Object.assign({progress:t,currentValue:n},r.getArgs(h))),1===t&&(r.cell.notify("transition:complete",r.getArgs(h)),i.complete&&i.complete(r.getArgs(h)),r.cell.notify("transition:finish",r.getArgs(h)),i.finish&&i.finish(r.getArgs(h)),r.clean(h))};return setTimeout((function(){r.stop(t,void 0,a),r.cache[h]={startValue:o,targetValue:n,options:s},r.ids[h]=requestAnimationFrame(d),r.cell.notify("transition:start",r.getArgs(h)),i.start&&i.start(r.getArgs(h))}),i.delay),this.stop.bind(this,t,a,i)}},{key:"stop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i=Array.isArray(e)?e:e.split(r);return Object.keys(this.ids).filter((function(e){return zS(i,e.split(r).slice(0,i.length))})).forEach((function(e){cancelAnimationFrame(t.ids[e]);var r=t.cache[e],i=t.getArgs(e),a=Object.assign(Object.assign({},r.options),n),o=a.jumpedToEnd;o&&null!=r.targetValue&&(t.cell.setPropByPath(e,r.targetValue),t.cell.notify("transition:end",Object.assign({},i)),t.cell.notify("transition:complete",Object.assign({},i)),a.complete&&a.complete(Object.assign({},i)));var s=Object.assign({jumpedToEnd:o},i);t.cell.notify("transition:stop",Object.assign({},s)),a.stop&&a.stop(Object.assign({},s)),t.cell.notify("transition:finish",Object.assign({},i)),a.finish&&a.finish(Object.assign({},i)),t.clean(e)})),this}},{key:"clean",value:function(e){delete this.ids[e],delete this.cache[e]}},{key:"getTiming",value:function(e){return"string"===typeof e?hA[e]:e}},{key:"getInterp",value:function(e,t,n){return e?e(t,n):"number"===typeof n?fA.number(t,n):"string"===typeof n?"#"===n[0]?fA.color(t,n):fA.unit(t,n):fA.object(t,n)}},{key:"getArgs",value:function(e){var t=this.cache[e];return{path:e,startValue:t.startValue,targetValue:t.targetValue,cell:this.cell}}}])}();!function(e){e.defaultOptions={delay:10,duration:100,timing:"linear"}}(BN||(BN={}));var zN,HN=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},GN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jN=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};T(this,t);var r=(e=z(this,t)).constructor.getDefaults(!0),i=Ww({},e.preprocess(r),e.preprocess(n));return e.id=i.id||qM(),e.store=new UN(i),e.animation=new BN(e),e.setup(),e.init(),e.postprocess(n),e}return G(t,e),M(t,[{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"init",value:function(){}},{key:"model",get:function(){return this._model},set:function(e){this._model!==e&&(this._model=e)}},{key:"preprocess",value:function(e,t){var n=e.id,r=this.constructor.applyPropHooks(this,e);return null==n&&!0!==t&&(r.id=qM()),r}},{key:"postprocess",value:function(e){}},{key:"setup",value:function(){var e=this;this.store.on("change:*",(function(t){var n=t.key,r=t.current,i=t.previous,a=t.options;e.notify("change:*",{key:n,options:a,current:r,previous:i,cell:e}),e.notify("change:".concat(n),{options:a,current:r,previous:i,cell:e});var o=n;"source"!==o&&"target"!==o||e.notify("change:terminal",{type:o,current:r,previous:i,options:a,cell:e})})),this.store.on("changed",(function(t){var n=t.options;return e.notify("changed",{options:n,cell:e})}))}},{key:"notify",value:function(e,t){this.trigger(e,t);var n=this.model;return n&&(n.notify("cell:".concat(e),t),this.isNode()?n.notify("node:".concat(e),Object.assign(Object.assign({},t),{node:this})):this.isEdge()&&n.notify("edge:".concat(e),Object.assign(Object.assign({},t),{edge:this}))),this}},{key:"isNode",value:function(){return!1}},{key:"isEdge",value:function(){return!1}},{key:"isSameStore",value:function(e){return this.store===e.store}},{key:"view",get:function(){return this.store.get("view")}},{key:"shape",get:function(){return this.store.get("shape","")}},{key:"getProp",value:function(e,t){return null==e?this.store.get():this.store.get(e,t)}},{key:"setProp",value:function(e,t,n){if("string"===typeof e)this.store.set(e,t,n);else{var r=this.preprocess(e,!0);this.store.set(Ww({},this.getProp(),r),t),this.postprocess(e)}return this}},{key:"removeProp",value:function(e,t){return"string"===typeof e||Array.isArray(e)?this.store.removeByPath(e,t):this.store.remove(t),this}},{key:"hasChanged",value:function(e){return null==e?this.store.hasChanged():this.store.hasChanged(e)}},{key:"getPropByPath",value:function(e){return this.store.getByPath(e)}},{key:"setPropByPath",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model&&("children"===e?this._children=t?t.map((function(e){return n.model.getCell(e)})).filter((function(e){return null!=e})):null:"parent"===e&&(this._parent=t?this.model.getCell(t):null)),this.store.setByPath(e,t,r),this}},{key:"removePropByPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e)?e:e.split("/");return"attrs"===n[0]&&(t.dirty=!0),this.store.removeByPath(n,t),this}},{key:"prop",value:function(e,t,n){return null==e?this.getProp():"string"===typeof e||Array.isArray(e)?1===arguments.length?this.getPropByPath(e):null==t?this.removePropByPath(e,n||{}):this.setPropByPath(e,t,n||{}):this.setProp(e,t||{})}},{key:"previous",value:function(e){return this.store.getPrevious(e)}},{key:"zIndex",get:function(){return this.getZIndex()},set:function(e){null==e?this.removeZIndex():this.setZIndex(e)}},{key:"getZIndex",value:function(){return this.store.get("zIndex")}},{key:"setZIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("zIndex",e,t),this}},{key:"removeZIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("zIndex",e),this}},{key:"toFront",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.model;if(t){var n,r=t.getMaxZIndex();e.deep?(n=this.getDescendants({deep:!0,breadthFirst:!0})).unshift(this):n=[this],r=r-n.length+1;var i=t.total(),a=t.indexOf(this)!==i-n.length;a||(a=n.some((function(e,t){return e.getZIndex()!==r+t}))),a&&this.batchUpdate("to-front",(function(){r+=n.length,n.forEach((function(t,n){t.setZIndex(r+n,e)}))}))}return this}},{key:"toBack",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.model;if(t){var n,r=t.getMinZIndex();e.deep?(n=this.getDescendants({deep:!0,breadthFirst:!0})).unshift(this):n=[this];var i=0!==t.indexOf(this);i||(i=n.some((function(e,t){return e.getZIndex()!==r+t}))),i&&this.batchUpdate("to-back",(function(){r-=n.length,n.forEach((function(t,n){t.setZIndex(r+n,e)}))}))}return this}},{key:"markup",get:function(){return this.getMarkup()},set:function(e){null==e?this.removeMarkup():this.setMarkup(e)}},{key:"getMarkup",value:function(){var e=this.store.get("markup");null==e&&(e=this.constructor.getMarkup());return e}},{key:"setMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("markup",e,t),this}},{key:"removeMarkup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("markup",e),this}},{key:"attrs",get:function(){return this.getAttrs()},set:function(e){null==e?this.removeAttrs():this.setAttrs(e)}},{key:"getAttrs",value:function(){var e=this.store.get("attrs");return e?Object.assign({},e):{}}},{key:"setAttrs",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)this.removeAttrs(n);else{var r=function(e){return t.store.set("attrs",e,n)};if(!0===n.overwrite)r(e);else{var i=this.getAttrs();!1===n.deep?r(Object.assign(Object.assign({},i),e)):r(Ww({},i,e))}}return this}},{key:"replaceAttrs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttrs(e,Object.assign(Object.assign({},t),{overwrite:!0}))}},{key:"updateAttrs",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttrs(e,Object.assign(Object.assign({},t),{deep:!1}))}},{key:"removeAttrs",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("attrs",e),this}},{key:"getAttrDefinition",value:function(e){if(!e)return null;var t=this.constructor.getAttrHooks()||{},n=t[e]||DO.registry.get(e);if(!n){var r=FM(e);n=t[r]||DO.registry.get(r)}return n||null}},{key:"getAttrByPath",value:function(e){return null==e||""===e?this.getAttrs():this.getPropByPath(this.prefixAttrPath(e))}},{key:"setAttrByPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setPropByPath(this.prefixAttrPath(e),t,n),this}},{key:"removeAttrByPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removePropByPath(this.prefixAttrPath(e),t),this}},{key:"prefixAttrPath",value:function(e){return Array.isArray(e)?["attrs"].concat(e):"attrs/".concat(e)}},{key:"attr",value:function(e,t,n){return null==e?this.getAttrByPath():"string"===typeof e||Array.isArray(e)?1===arguments.length?this.getAttrByPath(e):null==t?this.removeAttrByPath(e,n||{}):this.setAttrByPath(e,t,n||{}):this.setAttrs(e,t||{})}},{key:"visible",get:function(){return this.isVisible()},set:function(e){this.setVisible(e)}},{key:"setVisible",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("visible",e,t),this}},{key:"isVisible",value:function(){return!1!==this.store.get("visible")}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isVisible()||this.setVisible(!0,e),this}},{key:"hide",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.isVisible()&&this.setVisible(!1,e),this}},{key:"toggleVisible",value:function(e){var t="boolean"===typeof e?arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}:e;return("boolean"===typeof e?e:!this.isVisible())?this.show(t):this.hide(t),this}},{key:"data",get:function(){return this.getData()},set:function(e){this.setData(e)}},{key:"getData",value:function(){return this.store.get("data")}},{key:"setData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)this.removeData(n);else{var r=function(e){return t.store.set("data",e,n)};if(!0===n.overwrite)r(e);else{var i=this.getData();!1===n.deep?r("object"===typeof e?Object.assign(Object.assign({},i),e):e):r(Ww({},i,e))}}return this}},{key:"replaceData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setData(e,Object.assign(Object.assign({},t),{overwrite:!0}))}},{key:"updateData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setData(e,Object.assign(Object.assign({},t),{deep:!1}))}},{key:"removeData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("data",e),this}},{key:"parent",get:function(){return this.getParent()}},{key:"children",get:function(){return this.getChildren()}},{key:"getParentId",value:function(){return this.store.get("parent")}},{key:"getParent",value:function(){var e=this.getParentId();if(e&&this.model){var t=this.model.getCell(e);return this._parent=t,t}return null}},{key:"getChildren",value:function(){var e=this,t=this.store.get("children");if(t&&t.length&&this.model){var n=t.map((function(t){var n;return null===(n=e.model)||void 0===n?void 0:n.getCell(t)})).filter((function(e){return null!=e}));return this._children=n,Y(n)}return null}},{key:"hasParent",value:function(){return null!=this.parent}},{key:"isParentOf",value:function(e){return null!=e&&e.getParent()===this}},{key:"isChildOf",value:function(e){return null!=e&&this.getParent()===e}},{key:"eachChild",value:function(e,t){return this.children&&this.children.forEach(e,t),this}},{key:"filterChild",value:function(e,t){return this.children?this.children.filter(e,t):[]}},{key:"getChildCount",value:function(){return null==this.children?0:this.children.length}},{key:"getChildIndex",value:function(e){return null==this.children?-1:this.children.indexOf(e)}},{key:"getChildAt",value:function(e){return null!=this.children&&e>=0?this.children[e]:null}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[],n=this.getParent();n;)t.push(n),n=!1!==e.deep?n.getParent():null;return t}},{key:"getDescendants",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!1!==e.deep){if(e.breadthFirst){for(var t=[],n=this.getChildren()||[];n.length>0;){var r=n.shift(),i=r.getChildren();t.push(r),i&&n.push.apply(n,Y(i))}return t}var a=this.getChildren()||[];return a.forEach((function(t){a.push.apply(a,Y(t.getDescendants(e)))})),a}return this.getChildren()||[]}},{key:"isDescendantOf",value:function(e){if(null==e)return!1;if(!1!==(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).deep){for(var t=this.getParent();t;){if(t===e)return!0;t=t.getParent()}return!1}return this.isChildOf(e)}},{key:"isAncestorOf",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null!=e&&e.isDescendantOf(this,t)}},{key:"contains",value:function(e){return this.isAncestorOf(e)}},{key:"getCommonAncestor",value:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.getCommonAncestor.apply(t,[this].concat(n))}},{key:"setParent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._parent=e,e?this.store.set("parent",e.id,t):this.store.remove("parent",t),this}},{key:"setChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._children=e,null!=e?this.store.set("children",e.map((function(e){return e.id})),t):this.store.remove("children",t),this}},{key:"unembed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.children;if(null!=n&&null!=e){var r=this.getChildIndex(e);-1!==r&&(n.splice(r,1),e.setParent(null,t),this.setChildren(n,t))}return this}},{key:"embed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.addTo(this,t),this}},{key:"addTo",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.isCell(e)?e.addChild(this,n):e.addCell(this,n),this}},{key:"insertTo",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.insertChild(this,t,n),this}},{key:"addChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.insertChild(e,void 0,t)}},{key:"insertChild",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&e!==this){var r=e.getParent(),i=this!==r,a=t;if(null==a&&(a=this.getChildCount(),i||(a-=1)),r){var o=r.getChildren();if(o){var s=o.indexOf(e);s>=0&&(e.setParent(null,n),o.splice(s,1),r.setChildren(o,n))}}var l=this.children;if(null==l?(l=[]).push(e):l.splice(a,0,e),e.setParent(this,n),this.setChildren(l,n),i&&this.model){var u=this.model.getIncomingEdges(this),c=this.model.getOutgoingEdges(this);u&&u.forEach((function(e){return e.updateParent(n)})),c&&c.forEach((function(e){return e.updateParent(n)}))}this.model&&this.model.addCell(e,n)}return this}},{key:"removeFromParent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getParent();if(null!=t){var n=t.getChildIndex(this);t.removeChildAt(n,e)}return this}},{key:"removeChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getChildIndex(e);return this.removeChildAt(n,t)}},{key:"removeChildAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getChildAt(e);return null!=this.children&&null!=n&&(this.unembed(n,t),n.remove(t)),n}},{key:"remove",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.batchUpdate("remove",(function(){var n=e.getParent();n&&n.removeChild(e,t),!1!==t.deep&&e.eachChild((function(e){return e.remove(t)})),e.model&&e.model.removeCell(e,t)})),this}},{key:"transition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"/";return this.animation.start(e,t,n,r)}},{key:"stopTransition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";return this.animation.stop(e,t,n),this}},{key:"getTransitions",value:function(){return this.animation.get()}},{key:"translate",value:function(e,t,n){return this}},{key:"scale",value:function(e,t,n,r){return this}},{key:"addTools",value:function(e,t,n){var r=Array.isArray(e)?e:[e],i="string"===typeof t?t:null,a="object"===typeof t?t:"object"===typeof n?n:{};if(a.reset)return this.setTools({name:i,items:r,local:a.local},a);var o=yE(this.getTools());return null==o||null==i||o.name===i?(null==o&&(o={}),o.items||(o.items=[]),o.name=i,o.items=[].concat(Y(o.items),Y(r)),this.setTools(Object.assign({},o),a)):void 0}},{key:"setTools",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?this.removeTools():this.store.set("tools",t.normalizeTools(e),n),this}},{key:"getTools",value:function(){return this.store.get("tools")}},{key:"removeTools",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("tools",e),this}},{key:"hasTools",value:function(e){var t=this.getTools();return null!=t&&(null==e||t.name===e)}},{key:"hasTool",value:function(e){var t=this.getTools();return null!=t&&t.items.some((function(t){return"string"===typeof t?t===e:t.name===e}))}},{key:"removeTool",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=yE(this.getTools());if(n){var r=!1,i=n.items.slice(),a=function(e){i.splice(e,1),r=!0};if("number"===typeof e)a(e);else for(var o=i.length-1;o>=0;o-=1){var s=i[o];("string"===typeof s?s===e:s.name===e)&&a(o)}r&&(n.items=i,this.setTools(n,t))}return this}},{key:"getBBox",value:function(e){return new kA}},{key:"getConnectionPoint",value:function(e,t){return new xA}},{key:"toJSON",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign({},this.store.get()),r=Object.prototype.toString,i=this.isNode()?"node":this.isEdge()?"edge":"cell";if(!n.shape){var a=this.constructor;throw new Error("Unable to serialize ".concat(i,' missing "shape" prop, check the ').concat(i,' "').concat(a.name||r.call(a),'"'))}var o=this.constructor,s=!0===t.diff,l=n.attrs||{},u=o.getDefaults(!0),c=s?this.preprocess(u,!0):u,h=c.attrs||{},f={};Object.entries(n).forEach((function(t){var a=R(t,2),o=a[0],l=a[1];if(null!=l&&!Array.isArray(l)&&"object"===typeof l&&!yw(l))throw new Error("Can only serialize ".concat(i,' with plain-object props, but got a "').concat(r.call(l),'" type of key "').concat(o,'" on ').concat(i,' "').concat(e.id,'"'));if("attrs"!==o&&"shape"!==o&&s){var u=c[o];zS(l,u)&&delete n[o]}})),Object.keys(l).forEach((function(e){var t=l[e],n=h[e];Object.keys(t).forEach((function(r){var i=t[r],a=n?n[r]:null;null==i||"object"!==typeof i||Array.isArray(i)?null!=n&&zS(a,i)||(null==f[e]&&(f[e]={}),f[e][r]=i):Object.keys(i).forEach((function(t){var o=i[t];null!=n&&null!=a&&ib(a)&&zS(a[t],o)||(null==f[e]&&(f[e]={}),null==f[e][r]&&(f[e][r]={}),f[e][r][t]=o)}))}))}));var d=Object.assign(Object.assign({},n),{attrs:GS(f)?void 0:f});null==d.attrs&&delete d.attrs;var p=d;return 0===p.angle&&delete p.angle,yE(p)}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.deep){var n=Object.assign({},this.store.get());return e.keepId||delete n.id,delete n.parent,delete n.children,new(0,this.constructor)(n)}return t.deepClone(this)[this.id]}},{key:"findView",value:function(e){return e.findViewByCell(this)}},{key:"startBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.model;return this.notify("batch:start",{name:e,data:t,cell:this}),n&&n.startBatch(e,Object.assign(Object.assign({},t),{cell:this})),this}},{key:"stopBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.model;return n&&n.stopBatch(e,Object.assign(Object.assign({},t),{cell:this})),this.notify("batch:stop",{name:e,data:t,cell:this}),this}},{key:"batchUpdate",value:function(e,t,n){var r=this.model;this.startBatch(e,n,r);var i=t();return this.stopBatch(e,n,r),i}},{key:"dispose",value:function(){this.removeFromParent(),this.store.dispose()}}],[{key:"config",value:function(e){var t,n=this,r=e.markup,i=e.propHooks,a=e.attrHooks,o=GN(e,["markup","propHooks","attrHooks"]);(null!=r&&(this.markup=r),i)&&(this.propHooks=this.propHooks.slice(),Array.isArray(i)?(t=this.propHooks).push.apply(t,Y(i)):"function"===typeof i?this.propHooks.push(i):Object.values(i).forEach((function(e){"function"===typeof e&&n.propHooks.push(e)})));a&&(this.attrHooks=Object.assign(Object.assign({},this.attrHooks),a)),this.defaults=Ww({},this.defaults,o)}},{key:"getMarkup",value:function(){return this.markup}},{key:"getDefaults",value:function(e){return e?this.defaults:yE(this.defaults)}},{key:"getAttrHooks",value:function(){return this.attrHooks}},{key:"applyPropHooks",value:function(e,t){return this.propHooks.reduce((function(t,n){return n?Ib(n,e,t):t}),t)}}])}(IE);jN.defaults={},jN.attrHooks={},jN.propHooks=[],HN([IE.dispose()],jN.prototype,"dispose",null),function(e){e.normalizeTools=function(e){return"string"===typeof e?{items:[e]}:Array.isArray(e)?{items:e}:e.items?e:{items:[e]}}}(jN||(jN={})),function(e){e.toStringTag="X6.".concat(e.name),e.isCell=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNode&&"function"===typeof r.isEdge&&"function"===typeof r.prop&&"function"===typeof r.attr}}(jN||(jN={})),function(e){e.getCommonAncestor=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return null!=e})).map((function(e){return e.getAncestors()})).sort((function(e,t){return e.length-t.length}));return r.shift().find((function(e){return r.every((function(t){return t.includes(e)}))}))||null},e.getCellsBBox=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=0,i=e.length;r<i;r+=1){var a=e[r],o=a.getBBox(t);if(o){if(a.isNode()){var s=a.getAngle();null!=s&&0!==s&&(o=o.bbox(s))}n=null==n?o:n.union(o)}}return n},e.deepClone=function(t){var n=[t].concat(Y(t.getDescendants({deep:!0})));return e.cloneCells(n)},e.cloneCells=function(e){var t=WE(e),n=t.reduce((function(e,t){return e[t.id]=t.clone(),e}),{});return t.forEach((function(e){var t=n[e.id];if(t.isEdge()){var r=t.getSourceCellId(),i=t.getTargetCellId();r&&n[r]&&t.setSource(Object.assign(Object.assign({},t.getSource()),{cell:n[r].id})),i&&n[i]&&t.setTarget(Object.assign(Object.assign({},t.getTarget()),{cell:n[i].id}))}var a=e.getParent();a&&n[a.id]&&t.setParent(n[a.id]);var o=e.getChildren();if(o&&o.length){var s=o.reduce((function(e,t){return n[t.id]&&e.push(n[t.id]),e}),[]);s.length>0&&t.setChildren(s)}})),n}}(jN||(jN={})),function(e){e.config({propHooks:function(t){var n=t.tools,r=GN(t,["tools"]);return n&&(r.tools=e.normalizeTools(n)),r}})}(jN||(jN={})),function(e){var t,n;e.exist=function(e,r){return r?null!=t&&t.exist(e):null!=n&&n.exist(e)},e.setEdgeRegistry=function(e){t=e},e.setNodeRegistry=function(e){n=e}}(zN||(zN={}));var VN=function(){return M((function e(t){T(this,e),this.ports=[],this.groups={},this.init(yE(t))}),[{key:"getPorts",value:function(){return this.ports}},{key:"getGroup",value:function(e){return null!=e?this.groups[e]:null}},{key:"getPortsByGroup",value:function(e){return this.ports.filter((function(t){return t.group===e||null==t.group&&null==e}))}},{key:"getPortsLayoutByGroup",value:function(e,t){var n,r=this,i=this.getPortsByGroup(e),a=e?this.getGroup(e):null,o=a?a.position:null,s=o?o.name:null;if(null!=s){var l=lR.registry.get(s);if(null==l)return lR.registry.onNotFound(s);n=l}else n=lR.presets.left;var u=i.map((function(e){return e&&e.position&&e.position.args||{}})),c=o&&o.args||{};return n(u,t,c).map((function(e,n){var a=i[n];return{portLayout:e,portId:a.id,portSize:a.size,portAttrs:a.attrs,labelSize:a.label.size,labelLayout:r.getPortLabelLayout(a,xA.create(e.position),t)}}))}},{key:"init",value:function(e){var t=this,n=e.groups,r=e.items;null!=n&&Object.keys(n).forEach((function(e){t.groups[e]=t.parseGroup(n[e])})),Array.isArray(r)&&r.forEach((function(e){t.ports.push(t.parsePort(e))}))}},{key:"parseGroup",value:function(e){return Object.assign(Object.assign({},e),{label:this.getLabel(e,!0),position:this.getPortPosition(e.position,!0)})}},{key:"parsePort",value:function(e){var t=Object.assign({},e),n=this.getGroup(e.group)||{};return t.markup=t.markup||n.markup,t.attrs=Ww({},n.attrs,t.attrs),t.position=this.createPosition(n,t),t.label=Ww({},n.label,this.getLabel(t)),t.zIndex=this.getZIndex(n,t),t.size=Object.assign(Object.assign({},n.size),t.size),t}},{key:"getZIndex",value:function(e,t){return"number"===typeof t.zIndex?t.zIndex:"number"===typeof e.zIndex||"auto"===e.zIndex?e.zIndex:"auto"}},{key:"createPosition",value:function(e,t){return Ww({name:"left",args:{}},e.position,{args:t.args})}},{key:"getPortPosition",value:function(e){if(null==e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return{name:"left",args:{}}}else{if("string"===typeof e)return{name:e,args:{}};if(Array.isArray(e))return{name:"absolute",args:{x:e[0],y:e[1]}};if("object"===typeof e)return e}return{args:{}}}},{key:"getPortLabelPosition",value:function(e){if(null==e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return{name:"left",args:{}}}else{if("string"===typeof e)return{name:e,args:{}};if("object"===typeof e)return e}return{args:{}}}},{key:"getLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.label||{};return n.position=this.getPortLabelPosition(n.position,t),n}},{key:"getPortLabelLayout",value:function(e,t,n){var r=e.label.position.name||"left",i=e.label.position.args||{},a=PR.registry.get(r)||PR.presets.left;return a?a(t,n,i):null}}])}(),WN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},XN=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T(this,t),(e=z(this,t,[n])).initPorts(),e}return G(t,e),M(t,[{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"preprocess",value:function(e,n){var r=e.x,i=e.y,a=e.width,o=e.height,s=WN(e,["x","y","width","height"]);if(null!=r||null!=i){var l=s.position;s.position=Object.assign(Object.assign({},l),{x:null!=r?r:l?l.x:0,y:null!=i?i:l?l.y:0})}if(null!=a||null!=o){var u=s.size;s.size=Object.assign(Object.assign({},u),{width:null!=a?a:u?u.width:0,height:null!=o?o:u?u.height:0})}return ar(D(t.prototype),"preprocess",this).call(this,s,n)}},{key:"isNode",value:function(){return!0}},{key:"size",value:function(e,t,n){return void 0===e?this.getSize():"number"===typeof e?this.setSize(e,t,n):this.setSize(e,t)}},{key:"getSize",value:function(){var e=this.store.get("size");return e?Object.assign({},e):{width:1,height:1}}},{key:"setSize",value:function(e,t,n){return"object"===typeof e?this.resize(e.width,e.height,t):this.resize(e,t,n),this}},{key:"resize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.startBatch("resize",n);var r=n.direction;if(r){var i=this.getSize();switch(r){case"left":case"right":t=i.height;break;case"top":case"bottom":e=i.width}var a={right:0,"top-right":0,top:1,"top-left":1,left:2,"bottom-left":2,bottom:3,"bottom-right":3}[r],o=pA.normalize(this.getAngle()||0);n.absolute&&(a+=Math.floor((o+45)/90),a%=4);var s=this.getBBox(),l=(0===a?s.getBottomLeft():1===a?s.getCorner():2===a?s.getTopRight():s.getOrigin()).clone().rotate(-o,s.getCenter()),u=Math.sqrt(e*e+t*t)/2,c=a*Math.PI/2;c+=Math.atan(a%2===0?t/e:e/t),c-=pA.toRad(o);var h=xA.fromPolar(u,c,l).clone().translate(e/-2,t/-2);this.store.set("size",{width:e,height:t},n),this.setPosition(h.x,h.y,n)}else this.store.set("size",{width:e,height:t},n);return this.stopBatch("resize",n),this}},{key:"scale",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.getBBox().scale(e,t,null==n?void 0:n);return this.startBatch("scale",r),this.setPosition(i.x,i.y,r),this.resize(i.width,i.height,r),this.stopBatch("scale"),this}},{key:"position",value:function(e,t,n){return"number"===typeof e?this.setPosition(e,t,n):this.getPosition(e)}},{key:"getPosition",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).relative){var e=this.getParent();if(null!=e&&e.isNode()){var t=this.getPosition(),n=e.getPosition();return{x:t.x-n.x,y:t.y-n.y}}}var r=this.store.get("position");return r?Object.assign({},r):{x:0,y:0}}},{key:"setPosition",value:function(e,t){var n,r,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===typeof e?(n=e.x,r=e.y,i=t||{}):(n=e,r=t,i=a||{}),i.relative){var o=this.getParent();if(null!=o&&o.isNode()){var s=o.getPosition();n+=s.x,r+=s.y}}if(i.deep){var l=this.getPosition();this.translate(n-l.x,r-l.y,i)}else this.store.set("position",{x:n,y:r},i);return this}},{key:"translate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===e&&0===t)return this;n.translateBy=n.translateBy||this.id;var r=this.getPosition();if(null!=n.restrict&&n.translateBy===this.id){var i=this.getBBox({deep:!0}),a=n.restrict,o=r.x-i.x,s=r.y-i.y,l=Math.max(a.x+o,Math.min(a.x+a.width+o-i.width,r.x+e)),u=Math.max(a.y+s,Math.min(a.y+a.height+s-i.height,r.y+t));e=l-r.x,t=u-r.y}var c={x:r.x+e,y:r.y+t};return n.tx=e,n.ty=t,n.transition?("object"!==typeof n.transition&&(n.transition={}),this.transition("position",c,Object.assign(Object.assign({},n.transition),{interp:fA.object})),this.eachChild((function(r){var i;(null===(i=n.exclude)||void 0===i?void 0:i.includes(r))||r.translate(e,t,n)}))):(this.startBatch("translate",n),this.store.set("position",c,n),this.eachChild((function(r){var i;(null===(i=n.exclude)||void 0===i?void 0:i.includes(r))||r.translate(e,t,n)})),this.stopBatch("translate",n)),this}},{key:"angle",value:function(e,t){return null==e?this.getAngle():this.rotate(e,t)}},{key:"getAngle",value:function(){return this.store.get("angle",0)}},{key:"rotate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getAngle();if(t.center){var r=this.getSize(),i=this.getPosition(),a=this.getBBox().getCenter();a.rotate(n-e,t.center);var o=a.x-r.width/2-i.x,s=a.y-r.height/2-i.y;this.startBatch("rotate",{angle:e,options:t}),this.setPosition(i.x+o,i.y+s,t),this.rotate(e,Object.assign(Object.assign({},t),{center:null})),this.stopBatch("rotate")}else this.store.set("angle",t.absolute?e:(n+e)%360,t);return this}},{key:"getBBox",value:function(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).deep){var e=this.getDescendants({deep:!0,breadthFirst:!0});return e.push(this),jN.getCellsBBox(e)}return kA.fromPositionAndSize(this.getPosition(),this.getSize())}},{key:"getConnectionPoint",value:function(e,t){var n=this.getBBox(),r=n.getCenter(),i=e.getTerminal(t);if(null==i)return r;var a=i.port;if(!a||!this.hasPort(a))return r;var o=this.getPort(a);if(!o||!o.group)return r;var s=this.getPortsPosition(o.group)[a].position,l=xA.create(s).translate(n.getOrigin()),u=this.getAngle();return u&&l.rotate(-u,r),l}},{key:"fit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(this.getChildren()||[]).filter((function(e){return e.isNode()}));if(0===t.length)return this;this.startBatch("fit-embeds",e),e.deep&&t.forEach((function(t){return t.fit(e)}));var n=jN.getCellsBBox(t),r=n.x,i=n.y,a=n.width,o=n.height,s=eT(e.padding);return r-=s.left,i-=s.top,a+=s.left+s.right,o+=s.bottom+s.top,this.store.set({position:{x:r,y:i},size:{width:a,height:o}},e),this.stopBatch("fit-embeds"),this}},{key:"portContainerMarkup",get:function(){return this.getPortContainerMarkup()},set:function(e){this.setPortContainerMarkup(e)}},{key:"getDefaultPortContainerMarkup",value:function(){return this.store.get("defaultPortContainerMarkup")||FR.getPortContainerMarkup()}},{key:"getPortContainerMarkup",value:function(){return this.store.get("portContainerMarkup")||this.getDefaultPortContainerMarkup()}},{key:"setPortContainerMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("portContainerMarkup",FR.clone(e),t),this}},{key:"portMarkup",get:function(){return this.getPortMarkup()},set:function(e){this.setPortMarkup(e)}},{key:"getDefaultPortMarkup",value:function(){return this.store.get("defaultPortMarkup")||FR.getPortMarkup()}},{key:"getPortMarkup",value:function(){return this.store.get("portMarkup")||this.getDefaultPortMarkup()}},{key:"setPortMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("portMarkup",FR.clone(e),t),this}},{key:"portLabelMarkup",get:function(){return this.getPortLabelMarkup()},set:function(e){this.setPortLabelMarkup(e)}},{key:"getDefaultPortLabelMarkup",value:function(){return this.store.get("defaultPortLabelMarkup")||FR.getPortLabelMarkup()}},{key:"getPortLabelMarkup",value:function(){return this.store.get("portLabelMarkup")||this.getDefaultPortLabelMarkup()}},{key:"setPortLabelMarkup",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("portLabelMarkup",FR.clone(e),t),this}},{key:"ports",get:function(){var e=this.store.get("ports",{items:[]});return null==e.items&&(e.items=[]),e}},{key:"getPorts",value:function(){return yE(this.ports.items)}},{key:"getPortsByGroup",value:function(e){return this.getPorts().filter((function(t){return t.group===e}))}},{key:"getPort",value:function(e){return yE(this.ports.items.find((function(t){return t.id&&t.id===e})))}},{key:"getPortAt",value:function(e){return this.ports.items[e]||null}},{key:"hasPorts",value:function(){return this.ports.items.length>0}},{key:"hasPort",value:function(e){return-1!==this.getPortIndex(e)}},{key:"getPortIndex",value:function(e){var t="string"===typeof e?e:e.id;return null!=t?this.ports.items.findIndex((function(e){return e.id===t})):-1}},{key:"getPortsPosition",value:function(e){var t=this.getSize();return this.port.getPortsLayoutByGroup(e,new kA(0,0,t.width,t.height)).reduce((function(e,t){var n=t.portLayout;return e[t.portId]={position:Object.assign({},n.position),angle:n.angle||0},e}),{})}},{key:"getPortProp",value:function(e,t){return this.getPropByPath(this.prefixPortPath(e,t))}},{key:"setPortProp",value:function(e,t,n,r){if("string"===typeof t||Array.isArray(t)){var i=this.prefixPortPath(e,t),a=n;return this.setPropByPath(i,a,r)}var o=this.prefixPortPath(e),s=t;return this.setPropByPath(o,s,n)}},{key:"removePortProp",value:function(e,t,n){return"string"===typeof t||Array.isArray(t)?this.removePropByPath(this.prefixPortPath(e,t),n):this.removePropByPath(this.prefixPortPath(e),t)}},{key:"portProp",value:function(e,t,n,r){return null==t?this.getPortProp(e):"string"===typeof t||Array.isArray(t)?2===arguments.length?this.getPortProp(e,t):null==n?this.removePortProp(e,t,r):this.setPortProp(e,t,n,r):this.setPortProp(e,t,n)}},{key:"prefixPortPath",value:function(e,t){var n=this.getPortIndex(e);if(-1===n)throw new Error('Unable to find port with id: "'.concat(e,'"'));return null==t||""===t?["ports","items","".concat(n)]:Array.isArray(t)?["ports","items","".concat(n)].concat(Y(t)):"ports/items/".concat(n,"/").concat(t)}},{key:"addPort",value:function(e,t){var n=Y(this.ports.items);return n.push(e),this.setPropByPath("ports/items",n,t),this}},{key:"addPorts",value:function(e,t){return this.setPropByPath("ports/items",[].concat(Y(this.ports.items),Y(e)),t),this}},{key:"insertPort",value:function(e,t,n){var r=Y(this.ports.items);return r.splice(e,0,t),this.setPropByPath("ports/items",r,n),this}},{key:"removePort",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.removePortAt(this.getPortIndex(e),t)}},{key:"removePortAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e>=0){var n=Y(this.ports.items);n.splice(e,1),t.rewrite=!0,this.setPropByPath("ports/items",n,t)}return this}},{key:"removePorts",value:function(e,t){var n;if(Array.isArray(e)){if(n=t||{},e.length){n.rewrite=!0;var r=Y(this.ports.items).filter((function(t){return!e.some((function(e){var n="string"===typeof e?e:e.id;return t.id===n}))}));this.setPropByPath("ports/items",r,n)}}else(n=e||{}).rewrite=!0,this.setPropByPath("ports/items",[],n);return this}},{key:"getParsedPorts",value:function(){return this.port.getPorts()}},{key:"getParsedGroups",value:function(){return this.port.groups}},{key:"getPortsLayoutByGroup",value:function(e,t){return this.port.getPortsLayoutByGroup(e,t)}},{key:"initPorts",value:function(){var e=this;this.updatePortData(),this.on("change:ports",(function(){e.processRemovedPort(),e.updatePortData()}))}},{key:"processRemovedPort",value:function(){var e=this.ports,t={};e.items.forEach((function(e){e.id&&(t[e.id]=!0)}));var n={};(this.store.getPrevious("ports")||{items:[]}).items.forEach((function(e){e.id&&!t[e.id]&&(n[e.id]=!0)}));var r=this.model;r&&!GS(n)&&(r.getConnectedEdges(this,{incoming:!0}).forEach((function(e){var t=e.getTargetPortId();t&&n[t]&&e.remove()})),r.getConnectedEdges(this,{outgoing:!0}).forEach((function(e){var t=e.getSourcePortId();t&&n[t]&&e.remove()})))}},{key:"validatePorts",value:function(){var e=this,t={},n=[];return this.ports.items.forEach((function(r){"object"!==typeof r&&n.push("Invalid port ".concat(r,".")),null==r.id&&(r.id=e.generatePortId()),t[r.id]&&n.push("Duplicitied port id."),t[r.id]=!0})),n}},{key:"generatePortId",value:function(){return qM()}},{key:"updatePortData",value:function(){var e=this.validatePorts();if(e.length>0)throw this.store.set("ports",this.store.getPrevious("ports")),new Error(e.join(" "));var t=this.port?this.port.getPorts():null;this.port=new VN(this.ports);var n=this.port.getPorts(),r=t?n.filter((function(e){return t.find((function(t){return t.id===e.id}))?null:e})):Y(n),i=t?t.filter((function(e){return n.find((function(t){return t.id===e.id}))?null:e})):[];r.length>0&&this.notify("ports:added",{added:r,cell:this,node:this}),i.length>0&&this.notify("ports:removed",{removed:i,cell:this,node:this})}}])}(jN);XN.defaults={angle:0,position:{x:0,y:0},size:{width:1,height:1}},function(e){e.toStringTag="X6.".concat(e.name),e.isNode=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNode&&"function"===typeof r.isEdge&&"function"===typeof r.prop&&"function"===typeof r.attr&&"function"===typeof r.size&&"function"===typeof r.position}}(XN||(XN={})),function(e){e.config({propHooks:function(e){var t=e.ports,n=WN(e,["ports"]);return t&&(n.ports=Array.isArray(t)?{items:t}:t),n}})}(XN||(XN={})),function(e){e.registry=VA.create({type:"node",process:function(t,n){if(zN.exist(t,!0))throw new Error("Node with name '".concat(t,"' was registered by anthor Edge"));if("function"===typeof n)return n.config({shape:t}),n;var r=e,i=n.inherit,a=WN(n,["inherit"]);if(i)if("string"===typeof i){var o=this.get(i);null==o?this.onNotFound(i,"inherited"):r=o}else r=i;null==a.constructorName&&(a.constructorName=t);var s=r.define.call(r,a);return s.config({shape:t}),s}}),zN.setNodeRegistry(e.registry)}(XN||(XN={})),function(e){var t=0;e.define=function(n){var r,i=n.constructorName,a=n.overwrite,o=WN(n,["constructorName","overwrite"]),s=AE((r=i||o.shape)?WM(r):"CustomNode".concat(t+=1),this);return s.config(o),o.shape&&e.registry.register(o.shape,s,a),s},e.create=function(t){var n=t.shape||"rect",r=e.registry.get(n);return r?new r(t):e.registry.onNotFound(n)}}(XN||(XN={}));var qN=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},YN=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T(this,t),z(this,t,[e])}return G(t,e),M(t,[{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"preprocess",value:function(e,n){var r=e.source,i=e.sourceCell,a=e.sourcePort,o=e.sourcePoint,s=e.target,l=e.targetCell,u=e.targetPort,c=e.targetPoint,h=qN(e,["source","sourceCell","sourcePort","sourcePoint","target","targetCell","targetPort","targetPoint"]),f=function(e){return"string"===typeof e||"number"===typeof e};if(null!=r)if(jN.isCell(r))h.source={cell:r.id};else if(f(r))h.source={cell:r};else if(xA.isPoint(r))h.source=r.toJSON();else if(Array.isArray(r))h.source={x:r[0],y:r[1]};else{var d=r.cell;jN.isCell(d)?h.source=Object.assign(Object.assign({},r),{cell:d.id}):h.source=r}if(null!=i||null!=a){var p=h.source;if(null!=i){var v=f(i)?i:i.id;p?p.cell=v:p=h.source={cell:v}}null!=a&&p&&(p.port=a)}else null!=o&&(h.source=xA.create(o).toJSON());if(null!=s)if(jN.isCell(s))h.target={cell:s.id};else if(f(s))h.target={cell:s};else if(xA.isPoint(s))h.target=s.toJSON();else if(Array.isArray(s))h.target={x:s[0],y:s[1]};else{var g=s.cell;jN.isCell(g)?h.target=Object.assign(Object.assign({},s),{cell:g.id}):h.target=s}if(null!=l||null!=u){var m=h.target;if(null!=l){var y=f(l)?l:l.id;m?m.cell=y:m=h.target={cell:y}}null!=u&&m&&(m.port=u)}else null!=c&&(h.target=xA.create(c).toJSON());return ar(D(t.prototype),"preprocess",this).call(this,h,n)}},{key:"setup",value:function(){var e=this;ar(D(t.prototype),"setup",this).call(this),this.on("change:labels",(function(t){return e.onLabelsChanged(t)})),this.on("change:vertices",(function(t){return e.onVertexsChanged(t)}))}},{key:"isEdge",value:function(){return!0}},{key:"disconnect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.set({source:{x:0,y:0},target:{x:0,y:0}},e),this}},{key:"source",get:function(){return this.getSource()},set:function(e){this.setSource(e)}},{key:"getSource",value:function(){return this.getTerminal("source")}},{key:"getSourceCellId",value:function(){return this.source.cell}},{key:"getSourcePortId",value:function(){return this.source.port}},{key:"setSource",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setTerminal("source",e,t,n)}},{key:"target",get:function(){return this.getTarget()},set:function(e){this.setTarget(e)}},{key:"getTarget",value:function(){return this.getTerminal("target")}},{key:"getTargetCellId",value:function(){return this.target.cell}},{key:"getTargetPortId",value:function(){return this.target.port}},{key:"setTarget",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.setTerminal("target",e,t,n)}},{key:"getTerminal",value:function(e){return Object.assign({},this.store.get(e))}},{key:"setTerminal",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(jN.isCell(t))return this.store.set(e,Ww({},n,{cell:t.id}),r),this;var i=t;return xA.isPoint(t)||null!=i.x&&null!=i.y?(this.store.set(e,Ww({},n,{x:i.x,y:i.y}),r),this):(this.store.set(e,yE(t),r),this)}},{key:"getSourcePoint",value:function(){return this.getTerminalPoint("source")}},{key:"getTargetPoint",value:function(){return this.getTerminalPoint("target")}},{key:"getTerminalPoint",value:function(e){var t=this[e];if(xA.isPointLike(t))return xA.create(t);var n=this.getTerminalCell(e);return n?n.getConnectionPoint(this,e):new xA}},{key:"getSourceCell",value:function(){return this.getTerminalCell("source")}},{key:"getTargetCell",value:function(){return this.getTerminalCell("target")}},{key:"getTerminalCell",value:function(e){if(this.model){var t="source"===e?this.getSourceCellId():this.getTargetCellId();if(t)return this.model.getCell(t)}return null}},{key:"getSourceNode",value:function(){return this.getTerminalNode("source")}},{key:"getTargetNode",value:function(){return this.getTerminalNode("target")}},{key:"getTerminalNode",value:function(e){for(var t=this,n={};t&&t.isEdge();){if(n[t.id])return null;n[t.id]=!0,t=t.getTerminalCell(e)}return t&&t.isNode()?t:null}},{key:"router",get:function(){return this.getRouter()},set:function(e){null==e?this.removeRouter():this.setRouter(e)}},{key:"getRouter",value:function(){return this.store.get("router")}},{key:"setRouter",value:function(e,t,n){return"object"===typeof e?this.store.set("router",e,t):this.store.set("router",{name:e,args:t},n),this}},{key:"removeRouter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("router",e),this}},{key:"connector",get:function(){return this.getConnector()},set:function(e){null==e?this.removeConnector():this.setConnector(e)}},{key:"getConnector",value:function(){return this.store.get("connector")}},{key:"setConnector",value:function(e,t,n){return"object"===typeof e?this.store.set("connector",e,t):this.store.set("connector",{name:e,args:t},n),this}},{key:"removeConnector",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.store.remove("connector",e)}},{key:"getDefaultLabel",value:function(){var e=this.constructor,t=this.store.get("defaultLabel")||e.defaultLabel||{};return yE(t)}},{key:"labels",get:function(){return this.getLabels()},set:function(e){this.setLabels(e)}},{key:"getLabels",value:function(){var e=this;return Y(this.store.get("labels",[])).map((function(t){return e.parseLabel(t)}))}},{key:"setLabels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.store.set("labels",Array.isArray(e)?e:[e],t),this}},{key:"insertLabel",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getLabels(),i=r.length,a=null!=t&&Number.isFinite(t)?t:i;return a<0&&(a=i+a+1),r.splice(a,0,this.parseLabel(e)),this.setLabels(r,n)}},{key:"appendLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.insertLabel(e,-1,t)}},{key:"getLabelAt",value:function(e){var t=this.getLabels();return null!=e&&Number.isFinite(e)?this.parseLabel(t[e]):null}},{key:"setLabelAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&Number.isFinite(e)){var r=this.getLabels();r[e]=this.parseLabel(t),this.setLabels(r,n)}return this}},{key:"removeLabelAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getLabels(),r=null!=e&&Number.isFinite(e)?e:-1,i=n.splice(r,1);return this.setLabels(n,t),i.length?i[0]:null}},{key:"parseLabel",value:function(e){return"string"===typeof e?this.constructor.parseStringLabel(e):e}},{key:"onLabelsChanged",value:function(e){var t=e.previous,n=e.current,r=t&&n?n.filter((function(e){return t.find((function(t){return e===t||zS(e,t)}))?null:e})):n?Y(n):[],i=t&&n?t.filter((function(e){return n.find((function(t){return e===t||zS(e,t)}))?null:e})):t?Y(t):[];r.length>0&&this.notify("labels:added",{added:r,cell:this,edge:this}),i.length>0&&this.notify("labels:removed",{removed:i,cell:this,edge:this})}},{key:"vertices",get:function(){return this.getVertices()},set:function(e){this.setVertices(e)}},{key:"getVertices",value:function(){return Y(this.store.get("vertices",[]))}},{key:"setVertices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e)?e:[e];return this.store.set("vertices",n.map((function(e){return xA.toJSON(e)})),t),this}},{key:"insertVertex",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getVertices(),i=r.length,a=null!=t&&Number.isFinite(t)?t:i;return a<0&&(a=i+a+1),r.splice(a,0,xA.toJSON(e)),this.setVertices(r,n)}},{key:"appendVertex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.insertVertex(e,-1,t)}},{key:"getVertexAt",value:function(e){return null!=e&&Number.isFinite(e)?this.getVertices()[e]:null}},{key:"setVertexAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e&&Number.isFinite(e)){var r=this.getVertices();r[e]=t,this.setVertices(r,n)}return this}},{key:"removeVertexAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getVertices(),r=null!=e&&Number.isFinite(e)?e:-1;return n.splice(r,1),this.setVertices(n,t)}},{key:"onVertexsChanged",value:function(e){var t=e.previous,n=e.current,r=t&&n?n.filter((function(e){return t.find((function(t){return xA.equals(e,t)}))?null:e})):n?Y(n):[],i=t&&n?t.filter((function(e){return n.find((function(t){return xA.equals(e,t)}))?null:e})):t?Y(t):[];r.length>0&&this.notify("vertexs:added",{added:r,cell:this,edge:this}),i.length>0&&this.notify("vertexs:removed",{removed:i,cell:this,edge:this})}},{key:"getDefaultMarkup",value:function(){return this.store.get("defaultMarkup")||FR.getEdgeMarkup()}},{key:"getMarkup",value:function(){return ar(D(t.prototype),"getMarkup",this).call(this)||this.getDefaultMarkup()}},{key:"translate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.translateBy=n.translateBy||this.id,n.tx=e,n.ty=t,this.applyToPoints((function(n){return{x:(n.x||0)+e,y:(n.y||0)+t}}),n)}},{key:"scale",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.applyToPoints((function(r){return xA.create(r).scale(e,t,n).toJSON()}),r)}},{key:"applyToPoints",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=this.getSource(),i=this.getTarget();xA.isPointLike(r)&&(n.source=e(r)),xA.isPointLike(i)&&(n.target=e(i));var a=this.getVertices();return a.length>0&&(n.vertices=a.map(e)),this.store.set(n,t),this}},{key:"getBBox",value:function(){return this.getPolyline().bbox()}},{key:"getConnectionPoint",value:function(){return this.getPolyline().pointAt(.5)}},{key:"getPolyline",value:function(){var e=[this.getSourcePoint()].concat(Y(this.getVertices().map((function(e){return xA.create(e)}))),[this.getTargetPoint()]);return new PA(e)}},{key:"updateParent",value:function(e){var t=null,n=this.getSourceCell(),r=this.getTargetCell(),i=this.getParent();return n&&r&&(t=n===r||n.isDescendantOf(r)?r:r.isDescendantOf(n)?n:jN.getCommonAncestor(n,r)),i&&t&&t.id!==i.id&&i.unembed(this,e),!t||i&&i.id===t.id||t.embed(this,e),t}},{key:"hasLoop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getSource(),n=this.getTarget(),r=t.cell,i=n.cell;if(!r||!i)return!1;var a=r===i;if(!a&&e.deep&&this._model){var o=this.getSourceCell(),s=this.getTargetCell();o&&s&&(a=o.isAncestorOf(s,e)||s.isAncestorOf(o,e))}return a}},{key:"getFragmentAncestor",value:function(){var e=[this,this.getSourceNode(),this.getTargetNode()].filter((function(e){return null!=e}));return this.getCommonAncestor.apply(this,Y(e))}},{key:"isFragmentDescendantOf",value:function(e){var t=this.getFragmentAncestor();return!!t&&(t.id===e.id||t.isDescendantOf(e))}}])}(jN);YN.defaults={},function(e){e.equalTerminals=function(e,t){var n=e,r=t;return n.cell===r.cell&&(n.port===r.port||null==n.port&&null==r.port)}}(YN||(YN={})),function(e){e.defaultLabel={markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}],attrs:{text:{fill:"#000",fontSize:14,textAnchor:"middle",textVerticalAnchor:"middle",pointerEvents:"none"},rect:{ref:"label",fill:"#fff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}},e.parseStringLabel=function(e){return{attrs:{label:{text:e}}}}}(YN||(YN={})),function(e){e.toStringTag="X6.".concat(e.name),e.isEdge=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNode&&"function"===typeof r.isEdge&&"function"===typeof r.prop&&"function"===typeof r.attr&&"function"===typeof r.disconnect&&"function"===typeof r.getSource&&"function"===typeof r.getTarget}}(YN||(YN={})),function(e){e.registry=VA.create({type:"edge",process:function(t,n){if(zN.exist(t,!1))throw new Error("Edge with name '".concat(t,"' was registered by anthor Node"));if("function"===typeof n)return n.config({shape:t}),n;var r=e,i=n.inherit,a=void 0===i?"edge":i,o=qN(n,["inherit"]);if("string"===typeof a){var s=this.get(a||"edge");null==s&&a?this.onNotFound(a,"inherited"):r=s}else r=a;null==o.constructorName&&(o.constructorName=t);var l=r.define.call(r,o);return l.config({shape:t}),l}}),zN.setEdgeRegistry(e.registry)}(YN||(YN={})),function(e){var t=0;e.define=function(n){var r,i=n.constructorName,a=n.overwrite,o=qN(n,["constructorName","overwrite"]),s=AE((r=i||o.shape)?WM(r):"CustomEdge".concat(t+=1),this);return s.config(o),o.shape&&e.registry.register(o.shape,s,a),s},e.create=function(t){var n=t.shape||"edge",r=e.registry.get(n);return r?new r(t):e.registry.onNotFound(n)}}(YN||(YN={})),function(e){var t="basic.edge";e.config({shape:t,propHooks:function(t){var n=t.label,r=t.vertices,i=qN(t,["label","vertices"]);if(n){null==i.labels&&(i.labels=[]);var a="string"===typeof n?e.parseStringLabel(n):n;i.labels.push(a)}return r&&Array.isArray(r)&&(i.vertices=r.map((function(e){return xA.create(e).toJSON()}))),i}}),e.registry.register(t,e)}(YN||(YN={}));var KN=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},JN=function(e){function t(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return T(this,t),(n=z(this,t)).length=0,n.comparator=r.comparator||"zIndex",n.clean(),e&&n.reset(e,{silent:!0}),n}return G(t,e),M(t,[{key:"toJSON",value:function(){return this.cells.map((function(e){return e.toJSON()}))}},{key:"add",value:function(e,t,n){var r,i,a=this;"number"===typeof t?(r=t,i=Object.assign({merge:!1},n)):(r=this.length,i=Object.assign({merge:!1},t)),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,s=Array.isArray(e)?e:[e],l=this.comparator&&"number"!==typeof t&&!1!==i.sort,u=this.comparator||null,c=!1,h=[],f=[];(s.forEach((function(e){var t=a.get(e);t?i.merge&&!e.isSameStore(t)&&(t.setProp(e.getProp(),n),f.push(t),l&&!c&&(c=null==u||"function"===typeof u?t.hasChanged():"string"===typeof u?t.hasChanged(u):u.some((function(e){return t.hasChanged(e)})))):(h.push(e),a.reference(e))})),h.length)&&(l&&(c=!0),(o=this.cells).splice.apply(o,[r,0].concat(h)),this.length=this.cells.length);return c&&this.sort({silent:!0}),i.silent||(h.forEach((function(e,t){var n={cell:e,index:r+t,options:i};a.trigger("added",n),i.dryrun||e.notify("added",Object.assign({},n))})),c&&this.trigger("sorted"),(h.length||f.length)&&this.trigger("updated",{added:h,merged:f,removed:[],options:i})),this}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e)?e:[e],r=this.removeCells(n,t);return!t.silent&&r.length>0&&this.trigger("updated",{options:t,removed:r,added:[],merged:[]}),Array.isArray(e)?r:r[0]}},{key:"removeCells",value:function(e,t){for(var n=[],r=0;r<e.length;r+=1){var i=this.get(e[r]);if(null!=i){var a=this.cells.indexOf(i);this.cells.splice(a,1),this.length-=1,delete this.map[i.id],n.push(i),this.unreference(i),t.dryrun||i.remove(),t.silent||(this.trigger("removed",{cell:i,index:a,options:t}),t.dryrun||i.notify("removed",{cell:i,index:a,options:t}))}}return n}},{key:"reset",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.cells.slice();if(r.forEach((function(e){return t.unreference(e)})),this.clean(),this.add(e,Object.assign({silent:!0},n)),!n.silent){var i=this.cells.slice();this.trigger("reseted",{options:n,previous:r,current:i});var a=[],o=[];i.forEach((function(e){r.some((function(t){return t.id===e.id}))||a.push(e)})),r.forEach((function(e){i.some((function(t){return t.id===e.id}))||o.push(e)})),this.trigger("updated",{options:n,added:a,removed:o,merged:[]})}return this}},{key:"push",value:function(e,t){return this.add(e,this.length,t)}},{key:"pop",value:function(e){var t=this.at(this.length-1);return this.remove(t,e)}},{key:"unshift",value:function(e,t){return this.add(e,0,t)}},{key:"shift",value:function(e){var t=this.at(0);return this.remove(t,e)}},{key:"get",value:function(e){if(null==e)return null;var t="string"===typeof e||"number"===typeof e?e:e.id;return this.map[t]||null}},{key:"has",value:function(e){return null!=this.get(e)}},{key:"at",value:function(e){return e<0&&(e+=this.length),this.cells[e]||null}},{key:"first",value:function(){return this.at(0)}},{key:"last",value:function(){return this.at(-1)}},{key:"indexOf",value:function(e){return this.cells.indexOf(e)}},{key:"toArray",value:function(){return this.cells.slice()}},{key:"sort",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=this.comparator&&(this.cells=y_(this.cells,this.comparator),e.silent||this.trigger("sorted")),this}},{key:"clone",value:function(){return new(0,this.constructor)(this.cells.slice(),{comparator:this.comparator})}},{key:"reference",value:function(e){this.map[e.id]=e,e.on("*",this.notifyCellEvent,this)}},{key:"unreference",value:function(e){e.off("*",this.notifyCellEvent,this),delete this.map[e.id]}},{key:"notifyCellEvent",value:function(e,t){var n=t.cell;this.trigger("cell:".concat(e),t),n&&(n.isNode()?this.trigger("node:".concat(e),Object.assign(Object.assign({},t),{node:n})):n.isEdge()&&this.trigger("edge:".concat(e),Object.assign(Object.assign({},t),{edge:n})))}},{key:"clean",value:function(){this.length=0,this.cells=[],this.map={}}},{key:"dispose",value:function(){this.reset([])}}])}(IE);KN([JN.dispose()],JN.prototype,"dispose",null);var ZN=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},QN=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return T(this,t),(e=z(this,t)).batches={},e.addings=new WeakMap,e.nodes={},e.edges={},e.outgoings={},e.incomings={},e.collection=new JN(n),e.setup(),e}return G(t,e),M(t,[{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"notify",value:function(e,t){this.trigger(e,t);var n=this.graph;return n&&("sorted"===e||"reseted"===e||"updated"===e?n.trigger("model:".concat(e),t):n.trigger(e,t)),this}},{key:"setup",value:function(){var e=this,t=this.collection;t.on("sorted",(function(){return e.notify("sorted",null)})),t.on("updated",(function(t){return e.notify("updated",t)})),t.on("cell:change:zIndex",(function(){return e.sortOnChangeZ()})),t.on("added",(function(t){var n=t.cell;e.onCellAdded(n)})),t.on("removed",(function(t){var n=t.cell;e.onCellRemoved(n,t.options),e.notify("cell:removed",t),n.isNode()?e.notify("node:removed",Object.assign(Object.assign({},t),{node:n})):n.isEdge()&&e.notify("edge:removed",Object.assign(Object.assign({},t),{edge:n}))})),t.on("reseted",(function(t){e.onReset(t.current),e.notify("reseted",t)})),t.on("edge:change:source",(function(t){var n=t.edge;return e.onEdgeTerminalChanged(n,"source")})),t.on("edge:change:target",(function(t){var n=t.edge;e.onEdgeTerminalChanged(n,"target")}))}},{key:"sortOnChangeZ",value:function(){this.collection.sort()}},{key:"onCellAdded",value:function(e){var t=e.id;e.isEdge()?(e.updateParent(),this.edges[t]=!0,this.onEdgeTerminalChanged(e,"source"),this.onEdgeTerminalChanged(e,"target")):this.nodes[t]=!0}},{key:"onCellRemoved",value:function(e,t){var n=e.id;if(e.isEdge()){delete this.edges[n];var r=e.getSource(),i=e.getTarget();if(r&&r.cell){var a=this.outgoings[r.cell],o=a?a.indexOf(n):-1;o>=0&&(a.splice(o,1),0===a.length&&delete this.outgoings[r.cell])}if(i&&i.cell){var s=this.incomings[i.cell],l=s?s.indexOf(n):-1;l>=0&&(s.splice(l,1),0===s.length&&delete this.incomings[i.cell])}}else delete this.nodes[n];t.clear||(t.disconnectEdges?this.disconnectConnectedEdges(e,t):this.removeConnectedEdges(e,t)),e.model===this&&(e.model=null)}},{key:"onReset",value:function(e){var t=this;this.nodes={},this.edges={},this.outgoings={},this.incomings={},e.forEach((function(e){return t.onCellAdded(e)}))}},{key:"onEdgeTerminalChanged",value:function(e,t){var n="source"===t?this.outgoings:this.incomings,r=e.previous(t);if(r&&r.cell){var i=jN.isCell(r.cell)?r.cell.id:r.cell,a=n[i],o=a?a.indexOf(e.id):-1;o>=0&&(a.splice(o,1),0===a.length&&delete n[i])}var s=e.getTerminal(t);if(s&&s.cell){var l=jN.isCell(s.cell)?s.cell.id:s.cell,u=n[l]||[];-1===u.indexOf(e.id)&&u.push(e.id),n[l]=u}}},{key:"prepareCell",value:function(e,t){return e.model||t&&t.dryrun||(e.model=this),null==e.zIndex&&e.setZIndex(this.getMaxZIndex()+1,{silent:!0}),e}},{key:"resetCells",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.map((function(e){return t.prepareCell(e,Object.assign(Object.assign({},n),{dryrun:!0}))})),this.collection.reset(e,n),e.map((function(e){return t.prepareCell(e,{options:n})})),this}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getCells();if(0===t.length)return this;var n=Object.assign(Object.assign({},e),{clear:!0});return this.batchUpdate("clear",(function(){for(var e=t.sort((function(e,t){return(e.isEdge()?1:2)-(t.isEdge()?1:2)}));e.length>0;){var r=e.shift();r&&r.remove(n)}}),n),this}},{key:"addNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=XN.isNode(e)?e:this.createNode(e);return this.addCell(n,t),n}},{key:"updateNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createNode(e),r=n.getProp();return n.dispose(),this.updateCell(r,t)}},{key:"createNode",value:function(e){return XN.create(e)}},{key:"addEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=YN.isEdge(e)?e:this.createEdge(e);return this.addCell(n,t),n}},{key:"createEdge",value:function(e){return YN.create(e)}},{key:"updateEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.createEdge(e),r=n.getProp();return n.dispose(),this.updateCell(r,t)}},{key:"addCell",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Array.isArray(e)?this.addCells(e,n):(this.collection.has(e)||this.addings.has(e)||(this.addings.set(e,!0),this.collection.add(this.prepareCell(e,n),n),e.eachChild((function(e){return t.addCell(e,n)})),this.addings.delete(e)),this)}},{key:"addCells",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.length;if(0===r)return this;var i=Object.assign(Object.assign({},n),{position:r-1,maxPosition:r-1});return this.startBatch("add",Object.assign(Object.assign({},i),{cells:e})),e.forEach((function(e){t.addCell(e,i),i.position-=1})),this.stopBatch("add",Object.assign(Object.assign({},i),{cells:e})),this}},{key:"updateCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.id&&this.getCell(e.id);return!!n&&this.batchUpdate("update",(function(){return Object.entries(e).forEach((function(e){var r=R(e,2),i=r[0],a=r[1];return n.setProp(i,a,t)})),!0}),e)}},{key:"removeCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"===typeof e?this.getCell(e):e;return n&&this.has(n)?this.collection.remove(n,t):null}},{key:"updateCellId",value:function(e,t){if(e.id!==t){this.startBatch("update",{id:t}),e.prop("id",t);var n=e.clone({keepId:!0});return this.addCell(n),this.getConnectedEdges(e).forEach((function(n){var r=n.getSourceCell(),i=n.getTargetCell();r===e&&n.setSource(Object.assign(Object.assign({},n.getSource()),{cell:t})),i===e&&n.setTarget(Object.assign(Object.assign({},n.getTarget()),{cell:t}))})),this.removeCell(e),this.stopBatch("update",{id:t}),n}}},{key:"removeCells",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.length?this.batchUpdate("remove",(function(){return e.map((function(e){return t.removeCell(e,n)}))})):[]}},{key:"removeConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getConnectedEdges(e);return n.forEach((function(e){e.remove(t)})),n}},{key:"disconnectConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="string"===typeof e?e:e.id;this.getConnectedEdges(e).forEach((function(e){var r=e.getSourceCellId(),i=e.getTargetCellId();r===n&&e.setSource({x:0,y:0},t),i===n&&e.setTarget({x:0,y:0},t)}))}},{key:"has",value:function(e){return this.collection.has(e)}},{key:"total",value:function(){return this.collection.length}},{key:"indexOf",value:function(e){return this.collection.indexOf(e)}},{key:"getCell",value:function(e){return this.collection.get(e)}},{key:"getCells",value:function(){return this.collection.toArray()}},{key:"getFirstCell",value:function(){return this.collection.first()}},{key:"getLastCell",value:function(){return this.collection.last()}},{key:"getMinZIndex",value:function(){var e=this.collection.first();return e&&e.getZIndex()||0}},{key:"getMaxZIndex",value:function(){var e=this.collection.last();return e&&e.getZIndex()||0}},{key:"getCellsFromCache",value:function(e){var t=this;return e?Object.keys(e).map((function(e){return t.getCell(e)})).filter((function(e){return null!=e})):[]}},{key:"getNodes",value:function(){return this.getCellsFromCache(this.nodes)}},{key:"getEdges",value:function(){return this.getCellsFromCache(this.edges)}},{key:"getOutgoingEdges",value:function(e){var t=this,n="string"===typeof e?e:e.id,r=this.outgoings[n];return r?r.map((function(e){return t.getCell(e)})).filter((function(e){return e&&e.isEdge()})):null}},{key:"getIncomingEdges",value:function(e){var t=this,n="string"===typeof e?e:e.id,r=this.incomings[n];return r?r.map((function(e){return t.getCell(e)})).filter((function(e){return e&&e.isEdge()})):null}},{key:"getConnectedEdges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],i="string"===typeof e?this.getCell(e):e;if(null==i)return r;var a={},o=n.indirect,s=n.incoming,l=n.outgoing;null==s&&null==l&&(s=l=!0);var u=function(e,n){var i=n?t.getOutgoingEdges(e):t.getIncomingEdges(e);if(null!=i&&i.forEach((function(e){a[e.id]||(r.push(e),a[e.id]=!0,o&&(s&&u(e,!1),l&&u(e,!0)))})),o&&e.isEdge()){var c=n?e.getTargetCell():e.getSourceCell();c&&c.isEdge()&&(a[c.id]||(r.push(c),u(c,n)))}};if(l&&u(i,!0),s&&u(i,!1),n.deep){var c=i.getDescendants({deep:!0}),h={};c.forEach((function(e){e.isNode()&&(h[e.id]=!0)}));var f=function(e,i){var o=i?t.getOutgoingEdges(e.id):t.getIncomingEdges(e.id);null!=o&&o.forEach((function(e){if(!a[e.id]){var t=e.getSourceCell(),i=e.getTargetCell();if(!n.enclosed&&t&&h[t.id]&&i&&h[i.id])return;r.push(e),a[e.id]=!0}}))};c.forEach((function(e){e.isEdge()||(l&&f(e,!0),s&&f(e,!1))}))}return r}},{key:"isBoundary",value:function(e,t){var n="string"===typeof e?this.getCell(e):e,r=t?this.getIncomingEdges(n):this.getOutgoingEdges(n);return null==r||0===r.length}},{key:"getBoundaryNodes",value:function(e){var t=this,n=[];return Object.keys(this.nodes).forEach((function(r){if(t.isBoundary(r,e)){var i=t.getCell(r);i&&n.push(i)}})),n}},{key:"getRoots",value:function(){return this.getBoundaryNodes(!0)}},{key:"getLeafs",value:function(){return this.getBoundaryNodes(!1)}},{key:"isRoot",value:function(e){return this.isBoundary(e,!0)}},{key:"isLeaf",value:function(e){return this.isBoundary(e,!1)}},{key:"getNeighbors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.incoming,r=t.outgoing;null==n&&null==r&&(n=r=!0);var i=this.getConnectedEdges(e,t).reduce((function(i,a){var o=a.hasLoop(t),s=a.getSourceCell(),l=a.getTargetCell();return n&&s&&s.isNode()&&!i[s.id]&&(!o&&(s===e||t.deep&&s.isDescendantOf(e))||(i[s.id]=s)),r&&l&&l.isNode()&&!i[l.id]&&(!o&&(l===e||t.deep&&l.isDescendantOf(e))||(i[l.id]=l)),i}),{});if(e.isEdge()){if(n){var a=e.getSourceCell();a&&a.isNode()&&!i[a.id]&&(i[a.id]=a)}if(r){var o=e.getTargetCell();o&&o.isNode()&&!i[o.id]&&(i[o.id]=o)}}return Object.keys(i).map((function(e){return i[e]}))}},{key:"isNeighbor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.incoming,i=n.outgoing;return null==r&&null==i&&(r=i=!0),this.getConnectedEdges(e,n).some((function(e){var n=e.getSourceCell(),a=e.getTargetCell();return!(!r||!n||n.id!==t.id)||!(!i||!a||a.id!==t.id)}))}},{key:"getSuccessors",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return this.search(e,(function(i,a){i!==e&&t.matchDistance(a,n.distance)&&r.push(i)}),Object.assign(Object.assign({},n),{outgoing:!0})),r}},{key:"isSuccessor",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!1;return this.search(e,(function(a,o){if(a===t&&a!==e&&n.matchDistance(o,r.distance))return i=!0,!1}),Object.assign(Object.assign({},r),{outgoing:!0})),i}},{key:"getPredecessors",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return this.search(e,(function(i,a){i!==e&&t.matchDistance(a,n.distance)&&r.push(i)}),Object.assign(Object.assign({},n),{incoming:!0})),r}},{key:"isPredecessor",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!1;return this.search(e,(function(a,o){if(a===t&&a!==e&&n.matchDistance(o,r.distance))return i=!0,!1}),Object.assign(Object.assign({},r),{incoming:!0})),i}},{key:"matchDistance",value:function(e,t){return null==t||("function"===typeof t?t(e):!(!Array.isArray(t)||!t.includes(e))||e===t)}},{key:"getCommonAncestor",value:function(){for(var e=[],t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&(Array.isArray(t)?e.push.apply(e,Y(t)):e.push(t))})),jN.getCommonAncestor.apply(jN,e)}},{key:"getSubGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],i={},a=[],o=[],s=function(e){i[e.id]||(r.push(e),i[e.id]=e,e.isEdge()&&o.push(e),e.isNode()&&a.push(e))};return e.forEach((function(e){(s(e),n.deep)&&e.getDescendants({deep:!0}).forEach((function(e){return s(e)}))})),o.forEach((function(e){var t=e.getSourceCell(),n=e.getTargetCell();t&&!i[t.id]&&(r.push(t),i[t.id]=t,t.isNode()&&a.push(t)),n&&!i[n.id]&&(r.push(n),i[n.id]=n,n.isNode()&&a.push(n))})),a.forEach((function(e){t.getConnectedEdges(e,n).forEach((function(e){var t=e.getSourceCell(),n=e.getTargetCell();!i[e.id]&&t&&i[t.id]&&n&&i[n.id]&&(r.push(e),i[e.id]=e)}))})),r}},{key:"cloneSubGraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getSubGraph(e,t);return this.cloneCells(n)}},{key:"cloneCells",value:function(e){return jN.cloneCells(e)}},{key:"getNodesFromPoint",value:function(e,t){var n="number"===typeof e?{x:e,y:t||0}:e;return this.getNodes().filter((function(e){return e.getBBox().containsPoint(n)}))}},{key:"getNodesInArea",value:function(e,t,n,r,i){var a="number"===typeof e?new kA(e,t,n,r):kA.create(e),o="number"===typeof e?i:t,s=o&&o.strict;return this.getNodes().filter((function(e){var t=e.getBBox();return s?a.containsRect(t):a.isIntersectWithRect(t)}))}},{key:"getEdgesInArea",value:function(e,t,n,r,i){var a="number"===typeof e?new kA(e,t,n,r):kA.create(e),o="number"===typeof e?i:t,s=o&&o.strict;return this.getEdges().filter((function(e){var t=e.getBBox();return 0===t.width?t.inflate(1,0):0===t.height&&t.inflate(0,1),s?a.containsRect(t):a.isIntersectWithRect(t)}))}},{key:"getNodesUnderNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getBBox();return(null==t.by||"bbox"===t.by?this.getNodesInArea(n):this.getNodesFromPoint(n[t.by])).filter((function(t){return e.id!==t.id&&!t.isDescendantOf(e)}))}},{key:"getAllCellsBBox",value:function(){return this.getCellsBBox(this.getCells())}},{key:"getCellsBBox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return jN.getCellsBBox(e,t)}},{key:"search",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.breadthFirst?this.breadthFirstSearch(e,t,n):this.depthFirstSearch(e,t,n)}},{key:"breadthFirstSearch",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[],a={},o={};i.push(e),o[e.id]=0;for(var s=function(){var e=i.shift();return null==e||a[e.id]?0:(a[e.id]=!0,!1===Ib(t,n,e,o[e.id])?0:void n.getNeighbors(e,r).forEach((function(t){o[t.id]=o[e.id]+1,i.push(t)})))};i.length>0;)s()}},{key:"depthFirstSearch",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=[],a={},o={};i.push(e),o[e.id]=0;for(var s=function(){var e=i.pop();if(null==e||a[e.id])return 0;if(a[e.id]=!0,!1===Ib(t,n,e,o[e.id]))return 0;var s=n.getNeighbors(e,r),l=i.length;s.forEach((function(t){o[t.id]=o[e.id]+1,i.splice(l,0,t)}))};i.length>0;)s()}},{key:"getShortestPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={};this.getEdges().forEach((function(e){var t=e.getSourceCellId(),i=e.getTargetCellId();t&&i&&(r[t]||(r[t]=[]),r[i]||(r[i]=[]),r[t].push(i),n.directed||r[i].push(t))}));var i="string"===typeof e?e:e.id,a=sA.run(r,i,n.weight),o=[],s="string"===typeof t?t:t.id;for(a[s]&&o.push(s);s=a[s];)o.unshift(s);return o}},{key:"translate",value:function(e,t,n){return this.getCells().filter((function(e){return!e.hasParent()})).forEach((function(r){return r.translate(e,t,n)})),this}},{key:"resize",value:function(e,t,n){return this.resizeCells(e,t,this.getCells(),n)}},{key:"resizeCells",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.getCellsBBox(n);if(i){var a=Math.max(e/i.width,0),o=Math.max(t/i.height,0),s=i.getOrigin();n.forEach((function(e){return e.scale(a,o,s,r)}))}return this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.toJSON(this.getCells(),e)}},{key:"parseJSON",value:function(e){return t.fromJSON(e)}},{key:"fromJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.parseJSON(e);return this.resetCells(n,t),this}},{key:"startBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.batches[e]=(this.batches[e]||0)+1,this.notify("batch:start",{name:e,data:t}),this}},{key:"stopBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.batches[e]=(this.batches[e]||0)-1,this.notify("batch:stop",{name:e,data:t}),this}},{key:"batchUpdate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.startBatch(e,n);var r=t();return this.stopBatch(e,n),r}},{key:"hasActiveBatch",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(this.batches);return(Array.isArray(t)?t:[t]).some((function(t){return e.batches[t]>0}))}},{key:"dispose",value:function(){this.collection.dispose()}}])}(IE);ZN([QN.dispose()],QN.prototype,"dispose",null),function(e){e.toStringTag="X6.".concat(e.name),e.isModel=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.addNode&&"function"===typeof r.addEdge&&null!=r.collection}}(QN||(QN={})),function(e){e.toJSON=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{cells:e.map((function(e){return e.toJSON(t)}))}},e.fromJSON=function(e){var t=[];return Array.isArray(e)?t.push.apply(t,Y(e)):(e.cells&&t.push.apply(t,Y(e.cells)),e.nodes&&e.nodes.forEach((function(e){null==e.shape&&(e.shape="rect"),t.push(e)})),e.edges&&e.edges.forEach((function(e){null==e.shape&&(e.shape="edge"),t.push(e)}))),t.map((function(e){var t=e.shape;if(t){if(XN.registry.exist(t))return XN.create(e);if(YN.registry.exist(t))return YN.create(e)}throw new Error("The `shape` should be specified when creating a node/edge instance")}))}}(QN||(QN={}));var $N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},eI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"label",get:function(){return this.getLabel()},set:function(e){this.setLabel(e)}},{key:"getLabel",value:function(){return this.getAttrByPath("text/text")}},{key:"setLabel",value:function(e,t){return null==e?this.removeLabel():this.setAttrByPath("text/text",e,t),this}},{key:"removeLabel",value:function(){return this.removeAttrByPath("text/text"),this}}])}(XN);!function(e){e.bodyAttr={fill:"#ffffff",stroke:"#333333",strokeWidth:2},e.labelAttr={fontSize:14,fill:"#000000",refX:.5,refY:.5,textAnchor:"middle",textVerticalAnchor:"middle",fontFamily:"Arial, helvetica, sans-serif"},e.config({attrs:{text:Object.assign({},e.labelAttr)},propHooks:function(e){var t=e.label,n=$N(e,["label"]);return t&&RE(n,"attrs/text/text",t),n},visible:!0})}(eI||(eI={}));var tI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function nI(e){return[{tagName:e,selector:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"body"},{tagName:"text",selector:"label"}]}function rI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={constructorName:e,markup:nI(e,n.selector),attrs:j({},e,Object.assign({},eI.bodyAttr))};return(n.parent||eI).define(Ww(r,t,{shape:e}))}rI("rect",{attrs:{body:{refWidth:"100%",refHeight:"100%"}}});var iI=YN.define({shape:"edge",markup:[{tagName:"path",selector:"wrap",groupSelector:"lines",attrs:{fill:"none",cursor:"pointer",stroke:"transparent",strokeLinecap:"round"}},{tagName:"path",selector:"line",groupSelector:"lines",attrs:{fill:"none",pointerEvents:"none"}}],attrs:{lines:{connection:!0,strokeLinejoin:"round"},wrap:{strokeWidth:10},line:{stroke:"#333",strokeWidth:2,targetMarker:"classic"}}}),aI=(rI("ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%"}}}),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}),oI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"points",get:function(){return this.getPoints()},set:function(e){this.setPoints(e)}},{key:"getPoints",value:function(){return this.getAttrByPath("body/refPoints")}},{key:"setPoints",value:function(e,n){return null==e?this.removePoints():this.setAttrByPath("body/refPoints",t.pointsToString(e),n),this}},{key:"removePoints",value:function(){return this.removeAttrByPath("body/refPoints"),this}}])}(eI);!function(e){function t(e){return"string"===typeof e?e:e.map((function(e){return Array.isArray(e)?e.join(","):xA.isPointLike(e)?"".concat(e.x,", ").concat(e.y):""})).join(" ")}e.pointsToString=t,e.config({propHooks:function(e){var n=e.points,r=aI(e,["points"]);if(n){var i=t(n);i&&RE(r,"attrs/body/refPoints",i)}return r}})}(oI||(oI={}));rI("polygon",{},{parent:oI}),rI("polyline",{},{parent:oI});var sI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},lI=(eI.define({shape:"path",markup:[{tagName:"rect",selector:"bg"},{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}],attrs:{bg:{refWidth:"100%",refHeight:"100%",fill:"none",stroke:"none",pointerEvents:"all"},body:{fill:"none",stroke:"#000",strokeWidth:2}},propHooks:function(e){var t=e.path,n=sI(e,["path"]);return t&&RE(n,"attrs/body/refD",t),n}}),function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}),uI=(eI.define({shape:"text-block",markup:[{tagName:"rect",selector:"body"},tT.SUPPORT_FOREIGNOBJECT?{tagName:"foreignObject",selector:"foreignObject",children:[{tagName:"div",ns:RT.xhtml,selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attrs:{textAnchor:"middle"}}],attrs:{body:Object.assign(Object.assign({},eI.bodyAttr),{refWidth:"100%",refHeight:"100%"}),foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}},propHooks:function(e){var t=e.text,n=lI(e,["text"]);return t&&RE(n,"attrs/label/text",t),n},attrHooks:{text:{set:function(e,t){var n=t.cell,r=t.view,i=t.refBBox,a=t.elem,o=t.attrs;if(!(a instanceof HTMLElement)){var s=o.style||{},l={text:e,width:-5,height:"100%"},u=Object.assign({textVerticalAnchor:"middle"},s);return Ib(DO.presets.textWrap.set,this,l,{cell:n,view:r,elem:a,refBBox:i,attrs:u}),{fill:s.color||null}}a.textContent=e},position:function(e,t){var n=t.refBBox;if(t.elem instanceof SVGElement)return n.getCenter()}}}}),rI("image",{attrs:{image:{refWidth:"100%",refHeight:"100%"}},propHooks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"xlink:href";return function(t){var n=t.imageUrl,r=t.imageWidth,i=t.imageHeight,a=tI(t,["imageUrl","imageWidth","imageHeight"]);if(null!=n||null!=r||null!=i){var o=function(){if(a.attrs){var t=a.attrs.image;null!=n&&(t[e]=n),null!=r&&(t.width=r),null!=i&&(t.height=i),a.attrs.image=t}};a.attrs?(null==a.attrs.image&&(a.attrs.image={}),o()):(a.attrs={image:{}},o())}return a}}()},{selector:"image"}),rI("circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%"}}}),function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).portsCache={},e}return G(t,e),M(t,[{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"getContainerClassName",value:function(){var e=[ar(D(t.prototype),"getContainerClassName",this).call(this),this.prefixClassName("node")];return this.can("nodeMovable")||e.push(this.prefixClassName("node-immovable")),e.join(" ")}},{key:"updateClassName",value:function(e){var t=e.target;if(t.hasAttribute("magnet")){var n=this.prefixClassName("port-unconnectable");this.can("magnetConnectable")?TT(t,n):MT(t,n)}else{var r=this.prefixClassName("node-immovable");this.can("nodeMovable")?this.removeClass(r):this.addClass(r)}}},{key:"isNodeView",value:function(){return!0}},{key:"confirmUpdate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;return this.hasAction(r,"ports")&&(this.removePorts(),this.cleanPortsCache()),this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","resize","translate","rotate","ports","tools"])):(r=this.handleAction(r,"resize",(function(){return t.resize()}),"update"),r=this.handleAction(r,"update",(function(){return t.update()}),qO.useCSSSelector?"ports":null),r=this.handleAction(r,"translate",(function(){return t.translate()})),r=this.handleAction(r,"rotate",(function(){return t.rotate()})),r=this.handleAction(r,"ports",(function(){return t.renderPorts()})),r=this.handleAction(r,"tools",(function(){t.getFlag("tools")===e?t.renderTools():t.updateTools(n)}))),r}},{key:"update",value:function(e){this.cleanCache(),qO.useCSSSelector&&this.removePorts();var t=this.cell,n=t.getSize(),r=t.getAttrs();this.updateAttrs(this.container,r,{attrs:e===r?null:e,rootBBox:new kA(0,0,n.width,n.height),selectors:this.selectors}),qO.useCSSSelector&&this.renderPorts()}},{key:"renderMarkup",value:function(){var e=this.cell.markup;if(e){if("string"===typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid node markup.")}},{key:"renderJSONMarkup",value:function(e){var t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.appendChild(t.fragment)}},{key:"render",value:function(){return this.empty(),this.renderMarkup(),this.resize(),this.updateTransform(),qO.useCSSSelector||this.renderPorts(),this.renderTools(),this}},{key:"resize",value:function(){this.cell.getAngle()&&this.rotate(),this.update()}},{key:"translate",value:function(){this.updateTransform()}},{key:"rotate",value:function(){this.updateTransform()}},{key:"getTranslationString",value:function(){var e=this.cell.getPosition();return"translate(".concat(e.x,",").concat(e.y,")")}},{key:"getRotationString",value:function(){var e=this.cell.getAngle();if(e){var t=this.cell.getSize();return"rotate(".concat(e,",").concat(t.width/2,",").concat(t.height/2,")")}}},{key:"updateTransform",value:function(){var e=this.getTranslationString(),t=this.getRotationString();t&&(e+=" ".concat(t)),this.container.setAttribute("transform",e)}},{key:"findPortElem",value:function(e,t){var n=e?this.portsCache[e]:null;if(!n)return null;var r=n.portContentElement,i=n.portContentSelectors||{};return this.findOne(t,r,i)}},{key:"cleanPortsCache",value:function(){this.portsCache={}}},{key:"removePorts",value:function(){Object.values(this.portsCache).forEach((function(e){zT(e.portElement)}))}},{key:"renderPorts",value:function(){var e=this,t=this.container,n=[];t.childNodes.forEach((function(e){n.push(e)}));var r=this.cell.getParsedPorts(),i=S_(r,"zIndex"),a="auto";i[a]&&i[a].forEach((function(r){var i=e.getPortElement(r);t.append(i),n.push(i)})),Object.keys(i).forEach((function(t){if(t!==a){var r=parseInt(t,10);e.appendPorts(i[t],r,n)}})),this.updatePorts()}},{key:"appendPorts",value:function(e,t,n){var r=this,i=e.map((function(e){return r.getPortElement(e)}));n[t]||t<0?jT(n[Math.max(t,0)],i):GT(this.container,i)}},{key:"getPortElement",value:function(e){var t=this.portsCache[e.id];return t?t.portElement:this.createPortElement(e)}},{key:"createPortElement",value:function(e){var t=FR.renderMarkup(this.cell.getPortContainerMarkup()),n=t.elem;if(null==n)throw new Error("Invalid port container markup.");var r=(t=FR.renderMarkup(this.getPortMarkup(e))).elem,i=t.selectors;if(null==r)throw new Error("Invalid port markup.");this.setAttrs({port:e.id,"port-group":e.group},r);var a="x6-port";e.group&&(a+=" x6-port-".concat(e.group)),MT(n,a),MT(n,"x6-port"),MT(r,"x6-port-body"),n.appendChild(r);var o,s,l=i;if(this.existPortLabel(e)){if(o=(t=FR.renderMarkup(this.getPortLabelMarkup(e.label))).elem,s=t.selectors,null==o)throw new Error("Invalid port label markup.");if(i&&s){for(var u in s)if(i[u]&&u!==this.rootSelector)throw new Error("Selectors within port must be unique.");l=Object.assign(Object.assign({},i),s)}MT(o,"x6-port-label"),n.appendChild(o)}return this.portsCache[e.id]={portElement:n,portSelectors:l,portLabelElement:o,portLabelSelectors:s,portContentElement:r,portContentSelectors:i},this.graph.options.onPortRendered&&this.graph.options.onPortRendered({port:e,node:this.cell,container:n,selectors:l,labelContainer:o,labelSelectors:s,contentContainer:r,contentSelectors:i}),n}},{key:"updatePorts",value:function(){var e=this,t=this.cell.getParsedGroups(),n=Object.keys(t);0===n.length?this.updatePortGroup():n.forEach((function(t){return e.updatePortGroup(t)}))}},{key:"updatePortGroup",value:function(e){for(var t=kA.fromSize(this.cell.getSize()),n=this.cell.getPortsLayoutByGroup(e,t),r=0,i=n.length;r<i;r+=1){var a=n[r],o=a.portId,s=this.portsCache[o]||{},l=a.portLayout;if(this.applyPortTransform(s.portElement,l),null!=a.portAttrs){var u={selectors:s.portSelectors||{}};a.portSize&&(u.rootBBox=kA.fromSize(a.portSize)),this.updateAttrs(s.portElement,a.portAttrs,u)}var c=a.labelLayout;if(c&&s.portLabelElement&&(this.applyPortTransform(s.portLabelElement,c,-(l.angle||0)),c.attrs)){var h={selectors:s.portLabelSelectors||{}};a.labelSize&&(h.rootBBox=kA.fromSize(a.labelSize)),this.updateAttrs(s.portLabelElement,c.attrs,h)}}}},{key:"applyPortTransform",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.angle,i=t.position;WC(e,BC().rotate(n).translate(i.x||0,i.y||0).rotate(r||0),{absolute:!0})}},{key:"getPortMarkup",value:function(e){return e.markup||this.cell.portMarkup}},{key:"getPortLabelMarkup",value:function(e){return e.markup||this.cell.portLabelMarkup}},{key:"existPortLabel",value:function(e){return e.attrs&&e.attrs.text}},{key:"getEventArgs",value:function(e,t,n){var r=this,i=r.cell;return null==t||null==n?{e:e,view:r,node:i,cell:i}:{e:e,x:t,y:n,view:r,node:i,cell:i}}},{key:"getPortEventArgs",value:function(e,t,n){var r=this,i=r.cell,a=i;return n?{e:e,x:n.x,y:n.y,view:r,node:i,cell:a,port:t}:{e:e,view:r,node:i,cell:a,port:t}}},{key:"notifyMouseDown",value:function(e,n,r){ar(D(t.prototype),"onMouseDown",this).call(this,e,n,r),this.notify("node:mousedown",this.getEventArgs(e,n,r))}},{key:"notifyMouseMove",value:function(e,n,r){ar(D(t.prototype),"onMouseMove",this).call(this,e,n,r),this.notify("node:mousemove",this.getEventArgs(e,n,r))}},{key:"notifyMouseUp",value:function(e,n,r){ar(D(t.prototype),"onMouseUp",this).call(this,e,n,r),this.notify("node:mouseup",this.getEventArgs(e,n,r))}},{key:"notifyPortEvent",value:function(e,t,n){var r=this.findAttr("port",t.target);if(r){var i=t.type;"node:port:mouseenter"===e?t.type="mouseenter":"node:port:mouseleave"===e&&(t.type="mouseleave"),this.notify(e,this.getPortEventArgs(t,r,n)),t.type=i}}},{key:"onClick",value:function(e,n,r){ar(D(t.prototype),"onClick",this).call(this,e,n,r),this.notify("node:click",this.getEventArgs(e,n,r)),this.notifyPortEvent("node:port:click",e,{x:n,y:r})}},{key:"onDblClick",value:function(e,n,r){ar(D(t.prototype),"onDblClick",this).call(this,e,n,r),this.notify("node:dblclick",this.getEventArgs(e,n,r)),this.notifyPortEvent("node:port:dblclick",e,{x:n,y:r})}},{key:"onContextMenu",value:function(e,n,r){ar(D(t.prototype),"onContextMenu",this).call(this,e,n,r),this.notify("node:contextmenu",this.getEventArgs(e,n,r)),this.notifyPortEvent("node:port:contextmenu",e,{x:n,y:r})}},{key:"onMouseDown",value:function(e,t,n){this.isPropagationStopped(e)||(this.notifyMouseDown(e,t,n),this.notifyPortEvent("node:port:mousedown",e,{x:t,y:n}),this.startNodeDragging(e,t,n))}},{key:"onMouseMove",value:function(e,t,n){var r=this.getEventData(e),i=r.action;if("magnet"===i)this.dragMagnet(e,t,n);else{if("move"===i){var a=r.targetView||this;a.dragNode(e,t,n),a.notify("node:moving",{e:e,x:t,y:n,view:a,cell:a.cell,node:a.cell})}this.notifyMouseMove(e,t,n),this.notifyPortEvent("node:port:mousemove",e,{x:t,y:n})}this.setEventData(e,r)}},{key:"onMouseUp",value:function(e,t,n){var r=this.getEventData(e),i=r.action;"magnet"===i?this.stopMagnetDragging(e,t,n):(this.notifyMouseUp(e,t,n),this.notifyPortEvent("node:port:mouseup",e,{x:t,y:n}),"move"===i&&(r.targetView||this).stopNodeDragging(e,t,n));var a=r.targetMagnet;a&&this.onMagnetClick(e,a,t,n),this.checkMouseleave(e)}},{key:"onMouseOver",value:function(e){ar(D(t.prototype),"onMouseOver",this).call(this,e),this.notify("node:mouseover",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseenter",e),this.notifyPortEvent("node:port:mouseover",e)}},{key:"onMouseOut",value:function(e){ar(D(t.prototype),"onMouseOut",this).call(this,e),this.notify("node:mouseout",this.getEventArgs(e)),this.notifyPortEvent("node:port:mouseleave",e),this.notifyPortEvent("node:port:mouseout",e)}},{key:"onMouseEnter",value:function(e){this.updateClassName(e),ar(D(t.prototype),"onMouseEnter",this).call(this,e),this.notify("node:mouseenter",this.getEventArgs(e))}},{key:"onMouseLeave",value:function(e){ar(D(t.prototype),"onMouseLeave",this).call(this,e),this.notify("node:mouseleave",this.getEventArgs(e))}},{key:"onMouseWheel",value:function(e,n,r,i){ar(D(t.prototype),"onMouseWheel",this).call(this,e,n,r,i),this.notify("node:mousewheel",Object.assign({delta:i},this.getEventArgs(e,n,r)))}},{key:"onMagnetClick",value:function(e,t,n,r){var i=this.graph;i.view.getMouseMovedCount(e)>i.options.clickThreshold||this.notify("node:magnet:click",Object.assign({magnet:t},this.getEventArgs(e,n,r)))}},{key:"onMagnetDblClick",value:function(e,t,n,r){this.notify("node:magnet:dblclick",Object.assign({magnet:t},this.getEventArgs(e,n,r)))}},{key:"onMagnetContextMenu",value:function(e,t,n,r){this.notify("node:magnet:contextmenu",Object.assign({magnet:t},this.getEventArgs(e,n,r)))}},{key:"onMagnetMouseDown",value:function(e,t,n,r){this.startMagnetDragging(e,n,r)}},{key:"onCustomEvent",value:function(e,n,r,i){this.notify("node:customevent",Object.assign({name:n},this.getEventArgs(e,r,i))),ar(D(t.prototype),"onCustomEvent",this).call(this,e,n,r,i)}},{key:"prepareEmbedding",value:function(e){var t=this.graph,n=this.getEventData(e).cell||this.cell,r=t.findViewByCell(n),i=t.snapToGrid(e.clientX,e.clientY);this.notify("node:embed",{e:e,node:n,view:r,cell:n,x:i.x,y:i.y,currentParent:n.getParent()})}},{key:"processEmbedding",value:function(e,t){var n=this,r=t.cell||this.cell,i=t.graph||this.graph,a=i.options.embedding,o=a.findParent,s="function"===typeof o?Ib(o,i,{view:this,node:this.cell}).filter((function(e){return jN.isCell(e)&&n.cell.id!==e.id&&!e.isDescendantOf(n.cell)})):i.model.getNodesUnderNode(r,{by:o});if(a.frontOnly&&s.length>0){var l=S_(s,"zIndex"),u=A_(Object.keys(l).map((function(e){return parseInt(e,10)})));u&&(s=l[u])}s=s.filter((function(e){return e.visible}));for(var c=null,h=t.candidateEmbedView,f=a.validate,d=s.length-1;d>=0;d-=1){var p=s[d];if(h&&h.cell.id===p.id){c=h;break}var v=p.findView(i);if(f&&Ib(f,i,{child:this.cell,parent:v.cell,childView:this,parentView:v})){c=v;break}}this.clearEmbedding(t),c&&c.highlight(null,{type:"embedding"}),t.candidateEmbedView=c;var g=i.snapToGrid(e.clientX,e.clientY);this.notify("node:embedding",{e:e,cell:r,node:r,view:i.findViewByCell(r),x:g.x,y:g.y,currentParent:r.getParent(),candidateParent:c?c.cell:null})}},{key:"clearEmbedding",value:function(e){var t=e.candidateEmbedView;t&&(t.unhighlight(null,{type:"embedding"}),e.candidateEmbedView=null)}},{key:"finalizeEmbedding",value:function(e,t){this.graph.startBatch("embedding");var n=t.cell||this.cell,r=t.graph||this.graph,i=r.findViewByCell(n),a=n.getParent(),o=t.candidateEmbedView;if(o?(o.unhighlight(null,{type:"embedding"}),t.candidateEmbedView=null,null!=a&&a.id===o.cell.id||o.cell.insertChild(n,void 0,{ui:!0})):a&&a.unembed(n,{ui:!0}),r.model.getConnectedEdges(n,{deep:!0}).forEach((function(e){e.updateParent({ui:!0})})),i&&o){var s=r.snapToGrid(e.clientX,e.clientY);i.notify("node:embedded",{e:e,cell:n,x:s.x,y:s.y,node:n,view:r.findViewByCell(n),previousParent:a,currentParent:n.getParent()})}this.graph.stopBatch("embedding")}},{key:"getDelegatedView",value:function(){for(var e=this.cell,t=this;t&&!e.isEdge();){if(!e.hasParent()||t.can("stopDelegateOnDragging"))return t;e=e.getParent(),t=this.graph.findViewByCell(e)}return null}},{key:"validateMagnet",value:function(e,t,n){if("passive"!==t.getAttribute("magnet")){var r=this.graph.options.connecting.validateMagnet;return!r||Ib(r,this.graph,{e:n,magnet:t,view:e,cell:e.cell})}return!1}},{key:"startMagnetDragging",value:function(e,t,n){if(this.can("magnetConnectable")){e.stopPropagation();var r=e.currentTarget,i=this.graph;this.setEventData(e,{targetMagnet:r}),this.validateMagnet(this,r,e)?(i.options.magnetThreshold<=0&&this.startConnectting(e,r,t,n),this.setEventData(e,{action:"magnet"}),this.stopPropagation(e)):this.onMouseDown(e,t,n),i.view.delegateDragEvents(e,this)}}},{key:"startConnectting",value:function(e,t,n,r){this.graph.model.startBatch("add-edge");var i=this.createEdgeFromMagnet(t,n,r);i.setEventData(e,i.prepareArrowheadDragging("target",{x:n,y:r,isNewEdge:!0,fallbackAction:"remove"})),this.setEventData(e,{edgeView:i}),i.notifyMouseDown(e,n,r)}},{key:"getDefaultEdge",value:function(e,t){var n,r=this.graph.options.connecting.createEdge;return r&&(n=Ib(r,this.graph,{sourceMagnet:t,sourceView:e,sourceCell:e.cell})),n}},{key:"createEdgeFromMagnet",value:function(e,t,n){var r=this.graph,i=r.model,a=this.getDefaultEdge(this,e);return a.setSource(Object.assign(Object.assign({},a.getSource()),this.getEdgeTerminal(e,t,n,a,"source"))),a.setTarget(Object.assign(Object.assign({},a.getTarget()),{x:t,y:n})),a.addTo(i,{async:!1,ui:!0}),a.findView(r)}},{key:"dragMagnet",value:function(e,t,n){var r=this.getEventData(e),i=r.edgeView;if(i)i.onMouseMove(e,t,n),this.autoScrollGraph(e.clientX,e.clientY);else{var a=this.graph,o=a.options.magnetThreshold,s=this.getEventTarget(e),l=r.targetMagnet;if("onleave"===o){if(l===s||l.contains(s))return}else if(a.view.getMouseMovedCount(e)<=o)return;this.startConnectting(e,l,t,n)}}},{key:"stopMagnetDragging",value:function(e,t,n){var r=this.eventData(e).edgeView;r&&(r.onMouseUp(e,t,n),this.graph.model.stopBatch("add-edge"))}},{key:"notifyUnhandledMouseDown",value:function(e,t,n){this.notify("node:unhandled:mousedown",{e:e,x:t,y:n,view:this,cell:this.cell,node:this.cell})}},{key:"notifyNodeMove",value:function(e,t,n,r,i){var a=this,o=[i],s=this.graph.getPlugin("selection");if(s&&s.isSelectionMovable()){var l=s.getSelectedCells();l.includes(i)&&(o=l.filter((function(e){return e.isNode()})))}o.forEach((function(i){a.notify(e,{e:t,x:n,y:r,cell:i,node:i,view:i.findView(a.graph)})}))}},{key:"getRestrictArea",value:function(e){var t=this.graph.options.translating.restrict,n="function"===typeof t?Ib(t,this.graph,e):t;return"number"===typeof n?this.graph.transform.getGraphArea().inflate(n):!0===n?this.graph.transform.getGraphArea():n||null}},{key:"startNodeDragging",value:function(e,t,n){var r=this.getDelegatedView();if(null==r||!r.can("nodeMovable"))return this.notifyUnhandledMouseDown(e,t,n);this.setEventData(e,{targetView:r,action:"move"});var i=xA.create(r.cell.getPosition());r.setEventData(e,{moving:!1,offset:i.diff(t,n),restrict:this.getRestrictArea(r)})}},{key:"dragNode",value:function(e,t,n){var r=this.cell,i=this.graph,a=i.getGridSize(),o=this.getEventData(e),s=o.offset,l=o.restrict;o.moving||(o.moving=!0,this.addClass("node-moving"),this.notifyNodeMove("node:move",e,t,n,this.cell)),this.autoScrollGraph(e.clientX,e.clientY);var u=vA.snapToGrid(t+s.x,a),c=vA.snapToGrid(n+s.y,a);r.setPosition(u,c,{restrict:l,deep:!0,ui:!0}),i.options.embedding.enabled&&(o.embedding||(this.prepareEmbedding(e),o.embedding=!0),this.processEmbedding(e,o))}},{key:"stopNodeDragging",value:function(e,t,n){var r=this.getEventData(e);r.embedding&&this.finalizeEmbedding(e,r),r.moving&&(this.removeClass("node-moving"),this.notifyNodeMove("node:moved",e,t,n,this.cell)),r.moving=!1,r.embedding=!1}},{key:"autoScrollGraph",value:function(e,t){var n=this.graph.getPlugin("scroller");n&&n.autoScroll(e,t)}}])}(jR));!function(e){e.toStringTag="X6.".concat(e.name),e.isNodeView=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNodeView&&"function"===typeof r.isEdgeView&&"function"===typeof r.confirmUpdate&&"function"===typeof r.update&&"function"===typeof r.findPortElem&&"function"===typeof r.resize&&"function"===typeof r.rotate&&"function"===typeof r.translate}}(uI||(uI={})),uI.config({isSvgElement:!0,priority:0,bootstrap:["render"],actions:{view:["render"],markup:["render"],attrs:["update"],size:["resize","ports","tools"],angle:["rotate","tools"],position:["translate","tools"],ports:["ports"],tools:["tools"]}}),uI.registry.register("node",uI,!0);var cI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},hI=function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).POINT_ROUNDING=2,e.labelDestroyFn={},e}return G(t,e),M(t,[{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"getContainerClassName",value:function(){return[ar(D(t.prototype),"getContainerClassName",this).call(this),this.prefixClassName("edge")].join(" ")}},{key:"sourceBBox",get:function(){var e=this.sourceView;if(!e){var t=this.cell.getSource();return new kA(t.x,t.y)}var n=this.sourceMagnet;return e.isEdgeElement(n)?new kA(this.sourceAnchor.x,this.sourceAnchor.y):e.getBBoxOfElement(n||e.container)}},{key:"targetBBox",get:function(){var e=this.targetView;if(!e){var t=this.cell.getTarget();return new kA(t.x,t.y)}var n=this.targetMagnet;return e.isEdgeElement(n)?new kA(this.targetAnchor.x,this.targetAnchor.y):e.getBBoxOfElement(n||e.container)}},{key:"isEdgeView",value:function(){return!0}},{key:"confirmUpdate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e;if(this.hasAction(r,"source")){if(!this.updateTerminalProperties("source"))return r;r=this.removeAction(r,"source")}if(this.hasAction(r,"target")){if(!this.updateTerminalProperties("target"))return r;r=this.removeAction(r,"target")}return this.hasAction(r,"render")?(this.render(),r=this.removeAction(r,["render","update","labels","tools"])):(r=this.handleAction(r,"update",(function(){return t.update(n)})),r=this.handleAction(r,"labels",(function(){return t.onLabelsChange(n)})),r=this.handleAction(r,"tools",(function(){return t.renderTools()})))}},{key:"render",value:function(){return this.empty(),this.renderMarkup(),this.labelContainer=null,this.renderLabels(),this.update(),this.renderTools(),this}},{key:"renderMarkup",value:function(){var e=this.cell.markup;if(e){if("string"===typeof e)throw new TypeError("Not support string markup.");return this.renderJSONMarkup(e)}throw new TypeError("Invalid edge markup.")}},{key:"renderJSONMarkup",value:function(e){var t=this.parseJSONMarkup(e,this.container);this.selectors=t.selectors,this.container.append(t.fragment)}},{key:"customizeLabels",value:function(){if(this.labelContainer)for(var e=this.cell,t=e.labels,n=0,r=t.length;n<r;n+=1){var i=t[n],a=this.labelCache[n],o=this.labelSelectors[n],s=this.graph.options.onEdgeLabelRendered;if(s){var l=s({edge:e,label:i,container:a,selectors:o});l&&(this.labelDestroyFn[n]=l)}}}},{key:"destroyCustomizeLabels",value:function(){var e=this.cell.labels;if(this.labelCache&&this.labelSelectors&&this.labelDestroyFn)for(var t=0,n=e.length;t<n;t+=1){var r=this.labelDestroyFn[t],i=this.labelCache[t],a=this.labelSelectors[t];r&&i&&a&&r({edge:this.cell,label:e[t],container:i,selectors:a})}this.labelDestroyFn={}}},{key:"renderLabels",value:function(){var e=this.cell,t=e.getLabels(),n=t.length,r=this.labelContainer;if(this.labelCache={},this.labelSelectors={},n<=0)return r&&r.parentNode&&r.parentNode.removeChild(r),this;r?this.empty(r):(r=IT("g"),this.addClass(this.prefixClassName("edge-labels"),r),this.labelContainer=r);for(var i=0,a=t.length;i<a;i+=1){var o=t[i],s=this.normalizeLabelMarkup(this.parseLabelMarkup(o.markup)),l=void 0,u=void 0;if(s)l=s.node,u=s.selectors;else{var c=e.getDefaultLabel(),h=this.normalizeLabelMarkup(this.parseLabelMarkup(c.markup));l=h.node,u=h.selectors}l.setAttribute("data-index","".concat(i)),r.appendChild(l);var f=this.rootSelector;if(u[f])throw new Error("Ambiguous label root selector.");u[f]=l,this.labelCache[i]=l,this.labelSelectors[i]=u}return null==r.parentNode&&this.container.appendChild(r),this.updateLabels(),this.customizeLabels(),this}},{key:"onLabelsChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.destroyCustomizeLabels(),this.shouldRerenderLabels(e)?this.renderLabels():this.updateLabels(),this.updateLabelPositions()}},{key:"shouldRerenderLabels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.cell.previous("labels");if(null==t)return!0;if("propertyPathArray"in e&&"propertyValue"in e){var n=e.propertyPathArray||[],r=n.length;if(r>1)if(t[n[1]]){if(2===r)return"object"===typeof e.propertyValue&&ok(e.propertyValue,"markup");if("markup"!==n[2])return!1}}return!0}},{key:"parseLabelMarkup",value:function(e){return e?"string"===typeof e?this.parseLabelStringMarkup(e):this.parseJSONMarkup(e):null}},{key:"parseLabelStringMarkup",value:function(e){for(var t=bC.createVectors(e),n=document.createDocumentFragment(),r=0,i=t.length;r<i;r+=1){var a=t[r].node;n.appendChild(a)}return{fragment:n,selectors:{}}}},{key:"normalizeLabelMarkup",value:function(e){if(null!=e){var t,n=e.fragment;if(!(n instanceof DocumentFragment)||!n.hasChildNodes())throw new Error("Invalid label markup.");var r=n.childNodes;return(t=r.length>1||"G"!==r[0].nodeName.toUpperCase()?bC.create("g").append(n):bC.create(r[0])).addClass(this.prefixClassName("edge-label")),{node:t.node,selectors:e.selectors}}}},{key:"updateLabels",value:function(){if(this.labelContainer)for(var e=this.cell,t=e.labels,n=this.can("edgeLabelMovable"),r=e.getDefaultLabel(),i=0,a=t.length;i<a;i+=1){var o=this.labelCache[i],s=this.labelSelectors[i];o.setAttribute("cursor",n?"move":"default");var l=t[i],u=Ww({},r.attrs,l.attrs);this.updateAttrs(o,u,{selectors:s,rootBBox:l.size?kA.fromSize(l.size):void 0})}}},{key:"renderTools",value:function(){var e=this.cell.getTools();return this.addTools(e),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.cleanCache(),this.updateConnection(e);var t=this.cell.getAttrs(),n=(t.text,cI(t,["text"]));return null!=n&&this.updateAttrs(this.container,n,{selectors:this.selectors}),this.updateLabelPositions(),this.updateTools(e),this}},{key:"removeRedundantLinearVertices",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.cell,n=t.getVertices(),r=[this.sourceAnchor].concat(Y(n),[this.targetAnchor]),i=r.length,a=new PA(r);a.simplify({threshold:.01});var o=a.points.map((function(e){return e.toJSON()})),s=o.length;return i===s?0:(t.setVertices(o.slice(1,s-1),e),i-s)}},{key:"getTerminalView",value:function(e){switch(e){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("Unknown terminal type '".concat(e,"'"))}}},{key:"getTerminalAnchor",value:function(e){switch(e){case"source":return xA.create(this.sourceAnchor);case"target":return xA.create(this.targetAnchor);default:throw new Error("Unknown terminal type '".concat(e,"'"))}}},{key:"getTerminalConnectionPoint",value:function(e){switch(e){case"source":return xA.create(this.sourcePoint);case"target":return xA.create(this.targetPoint);default:throw new Error("Unknown terminal type '".concat(e,"'"))}}},{key:"getTerminalMagnet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(e){case"source":if(t.raw)return this.sourceMagnet;var n=this.sourceView;return n?this.sourceMagnet||n.container:null;case"target":if(t.raw)return this.targetMagnet;var r=this.targetView;return r?this.targetMagnet||r.container:null;default:throw new Error("Unknown terminal type '".concat(e,"'"))}}},{key:"updateConnection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.cell;if(e.translateBy&&t.isFragmentDescendantOf(e.translateBy)){var n=e.tx||0,r=e.ty||0;this.routePoints=new PA(this.routePoints).translate(n,r).points,this.translateConnectionPoints(n,r),this.path.translate(n,r)}else{var i=t.getVertices(),a=this.findAnchors(i);this.sourceAnchor=a.source,this.targetAnchor=a.target,this.routePoints=this.findRoutePoints(i);var o=this.findConnectionPoints(this.routePoints,this.sourceAnchor,this.targetAnchor);this.sourcePoint=o.source,this.targetPoint=o.target;var s=this.findMarkerPoints(this.routePoints,this.sourcePoint,this.targetPoint);this.path=this.findPath(this.routePoints,s.source||this.sourcePoint,s.target||this.targetPoint)}this.cleanCache()}},{key:"findAnchors",value:function(e){var t=this.cell,n=t.source,r=t.target,i=e[0],a=e[e.length-1];return r.priority&&!n.priority?this.findAnchorsOrdered("target",a,"source",i):this.findAnchorsOrdered("source",i,"target",a)}},{key:"findAnchorsOrdered",value:function(e,t,n,r){var i,a,o,s=this.cell,l=s[e],u=s[n],c=this.getTerminalView(e),h=this.getTerminalView(n),f=this.getTerminalMagnet(e),d=this.getTerminalMagnet(n);c?(o=t?xA.create(t):h?d:xA.create(u),i=this.getAnchor(l.anchor,c,f,o,e)):i=xA.create(l);if(h){var p=xA.create(r||i);a=this.getAnchor(u.anchor,h,d,p,n)}else a=xA.isPointLike(u)?xA.create(u):new xA;return j(j({},e,i),n,a)}},{key:"getAnchor",value:function(e,t,n,r,i){var a,o=t.isEdgeElement(n),s=this.graph.options.connecting,l="string"===typeof e?{name:e}:e;if(!l){var u=o?("source"===i?s.sourceEdgeAnchor:s.targetEdgeAnchor)||s.edgeAnchor:("source"===i?s.sourceAnchor:s.targetAnchor)||s.anchor;l="string"===typeof u?{name:u}:u}if(!l)throw new Error("Anchor should be specified.");var c=l.name;if(o){var h=OL.registry.get(c);if("function"!==typeof h)return OL.registry.onNotFound(c);a=Ib(h,this,t,n,r,l.args||{},i)}else{var f=TL.registry.get(c);if("function"!==typeof f)return TL.registry.onNotFound(c);a=Ib(f,this,t,n,r,l.args||{},i)}return a?a.round(this.POINT_ROUNDING):new xA}},{key:"findRoutePoints",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.graph.options.connecting.router||wN.presets.normal,r=this.cell.getRouter()||n;if("function"===typeof r)e=Ib(r,this,t,{},this);else{var i="string"===typeof r?r:r.name,a="string"===typeof r?{}:r.args||{},o=i?wN.registry.get(i):wN.presets.normal;if("function"!==typeof o)return wN.registry.onNotFound(i);e=Ib(o,this,t,a,this)}return null==e?t.map((function(e){return xA.create(e)})):e.map((function(e){return xA.create(e)}))}},{key:"findConnectionPoints",value:function(e,t,n){var r,i,a=this.cell,o=this.graph.options.connecting,s=a.getSource(),l=a.getTarget(),u=this.sourceView,c=this.targetView,h=e[0],f=e[e.length-1];if(u&&!u.isEdgeElement(this.sourceMagnet)){var d=this.sourceMagnet||u.container,p=new wA(h||n,t),v=s.connectionPoint||o.sourceConnectionPoint||o.connectionPoint;r=this.getConnectionPoint(v,u,d,p,"source")}else r=t;if(c&&!c.isEdgeElement(this.targetMagnet)){var g=this.targetMagnet||c.container,m=l.connectionPoint||o.targetConnectionPoint||o.connectionPoint,y=new wA(f||t,n);i=this.getConnectionPoint(m,c,g,y,"target")}else i=n;return{source:r,target:i}}},{key:"getConnectionPoint",value:function(e,t,n,r,i){var a=r.end;if(null==e)return a;var o="string"===typeof e?e:e.name,s="string"===typeof e?{}:e.args,l=GL.registry.get(o);if("function"!==typeof l)return GL.registry.onNotFound(o);var u=Ib(l,this,r,t,n,s||{},i);return u?u.round(this.POINT_ROUNDING):a}},{key:"findMarkerPoints",value:function(e,t,n){var r,i,a=this,o=function(e){for(var t=a.cell.getAttrs(),n=Object.keys(t),r=0,i=n.length;r<i;r+=1){var o=t[n[r]];if(o["".concat(e,"Marker")]||o["".concat(e,"-marker")]){var s=o.strokeWidth||o["stroke-width"];if(s)return parseFloat(s);break}}return null},s=e[0],l=e[e.length-1],u=o("source");u&&(r=t.clone().move(s||n,-u));var c=o("target");return c&&(i=n.clone().move(l||t,-c)),this.sourceMarkerPoint=r||t.clone(),this.targetMarkerPoint=i||n.clone(),{source:r,target:i}}},{key:"findPath",value:function(e,t,n){var r,i,a,o=this.cell.getConnector()||this.graph.options.connecting.connector;if("string"===typeof o?r=o:(r=o.name,i=o.args),r){var s=IN.registry.get(r);if("function"!==typeof s)return IN.registry.onNotFound(r);a=s}else a=IN.presets.normal;var l=Ib(a,this,t,n,e,Object.assign(Object.assign({},i),{raw:!0}),this);return"string"===typeof l?jA.parse(l):l}},{key:"translateConnectionPoints",value:function(e,t){this.sourcePoint.translate(e,t),this.targetPoint.translate(e,t),this.sourceAnchor.translate(e,t),this.targetAnchor.translate(e,t),this.sourceMarkerPoint.translate(e,t),this.targetMarkerPoint.translate(e,t)}},{key:"updateLabelPositions",value:function(){if(null==this.labelContainer)return this;if(!this.path)return this;var e=this.cell,t=e.getLabels();if(0===t.length)return this;for(var n=e.getDefaultLabel(),r=this.normalizeLabelPosition(n.position),i=0,a=t.length;i<a;i+=1){var o=t[i],s=this.labelCache[i];if(s){var l=this.normalizeLabelPosition(o.position),u=Ww({},r,l),c=this.getLabelTransformationMatrix(u);s.setAttribute("transform",GC(c))}}return this}},{key:"updateTerminalProperties",value:function(e){var t=this.cell,n=this.graph,r=t[e],i=r&&r.cell,a="".concat(e,"View");if(!i)return this[a]=null,this.updateTerminalMagnet(e),!0;var o=n.getCellById(i);if(!o)throw new Error("Edge's ".concat(e,' node with id "').concat(i,'" not exists'));var s=o.findView(n);return!!s&&(this[a]=s,this.updateTerminalMagnet(e),!0)}},{key:"updateTerminalMagnet",value:function(e){var t="".concat(e,"Magnet"),n=this.getTerminalView(e);if(n){var r=n.getMagnetFromEdgeTerminal(this.cell[e]);r===n.container&&(r=null),this[t]=r}else this[t]=null}},{key:"getLabelPositionAngle",value:function(e){var t=this.cell.getLabelAt(e);return t&&t.position&&"object"===typeof t.position&&t.position.angle||0}},{key:"getLabelPositionArgs",value:function(e){var t=this.cell.getLabelAt(e);if(t&&t.position&&"object"===typeof t.position)return t.position.options}},{key:"getDefaultLabelPositionArgs",value:function(){var e=this.cell.getDefaultLabel();if(e&&e.position&&"object"===typeof e.position)return e.position.options}},{key:"mergeLabelPositionArgs",value:function(e,t){return null===e?null:void 0===e?null===t?null:t:Ww({},t,e)}},{key:"getConnection",value:function(){return null!=this.path?this.path.clone():null}},{key:"getConnectionPathData",value:function(){if(null==this.path)return"";var e=this.cache.pathCache;return ok(e,"data")||(e.data=this.path.serialize()),e.data||""}},{key:"getConnectionSubdivisions",value:function(){if(null==this.path)return null;var e=this.cache.pathCache;return ok(e,"segmentSubdivisions")||(e.segmentSubdivisions=this.path.getSegmentSubdivisions()),e.segmentSubdivisions}},{key:"getConnectionLength",value:function(){if(null==this.path)return 0;var e=this.cache.pathCache;return ok(e,"length")||(e.length=this.path.length({segmentSubdivisions:this.getConnectionSubdivisions()})),e.length}},{key:"getPointAtLength",value:function(e){return null==this.path?null:this.path.pointAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getPointAtRatio",value:function(e){return null==this.path?null:(QM(e)&&(e=parseFloat(e)/100),this.path.pointAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()}))}},{key:"getTangentAtLength",value:function(e){return null==this.path?null:this.path.tangentAtLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getTangentAtRatio",value:function(e){return null==this.path?null:this.path.tangentAt(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getClosestPoint",value:function(e){return null==this.path?null:this.path.closestPoint(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getClosestPointLength",value:function(e){return null==this.path?null:this.path.closestPointLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getClosestPointRatio",value:function(e){return null==this.path?null:this.path.closestPointNormalizedLength(e,{segmentSubdivisions:this.getConnectionSubdivisions()})}},{key:"getLabelPosition",value:function(e,t,n,r){var i,a={distance:0},o=0;"number"===typeof n?(o=n,i=r):i=n,null!=i&&(a.options=i);var s,l,u=i&&i.absoluteOffset,c=!(i&&i.absoluteDistance),h=i&&i.absoluteDistance&&i.reverseDistance,f=this.path,d={segmentSubdivisions:this.getConnectionSubdivisions()},p=new xA(e,t),v=f.closestPointT(p,d),g=this.getConnectionLength()||0,m=f.lengthAtT(v,d);if(c&&(m=g>0?m/g:0),h&&(m=-1*(g-m)||1),a.distance=m,u||(s=f.tangentAtT(v)),s)l=s.pointOffset(p);else{var y=f.pointAtT(v),b=p.diff(y);l={x:b.x,y:b.y}}return a.offset=l,a.angle=o,a}},{key:"normalizeLabelPosition",value:function(e){return"number"===typeof e?{distance:e}:e}},{key:"getLabelTransformationMatrix",value:function(e){var t=this.normalizeLabelPosition(e),n=t.options||{},r=t.angle||0,i=t.distance,a=i>0&&i<=1,o=0,s={x:0,y:0},l=t.offset;l&&("number"===typeof l?o=l:(null!=l.x&&(s.x=l.x),null!=l.y&&(s.y=l.y)));var u,c=0!==s.x||0!==s.y||0===o,h=n.keepGradient,f=n.ensureLegibility,d=this.path,p={segmentSubdivisions:this.getConnectionSubdivisions()},v=a?i*this.getConnectionLength():i,g=d.tangentAtLength(v,p),m=r;if(g){if(c)(u=g.start).translate(s);else{var y=g.clone();y.rotate(-90,g.start),y.setLength(o),u=y.end}h&&(m=g.angle()+r,f&&(m=pA.normalize((m+90)%180-90)))}else u=d.start,c&&u.translate(s);return BC().translate(u.x,u.y).rotate(m)}},{key:"getVertexIndex",value:function(e,t){var n=this.cell.getVertices(),r=this.getClosestPointLength(new xA(e,t)),i=0;if(null!=r)for(var a=n.length;i<a;i+=1){var o=n[i],s=this.getClosestPointLength(o);if(null!=s&&r<s)break}return i}},{key:"getEventArgs",value:function(e,t,n){var r=this,i=r.cell;return null==t||null==n?{e:e,view:r,edge:i,cell:i}:{e:e,x:t,y:n,view:r,edge:i,cell:i}}},{key:"notifyUnhandledMouseDown",value:function(e,t,n){this.notify("edge:unhandled:mousedown",{e:e,x:t,y:n,view:this,cell:this.cell,edge:this.cell})}},{key:"notifyMouseDown",value:function(e,n,r){ar(D(t.prototype),"onMouseDown",this).call(this,e,n,r),this.notify("edge:mousedown",this.getEventArgs(e,n,r))}},{key:"notifyMouseMove",value:function(e,n,r){ar(D(t.prototype),"onMouseMove",this).call(this,e,n,r),this.notify("edge:mousemove",this.getEventArgs(e,n,r))}},{key:"notifyMouseUp",value:function(e,n,r){ar(D(t.prototype),"onMouseUp",this).call(this,e,n,r),this.notify("edge:mouseup",this.getEventArgs(e,n,r))}},{key:"onClick",value:function(e,n,r){ar(D(t.prototype),"onClick",this).call(this,e,n,r),this.notify("edge:click",this.getEventArgs(e,n,r))}},{key:"onDblClick",value:function(e,n,r){ar(D(t.prototype),"onDblClick",this).call(this,e,n,r),this.notify("edge:dblclick",this.getEventArgs(e,n,r))}},{key:"onContextMenu",value:function(e,n,r){ar(D(t.prototype),"onContextMenu",this).call(this,e,n,r),this.notify("edge:contextmenu",this.getEventArgs(e,n,r))}},{key:"onMouseDown",value:function(e,t,n){this.notifyMouseDown(e,t,n),this.startEdgeDragging(e,t,n)}},{key:"onMouseMove",value:function(e,t,n){var r=this.getEventData(e);switch(r.action){case"drag-label":this.dragLabel(e,t,n);break;case"drag-arrowhead":this.dragArrowhead(e,t,n);break;case"drag-edge":this.dragEdge(e,t,n)}return this.notifyMouseMove(e,t,n),r}},{key:"onMouseUp",value:function(e,t,n){var r=this.getEventData(e);switch(r.action){case"drag-label":this.stopLabelDragging(e,t,n);break;case"drag-arrowhead":this.stopArrowheadDragging(e,t,n);break;case"drag-edge":this.stopEdgeDragging(e,t,n)}return this.notifyMouseUp(e,t,n),this.checkMouseleave(e),r}},{key:"onMouseOver",value:function(e){ar(D(t.prototype),"onMouseOver",this).call(this,e),this.notify("edge:mouseover",this.getEventArgs(e))}},{key:"onMouseOut",value:function(e){ar(D(t.prototype),"onMouseOut",this).call(this,e),this.notify("edge:mouseout",this.getEventArgs(e))}},{key:"onMouseEnter",value:function(e){ar(D(t.prototype),"onMouseEnter",this).call(this,e),this.notify("edge:mouseenter",this.getEventArgs(e))}},{key:"onMouseLeave",value:function(e){ar(D(t.prototype),"onMouseLeave",this).call(this,e),this.notify("edge:mouseleave",this.getEventArgs(e))}},{key:"onMouseWheel",value:function(e,n,r,i){ar(D(t.prototype),"onMouseWheel",this).call(this,e,n,r,i),this.notify("edge:mousewheel",Object.assign({delta:i},this.getEventArgs(e,n,r)))}},{key:"onCustomEvent",value:function(e,n,r,i){if(UT(e.target,"edge-tool",this.container)){if(e.stopPropagation(),this.can("useEdgeTools")){if("edge:remove"===n)return void this.cell.remove({ui:!0});this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,r,i)))}this.notifyMouseDown(e,r,i)}else this.notify("edge:customevent",Object.assign({name:n},this.getEventArgs(e,r,i))),ar(D(t.prototype),"onCustomEvent",this).call(this,e,n,r,i)}},{key:"onLabelMouseDown",value:function(e,t,n){this.notifyMouseDown(e,t,n),this.startLabelDragging(e,t,n),this.getEventData(e).stopPropagation&&e.stopPropagation()}},{key:"startEdgeDragging",value:function(e,t,n){this.can("edgeMovable")?this.setEventData(e,{x:t,y:n,moving:!1,action:"drag-edge"}):this.notifyUnhandledMouseDown(e,t,n)}},{key:"dragEdge",value:function(e,t,n){var r=this.getEventData(e);r.moving||(r.moving=!0,this.addClass("edge-moving"),this.notify("edge:move",{e:e,x:t,y:n,view:this,cell:this.cell,edge:this.cell})),this.cell.translate(t-r.x,n-r.y,{ui:!0}),this.setEventData(e,{x:t,y:n}),this.notify("edge:moving",{e:e,x:t,y:n,view:this,cell:this.cell,edge:this.cell})}},{key:"stopEdgeDragging",value:function(e,t,n){var r=this.getEventData(e);r.moving&&(this.removeClass("edge-moving"),this.notify("edge:moved",{e:e,x:t,y:n,view:this,cell:this.cell,edge:this.cell})),r.moving=!1}},{key:"prepareArrowheadDragging",value:function(e,t){var n=this.getTerminalMagnet(e),r={action:"drag-arrowhead",x:t.x,y:t.y,isNewEdge:!0===t.isNewEdge,terminalType:e,initialMagnet:n,initialTerminal:mE(this.cell[e]),fallbackAction:t.fallbackAction||"revert",getValidateConnectionArgs:this.createValidateConnectionArgs(e),options:t.options};return this.beforeArrowheadDragging(r),r}},{key:"createValidateConnectionArgs",value:function(e){var t,n=[];n[4]=e,n[5]=this;var r=0,i=0;"source"===e?(r=2,t="target"):(i=2,t="source");var a=this.cell[t],o=a.cell;if(o){var s,l=n[r]=this.graph.findViewByCell(o);l&&(s=l.getMagnetFromEdgeTerminal(a))===l.container&&(s=void 0),n[r+1]=s}return function(e,t){return n[i]=e,n[i+1]=e.container===t?void 0:t,n}}},{key:"beforeArrowheadDragging",value:function(e){e.zIndex=this.cell.zIndex,this.cell.toFront();var t=this.container.style;e.pointerEvents=t.pointerEvents,t.pointerEvents="none",this.graph.options.connecting.highlight&&this.highlightAvailableMagnets(e)}},{key:"afterArrowheadDragging",value:function(e){null!=e.zIndex&&(this.cell.setZIndex(e.zIndex,{ui:!0}),e.zIndex=null),this.container.style.pointerEvents=e.pointerEvents||"",this.graph.options.connecting.highlight&&this.unhighlightAvailableMagnets(e)}},{key:"validateConnection",value:function(e,n,r,i,a,o,s){var l=this,u=this.graph.options.connecting,c=u.allowLoop,h=u.allowNode,f=u.allowEdge,d=u.allowPort,p=u.allowMulti,v=u.validateConnection,g=o?o.cell:null,m="target"===a?r:e,y="target"===a?i:n,b=!0,x=function(t){var u="source"===a?s?s.port:null:g?g.getSourcePortId():null,c="target"===a?s?s.port:null:g?g.getTargetPortId():null;return Ib(t,l.graph,{edge:g,edgeView:o,sourceView:e,targetView:r,sourcePort:u,targetPort:c,sourceMagnet:n,targetMagnet:i,sourceCell:e?e.cell:null,targetCell:r?r.cell:null,type:a})};if(null!=c&&("boolean"===typeof c?c||e!==r||(b=!1):b=x(c)),b&&null!=d&&("boolean"===typeof d?!d&&y&&(b=!1):b=x(d)),b&&null!=f&&("boolean"===typeof f?!f&&t.isEdgeView(m)&&(b=!1):b=x(f)),b&&null!=h&&null==y&&("boolean"===typeof h?!h&&uI.isNodeView(m)&&(b=!1):b=x(h)),b&&null!=p&&o){var k=o.cell,w="source"===a?s:k.getSource(),S="target"===a?s:k.getTarget(),E=s?this.graph.getCellById(s.cell):null;if(w&&S&&w.cell&&S.cell&&E)if("function"===typeof p)b=x(p);else{var _=this.graph.model.getConnectedEdges(E,{outgoing:"source"===a,incoming:"target"===a});if(_.length)if("withPort"===p)_.some((function(e){var t=e.getSource(),n=e.getTarget();return t&&n&&t.cell===w.cell&&n.cell===S.cell&&null!=t.port&&t.port===w.port&&null!=n.port&&n.port===S.port}))&&(b=!1);else if(!p){_.some((function(e){var t=e.getSource(),n=e.getTarget();return t&&n&&t.cell===w.cell&&n.cell===S.cell}))&&(b=!1)}}}return b&&null!=v&&(b=x(v)),b}},{key:"allowConnectToBlank",value:function(e){var t=this.graph,n=t.options.connecting.allowBlank;if("function"!==typeof n)return!!n;var r=t.findViewByCell(e),i=e.getSourceCell(),a=e.getTargetCell(),o=t.findViewByCell(i),s=t.findViewByCell(a);return Ib(n,t,{edge:e,edgeView:r,sourceCell:i,targetCell:a,sourceView:o,targetView:s,sourcePort:e.getSourcePortId(),targetPort:e.getTargetPortId(),sourceMagnet:r.sourceMagnet,targetMagnet:r.targetMagnet})}},{key:"validateEdge",value:function(e,t,n){var r=this.graph;if(!this.allowConnectToBlank(e)){var i=e.getSourceCellId(),a=e.getTargetCellId();if(!i||!a)return!1}var o=r.options.connecting.validateEdge;return!o||Ib(o,r,{edge:e,type:t,previous:n})}},{key:"arrowheadDragging",value:function(e,t,n,r){r.x=t,r.y=n,r.currentTarget!==e&&(r.currentMagnet&&r.currentView&&r.currentView.unhighlight(r.currentMagnet,{type:"magnetAdsorbed"}),r.currentView=this.graph.findViewByElem(e),r.currentView?(r.currentMagnet=r.currentView.findMagnet(e),r.currentMagnet&&this.validateConnection.apply(this,Y(r.getValidateConnectionArgs(r.currentView,r.currentMagnet)).concat([r.currentView.getEdgeTerminal(r.currentMagnet,t,n,this.cell,r.terminalType)]))?r.currentView.highlight(r.currentMagnet,{type:"magnetAdsorbed"}):r.currentMagnet=null):r.currentMagnet=null),r.currentTarget=e,this.cell.prop(r.terminalType,{x:t,y:n},Object.assign(Object.assign({},r.options),{ui:!0}))}},{key:"arrowheadDragged",value:function(e,t,n){var r=e.currentView,i=e.currentMagnet;if(i&&r){r.unhighlight(i,{type:"magnetAdsorbed"});var a=e.terminalType,o=r.getEdgeTerminal(i,t,n,this.cell,a);this.cell.setTerminal(a,o,{ui:!0})}}},{key:"snapArrowhead",value:function(e,t,n){var r=this,i=this.graph,a=i.options.connecting,o=a.snap,s=a.allowEdge,l="object"===typeof o&&o.radius||50,u="object"===typeof o&&o.anchor||"center",c=i.renderer.findViewsInArea({x:e-l,y:t-l,width:2*l,height:2*l},{nodeOnly:!0});if(s){var h=i.renderer.findEdgeViewsFromPoint({x:e,y:t},l).filter((function(e){return e!==r}));c.push.apply(c,Y(h))}var f,d=n.closestView||null,p=n.closestMagnet||null;n.closestView=null,n.closestMagnet=null;var v,g=Number.MAX_SAFE_INTEGER,m=new xA(e,t);c.forEach((function(i){if("false"!==i.container.getAttribute("magnet")){if(i.isNodeView())f="center"===u?i.cell.getBBox().getCenter().distance(m):i.cell.getBBox().getNearestPointToPoint(m).distance(m);else if(i.isEdgeView()){var a=i.getClosestPoint(m);f=a?a.distance(m):Number.MAX_SAFE_INTEGER}f<l&&f<g&&(p===i.container||r.validateConnection.apply(r,Y(n.getValidateConnectionArgs(i,null)).concat([i.getEdgeTerminal(i.container,e,t,r.cell,n.terminalType)])))&&(g=f,n.closestView=i,n.closestMagnet=i.container)}i.container.querySelectorAll("[magnet]").forEach((function(a){if("false"!==a.getAttribute("magnet")){var o=i.getBBoxOfElement(a);(f=m.distance(o.getCenter()))<l&&f<g&&(p===a||r.validateConnection.apply(r,Y(n.getValidateConnectionArgs(i,a)).concat([i.getEdgeTerminal(a,e,t,r.cell,n.terminalType)])))&&(g=f,n.closestView=i,n.closestMagnet=a)}}))}));var y=n.terminalType,b=n.closestView,x=n.closestMagnet,k=p!==x;if(d&&k&&d.unhighlight(p,{type:"magnetAdsorbed"}),b){if(!k)return;b.highlight(x,{type:"magnetAdsorbed"}),v=b.getEdgeTerminal(x,e,t,this.cell,y)}else v={x:e,y:t};this.cell.setTerminal(y,v,{},Object.assign(Object.assign({},n.options),{ui:!0}))}},{key:"snapArrowheadEnd",value:function(e){var t=e.closestView,n=e.closestMagnet;t&&n&&(t.unhighlight(n,{type:"magnetAdsorbed"}),e.currentMagnet=t.findMagnet(n)),e.closestView=null,e.closestMagnet=null}},{key:"finishEmbedding",value:function(e){this.graph.options.embedding.enabled&&this.cell.updateParent()&&(e.zIndex=null)}},{key:"fallbackConnection",value:function(e){if("remove"===e.fallbackAction)this.cell.remove({ui:!0});else this.cell.prop(e.terminalType,e.initialTerminal,{ui:!0})}},{key:"notifyConnectionEvent",value:function(e,t){var n=e.terminalType,r=e.initialTerminal,i=this.cell[n];if(i&&!YN.equalTerminals(r,i)){var a=this.graph,o=r,s=o.cell?a.getCellById(o.cell):null,l=o.port,u=s?a.findViewByCell(s):null,c=s||e.isNewEdge?null:xA.create(r).toJSON(),h=i,f=h.cell?a.getCellById(h.cell):null,d=h.port,p=f?a.findViewByCell(f):null,v=f?null:xA.create(i).toJSON();this.notify("edge:connected",{e:t,previousCell:s,previousPort:l,previousView:u,previousPoint:c,currentCell:f,currentView:p,currentPort:d,currentPoint:v,previousMagnet:e.initialMagnet,currentMagnet:e.currentMagnet,edge:this.cell,view:this,type:n,isNew:e.isNewEdge})}}},{key:"highlightAvailableMagnets",value:function(e){var t=this,n=this.graph,r=n.model.getCells();e.marked={};for(var i=function(){var i=n.findViewByCell(r[a]);if(!i||i.cell.id===t.cell.id)return 1;var o=Array.prototype.slice.call(i.container.querySelectorAll("[magnet]"));"false"!==i.container.getAttribute("magnet")&&o.push(i.container);var s=o.filter((function(n){return t.validateConnection.apply(t,Y(e.getValidateConnectionArgs(i,n)).concat([i.getEdgeTerminal(n,e.x,e.y,t.cell,e.terminalType)]))}));if(s.length>0){for(var l=0,u=s.length;l<u;l+=1)i.highlight(s[l],{type:"magnetAvailable"});i.highlight(null,{type:"nodeAvailable"}),e.marked[i.cell.id]=s}},a=0,o=r.length;a<o;a+=1)i()}},{key:"unhighlightAvailableMagnets",value:function(e){var t=this,n=e.marked||{};Object.keys(n).forEach((function(e){var r=t.graph.findViewByCell(e);r&&(n[e].forEach((function(e){r.unhighlight(e,{type:"magnetAvailable"})})),r.unhighlight(null,{type:"nodeAvailable"}))})),e.marked=null}},{key:"startArrowheadDragging",value:function(e,t,n){if(this.can("arrowheadMovable")){var r=e.target.getAttribute("data-terminal"),i=this.prepareArrowheadDragging(r,{x:t,y:n});this.setEventData(e,i)}else this.notifyUnhandledMouseDown(e,t,n)}},{key:"dragArrowhead",value:function(e,t,n){var r=this.getEventData(e);this.graph.options.connecting.snap?this.snapArrowhead(t,n,r):this.arrowheadDragging(this.getEventTarget(e),t,n,r)}},{key:"stopArrowheadDragging",value:function(e,t,n){var r=this.graph,i=this.getEventData(e);r.options.connecting.snap?this.snapArrowheadEnd(i):this.arrowheadDragged(i,t,n),this.validateEdge(this.cell,i.terminalType,i.initialTerminal)?(this.finishEmbedding(i),this.notifyConnectionEvent(i,e)):this.fallbackConnection(i),this.afterArrowheadDragging(i)}},{key:"startLabelDragging",value:function(e,t,n){if(this.can("edgeLabelMovable")){var r=e.currentTarget,i=parseInt(r.getAttribute("data-index"),10),a=this.getLabelPositionAngle(i),o=this.getLabelPositionArgs(i),s=this.getDefaultLabelPositionArgs(),l=this.mergeLabelPositionArgs(o,s);this.setEventData(e,{index:i,positionAngle:a,positionArgs:l,stopPropagation:!0,action:"drag-label"})}else this.setEventData(e,{stopPropagation:!0});this.graph.view.delegateDragEvents(e,this)}},{key:"dragLabel",value:function(e,t,n){var r=this.getEventData(e),i=this.cell.getLabelAt(r.index),a=Ww({},i,{position:this.getLabelPosition(t,n,r.positionAngle,r.positionArgs)});this.cell.setLabelAt(r.index,a)}},{key:"stopLabelDragging",value:function(e,t,n){}}])}(jR);!function(e){e.toStringTag="X6.".concat(e.name),e.isEdgeView=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag],r=t;return(null==n||n===e.toStringTag)&&"function"===typeof r.isNodeView&&"function"===typeof r.isEdgeView&&"function"===typeof r.confirmUpdate&&"function"===typeof r.update&&"function"===typeof r.getConnection}}(hI||(hI={})),hI.config({isSvgElement:!0,priority:1,bootstrap:["render","source","target"],actions:{view:["render"],markup:["render"],attrs:["update"],source:["source","update"],target:["target","update"],router:["update"],connector:["update"],labels:["labels"],defaultLabel:["labels"],tools:["tools"],vertices:["vertices","update"]}}),hI.registry.register("edge",hI,!0);var fI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},dI=function(e){function t(e){var n;T(this,t),(n=z(this,t)).graph=e;var r=FR.parseJSONMarkup(t.markup),i=r.selectors,a=r.fragment;return n.background=i.background,n.grid=i.grid,n.svg=i.svg,n.defs=i.defs,n.viewport=i.viewport,n.primer=i.primer,n.stage=i.stage,n.decorator=i.decorator,n.overlay=i.overlay,n.container=n.options.container,n.restore=t.snapshoot(n.container),MT(n.container,n.prefixClassName("graph")),GT(n.container,a),n.delegateEvents(),n}return G(t,e),M(t,[{key:"disposeContainer",get:function(){return!1}},{key:"options",get:function(){return this.graph.options}},{key:"delegateEvents",value:function(){var e=this.constructor;return ar(D(t.prototype),"delegateEvents",this).call(this,e.events),this}},{key:"guard",value:function(e,t){return"mousedown"===e.type&&2===e.button||(!(!this.options.guard||!this.options.guard(e,t))||(e.data&&void 0!==e.data.guarded?e.data.guarded:!(t&&t.cell&&jN.isCell(t.cell))&&(this.svg!==e.target&&this.container!==e.target&&!this.svg.contains(e.target))))}},{key:"findView",value:function(e){return this.graph.findViewByElem(e)}},{key:"onDblClick",value:function(e){this.options.preventDefaultDblClick&&e.preventDefault();var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){var r=this.graph.snapToGrid(t.clientX,t.clientY);n?n.onDblClick(t,r.x,r.y):this.graph.trigger("blank:dblclick",{e:t,x:r.x,y:r.y})}}},{key:"onClick",value:function(e){if(this.getMouseMovedCount(e)<=this.options.clickThreshold){var t=this.normalizeEvent(e),n=this.findView(t.target);if(this.guard(t,n))return;var r=this.graph.snapToGrid(t.clientX,t.clientY);n?n.onClick(t,r.x,r.y):this.graph.trigger("blank:click",{e:t,x:r.x,y:r.y})}}},{key:"isPreventDefaultContextMenu",value:function(e){var t=this.options.preventDefaultContextMenu;return"function"===typeof t&&(t=Ib(t,this.graph,{view:e})),t}},{key:"onContextMenu",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(this.isPreventDefaultContextMenu(n)&&e.preventDefault(),!this.guard(t,n)){var r=this.graph.snapToGrid(t.clientX,t.clientY);n?n.onContextMenu(t,r.x,r.y):this.graph.trigger("blank:contextmenu",{e:t,x:r.x,y:r.y})}}},{key:"delegateDragEvents",value:function(e,t){null==e.data&&(e.data={}),this.setEventData(e,{currentView:t||null,mouseMovedCount:0,startPosition:{x:e.clientX,y:e.clientY}});var n=this.constructor;this.delegateDocumentEvents(n.documentEvents,e.data),this.undelegateEvents()}},{key:"getMouseMovedCount",value:function(e){return this.getEventData(e).mouseMovedCount||0}},{key:"onMouseDown",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){this.options.preventDefaultMouseDown&&e.preventDefault();var r=this.graph.snapToGrid(t.clientX,t.clientY);n?n.onMouseDown(t,r.x,r.y):(this.options.preventDefaultBlankAction&&["touchstart"].includes(t.type)&&e.preventDefault(),this.graph.trigger("blank:mousedown",{e:t,x:r.x,y:r.y})),this.delegateDragEvents(t,n)}}},{key:"onMouseMove",value:function(e){var t=this.getEventData(e),n=t.startPosition;if((!n||n.x!==e.clientX||n.y!==e.clientY)&&(null==t.mouseMovedCount&&(t.mouseMovedCount=0),t.mouseMovedCount+=1,!(t.mouseMovedCount<=this.options.moveThreshold))){var r=this.normalizeEvent(e),i=this.graph.snapToGrid(r.clientX,r.clientY),a=t.currentView;a?a.onMouseMove(r,i.x,i.y):this.graph.trigger("blank:mousemove",{e:r,x:i.x,y:i.y}),this.setEventData(r,t)}}},{key:"onMouseUp",value:function(e){this.undelegateDocumentEvents();var t=this.normalizeEvent(e),n=this.graph.snapToGrid(t.clientX,t.clientY),r=this.getEventData(e).currentView;if(r?r.onMouseUp(t,n.x,n.y):this.graph.trigger("blank:mouseup",{e:t,x:n.x,y:n.y}),!e.isPropagationStopped()){var i=new ZC(e,{type:"click",data:e.data});this.onClick(i)}e.stopImmediatePropagation(),this.delegateEvents()}},{key:"onMouseOver",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n))if(n)n.onMouseOver(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseover",{e:t})}}},{key:"onMouseOut",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n))if(n)n.onMouseOut(t);else{if(this.container===t.target)return;this.graph.trigger("blank:mouseout",{e:t})}}},{key:"onMouseEnter",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){var r=this.graph.findViewByElem(t.relatedTarget);if(n){if(r===n)return;n.onMouseEnter(t)}else{if(r)return;this.graph.trigger("graph:mouseenter",{e:t})}}}},{key:"onMouseLeave",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){var r=this.graph.findViewByElem(t.relatedTarget);if(n){if(r===n)return;n.onMouseLeave(t)}else{if(r)return;this.graph.trigger("graph:mouseleave",{e:t})}}}},{key:"onMouseWheel",value:function(e){var t=this.normalizeEvent(e),n=this.findView(t.target);if(!this.guard(t,n)){var r=t.originalEvent,i=this.graph.snapToGrid(r.clientX,r.clientY),a=Math.max(-1,Math.min(1,r.wheelDelta||-r.detail));n?n.onMouseWheel(t,i.x,i.y,a):this.graph.trigger("blank:mousewheel",{e:t,delta:a,x:i.x,y:i.y})}}},{key:"onCustomEvent",value:function(e){var t=e.currentTarget,n=t.getAttribute("event")||t.getAttribute("data-event");if(n){var r=this.findView(t);if(r){var i=this.normalizeEvent(e);if(this.guard(i,r))return;var a=this.graph.snapToGrid(i.clientX,i.clientY);r.onCustomEvent(i,n,a.x,a.y)}}}},{key:"handleMagnetEvent",value:function(e,t){var n=e.currentTarget,r=n.getAttribute("magnet");if(r&&"false"!==r.toLowerCase()){var i=this.findView(n);if(i){var a=this.normalizeEvent(e);if(this.guard(a,i))return;var o=this.graph.snapToGrid(a.clientX,a.clientY);Ib(t,this.graph,i,a,n,o.x,o.y)}}}},{key:"onMagnetMouseDown",value:function(e){this.handleMagnetEvent(e,(function(e,t,n,r,i){e.onMagnetMouseDown(t,n,r,i)}))}},{key:"onMagnetDblClick",value:function(e){this.handleMagnetEvent(e,(function(e,t,n,r,i){e.onMagnetDblClick(t,n,r,i)}))}},{key:"onMagnetContextMenu",value:function(e){var t=this.findView(e.target);this.isPreventDefaultContextMenu(t)&&e.preventDefault(),this.handleMagnetEvent(e,(function(e,t,n,r,i){e.onMagnetContextMenu(t,n,r,i)}))}},{key:"onLabelMouseDown",value:function(e){var t=e.currentTarget,n=this.findView(t);if(n){var r=this.normalizeEvent(e);if(this.guard(r,n))return;var i=this.graph.snapToGrid(r.clientX,r.clientY);n.onLabelMouseDown(r,i.x,i.y)}}},{key:"onImageDragStart",value:function(){return!1}},{key:"dispose",value:function(){this.undelegateEvents(),this.undelegateDocumentEvents(),this.restore(),this.restore=function(){}}}])}(DR);fI([DR.dispose()],dI.prototype,"dispose",null),function(e){var t="".concat(qO.prefixCls,"-graph");e.markup=[{ns:RT.xhtml,tagName:"div",selector:"background",className:"".concat(t,"-background")},{ns:RT.xhtml,tagName:"div",selector:"grid",className:"".concat(t,"-grid")},{ns:RT.svg,tagName:"svg",selector:"svg",className:"".concat(t,"-svg"),attrs:{width:"100%",height:"100%","xmlns:xlink":RT.xlink},children:[{tagName:"defs",selector:"defs"},{tagName:"g",selector:"viewport",className:"".concat(t,"-svg-viewport"),children:[{tagName:"g",selector:"primer",className:"".concat(t,"-svg-primer")},{tagName:"g",selector:"stage",className:"".concat(t,"-svg-stage")},{tagName:"g",selector:"decorator",className:"".concat(t,"-svg-decorator")},{tagName:"g",selector:"overlay",className:"".concat(t,"-svg-overlay")}]}]}],e.snapshoot=function(e){var t=e.cloneNode();return e.childNodes.forEach((function(e){return t.appendChild(e)})),function(){for(HT(e);e.attributes.length>0;)e.removeAttribute(e.attributes[0].name);for(var n=0,r=t.attributes.length;n<r;n+=1){var i=t.attributes[n];e.setAttribute(i.name,i.value)}t.childNodes.forEach((function(t){return e.appendChild(t)}))}}}(dI||(dI={})),function(e,t){var n=qO.prefixCls;e.events=(j(j(j(j(j(j(j(j(j(j(t={dblclick:"onDblClick",contextmenu:"onContextMenu",touchstart:"onMouseDown",mousedown:"onMouseDown",mouseover:"onMouseOver",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousewheel:"onMouseWheel",DOMMouseScroll:"onMouseWheel"},"mouseenter  .".concat(n,"-cell"),"onMouseEnter"),"mouseleave  .".concat(n,"-cell"),"onMouseLeave"),"mouseenter  .".concat(n,"-cell-tools"),"onMouseEnter"),"mouseleave  .".concat(n,"-cell-tools"),"onMouseLeave"),"mousedown   .".concat(n,"-cell [event]"),"onCustomEvent"),"touchstart  .".concat(n,"-cell [event]"),"onCustomEvent"),"mousedown   .".concat(n,"-cell [data-event]"),"onCustomEvent"),"touchstart  .".concat(n,"-cell [data-event]"),"onCustomEvent"),"dblclick    .".concat(n,"-cell [magnet]"),"onMagnetDblClick"),"contextmenu .".concat(n,"-cell [magnet]"),"onMagnetContextMenu"),j(j(j(j(j(j(j(j(j(t,"mousedown   .".concat(n,"-cell [magnet]"),"onMagnetMouseDown"),"touchstart  .".concat(n,"-cell [magnet]"),"onMagnetMouseDown"),"dblclick    .".concat(n,"-cell [data-magnet]"),"onMagnetDblClick"),"contextmenu .".concat(n,"-cell [data-magnet]"),"onMagnetContextMenu"),"mousedown   .".concat(n,"-cell [data-magnet]"),"onMagnetMouseDown"),"touchstart  .".concat(n,"-cell [data-magnet]"),"onMagnetMouseDown"),"dragstart   .".concat(n,"-cell image"),"onImageDragStart"),"mousedown   .".concat(n,"-edge .").concat(n,"-edge-label"),"onLabelMouseDown"),"touchstart  .".concat(n,"-edge .").concat(n,"-edge-label"),"onLabelMouseDown")),e.documentEvents={mousemove:"onMouseMove",touchmove:"onMouseMove",mouseup:"onMouseUp",touchend:"onMouseUp",touchcancel:"onMouseUp"}}(dI||(dI={}));var pI=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).graph=e,n.init(),n}return G(t,e),M(t,[{key:"options",get:function(){return this.graph.options}},{key:"model",get:function(){return this.graph.model}},{key:"view",get:function(){return this.graph.view}},{key:"init",value:function(){}}])}(nb),vI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},gI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"init",value:function(){qO.autoInsertCSS&&mA("core",".x6-graph {\n  position: relative;\n  overflow: hidden;\n  outline: none;\n  touch-action: none;\n}\n.x6-graph-background,\n.x6-graph-grid,\n.x6-graph-svg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n.x6-graph-background-stage,\n.x6-graph-grid-stage,\n.x6-graph-svg-stage {\n  user-select: none;\n}\n.x6-graph.x6-graph-pannable {\n  cursor: grab;\n  cursor: -moz-grab;\n  cursor: -webkit-grab;\n}\n.x6-graph.x6-graph-panning {\n  cursor: grabbing;\n  cursor: -moz-grabbing;\n  cursor: -webkit-grabbing;\n  user-select: none;\n}\n.x6-node {\n  cursor: move;\n  /* stylelint-disable-next-line */\n}\n.x6-node.x6-node-immovable {\n  cursor: default;\n}\n.x6-node * {\n  -webkit-user-drag: none;\n}\n.x6-node .scalable * {\n  vector-effect: non-scaling-stroke;\n}\n.x6-node [magnet='true'] {\n  cursor: crosshair;\n  transition: opacity 0.3s;\n}\n.x6-node [magnet='true']:hover {\n  opacity: 0.7;\n}\n.x6-node foreignObject {\n  display: block;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-node foreignObject > body {\n  position: static;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: visible;\n  background-color: transparent;\n}\n.x6-edge .source-marker,\n.x6-edge .target-marker {\n  vector-effect: non-scaling-stroke;\n}\n.x6-edge .connection {\n  stroke-linejoin: round;\n  fill: none;\n}\n.x6-edge .connection-wrap {\n  cursor: move;\n  opacity: 0;\n  fill: none;\n  stroke: #000;\n  stroke-width: 15;\n  stroke-linecap: round;\n  stroke-linejoin: round;\n}\n.x6-edge .connection-wrap:hover {\n  opacity: 0.4;\n  stroke-opacity: 0.4;\n}\n.x6-edge .vertices {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .vertices .vertex {\n  fill: #1abc9c;\n}\n.x6-edge .vertices .vertex :hover {\n  fill: #34495e;\n  stroke: none;\n}\n.x6-edge .vertices .vertex-remove {\n  cursor: pointer;\n  fill: #fff;\n}\n.x6-edge .vertices .vertex-remove-area {\n  cursor: pointer;\n  opacity: 0.1;\n}\n.x6-edge .vertices .vertex-group:hover .vertex-remove-area {\n  opacity: 1;\n}\n.x6-edge .arrowheads {\n  cursor: move;\n  opacity: 0;\n}\n.x6-edge .arrowheads .arrowhead {\n  fill: #1abc9c;\n}\n.x6-edge .arrowheads .arrowhead :hover {\n  fill: #f39c12;\n  stroke: none;\n}\n.x6-edge .tools {\n  cursor: pointer;\n  opacity: 0;\n}\n.x6-edge .tools .tool-options {\n  display: none;\n}\n.x6-edge .tools .tool-remove circle {\n  fill: #f00;\n}\n.x6-edge .tools .tool-remove path {\n  fill: #fff;\n}\n.x6-edge:hover .vertices,\n.x6-edge:hover .arrowheads,\n.x6-edge:hover .tools {\n  opacity: 1;\n}\n.x6-highlight-opacity {\n  opacity: 0.3;\n}\n.x6-cell-tool-editor {\n  position: relative;\n  display: inline-block;\n  min-height: 1em;\n  margin: 0;\n  padding: 0;\n  line-height: 1;\n  white-space: normal;\n  text-align: center;\n  vertical-align: top;\n  overflow-wrap: normal;\n  outline: none;\n  transform-origin: 0 0;\n  -webkit-user-drag: none;\n}\n.x6-edge-tool-editor {\n  border: 1px solid #275fc5;\n  border-radius: 2px;\n}\n")}},{key:"dispose",value:function(){yA("core")}}])}(pI);vI([gI.dispose()],gI.prototype,"dispose",null);var mI,yI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};!function(e){e.get=function(t){var n=t.grid,r=(t.panning,t.mousewheel,t.embedding,yI(t,["grid","panning","mousewheel","embedding"])),i=t.container;if(null==i)throw new Error("Ensure the container of the graph is specified and valid");null==r.width&&(r.width=i.clientWidth),null==r.height&&(r.height=i.clientHeight);var a=Ww({},e.defaults,r),o={size:10,visible:!1};return a.grid="number"===typeof n?{size:n,visible:!1}:"boolean"===typeof n?Object.assign(Object.assign({},o),{visible:n}):Object.assign(Object.assign({},o),n),["panning","mousewheel","embedding"].forEach((function(e){var n=t[e];"boolean"===typeof n?a[e].enabled=n:a[e]=Object.assign(Object.assign({},a[e]),n)})),a}}(mI||(mI={})),function(e){e.defaults={x:0,y:0,scaling:{min:.01,max:16},grid:{size:10,visible:!1},background:!1,panning:{enabled:!1,eventTypes:["leftMouseDown"]},mousewheel:{enabled:!1,factor:1.2,zoomAtMousePosition:!0},highlighting:{default:{name:"stroke",args:{padding:3}},nodeAvailable:{name:"className",args:{className:qO.prefix("available-node")}},magnetAvailable:{name:"className",args:{className:qO.prefix("available-magnet")}}},connecting:{snap:!1,allowLoop:!0,allowNode:!0,allowEdge:!1,allowPort:!0,allowBlank:!0,allowMulti:!0,highlight:!1,anchor:"center",edgeAnchor:"ratio",connectionPoint:"boundary",router:"normal",connector:"normal",validateConnection:function(e){var t=e.type,n=e.sourceView,r=e.targetView;return null!=("target"===t?r:n)},createEdge:function(){return new iI}},translating:{restrict:!1},embedding:{enabled:!1,findParent:"bbox",frontOnly:!0,validate:function(){return!0}},moveThreshold:0,clickThreshold:0,magnetThreshold:0,preventDefaultDblClick:!0,preventDefaultMouseDown:!1,preventDefaultContextMenu:!0,preventDefaultBlankAction:!0,interacting:{edgeLabelMovable:!1},async:!0,virtual:!1,guard:function(){return!1}}}(mI||(mI={}));var bI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},xI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},kI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"elem",get:function(){return this.view.grid}},{key:"grid",get:function(){return this.options.grid}},{key:"init",value:function(){this.startListening(),this.draw(this.grid)}},{key:"startListening",value:function(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}},{key:"stopListening",value:function(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}},{key:"setVisible",value:function(e){this.grid.visible!==e&&(this.grid.visible=e,this.update())}},{key:"getGridSize",value:function(){return this.grid.size}},{key:"setGridSize",value:function(e){this.grid.size=Math.max(e,1),this.update()}},{key:"show",value:function(){this.setVisible(!0),this.update()}},{key:"hide",value:function(){this.setVisible(!1),this.update()}},{key:"clear",value:function(){this.elem.style.backgroundImage=""}},{key:"draw",value:function(e){this.clear(),this.instance=null,Object.assign(this.grid,e),this.patterns=this.resolveGrid(e),this.update()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.grid.size;if(t<=1||!this.grid.visible)return this.clear();var n=this.graph.matrix(),r=this.getInstance(),i=Array.isArray(e)?e:[e];this.patterns.forEach((function(e,a){var o="pattern_".concat(a),s=n.a||1,l=n.d||1,u=e.update,c=e.markup,h=xI(e,["update","markup"]),f=Object.assign(Object.assign(Object.assign({},h),i[a]),{sx:s,sy:l,ox:n.e||0,oy:n.f||0,width:t*s,height:t*l});r.has(o)||r.add(o,bC.create("pattern",{id:o,patternUnits:"userSpaceOnUse"},bC.createVectors(c)).node);var d=r.get(o);"function"===typeof u&&u(d.childNodes[0],f);var p=f.ox%f.width;p<0&&(p+=f.width);var v=f.oy%f.height;v<0&&(v+=f.height),QT(d,{x:p,y:v,width:f.width,height:f.height})}));var a=(new XMLSerializer).serializeToString(r.root),o="url(data:image/svg+xml;base64,".concat(btoa(a),")");this.elem.style.backgroundImage=o}},{key:"getInstance",value:function(){return this.instance||(this.instance=new KA),this.instance}},{key:"resolveGrid",value:function(e){if(!e)return[];var t=e.type;if(null==t)return[Object.assign(Object.assign({},KA.presets.dot),e.args)];var n=KA.registry.get(t);if(n){var r=e.args||[];return Array.isArray(r)||(r=[r]),Array.isArray(n)?n.map((function(e,t){return Object.assign(Object.assign({},e),r[t])})):[Object.assign(Object.assign({},n),r[0])]}return KA.registry.onNotFound(t)}},{key:"dispose",value:function(){this.stopListening(),this.clear()}}])}(pI);bI([pI.dispose()],kI.prototype,"dispose",null);var wI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"container",get:function(){return this.graph.view.container}},{key:"viewport",get:function(){return this.graph.view.viewport}},{key:"stage",get:function(){return this.graph.view.stage}},{key:"init",value:function(){this.resize()}},{key:"getMatrix",value:function(){var e=this.viewport.getAttribute("transform");return e!==this.viewportTransformString&&(this.viewportMatrix=this.viewport.getCTM(),this.viewportTransformString=e),BC(this.viewportMatrix)}},{key:"setMatrix",value:function(e){var t=BC(e),n=GC(t);this.viewport.setAttribute("transform",n),this.viewportMatrix=t,this.viewportTransformString=n}},{key:"resize",value:function(e,t){var n=void 0===e?this.options.width:e,r=void 0===t?this.options.height:t;this.options.width=n,this.options.height=r,"number"===typeof n&&(n=Math.round(n)),"number"===typeof r&&(r=Math.round(r)),this.container.style.width=null==n?"":"".concat(n,"px"),this.container.style.height=null==r?"":"".concat(r,"px");var i=this.getComputedSize();return this.graph.trigger("resize",Object.assign({},i)),this}},{key:"getComputedSize",value:function(){var e=this.options.width,t=this.options.height;return KM(e)||(e=this.container.clientWidth),KM(t)||(t=this.container.clientHeight),{width:e,height:t}}},{key:"getScale",value:function(){return function(e){var t,n,r,i;return e?(t=null==e.a?1:e.a,i=null==e.d?1:e.d,n=e.b,r=e.c):t=i=1,{sx:n?Math.sqrt(t*t+n*n):t,sy:r?Math.sqrt(r*r+i*i):i}}(this.getMatrix())}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e=this.clampScale(e),t=this.clampScale(t),n||r){var i=this.getTranslation(),a=i.tx-n*(e-1),o=i.ty-r*(t-1);a===i.tx&&o===i.ty||this.translate(a,o)}var s=this.getMatrix();return s.a=e,s.d=t,this.setMatrix(s),this.graph.trigger("scale",{sx:e,sy:t,ox:n,oy:r}),this}},{key:"clampScale",value:function(e){var t=this.graph.options.scaling;return ZM(e,t.min||.01,t.max||16)}},{key:"getZoom",value:function(){return this.getScale().sx}},{key:"zoom",value:function(e,t){t=t||{};var n=e,r=e,i=this.getScale(),a=this.getComputedSize(),o=a.width/2,s=a.height/2;if(t.absolute||(n+=i.sx,r+=i.sy),t.scaleGrid&&(n=Math.round(n/t.scaleGrid)*t.scaleGrid,r=Math.round(r/t.scaleGrid)*t.scaleGrid),t.maxScale&&(n=Math.min(t.maxScale,n),r=Math.min(t.maxScale,r)),t.minScale&&(n=Math.max(t.minScale,n),r=Math.max(t.minScale,r)),t.center&&(o=t.center.x,s=t.center.y),n=this.clampScale(n),r=this.clampScale(r),o||s){var l=this.getTranslation(),u=o-(o-l.tx)*(n/i.sx),c=s-(s-l.ty)*(r/i.sy);u===l.tx&&c===l.ty||this.translate(u,c)}return this.scale(n,r),this}},{key:"getRotation",value:function(){return function(e){var t={x:0,y:1};e&&(t=VC(e,t));var n=180*Math.atan2(t.y,t.x)/Math.PI%360-90;return{angle:n%360+(n<0?360:0)}}(this.getMatrix())}},{key:"rotate",value:function(e,t,n){if(null==t||null==n){var r=XO.getBBox(this.stage);t=r.width/2,n=r.height/2}var i=this.getMatrix().translate(t,n).rotate(e).translate(-t,-n);return this.setMatrix(i),this}},{key:"getTranslation",value:function(){return{tx:(e=this.getMatrix())&&e.e||0,ty:e&&e.f||0};var e}},{key:"translate",value:function(e,t){var n=this.getMatrix();n.e=e||0,n.f=t||0,this.setMatrix(n);var r=this.getTranslation();return this.options.x=r.tx,this.options.y=r.ty,this.graph.trigger("translate",Object.assign({},r)),this}},{key:"setOrigin",value:function(e,t){return this.translate(e||0,t||0)}},{key:"fitToContent",value:function(e,t,n,r){if("object"===typeof e){var i=e;e=i.gridWidth||1,t=i.gridHeight||1,n=i.padding||0,r=i}else e=e||1,t=t||1,n=n||0,null==r&&(r={});var a=eT(n),o=r.border||0,s=r.contentArea?kA.create(r.contentArea):this.getContentArea(r);o>0&&s.inflate(o);var l=this.getScale(),u=this.getTranslation(),c=l.sx,h=l.sy;s.x*=c,s.y*=h,s.width*=c,s.height*=h;var f=Math.max(Math.ceil((s.width+s.x)/e),1)*e,d=Math.max(Math.ceil((s.height+s.y)/t),1)*t,p=0,v=0;("negative"===r.allowNewOrigin&&s.x<0||"positive"===r.allowNewOrigin&&s.x>=0||"any"===r.allowNewOrigin)&&(p=Math.ceil(-s.x/e)*e,f+=p+=a.left),("negative"===r.allowNewOrigin&&s.y<0||"positive"===r.allowNewOrigin&&s.y>=0||"any"===r.allowNewOrigin)&&(v=Math.ceil(-s.y/t)*t,d+=v+=a.top),f+=a.right,d+=a.bottom,f=Math.max(f,r.minWidth||0),d=Math.max(d,r.minHeight||0),f=Math.min(f,r.maxWidth||Number.MAX_SAFE_INTEGER),d=Math.min(d,r.maxHeight||Number.MAX_SAFE_INTEGER);var g=this.getComputedSize(),m=f!==g.width||d!==g.height;return(p!==u.tx||v!==u.ty)&&this.translate(p,v),m&&this.resize(f,d),new kA(-p/c,-v/h,f/c,d/h)}},{key:"scaleContentToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.scaleContentToFitImpl(e)}},{key:"scaleContentToFitImpl",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(n.contentArea){var i=n.contentArea;e=this.graph.localToGraph(i),t=xA.create(i)}else e=this.getContentBBox(n),t=this.graph.graphToLocal(e);if(e.width&&e.height){var a,o=eT(n.padding),s=n.minScale||0,l=n.maxScale||Number.MAX_SAFE_INTEGER,u=n.minScaleX||s,c=n.maxScaleX||l,h=n.minScaleY||s,f=n.maxScaleY||l;if(n.viewportArea)a=n.viewportArea;else{var d=this.getComputedSize(),p=this.getTranslation();a={x:p.tx,y:p.ty,width:d.width,height:d.height}}a=kA.create(a).moveAndExpand({x:o.left,y:o.top,width:-o.left-o.right,height:-o.top-o.bottom});var v=this.getScale(),g=a.width/e.width*v.sx,m=a.height/e.height*v.sy;!1!==n.preserveAspectRatio&&(g=m=Math.min(g,m));var y=n.scaleGrid;if(y&&(g=y*Math.floor(g/y),m=y*Math.floor(m/y)),g=ZM(g,u,c),m=ZM(m,h,f),this.scale(g,m),r){var b=this.options,x=a.x-t.x*g-b.x,k=a.y-t.y*m-b.y;this.translate(x,k)}}}},{key:"getContentArea",value:function(){return!1!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).useCellGeometry?this.model.getAllCellsBBox()||new kA:XO.getBBox(this.stage)}},{key:"getContentBBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.graph.localToGraph(this.getContentArea(e))}},{key:"getGraphArea",value:function(){var e=kA.fromSize(this.getComputedSize());return this.graph.graphToLocal(e)}},{key:"zoomToRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=kA.create(e),r=this.graph;t.contentArea=n,null==t.viewportArea&&(t.viewportArea={x:r.options.x,y:r.options.y,width:this.options.width,height:this.options.height}),this.scaleContentToFitImpl(t,!1);var i=n.getCenter();return this.centerPoint(i.x,i.y),this}},{key:"zoomToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.zoomToRect(this.getContentArea(e),e)}},{key:"centerPoint",value:function(e,t){var n=this.getComputedSize(),r=this.getScale(),i=this.getTranslation(),a=n.width/2,o=n.height/2;t="number"===typeof t?t:o,e=a-(e="number"===typeof e?e:a)*r.sx,t=o-t*r.sy,i.tx===e&&i.ty===t||this.translate(e,t)}},{key:"centerContent",value:function(e){var t=this.graph.getContentArea(e).getCenter();this.centerPoint(t.x,t.y)}},{key:"centerCell",value:function(e){return this.positionCell(e,"center")}},{key:"positionPoint",value:function(e,t,n){var r=this.getComputedSize();(t=$M(t,Math.max(0,r.width)))<0&&(t=r.width+t),(n=$M(n,Math.max(0,r.height)))<0&&(n=r.height+n);var i=this.getTranslation(),a=this.getScale(),o=t-e.x*a.sx,s=n-e.y*a.sy;i.tx===o&&i.ty===s||this.translate(o,s)}},{key:"positionRect",value:function(e,t){var n=kA.create(e);switch(t){case"center":return this.positionPoint(n.getCenter(),"50%","50%");case"top":return this.positionPoint(n.getTopCenter(),"50%",0);case"top-right":return this.positionPoint(n.getTopRight(),"100%",0);case"right":return this.positionPoint(n.getRightMiddle(),"100%","50%");case"bottom-right":return this.positionPoint(n.getBottomRight(),"100%","100%");case"bottom":return this.positionPoint(n.getBottomCenter(),"50%","100%");case"bottom-left":return this.positionPoint(n.getBottomLeft(),0,"100%");case"left":return this.positionPoint(n.getLeftMiddle(),0,"50%");case"top-left":return this.positionPoint(n.getTopLeft(),0,0);default:return this}}},{key:"positionCell",value:function(e,t){var n=e.getBBox();return this.positionRect(n,t)}},{key:"positionContent",value:function(e,t){var n=this.graph.getContentArea(t);return this.positionRect(n,e)}}])}(pI),SI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},EI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"elem",get:function(){return this.view.background}},{key:"init",value:function(){this.startListening(),this.options.background&&this.draw(this.options.background)}},{key:"startListening",value:function(){this.graph.on("scale",this.update,this),this.graph.on("translate",this.update,this)}},{key:"stopListening",value:function(){this.graph.off("scale",this.update,this),this.graph.off("translate",this.update,this)}},{key:"updateBackgroundImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.size||"auto auto",n=e.position||"center",r=this.graph.transform.getScale(),i=this.graph.translate();if("object"===typeof n){var a=i.tx+r.sx*(n.x||0),o=i.ty+r.sy*(n.y||0);n="".concat(a,"px ").concat(o,"px")}"object"===typeof t&&(t=kA.fromSize(t).scale(r.sx,r.sy),t="".concat(t.width,"px ").concat(t.height,"px")),this.elem.style.backgroundSize=t,this.elem.style.backgroundPosition=n}},{key:"drawBackgroundImage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof HTMLImageElement){var n=this.optionsCache;if(!n||n.image===t.image){var r,i=t.opacity,a=t.size,o=t.repeat||"no-repeat",s=JA.registry.get(o);if("function"===typeof s){var l=t.quality||1;e.width*=l,e.height*=l;var u=s(e,t);if(!(u instanceof HTMLCanvasElement))throw new Error("Background pattern must return an HTML Canvas instance");r=u.toDataURL("image/png"),o=t.repeat&&o!==t.repeat?t.repeat:"repeat","object"===typeof a?(a.width*=u.width/e.width,a.height*=u.height/e.height):void 0===a&&(t.size={width:u.width/l,height:u.height/l})}else r=e.src,void 0===a&&(t.size={width:e.width,height:e.height});null!=n&&"object"===typeof t.size&&t.image===n.image&&t.repeat===n.repeat&&t.quality===n.quality&&(n.size=mE(t.size));var c=this.elem.style;c.backgroundImage="url(".concat(r,")"),c.backgroundRepeat=o,c.opacity=null==i||i>=1?"":"".concat(i),this.updateBackgroundImage(t)}}else this.elem.style.backgroundImage=""}},{key:"updateBackgroundColor",value:function(e){this.elem.style.backgroundColor=e||""}},{key:"updateBackgroundOptions",value:function(e){this.graph.options.background=e}},{key:"update",value:function(){this.optionsCache&&this.updateBackgroundImage(this.optionsCache)}},{key:"draw",value:function(e){var t=this,n=e||{};if(this.updateBackgroundOptions(e),this.updateBackgroundColor(n.color),n.image){this.optionsCache=mE(n);var r=document.createElement("img");r.onload=function(){return t.drawBackgroundImage(r,e)},r.setAttribute("crossorigin","anonymous"),r.src=n.image}else this.drawBackgroundImage(null),this.optionsCache=null}},{key:"clear",value:function(){this.draw()}},{key:"dispose",value:function(){this.clear(),this.stopListening()}}])}(pI);SI([pI.dispose()],EI.prototype,"dispose",null);var _I=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},MI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"widgetOptions",get:function(){return this.options.panning}},{key:"pannable",get:function(){return this.widgetOptions&&!0===this.widgetOptions.enabled}},{key:"init",value:function(){this.onRightMouseDown=this.onRightMouseDown.bind(this),this.onSpaceKeyDown=this.onSpaceKeyDown.bind(this),this.onSpaceKeyUp=this.onSpaceKeyUp.bind(this),this.startListening(),this.updateClassName()}},{key:"startListening",value:function(){this.graph.on("blank:mousedown",this.onMouseDown,this),this.graph.on("node:unhandled:mousedown",this.onMouseDown,this),this.graph.on("edge:unhandled:mousedown",this.onMouseDown,this),$C.on(this.graph.container,"mousedown",this.onRightMouseDown),$C.on(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle=new nA(this.graph.container,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.mousewheelHandle.enable()}},{key:"stopListening",value:function(){this.graph.off("blank:mousedown",this.onMouseDown,this),this.graph.off("node:unhandled:mousedown",this.onMouseDown,this),this.graph.off("edge:unhandled:mousedown",this.onMouseDown,this),$C.off(this.graph.container,"mousedown",this.onRightMouseDown),$C.off(document.body,{keydown:this.onSpaceKeyDown,keyup:this.onSpaceKeyUp}),this.mousewheelHandle&&this.mousewheelHandle.disable()}},{key:"allowPanning",value:function(e,t){return e.spaceKey=this.isSpaceKeyPressed,this.pannable&&cA.isMatch(e,this.widgetOptions.modifiers,t)}},{key:"startPanning",value:function(e){var t=this.view.normalizeEvent(e);this.clientX=t.clientX,this.clientY=t.clientY,this.panning=!0,this.updateClassName(),$C.on(document.body,{"mousemove.panning touchmove.panning":this.pan.bind(this),"mouseup.panning touchend.panning":this.stopPanning.bind(this),"mouseleave.panning":this.stopPanning.bind(this)}),$C.on(window,"mouseup.panning",this.stopPanning.bind(this))}},{key:"pan",value:function(e){var t=this.view.normalizeEvent(e),n=t.clientX-this.clientX,r=t.clientY-this.clientY;this.clientX=t.clientX,this.clientY=t.clientY,this.graph.translateBy(n,r)}},{key:"stopPanning",value:function(e){this.panning=!1,this.updateClassName(),$C.off(document.body,".panning"),$C.off(window,".panning")}},{key:"updateClassName",value:function(){var e=this.view.container,t=this.view.prefixClassName("graph-panning"),n=this.view.prefixClassName("graph-pannable");this.pannable?this.panning?(MT(e,t),TT(e,n)):(TT(e,t),MT(e,n)):(TT(e,t),TT(e,n))}},{key:"onMouseDown",value:function(e){var t=e.e;if(this.allowBlankMouseDown(t)){var n=this.graph.getPlugin("selection"),r=n&&n.allowRubberband(t,!0);(this.allowPanning(t,!0)||this.allowPanning(t)&&!r)&&this.startPanning(t)}}},{key:"onRightMouseDown",value:function(e){var t=this.widgetOptions.eventTypes;(null===t||void 0===t?void 0:t.includes("rightMouseDown"))&&2===e.button&&this.allowPanning(e,!0)&&this.startPanning(e)}},{key:"onMouseWheel",value:function(e,t,n){this.graph.translateBy(-t,-n)}},{key:"onSpaceKeyDown",value:function(e){32===e.which&&(this.isSpaceKeyPressed=!0)}},{key:"onSpaceKeyUp",value:function(e){32===e.which&&(this.isSpaceKeyPressed=!1)}},{key:"allowBlankMouseDown",value:function(e){var t=this.widgetOptions.eventTypes;return(null===t||void 0===t?void 0:t.includes("leftMouseDown"))&&0===e.button||(null===t||void 0===t?void 0:t.includes("mouseWheelDown"))&&1===e.button}},{key:"allowMouseWheel",value:function(e){var t;return this.pannable&&!e.ctrlKey&&(null===(t=this.widgetOptions.eventTypes)||void 0===t?void 0:t.includes("mouseWheel"))}},{key:"autoPanning",value:function(e,t){var n=10,r=this.graph.getGraphArea(),i=0,a=0;e<=r.left+n&&(i=-10),t<=r.top+n&&(a=-10),e>=r.right-n&&(i=n),t>=r.bottom-n&&(a=n),0===i&&0===a||this.graph.translateBy(-i,-a)}},{key:"enablePanning",value:function(){this.pannable||(this.widgetOptions.enabled=!0,this.updateClassName())}},{key:"disablePanning",value:function(){this.pannable&&(this.widgetOptions.enabled=!1,this.updateClassName())}},{key:"dispose",value:function(){this.stopListening()}}])}(pI);_I([pI.dispose()],MI.prototype,"dispose",null);var TI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},CI=function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).cumulatedFactor=1,e}return G(t,e),M(t,[{key:"widgetOptions",get:function(){return this.options.mousewheel}},{key:"init",value:function(){this.container=this.graph.container,this.target=this.widgetOptions.global?document:this.container,this.mousewheelHandle=new nA(this.target,this.onMouseWheel.bind(this),this.allowMouseWheel.bind(this)),this.widgetOptions.enabled&&this.enable(!0)}},{key:"disabled",get:function(){return!0!==this.widgetOptions.enabled}},{key:"enable",value:function(e){(this.disabled||e)&&(this.widgetOptions.enabled=!0,this.mousewheelHandle.enable())}},{key:"disable",value:function(){this.disabled||(this.widgetOptions.enabled=!1,this.mousewheelHandle.disable())}},{key:"allowMouseWheel",value:function(e){var t=this.widgetOptions.guard;return(null==t||t(e))&&cA.isMatch(e,this.widgetOptions.modifiers)}},{key:"onMouseWheel",value:function(e){var t=this.widgetOptions.guard;if((null==t||t(e))&&cA.isMatch(e,this.widgetOptions.modifiers)){var n=this.widgetOptions.factor||1.2;null==this.currentScale&&(this.startPos={x:e.clientX,y:e.clientY},this.currentScale=this.graph.transform.getScale().sx),e.deltaY<0?this.currentScale<.15?this.cumulatedFactor=(this.currentScale+.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*n*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=1.05)):this.currentScale<=.15?this.cumulatedFactor=(this.currentScale-.01)/this.currentScale:(this.cumulatedFactor=Math.round(this.currentScale*(1/n)*20)/20/this.currentScale,1===this.cumulatedFactor&&(this.cumulatedFactor=.95)),this.cumulatedFactor=Math.max(.01,Math.min(this.currentScale*this.cumulatedFactor,160)/this.currentScale);var r=this.currentScale,i=this.graph.transform.clampScale(r*this.cumulatedFactor),a=this.widgetOptions.minScale||Number.MIN_SAFE_INTEGER,o=this.widgetOptions.maxScale||Number.MAX_SAFE_INTEGER;if((i=ZM(i,a,o))!==r)if(this.widgetOptions.zoomAtMousePosition){var s=!!this.graph.getPlugin("scroller")?this.graph.clientToLocal(this.startPos):this.graph.clientToGraph(this.startPos);this.graph.zoom(i,{absolute:!0,center:s.clone()})}else this.graph.zoom(i,{absolute:!0});this.currentScale=null,this.cumulatedFactor=1}}},{key:"dispose",value:function(){this.disable()}}])}(pI);TI([nb.dispose()],CI.prototype,"dispose",null);var AI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},PI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"init",value:function(){this.resetRenderArea=Lb(this.resetRenderArea,200,{leading:!0}),this.resetRenderArea(),this.startListening()}},{key:"startListening",value:function(){this.graph.on("translate",this.resetRenderArea,this),this.graph.on("scale",this.resetRenderArea,this),this.graph.on("resize",this.resetRenderArea,this)}},{key:"stopListening",value:function(){this.graph.off("translate",this.resetRenderArea,this),this.graph.off("scale",this.resetRenderArea,this),this.graph.off("resize",this.resetRenderArea,this)}},{key:"enableVirtualRender",value:function(){this.options.virtual=!0,this.resetRenderArea()}},{key:"disableVirtualRender",value:function(){this.options.virtual=!1,this.graph.renderer.setRenderArea(void 0)}},{key:"resetRenderArea",value:function(){if(this.options.virtual){var e=this.graph.getGraphArea();this.graph.renderer.setRenderArea(e)}}},{key:"dispose",value:function(){this.stopListening()}}])}(pI);AI([pI.dispose()],PI.prototype,"dispose",null);var OI,RI=function(){return M((function e(){T(this,e),this.isFlushing=!1,this.isFlushPending=!1,this.scheduleId=0,this.queue=[],this.frameInterval=33,this.initialTime=Date.now()}),[{key:"queueJob",value:function(e){if(e.priority&OI.PRIOR)e.cb();else{var t=this.findInsertionIndex(e);t>=0&&this.queue.splice(t,0,e)}}},{key:"queueFlush",value:function(){this.isFlushing||this.isFlushPending||(this.isFlushPending=!0,this.scheduleJob())}},{key:"queueFlushSync",value:function(){this.isFlushing||this.isFlushPending||(this.isFlushPending=!0,this.flushJobsSync())}},{key:"clearJobs",value:function(){this.queue.length=0,this.isFlushing=!1,this.isFlushPending=!1,this.cancelScheduleJob()}},{key:"flushJobs",value:function(){this.isFlushPending=!1,this.isFlushing=!0;for(var e,t=this.getCurrentTime();(e=this.queue.shift())&&(e.cb(),!(this.getCurrentTime()-t>=this.frameInterval)););this.isFlushing=!1,this.queue.length&&this.queueFlush()}},{key:"flushJobsSync",value:function(){var e;for(this.isFlushPending=!1,this.isFlushing=!0;e=this.queue.shift();)try{e.cb()}catch(t){console.log(t)}this.isFlushing=!1}},{key:"findInsertionIndex",value:function(e){for(var t=0,n=this.queue.length,r=n-1,i=e.priority;t<=r;){var a=(r-t>>1)+t;i<=this.queue[a].priority?t=a+1:(n=a,r=a-1)}return n}},{key:"scheduleJob",value:function(){"requestIdleCallback"in window?(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.requestIdleCallback(this.flushJobs.bind(this),{timeout:100})):(this.scheduleId&&this.cancelScheduleJob(),this.scheduleId=window.setTimeout(this.flushJobs.bind(this)))}},{key:"cancelScheduleJob",value:function(){"cancelIdleCallback"in window?(this.scheduleId&&window.cancelIdleCallback(this.scheduleId),this.scheduleId=0):(this.scheduleId&&clearTimeout(this.scheduleId),this.scheduleId=0)}},{key:"getCurrentTime",value:function(){return"object"===typeof performance&&"function"===typeof performance.now?performance.now():Date.now()-this.initialTime}}])}();!function(e){e[e.Update=2]="Update",e[e.RenderEdge=4]="RenderEdge",e[e.RenderNode=8]="RenderNode",e[e.PRIOR=1048576]="PRIOR"}(OI||(OI={}));var LI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},NI=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).views={},n.willRemoveViews={},n.queue=new RI,n.graph=e,n.init(),n}return G(t,e),M(t,[{key:"model",get:function(){return this.graph.model}},{key:"container",get:function(){return this.graph.view.stage}},{key:"init",value:function(){this.startListening(),this.renderViews(this.model.getCells())}},{key:"startListening",value:function(){this.model.on("reseted",this.onModelReseted,this),this.model.on("cell:added",this.onCellAdded,this),this.model.on("cell:removed",this.onCellRemoved,this),this.model.on("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.on("cell:change:visible",this.onCellVisibleChanged,this)}},{key:"stopListening",value:function(){this.model.off("reseted",this.onModelReseted,this),this.model.off("cell:added",this.onCellAdded,this),this.model.off("cell:removed",this.onCellRemoved,this),this.model.off("cell:change:zIndex",this.onCellZIndexChanged,this),this.model.off("cell:change:visible",this.onCellVisibleChanged,this)}},{key:"onModelReseted",value:function(e){var t=e.options;this.queue.clearJobs(),this.removeZPivots(),this.resetViews();var n=this.model.getCells();this.renderViews(n,Object.assign(Object.assign({},t),{queue:n.map((function(e){return e.id}))}))}},{key:"onCellAdded",value:function(e){var t=e.cell,n=e.options;this.renderViews([t],n)}},{key:"onCellRemoved",value:function(e){var t=e.cell;this.removeViews([t])}},{key:"onCellZIndexChanged",value:function(e){var n=e.cell,r=e.options,i=this.views[n.id];i&&this.requestViewUpdate(i.view,t.FLAG_INSERT,r,OI.Update,!0)}},{key:"onCellVisibleChanged",value:function(e){var t=e.cell,n=e.current;this.toggleVisible(t,!!n)}},{key:"requestViewUpdate",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:OI.Update,a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e.cell.id,s=this.views[o];s&&(s.flag=t,s.options=r,(e.hasAction(t,["translate","resize","rotate"])||!1===r.async)&&(i=OI.PRIOR,a=!1),this.queue.queueJob({id:o,priority:i,cb:function(){n.renderViewInArea(e,t,r);var i=r.queue;if(i){var a=i.indexOf(e.cell.id);a>=0&&i.splice(a,1),0===i.length&&n.graph.trigger("render:done")}}}),this.getEffectedEdges(e).forEach((function(e){n.requestViewUpdate(e.view,e.flag,r,i,!1)})),a&&this.flush())}},{key:"setRenderArea",value:function(e){this.renderArea=e,this.flushWaitingViews()}},{key:"isViewMounted",value:function(e){if(null==e)return!1;var n=this.views[e.cell.id];return!!n&&n.state===t.ViewState.MOUNTED}},{key:"renderViews",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.sort((function(e,t){return e.isNode()&&t.isEdge()?-1:0})),e.forEach((function(e){var i=e.id,a=0,o=n.views[i];if(o)a=t.FLAG_INSERT;else{var s=n.createCellView(e);s&&(s.graph=n.graph,a=t.FLAG_INSERT|s.getBootstrapFlag(),o={view:s,flag:a,options:r,state:t.ViewState.CREATED},n.views[i]=o)}o&&n.requestViewUpdate(o.view,a,r,n.getRenderPriority(o.view),!1)})),this.flush()}},{key:"renderViewInArea",value:function(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=e.cell,o=a.id,s=this.views[o];if(s){var l=0;this.isUpdatable(e)||s.state===t.ViewState.MOUNTED?(l=this.updateView(e,n,i),s.flag=l):s.state=t.ViewState.WAITING,l&&a.isEdge()&&0===(l&e.getFlag(["source","target"]))&&this.queue.queueJob({id:o,priority:OI.RenderEdge,cb:function(){r.updateView(e,n,i)}})}}},{key:"removeViews",value:function(e){var t=this;e.forEach((function(e){var n=e.id,r=t.views[n];r&&(t.willRemoveViews[n]=r,delete t.views[n],t.queue.queueJob({id:n,priority:t.getRenderPriority(r.view),cb:function(){t.removeView(r.view)}}))})),this.flush()}},{key:"flush",value:function(){this.graph.options.async?this.queue.queueFlush():this.queue.queueFlushSync()}},{key:"flushWaitingViews",value:function(){var e=this;Object.values(this.views).forEach((function(n){if(n&&n.state===t.ViewState.WAITING){var r=n.view,i=n.flag,a=n.options;e.requestViewUpdate(r,i,a,e.getRenderPriority(r),!1)}})),this.flush()}},{key:"updateView",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==e)return 0;if(jR.isCellView(e)){if(n&t.FLAG_REMOVE)return this.removeView(e.cell),0;n&t.FLAG_INSERT&&(this.insertView(e),n^=t.FLAG_INSERT)}return n?e.confirmUpdate(n,r):0}},{key:"insertView",value:function(e){var n=this.views[e.cell.id];if(n){var r=e.cell.getZIndex(),i=this.addZPivot(r);this.container.insertBefore(e.container,i),e.cell.isVisible()||this.toggleVisible(e.cell,!1),n.state=t.ViewState.MOUNTED,this.graph.trigger("view:mounted",{view:e})}}},{key:"resetViews",value:function(){var e=this;this.willRemoveViews=Object.assign(Object.assign({},this.views),this.willRemoveViews),Object.values(this.willRemoveViews).forEach((function(t){t&&e.removeView(t.view)})),this.views={},this.willRemoveViews={}}},{key:"removeView",value:function(e){var t=e.cell,n=this.willRemoveViews[t.id];n&&e&&(n.view.remove(),delete this.willRemoveViews[t.id],this.graph.trigger("view:unmounted",{view:e}))}},{key:"toggleVisible",value:function(e,t){for(var n=this.model.getConnectedEdges(e),r=0,i=n.length;r<i;r+=1){var a=n[r];if(t){var o=a.getSourceCell(),s=a.getTargetCell();if(o&&!o.isVisible()||s&&!s.isVisible())continue;this.toggleVisible(a,!0)}else this.toggleVisible(a,!1)}var l=this.views[e.id];l&&vC(l.view.container,{display:t?"unset":"none"})}},{key:"addZPivot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null==this.zPivots&&(this.zPivots={});var t=this.zPivots,n=t[e];if(n)return n;n=t[e]=document.createComment("z-index:".concat(e+1));var r=-1/0;for(var i in t){var a=+i;a<e&&a>r&&(r=a)}var o=this.container;if(r!==-1/0){var s=t[r];o.insertBefore(n,s.nextSibling)}else o.insertBefore(n,o.firstChild);return n}},{key:"removeZPivots",value:function(){this.zPivots&&Object.values(this.zPivots).forEach((function(e){e&&e.parentNode&&e.parentNode.removeChild(e)})),this.zPivots={}}},{key:"createCellView",value:function(e){var t={graph:this.graph},n=this.graph.options.createCellView;if(n){var r=Ib(n,this.graph,e);if(r)return new r(e,t);if(null===r)return null}var i=e.view;if(null!=i&&"string"===typeof i){var a=jR.registry.get(i);return a?new a(e,t):jR.registry.onNotFound(i)}return e.isNode()?new uI(e,t):e.isEdge()?new hI(e,t):null}},{key:"getEffectedEdges",value:function(e){for(var t=[],n=e.cell,r=this.model.getConnectedEdges(n),i=0,a=r.length;i<a;i+=1){var o=r[i],s=this.views[o.id];if(s){var l=s.view;if(this.isViewMounted(l)){var u=["update"];o.getTargetCell()===n&&u.push("target"),o.getSourceCell()===n&&u.push("source"),t.push({id:o.id,view:l,flag:l.getFlag(u)})}}}return t}},{key:"isUpdatable",value:function(e){if(e.isNodeView())return!this.renderArea||this.renderArea.isIntersectWithRect(e.cell.getBBox());if(e.isEdgeView()){var t=e.cell,n=t.getSourceCell(),r=t.getTargetCell();if(this.renderArea&&n&&r)return this.renderArea.isIntersectWithRect(n.getBBox())||this.renderArea.isIntersectWithRect(r.getBBox())}return!0}},{key:"getRenderPriority",value:function(e){return e.cell.isNode()?OI.RenderNode:OI.RenderEdge}},{key:"dispose",value:function(){var e=this;this.stopListening(),Object.keys(this.views).forEach((function(t){e.views[t].view.dispose()})),this.views={}}}])}(nb);LI([nb.dispose()],NI.prototype,"dispose",null),function(e){e.FLAG_INSERT=1<<30,e.FLAG_REMOVE=1<<29,e.FLAG_RENDER=67108863}(NI||(NI={})),function(e){!function(e){e[e.CREATED=0]="CREATED",e[e.MOUNTED=1]="MOUNTED",e[e.WAITING=2]="WAITING"}(e.ViewState||(e.ViewState={}))}(NI||(NI={}));var II=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},DI=function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).schedule=new NI(e.graph),e}return G(t,e),M(t,[{key:"requestViewUpdate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.schedule.requestViewUpdate(e,t,n)}},{key:"isViewMounted",value:function(e){return this.schedule.isViewMounted(e)}},{key:"setRenderArea",value:function(e){this.schedule.setRenderArea(e)}},{key:"findViewByElem",value:function(e){if(null==e)return null;var t=this.options.container,n="string"===typeof e?t.querySelector(e):e instanceof Element?e:e[0];if(n){var r=this.graph.view.findAttr("data-cell-id",n);if(r){var i=this.schedule.views;if(i[r])return i[r].view}}return null}},{key:"findViewByCell",value:function(e){if(null==e)return null;var t=jN.isCell(e)?e.id:e,n=this.schedule.views;return n[t]?n[t].view:null}},{key:"findViewsFromPoint",value:function(e){var t=this,n={x:e.x,y:e.y};return this.model.getCells().map((function(e){return t.findViewByCell(e)})).filter((function(e){return null!=e&&XO.getBBox(e.container,{target:t.view.stage}).containsPoint(n)}))}},{key:"findEdgeViewsFromPoint",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return this.model.getEdges().map((function(e){return t.findViewByCell(e)})).filter((function(t){if(null!=t){var r=t.getClosestPoint(e);if(r)return r.distance(e)<=n}return!1}))}},{key:"findViewsInArea",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=kA.create(e);return this.model.getCells().map((function(e){return t.findViewByCell(e)})).filter((function(e){if(e){if(n.nodeOnly&&!e.isNodeView())return!1;var i=XO.getBBox(e.container,{target:t.view.stage});return 0===i.width?i.inflate(1,0):0===i.height&&i.inflate(0,1),n.strict?r.containsRect(i):r.isIntersectWithRect(i)}return!1}))}},{key:"dispose",value:function(){this.schedule.dispose()}}])}(pI);II([pI.dispose()],DI.prototype,"dispose",null);var FI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},UI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"cid",get:function(){return this.graph.view.cid}},{key:"svg",get:function(){return this.view.svg}},{key:"defs",get:function(){return this.view.defs}},{key:"isDefined",value:function(e){return null!=this.svg.getElementById(e)}},{key:"filter",value:function(e){var t=e.id,n=e.name;if(t||(t="filter-".concat(n,"-").concat(this.cid,"-").concat(XM(JSON.stringify(e)))),!this.isDefined(t)){var r=ZA.registry.get(n);if(null==r)return ZA.registry.onNotFound(n);var i=r(e.args||{}),a=Object.assign(Object.assign({x:-1,y:-1,width:3,height:3,filterUnits:"objectBoundingBox"},e.attrs),{id:t});bC.create(FR.sanitize(i),a).appendTo(this.defs)}return t}},{key:"gradient",value:function(e){var t=e.id,n=e.type;if(t||(t="gradient-".concat(n,"-").concat(this.cid,"-").concat(XM(JSON.stringify(e)))),!this.isDefined(t)){var r=e.stops.map((function(e){var t=null!=e.opacity&&Number.isFinite(e.opacity)?e.opacity:1;return'<stop offset="'.concat(e.offset,'" stop-color="').concat(e.color,'" stop-opacity="').concat(t,'"/>')})),i="<".concat(n,">").concat(r.join(""),"</").concat(n,">"),a=Object.assign({id:t},e.attrs);bC.create(i,a).appendTo(this.defs)}return t}},{key:"marker",value:function(e){var t=e.id,n=e.refX,r=e.refY,i=e.markerUnits,a=e.markerOrient,o=e.tagName,s=e.children,l=FI(e,["id","refX","refY","markerUnits","markerOrient","tagName","children"]),u=t;if(u||(u="marker-".concat(this.cid,"-").concat(XM(JSON.stringify(e)))),!this.isDefined(u)){"path"!==o&&delete l.d;var c=bC.create("marker",{refX:n,refY:r,id:u,overflow:"visible",orient:null!=a?a:"auto",markerUnits:i||"userSpaceOnUse"},s?s.map((function(e){var t=e.tagName,n=FI(e,["tagName"]);return bC.create("".concat(t)||"path",eC(Object.assign(Object.assign({},l),n)))})):[bC.create(o||"path",eC(l))]);this.defs.appendChild(c.node)}return u}},{key:"remove",value:function(e){var t=this.svg.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)}}])}(pI),BI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"getClientMatrix",value:function(){return BC(this.view.stage.getScreenCTM())}},{key:"getClientOffset",value:function(){var e=this.view.svg.getBoundingClientRect();return new xA(e.left,e.top)}},{key:"getPageOffset",value:function(){return this.getClientOffset().translate(window.scrollX,window.scrollY)}},{key:"snapToGrid",value:function(e,t){return("number"===typeof e?this.clientToLocalPoint(e,t):this.clientToLocalPoint(e.x,e.y)).snapToGrid(this.graph.getGridSize())}},{key:"localToGraphPoint",value:function(e,t){var n=xA.create(e,t);return XO.transformPoint(n,this.graph.matrix())}},{key:"localToClientPoint",value:function(e,t){var n=xA.create(e,t);return XO.transformPoint(n,this.getClientMatrix())}},{key:"localToPagePoint",value:function(e,t){return("number"===typeof e?this.localToGraphPoint(e,t):this.localToGraphPoint(e)).translate(this.getPageOffset())}},{key:"localToGraphRect",value:function(e,t,n,r){var i=kA.create(e,t,n,r);return XO.transformRectangle(i,this.graph.matrix())}},{key:"localToClientRect",value:function(e,t,n,r){var i=kA.create(e,t,n,r);return XO.transformRectangle(i,this.getClientMatrix())}},{key:"localToPageRect",value:function(e,t,n,r){return("number"===typeof e?this.localToGraphRect(e,t,n,r):this.localToGraphRect(e)).translate(this.getPageOffset())}},{key:"graphToLocalPoint",value:function(e,t){var n=xA.create(e,t);return XO.transformPoint(n,this.graph.matrix().inverse())}},{key:"clientToLocalPoint",value:function(e,t){var n=xA.create(e,t);return XO.transformPoint(n,this.getClientMatrix().inverse())}},{key:"clientToGraphPoint",value:function(e,t){var n=xA.create(e,t);return XO.transformPoint(n,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}},{key:"pageToLocalPoint",value:function(e,t){var n=xA.create(e,t).diff(this.getPageOffset());return this.graphToLocalPoint(n)}},{key:"graphToLocalRect",value:function(e,t,n,r){var i=kA.create(e,t,n,r);return XO.transformRectangle(i,this.graph.matrix().inverse())}},{key:"clientToLocalRect",value:function(e,t,n,r){var i=kA.create(e,t,n,r);return XO.transformRectangle(i,this.getClientMatrix().inverse())}},{key:"clientToGraphRect",value:function(e,t,n,r){var i=kA.create(e,t,n,r);return XO.transformRectangle(i,this.graph.matrix().multiply(this.getClientMatrix().inverse()))}},{key:"pageToLocalRect",value:function(e,t,n,r){var i=kA.create(e,t,n,r),a=this.getPageOffset();return i.x-=a.x,i.y-=a.y,this.graphToLocalRect(i)}}])}(pI),zI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},HI=function(e){function t(){var e;return T(this,t),(e=z(this,t,arguments)).highlights={},e}return G(t,e),M(t,[{key:"init",value:function(){this.startListening()}},{key:"startListening",value:function(){this.graph.on("cell:highlight",this.onCellHighlight,this),this.graph.on("cell:unhighlight",this.onCellUnhighlight,this)}},{key:"stopListening",value:function(){this.graph.off("cell:highlight",this.onCellHighlight,this),this.graph.off("cell:unhighlight",this.onCellUnhighlight,this)}},{key:"onCellHighlight",value:function(e){var t=e.view,n=e.magnet,r=e.options,i=void 0===r?{}:r,a=this.resolveHighlighter(i);if(a){var o=this.getHighlighterId(n,a);if(!this.highlights[o]){var s=a.highlighter;s.highlight(t,n,Object.assign({},a.args)),this.highlights[o]={cellView:t,magnet:n,highlighter:s,args:a.args}}}}},{key:"onCellUnhighlight",value:function(e){var t=e.magnet,n=e.options,r=void 0===n?{}:n,i=this.resolveHighlighter(r);if(i){var a=this.getHighlighterId(t,i);this.unhighlight(a)}}},{key:"resolveHighlighter",value:function(e){var t=this.options,n=e.highlighter;if(null==n){var r=e.type;n=r&&t.highlighting[r]||t.highlighting.default}if(null==n)return null;var i="string"===typeof n?{name:n}:n,a=i.name,o=$O.registry.get(a);return null==o?$O.registry.onNotFound(a):($O.check(a,o),{name:a,highlighter:o,args:i.args||{}})}},{key:"getHighlighterId",value:function(e,t){return PT(e),t.name+e.id+JSON.stringify(t.args)}},{key:"unhighlight",value:function(e){var t=this.highlights[e];t&&(t.highlighter.unhighlight(t.cellView,t.magnet,t.args),delete this.highlights[e])}},{key:"dispose",value:function(){var e=this;Object.keys(this.highlights).forEach((function(t){return e.unhighlight(t)})),this.stopListening()}}])}(pI);zI([HI.dispose()],HI.prototype,"dispose",null);var GI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},jI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t,[{key:"getScroller",value:function(){var e=this.graph.getPlugin("scroller");return e&&e.options.enabled?e:null}},{key:"getContainer",value:function(){var e=this.getScroller();return e?e.container.parentElement:this.graph.container.parentElement}},{key:"getSensorTarget",value:function(){var e=this.options.autoResize;if(e)return"boolean"===typeof e?this.getContainer():e}},{key:"init",value:function(){var e=this;if(this.options.autoResize){var t=this.getSensorTarget();t&&aA.bind(t,(function(){var n=t.offsetWidth,r=t.offsetHeight;e.resize(n,r)}))}}},{key:"resize",value:function(e,t){var n=this.getScroller();n?n.resize(e,t):this.graph.transform.resize(e,t)}},{key:"dispose",value:function(){aA.clear(this.graph.container)}}])}(pI);GI([pI.dispose()],jI.prototype,"dispose",null);var VI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},WI=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).installedPlugins=new Set,n.options=mI.get(e),n.css=new gI(n),n.view=new dI(n),n.defs=new UI(n),n.coord=new BI(n),n.transform=new wI(n),n.highlight=new HI(n),n.grid=new kI(n),n.background=new EI(n),n.options.model?n.model=n.options.model:(n.model=new QN,n.model.graph=n),n.renderer=new DI(n),n.panning=new MI(n),n.mousewheel=new CI(n),n.virtualRender=new PI(n),n.size=new jI(n),n}return G(t,e),M(t,[{key:"container",get:function(){return this.options.container}},{key:Symbol.toStringTag,get:function(){return t.toStringTag}},{key:"isNode",value:function(e){return e.isNode()}},{key:"isEdge",value:function(e){return e.isEdge()}},{key:"resetCells",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.resetCells(e,t),this}},{key:"clearCells",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.model.clear(e),this}},{key:"toJSON",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.model.toJSON(e)}},{key:"parseJSON",value:function(e){return this.model.parseJSON(e)}},{key:"fromJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.fromJSON(e,t),this}},{key:"getCellById",value:function(e){return this.model.getCell(e)}},{key:"addNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.addNode(e,t)}},{key:"addNodes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.addCell(e.map((function(e){return XN.isNode(e)?e:t.createNode(e)})),n)}},{key:"createNode",value:function(e){return this.model.createNode(e)}},{key:"removeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeCell(e,t)}},{key:"addEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.addEdge(e,t)}},{key:"addEdges",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.addCell(e.map((function(e){return YN.isEdge(e)?e:t.createEdge(e)})),n)}},{key:"removeEdge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeCell(e,t)}},{key:"createEdge",value:function(e){return this.model.createEdge(e)}},{key:"addCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.addCell(e,t),this}},{key:"removeCell",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeCell(e,t)}},{key:"removeCells",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeCells(e,t)}},{key:"removeConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.removeConnectedEdges(e,t)}},{key:"disconnectConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.disconnectConnectedEdges(e,t),this}},{key:"hasCell",value:function(e){return this.model.has(e)}},{key:"getCells",value:function(){return this.model.getCells()}},{key:"getCellCount",value:function(){return this.model.total()}},{key:"getNodes",value:function(){return this.model.getNodes()}},{key:"getEdges",value:function(){return this.model.getEdges()}},{key:"getOutgoingEdges",value:function(e){return this.model.getOutgoingEdges(e)}},{key:"getIncomingEdges",value:function(e){return this.model.getIncomingEdges(e)}},{key:"getConnectedEdges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getConnectedEdges(e,t)}},{key:"getRootNodes",value:function(){return this.model.getRoots()}},{key:"getLeafNodes",value:function(){return this.model.getLeafs()}},{key:"isRootNode",value:function(e){return this.model.isRoot(e)}},{key:"isLeafNode",value:function(e){return this.model.isLeaf(e)}},{key:"getNeighbors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getNeighbors(e,t)}},{key:"isNeighbor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.isNeighbor(e,t,n)}},{key:"getSuccessors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getSuccessors(e,t)}},{key:"isSuccessor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.isSuccessor(e,t,n)}},{key:"getPredecessors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getPredecessors(e,t)}},{key:"isPredecessor",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.isPredecessor(e,t,n)}},{key:"getCommonAncestor",value:function(){var e;return(e=this.model).getCommonAncestor.apply(e,arguments)}},{key:"getSubGraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getSubGraph(e,t)}},{key:"cloneSubGraph",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.cloneSubGraph(e,t)}},{key:"cloneCells",value:function(e){return this.model.cloneCells(e)}},{key:"getNodesFromPoint",value:function(e,t){return this.model.getNodesFromPoint(e,t)}},{key:"getNodesInArea",value:function(e,t,n,r,i){return this.model.getNodesInArea(e,t,n,r,i)}},{key:"getNodesUnderNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getNodesUnderNode(e,t)}},{key:"searchCell",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.search(e,t,n),this}},{key:"getShortestPath",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.model.getShortestPath(e,t,n)}},{key:"getAllCellsBBox",value:function(){return this.model.getAllCellsBBox()}},{key:"getCellsBBox",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.model.getCellsBBox(e,t)}},{key:"startBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.model.startBatch(e,t)}},{key:"stopBatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.model.stopBatch(e,t)}},{key:"batchUpdate",value:function(e,t,n){var r="string"===typeof e?e:"update",i="string"===typeof e?t:e,a="function"===typeof t?n:t;this.startBatch(r,a);var o=i();return this.stopBatch(r,a),o}},{key:"updateCellId",value:function(e,t){return this.model.updateCellId(e,t)}},{key:"findView",value:function(e){return jN.isCell(e)?this.findViewByCell(e):this.findViewByElem(e)}},{key:"findViews",value:function(e){return kA.isRectangleLike(e)?this.findViewsInArea(e):xA.isPointLike(e)?this.findViewsFromPoint(e):[]}},{key:"findViewByCell",value:function(e){return this.renderer.findViewByCell(e)}},{key:"findViewByElem",value:function(e){return this.renderer.findViewByElem(e)}},{key:"findViewsFromPoint",value:function(e,t){var n="number"===typeof e?{x:e,y:t}:e;return this.renderer.findViewsFromPoint(n)}},{key:"findViewsInArea",value:function(e,t,n,r,i){var a="number"===typeof e?{x:e,y:t,width:n,height:r}:e,o="number"===typeof e?i:t;return this.renderer.findViewsInArea(a,o)}},{key:"matrix",value:function(e){return"undefined"===typeof e?this.transform.getMatrix():(this.transform.setMatrix(e),this)}},{key:"resize",value:function(e,t){var n=this.getPlugin("scroller");return n?n.resize(e,t):this.transform.resize(e,t),this}},{key:"scale",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return"undefined"===typeof e?this.transform.getScale():(this.transform.scale(e,t,n,r),this)}},{key:"zoom",value:function(e,t){var n=this.getPlugin("scroller");if(n){if("undefined"===typeof e)return n.zoom();n.zoom(e,t)}else{if("undefined"===typeof e)return this.transform.getZoom();this.transform.zoom(e,t)}return this}},{key:"zoomTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getPlugin("scroller");return n?n.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})):this.transform.zoom(e,Object.assign(Object.assign({},t),{absolute:!0})),this}},{key:"zoomToRect",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getPlugin("scroller");return n?n.zoomToRect(e,t):this.transform.zoomToRect(e,t),this}},{key:"zoomToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getPlugin("scroller");return t?t.zoomToFit(e):this.transform.zoomToFit(e),this}},{key:"rotate",value:function(e,t,n){return"undefined"===typeof e?this.transform.getRotation():(this.transform.rotate(e,t,n),this)}},{key:"translate",value:function(e,t){return"undefined"===typeof e?this.transform.getTranslation():(this.transform.translate(e,t),this)}},{key:"translateBy",value:function(e,t){var n=this.translate(),r=n.tx+e,i=n.ty+t;return this.translate(r,i)}},{key:"getGraphArea",value:function(){return this.transform.getGraphArea()}},{key:"getContentArea",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transform.getContentArea(e)}},{key:"getContentBBox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transform.getContentBBox(e)}},{key:"fitToContent",value:function(e,t,n,r){return this.transform.fitToContent(e,t,n,r)}},{key:"scaleContentToFit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.transform.scaleContentToFit(e),this}},{key:"center",value:function(e){return this.centerPoint(e)}},{key:"centerPoint",value:function(e,t,n){var r=this.getPlugin("scroller");return r?r.centerPoint(e,t,n):this.transform.centerPoint(e,t),this}},{key:"centerContent",value:function(e){var t=this.getPlugin("scroller");return t?t.centerContent(e):this.transform.centerContent(e),this}},{key:"centerCell",value:function(e,t){var n=this.getPlugin("scroller");return n?n.centerCell(e,t):this.transform.centerCell(e),this}},{key:"positionPoint",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.getPlugin("scroller");return i?i.positionPoint(e,t,n,r):this.transform.positionPoint(e,t,n),this}},{key:"positionRect",value:function(e,t,n){var r=this.getPlugin("scroller");return r?r.positionRect(e,t,n):this.transform.positionRect(e,t),this}},{key:"positionCell",value:function(e,t,n){var r=this.getPlugin("scroller");return r?r.positionCell(e,t,n):this.transform.positionCell(e,t),this}},{key:"positionContent",value:function(e,t){var n=this.getPlugin("scroller");return n?n.positionContent(e,t):this.transform.positionContent(e,t),this}},{key:"snapToGrid",value:function(e,t){return this.coord.snapToGrid(e,t)}},{key:"pageToLocal",value:function(e,t,n,r){return kA.isRectangleLike(e)?this.coord.pageToLocalRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.pageToLocalRect(e,t,n,r):this.coord.pageToLocalPoint(e,t)}},{key:"localToPage",value:function(e,t,n,r){return kA.isRectangleLike(e)?this.coord.localToPageRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.localToPageRect(e,t,n,r):this.coord.localToPagePoint(e,t)}},{key:"clientToLocal",value:function(e,t,n,r){return kA.isRectangleLike(e)?this.coord.clientToLocalRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.clientToLocalRect(e,t,n,r):this.coord.clientToLocalPoint(e,t)}},{key:"localToClient",value:function(e,t,n,r){return kA.isRectangleLike(e)?this.coord.localToClientRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.localToClientRect(e,t,n,r):this.coord.localToClientPoint(e,t)}},{key:"localToGraph",value:function(e,t,n,r){return kA.isRectangleLike(e)?this.coord.localToGraphRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.localToGraphRect(e,t,n,r):this.coord.localToGraphPoint(e,t)}},{key:"graphToLocal",value:function(e,t,n,r){return kA.isRectangleLike(e)?this.coord.graphToLocalRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.graphToLocalRect(e,t,n,r):this.coord.graphToLocalPoint(e,t)}},{key:"clientToGraph",value:function(e,t,n,r){return kA.isRectangleLike(e)?this.coord.clientToGraphRect(e):"number"===typeof e&&"number"===typeof t&&"number"===typeof n&&"number"===typeof r?this.coord.clientToGraphRect(e,t,n,r):this.coord.clientToGraphPoint(e,t)}},{key:"defineFilter",value:function(e){return this.defs.filter(e)}},{key:"defineGradient",value:function(e){return this.defs.gradient(e)}},{key:"defineMarker",value:function(e){return this.defs.marker(e)}},{key:"getGridSize",value:function(){return this.grid.getGridSize()}},{key:"setGridSize",value:function(e){return this.grid.setGridSize(e),this}},{key:"showGrid",value:function(){return this.grid.show(),this}},{key:"hideGrid",value:function(){return this.grid.hide(),this}},{key:"clearGrid",value:function(){return this.grid.clear(),this}},{key:"drawGrid",value:function(e){return this.grid.draw(e),this}},{key:"updateBackground",value:function(){return this.background.update(),this}},{key:"drawBackground",value:function(e,t){var n=this.getPlugin("scroller");return null==n||null!=this.options.background&&t?this.background.draw(e):n.drawBackground(e,t),this}},{key:"clearBackground",value:function(e){var t=this.getPlugin("scroller");return null==t||null!=this.options.background&&e?this.background.clear():t.clearBackground(e),this}},{key:"enableVirtualRender",value:function(){return this.virtualRender.enableVirtualRender(),this}},{key:"disableVirtualRender",value:function(){return this.virtualRender.disableVirtualRender(),this}},{key:"isMouseWheelEnabled",value:function(){return!this.mousewheel.disabled}},{key:"enableMouseWheel",value:function(){return this.mousewheel.enable(),this}},{key:"disableMouseWheel",value:function(){return this.mousewheel.disable(),this}},{key:"toggleMouseWheel",value:function(e){return null==e?this.isMouseWheelEnabled()?this.disableMouseWheel():this.enableMouseWheel():e?this.enableMouseWheel():this.disableMouseWheel(),this}},{key:"isPannable",value:function(){var e=this.getPlugin("scroller");return e?e.isPannable():this.panning.pannable}},{key:"enablePanning",value:function(){var e=this.getPlugin("scroller");return e?e.enablePanning():this.panning.enablePanning(),this}},{key:"disablePanning",value:function(){var e=this.getPlugin("scroller");return e?e.disablePanning():this.panning.disablePanning(),this}},{key:"togglePanning",value:function(e){return null==e?this.isPannable()?this.disablePanning():this.enablePanning():e!==this.isPannable()&&(e?this.enablePanning():this.disablePanning()),this}},{key:"use",value:function(e){if(!this.installedPlugins.has(e)){this.installedPlugins.add(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.init.apply(e,[this].concat(n))}return this}},{key:"getPlugin",value:function(e){return Array.from(this.installedPlugins).find((function(t){return t.name===e}))}},{key:"getPlugins",value:function(e){return Array.from(this.installedPlugins).filter((function(t){return e.includes(t.name)}))}},{key:"enablePlugins",value:function(e){var t=e;Array.isArray(t)||(t=[t]);var n=this.getPlugins(t);return null===n||void 0===n||n.forEach((function(e){var t;null===(t=null===e||void 0===e?void 0:e.enable)||void 0===t||t.call(e)})),this}},{key:"disablePlugins",value:function(e){var t=e;Array.isArray(t)||(t=[t]);var n=this.getPlugins(t);return null===n||void 0===n||n.forEach((function(e){var t;null===(t=null===e||void 0===e?void 0:e.disable)||void 0===t||t.call(e)})),this}},{key:"isPluginEnabled",value:function(e){var t,n=this.getPlugin(e);return null===(t=null===n||void 0===n?void 0:n.isEnabled)||void 0===t?void 0:t.call(n)}},{key:"disposePlugins",value:function(e){var t=this,n=e;Array.isArray(n)||(n=[n]);var r=this.getPlugins(n);return null===r||void 0===r||r.forEach((function(e){e.dispose(),t.installedPlugins.delete(e)})),this}},{key:"dispose",value:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.model.dispose(),this.css.dispose(),this.defs.dispose(),this.grid.dispose(),this.coord.dispose(),this.transform.dispose(),this.highlight.dispose(),this.background.dispose(),this.mousewheel.dispose(),this.panning.dispose(),this.view.dispose(),this.renderer.dispose(),this.installedPlugins.forEach((function(e){e.dispose()}))}}])}(IE);VI([IE.dispose()],WI.prototype,"dispose",null),function(e){e.View=dI,e.Renderer=DI,e.MouseWheel=CI,e.DefsManager=UI,e.GridManager=kI,e.CoordManager=BI,e.TransformManager=wI,e.HighlightManager=HI,e.BackgroundManager=EI,e.PanningManager=MI}(WI||(WI={})),function(e){e.toStringTag="X6.".concat(e.name),e.isGraph=function(t){if(null==t)return!1;if(t instanceof e)return!0;var n=t[Symbol.toStringTag];return null==n||n===e.toStringTag}}(WI||(WI={})),function(e){e.render=function(t,n){var r=t instanceof HTMLElement?new e({container:t}):new e(t);return null!=n&&r.fromJSON(n),r}}(WI||(WI={})),function(e){e.registerNode=XN.registry.register,e.registerEdge=YN.registry.register,e.registerView=jR.registry.register,e.registerAttr=DO.registry.register,e.registerGrid=KA.registry.register,e.registerFilter=ZA.registry.register,e.registerNodeTool=fL.registry.register,e.registerEdgeTool=dL.registry.register,e.registerBackground=JA.registry.register,e.registerHighlighter=$O.registry.register,e.registerPortLayout=lR.registry.register,e.registerPortLabelLayout=PR.registry.register,e.registerMarker=gO.registry.register,e.registerRouter=wN.registry.register,e.registerConnector=IN.registry.register,e.registerAnchor=TL.registry.register,e.registerEdgeAnchor=OL.registry.register,e.registerConnectionPoint=GL.registry.register}(WI||(WI={})),function(e){e.unregisterNode=XN.registry.unregister,e.unregisterEdge=YN.registry.unregister,e.unregisterView=jR.registry.unregister,e.unregisterAttr=DO.registry.unregister,e.unregisterGrid=KA.registry.unregister,e.unregisterFilter=ZA.registry.unregister,e.unregisterNodeTool=fL.registry.unregister,e.unregisterEdgeTool=dL.registry.unregister,e.unregisterBackground=JA.registry.unregister,e.unregisterHighlighter=$O.registry.unregister,e.unregisterPortLayout=lR.registry.unregister,e.unregisterPortLabelLayout=PR.registry.unregister,e.unregisterMarker=gO.registry.unregister,e.unregisterRouter=wN.registry.unregister,e.unregisterConnector=IN.registry.unregister,e.unregisterAnchor=TL.registry.unregister,e.unregisterEdgeAnchor=OL.registry.unregister,e.unregisterConnectionPoint=GL.registry.unregister}(WI||(WI={}));var XI=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},qI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},YI=function(e){function t(){return T(this,t),z(this,t,arguments)}return G(t,e),M(t)}(XN);!function(e){var t=function(t){function n(){return T(this,n),z(this,n,arguments)}return G(n,t),M(n,[{key:"init",value:function(){ar(D(n.prototype),"init",this).call(this),this.cell.on("change:*",this.onCellChangeAny,this)}},{key:"onCellChangeAny",value:function(t){var n=t.key,r=e.shapeMaps[this.cell.shape];if(r){var i=r.effect;i&&!i.includes(n)||this.renderHTMLComponent()}}},{key:"confirmUpdate",value:function(e){var t=this,r=ar(D(n.prototype),"confirmUpdate",this).call(this,e);return this.handleAction(r,n.action,(function(){return t.renderHTMLComponent()}))}},{key:"renderHTMLComponent",value:function(){var t=this.selectors&&this.selectors.foContent;if(t){HT(t);var n=e.shapeMaps[this.cell.shape];if(!n)return;var r=n.html;"function"===typeof r&&(r=r(this.cell)),r&&("string"===typeof r?t.innerHTML=r:GT(t,r))}}},{key:"dispose",value:function(){this.cell.off("change:*",this.onCellChangeAny,this)}}])}(uI);XI([t.dispose()],t.prototype,"dispose",null),e.View=t,function(e){e.action="html",e.config({bootstrap:[e.action],actions:{html:e.action}}),uI.registry.register("html-view",e,!0)}(t=e.View||(e.View={}))}(YI||(YI={})),function(e){e.config({view:"html-view",markup:[{tagName:"rect",selector:"body"},Object.assign({},FR.getForeignObjectMarkup()),{tagName:"text",selector:"label"}],attrs:{body:{fill:"none",stroke:"none",refWidth:"100%",refHeight:"100%"},fo:{refWidth:"100%",refHeight:"100%"}}}),XN.registry.register("html",e,!0)}(YI||(YI={})),function(e){e.shapeMaps={},e.register=function(t){var n=t.shape,r=t.html,i=t.effect,a=t.inherit,o=qI(t,["shape","html","effect","inherit"]);if(!n)throw new Error("should specify shape in config");e.shapeMaps[n]={html:r,effect:i},WI.registerNode(n,Object.assign({inherit:a||"html"},o),!0)}}(YI||(YI={}));var KI="CircuitSimulation_view__rrajR",JI="CircuitSimulation_x6GraphView__vL1hG",ZI="CircuitSimulation_miniMapView__cGGuk";function QI(){return QI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QI.apply(null,arguments)}var $I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};function eD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var tD=n(580),nD=n.n(tD),rD=Math.round;function iD(e,t){for(var n=e.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=n.map((function(e){return parseFloat(e)})),i=0;i<3;i+=1)r[i]=t(r[i]||0,n[i]||"",i);return n[3]?r[3]=n[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}var aD=function(e,t,n){return 0===n?e:e/100};function oD(e,t){var n=t||255;return e>n?n:e<0?0:e}var sD=function(){return M((function e(t){function n(e){return e[0]in t&&e[1]in t&&e[2]in t}if(T(this,e),j(this,"isValid",!0),j(this,"r",0),j(this,"g",0),j(this,"b",0),j(this,"a",1),j(this,"_h",void 0),j(this,"_s",void 0),j(this,"_l",void 0),j(this,"_v",void 0),j(this,"_max",void 0),j(this,"_min",void 0),j(this,"_brightness",void 0),t)if("string"===typeof t){var r=function(e){return i.startsWith(e)},i=t.trim();/^#?[A-F\d]{3,8}$/i.test(i)?this.fromHexString(i):r("rgb")?this.fromRgbString(i):r("hsl")?this.fromHslString(i):(r("hsv")||r("hsb"))&&this.fromHsvString(i)}else if(t instanceof e)this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this._h=t._h,this._s=t._s,this._l=t._l,this._v=t._v;else if(n("rgb"))this.r=oD(t.r),this.g=oD(t.g),this.b=oD(t.b),this.a="number"===typeof t.a?oD(t.a,1):1;else if(n("hsl"))this.fromHsl(t);else{if(!n("hsv"))throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(t));this.fromHsv(t)}else;}),[{key:"setR",value:function(e){return this._sc("r",e)}},{key:"setG",value:function(e){return this._sc("g",e)}},{key:"setB",value:function(e){return this._sc("b",e)}},{key:"setA",value:function(e){return this._sc("a",e,1)}},{key:"setHue",value:function(e){var t=this.toHsv();return t.h=e,this._c(t)}},{key:"getLuminance",value:function(){function e(e){var t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}return.2126*e(this.r)+.7152*e(this.g)+.0722*e(this.b)}},{key:"getHue",value:function(){if("undefined"===typeof this._h){var e=this.getMax()-this.getMin();this._h=0===e?0:rD(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}},{key:"getSaturation",value:function(){if("undefined"===typeof this._s){var e=this.getMax()-this.getMin();this._s=0===e?0:e/this.getMax()}return this._s}},{key:"getLightness",value:function(){return"undefined"===typeof this._l&&(this._l=(this.getMax()+this.getMin())/510),this._l}},{key:"getValue",value:function(){return"undefined"===typeof this._v&&(this._v=this.getMax()/255),this._v}},{key:"getBrightness",value:function(){return"undefined"===typeof this._brightness&&(this._brightness=(299*this.r+587*this.g+114*this.b)/1e3),this._brightness}},{key:"darken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.getHue(),n=this.getSaturation(),r=this.getLightness()-e/100;return r<0&&(r=0),this._c({h:t,s:n,l:r,a:this.a})}},{key:"lighten",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.getHue(),n=this.getSaturation(),r=this.getLightness()+e/100;return r>1&&(r=1),this._c({h:t,s:n,l:r,a:this.a})}},{key:"mix",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,r=this._c(e),i=n/100,a=function(e){return(r[e]-t[e])*i+t[e]},o={r:rD(a("r")),g:rD(a("g")),b:rD(a("b")),a:rD(100*a("a"))/100};return this._c(o)}},{key:"tint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:255,g:255,b:255,a:1},e)}},{key:"shade",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.mix({r:0,g:0,b:0,a:1},e)}},{key:"onBackground",value:function(e){var t=this,n=this._c(e),r=this.a+n.a*(1-this.a),i=function(e){return rD((t[e]*t.a+n[e]*n.a*(1-t.a))/r)};return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}},{key:"isDark",value:function(){return this.getBrightness()<128}},{key:"isLight",value:function(){return this.getBrightness()>=128}},{key:"equals",value:function(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}},{key:"clone",value:function(){return this._c(this)}},{key:"toHexString",value:function(){var e="#",t=(this.r||0).toString(16);e+=2===t.length?t:"0"+t;var n=(this.g||0).toString(16);e+=2===n.length?n:"0"+n;var r=(this.b||0).toString(16);if(e+=2===r.length?r:"0"+r,"number"===typeof this.a&&this.a>=0&&this.a<1){var i=rD(255*this.a).toString(16);e+=2===i.length?i:"0"+i}return e}},{key:"toHsl",value:function(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}},{key:"toHslString",value:function(){var e=this.getHue(),t=rD(100*this.getSaturation()),n=rD(100*this.getLightness());return 1!==this.a?"hsla(".concat(e,",").concat(t,"%,").concat(n,"%,").concat(this.a,")"):"hsl(".concat(e,",").concat(t,"%,").concat(n,"%)")}},{key:"toHsv",value:function(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}},{key:"toRgb",value:function(){return{r:this.r,g:this.g,b:this.b,a:this.a}}},{key:"toRgbString",value:function(){return 1!==this.a?"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")"):"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")}},{key:"toString",value:function(){return this.toRgbString()}},{key:"_sc",value:function(e,t,n){var r=this.clone();return r[e]=oD(t,n),r}},{key:"_c",value:function(e){return new this.constructor(e)}},{key:"getMax",value:function(){return"undefined"===typeof this._max&&(this._max=Math.max(this.r,this.g,this.b)),this._max}},{key:"getMin",value:function(){return"undefined"===typeof this._min&&(this._min=Math.min(this.r,this.g,this.b)),this._min}},{key:"fromHexString",value:function(e){var t=e.replace("#","");function n(e,n){return parseInt(t[e]+t[n||e],16)}t.length<6?(this.r=n(0),this.g=n(1),this.b=n(2),this.a=t[3]?n(3)/255:1):(this.r=n(0,1),this.g=n(2,3),this.b=n(4,5),this.a=t[6]?n(6,7)/255:1)}},{key:"fromHsl",value:function(e){var t=e.h,n=e.s,r=e.l,i=e.a;if(this._h=t%360,this._s=n,this._l=r,this.a="number"===typeof i?i:1,n<=0){var a=rD(255*r);this.r=a,this.g=a,this.b=a}var o=0,s=0,l=0,u=t/60,c=(1-Math.abs(2*r-1))*n,h=c*(1-Math.abs(u%2-1));u>=0&&u<1?(o=c,s=h):u>=1&&u<2?(o=h,s=c):u>=2&&u<3?(s=c,l=h):u>=3&&u<4?(s=h,l=c):u>=4&&u<5?(o=h,l=c):u>=5&&u<6&&(o=c,l=h);var f=r-c/2;this.r=rD(255*(o+f)),this.g=rD(255*(s+f)),this.b=rD(255*(l+f))}},{key:"fromHsv",value:function(e){var t=e.h,n=e.s,r=e.v,i=e.a;this._h=t%360,this._s=n,this._v=r,this.a="number"===typeof i?i:1;var a=rD(255*r);if(this.r=a,this.g=a,this.b=a,!(n<=0)){var o=t/60,s=Math.floor(o),l=o-s,u=rD(r*(1-n)*255),c=rD(r*(1-n*l)*255),h=rD(r*(1-n*(1-l))*255);switch(s){case 0:this.g=h,this.b=u;break;case 1:this.r=c,this.b=u;break;case 2:this.r=u,this.b=h;break;case 3:this.r=u,this.g=c;break;case 4:this.r=h,this.g=u;break;default:this.g=u,this.b=c}}}},{key:"fromHsvString",value:function(e){var t=iD(e,aD);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}},{key:"fromHslString",value:function(e){var t=iD(e,aD);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}},{key:"fromRgbString",value:function(e){var t=iD(e,(function(e,t){return t.includes("%")?rD(e/100*255):e}));this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}])}(),lD=2,uD=.16,cD=.05,hD=.05,fD=.15,dD=5,pD=4,vD=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function gD(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-lD*t:Math.round(e.h)+lD*t:n?Math.round(e.h)+lD*t:Math.round(e.h)-lD*t)<0?r+=360:r>=360&&(r-=360),r}function mD(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-uD*t:t===pD?e.s+uD:e.s+cD*t)>1&&(r=1),n&&t===dD&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(100*r)/100);var r}function yD(e,t,n){var r;return r=n?e.v+hD*t:e.v-fD*t,r=Math.max(0,Math.min(1,r)),Math.round(100*r)/100}function bD(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=new sD(e),i=r.toHsv(),a=dD;a>0;a-=1){var o=new sD({h:gD(i,a,!0),s:mD(i,a,!0),v:yD(i,a,!0)});n.push(o)}n.push(r);for(var s=1;s<=pD;s+=1){var l=new sD({h:gD(i,s),s:mD(i,s),v:yD(i,s)});n.push(l)}return"dark"===t.theme?vD.map((function(e){var r=e.index,i=e.amount;return new sD(t.backgroundColor||"#141414").mix(n[r],i).toHexString()})):n.map((function(e){return e.toHexString()}))}var xD={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},kD=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];kD.primary=kD[5];var wD=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];wD.primary=wD[5];var SD=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];SD.primary=SD[5];var ED=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];ED.primary=ED[5];var _D=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];_D.primary=_D[5];var MD=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];MD.primary=MD[5];var TD=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];TD.primary=TD[5];var CD=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];CD.primary=CD[5];var AD=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];AD.primary=AD[5];var PD=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];PD.primary=PD[5];var OD=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];OD.primary=OD[5];var RD=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];RD.primary=RD[5];var LD=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];LD.primary=LD[5];var ND={red:kD,volcano:wD,orange:SD,gold:ED,yellow:_D,lime:MD,green:TD,cyan:CD,blue:AD,geekblue:PD,purple:OD,magenta:RD,grey:LD},ID=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];ID.primary=ID[5];var DD=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];DD.primary=DD[5];var FD=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];FD.primary=FD[5];var UD=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];UD.primary=UD[5];var BD=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];BD.primary=BD[5];var zD=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];zD.primary=zD[5];var HD=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];HD.primary=HD[5];var GD=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];GD.primary=GD[5];var jD=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];jD.primary=jD[5];var VD=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];VD.primary=VD[5];var WD=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];WD.primary=WD[5];var XD=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];XD.primary=XD[5];var qD=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];qD.primary=qD[5];var YD=(0,m.createContext)({});function KD(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var JD="data-rc-order",ZD="data-rc-priority",QD="rc-util-key",$D=new Map;function eF(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mark;return e?e.startsWith("data-")?e:"data-".concat(e):QD}function tF(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function nF(e){return Array.from(($D.get(e)||e).children).filter((function(e){return"STYLE"===e.tagName}))}function rF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!KD())return null;var n=t.csp,r=t.prepend,i=t.priority,a=void 0===i?0:i,o=function(e){return"queue"===e?"prependQueue":e?"prepend":"append"}(r),s="prependQueue"===o,l=document.createElement("style");l.setAttribute(JD,o),s&&a&&l.setAttribute(ZD,"".concat(a)),null!==n&&void 0!==n&&n.nonce&&(l.nonce=null===n||void 0===n?void 0:n.nonce),l.innerHTML=e;var u=tF(t),c=u.firstChild;if(r){if(s){var h=(t.styles||nF(u)).filter((function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(JD)))return!1;var t=Number(e.getAttribute(ZD)||0);return a>=t}));if(h.length)return u.insertBefore(l,h[h.length-1].nextSibling),l}u.insertBefore(l,c)}else u.appendChild(l);return l}function iF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=tF(t);return(t.styles||nF(n)).find((function(n){return n.getAttribute(eF(t))===e}))}function aF(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=iF(e,t);n&&tF(t).removeChild(n)}function oF(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=tF(n),i=nF(r),a=yn(yn({},n),{},{styles:i});!function(e,t){var n=$D.get(e);if(!n||!function(e,t){if(!e)return!1;if(e.contains)return e.contains(t);for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}(document,n)){var r=rF("",t),i=r.parentNode;$D.set(e,i),e.removeChild(r)}}(r,a);var o=iF(t,a);if(o){var s,l,u;if(null!==(s=a.csp)&&void 0!==s&&s.nonce&&o.nonce!==(null===(l=a.csp)||void 0===l?void 0:l.nonce))o.nonce=null===(u=a.csp)||void 0===u?void 0:u.nonce;return o.innerHTML!==e&&(o.innerHTML=e),o}var c=rF(e,a);return c.setAttribute(eF(a),t),c}function sF(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function lF(e){return function(e){return sF(e)instanceof ShadowRoot}(e)?sF(e):null}var uF={},cF=[];function hF(e,t){}function fF(e,t){}function dF(e,t,n){t||uF[n]||(e(!1,n),uF[n]=!0)}function pF(e,t){dF(hF,e,t)}pF.preMessage=function(e){cF.push(e)},pF.resetWarned=function(){uF={}},pF.noteOnce=function(e,t){dF(fF,e,t)};var vF=pF;function gF(e){return"object"===x(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===x(e.icon)||"function"===typeof e.icon)}function mF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r,i=e[n];if("class"===n)t.className=i,delete t.class;else delete t[n],t[(r=n,r.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=i;return t}),{})}function yF(e,t,n){return n?m.createElement(e.tag,yn(yn({key:t},mF(e.attrs)),n),(e.children||[]).map((function(n,r){return yF(n,"".concat(t,"-").concat(e.tag,"-").concat(r))}))):m.createElement(e.tag,yn({key:t},mF(e.attrs)),(e.children||[]).map((function(n,r){return yF(n,"".concat(t,"-").concat(e.tag,"-").concat(r))})))}function bF(e){return bD(e)[0]}function xF(e){return e?Array.isArray(e)?e:[e]:[]}var kF=["icon","className","onClick","style","primaryColor","secondaryColor"],wF={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var SF=function(e){var t,n,r=e.icon,i=e.className,a=e.onClick,o=e.style,s=e.primaryColor,l=e.secondaryColor,u=eD(e,kF),c=m.useRef(),h=wF;if(s&&(h={primaryColor:s,secondaryColor:l||bF(s)}),function(e){var t=(0,m.useContext)(YD),n=t.csp,r=t.prefixCls,i=t.layer,a="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";r&&(a=a.replace(/anticon/g,r)),i&&(a="@layer ".concat(i," {\n").concat(a,"\n}")),(0,m.useEffect)((function(){var t=lF(e.current);oF(a,"@ant-design-icons",{prepend:!0,csp:n,attachTo:t})}),[])}(c),t=gF(r),n="icon should be icon definiton, but got ".concat(r),vF(t,"[@ant-design/icons] ".concat(n)),!gF(r))return null;var f=r;return f&&"function"===typeof f.icon&&(f=yn(yn({},f),{},{icon:f.icon(h.primaryColor,h.secondaryColor)})),yF(f.icon,"svg-".concat(f.name),yn(yn({className:i,onClick:a,style:o,"data-icon":f.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},u),{},{ref:c}))};SF.displayName="IconReact",SF.getTwoToneColors=function(){return yn({},wF)},SF.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;wF.primaryColor=t,wF.secondaryColor=n||bF(t),wF.calculated=!!n};var EF=SF;function _F(e){var t=R(xF(e),2),n=t[0],r=t[1];return EF.setTwoToneColors({primaryColor:n,secondaryColor:r})}var MF=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];_F(AD.primary);var TF=m.forwardRef((function(e,t){var n=e.className,r=e.icon,i=e.spin,a=e.rotate,o=e.tabIndex,s=e.onClick,l=e.twoToneColor,u=eD(e,MF),c=m.useContext(YD),h=c.prefixCls,f=void 0===h?"anticon":h,d=c.rootClassName,p=nD()(d,f,j(j({},"".concat(f,"-").concat(r.name),!!r.name),"".concat(f,"-spin"),!!i||"loading"===r.name),n),v=o;void 0===v&&s&&(v=-1);var g=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,y=R(xF(l),2),b=y[0],x=y[1];return m.createElement("span",QI({role:"img","aria-label":r.name},u,{ref:t,tabIndex:v,onClick:s,className:p}),m.createElement(EF,{icon:r,primaryColor:b,secondaryColor:x,style:g}))}));TF.displayName="AntdIcon",TF.getTwoToneColor=function(){var e=EF.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},TF.setTwoToneColor=_F;var CF=TF,AF=function(e,t){return m.createElement(CF,QI({},e,{ref:t,icon:$I}))};var PF=m.forwardRef(AF);function OF(e){return e instanceof HTMLElement||e instanceof SVGElement}function RF(e){var t,n=function(e){return e&&"object"===x(e)&&OF(e.nativeElement)?e.nativeElement:OF(e)?e:null}(e);return n||(e instanceof m.Component?null===(t=N.findDOMNode)||void 0===t?void 0:t.call(N,e):null)}var LF=n(449);function NF(e,t,n){var r=m.useRef({});return"value"in r.current&&!n(r.current.condition,t)||(r.current.value=e(),r.current.condition=t),r.current.value}var IF=Symbol.for("react.element"),DF=Symbol.for("react.transitional.element"),FF=Symbol.for("react.fragment");function UF(e){return e&&"object"===x(e)&&(e.$$typeof===IF||e.$$typeof===DF)&&e.type===FF}var BF=function(e,t){"function"===typeof e?e(t):"object"===x(e)&&e&&"current"in e&&(e.current=t)},zF=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);return r.length<=1?r[0]:function(e){t.forEach((function(t){BF(t,e)}))}},HF=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return NF((function(){return zF.apply(void 0,t)}),t,(function(e,t){return e.length!==t.length||e.every((function(e,n){return e!==t[n]}))}))},GF=function(e){var t,n;if(!e)return!1;if(jF(e)&&e.props.propertyIsEnumerable("ref"))return!0;var r=(0,LF.isMemo)(e)?e.type.type:e.type;return!!("function"!==typeof r||null!==(t=r.prototype)&&void 0!==t&&t.render||r.$$typeof===LF.ForwardRef)&&!!("function"!==typeof e||null!==(n=e.prototype)&&void 0!==n&&n.render||e.$$typeof===LF.ForwardRef)};function jF(e){return(0,m.isValidElement)(e)&&!UF(e)}var VF=function(e){if(e&&jF(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null},WF=m.createContext({});function XF(e){var t=F();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B(this,n)}}var qF=function(e){G(n,e);var t=XF(n);function n(){return T(this,n),t.apply(this,arguments)}return M(n,[{key:"render",value:function(){return this.props.children}}]),n}(m.Component),YF=qF;function KF(e){var t=m.useRef();t.current=e;var n=m.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return n}var JF=KD()?m.useLayoutEffect:m.useEffect,ZF=function(e,t){var n=m.useRef(!0);JF((function(){return e(n.current)}),t),JF((function(){return n.current=!1,function(){n.current=!0}}),[])},QF=function(e,t){ZF((function(t){if(!t)return e()}),t)},$F=ZF;function eU(e){var t=m.useRef(!1),n=R(m.useState(e),2),r=n[0],i=n[1];return m.useEffect((function(){return t.current=!1,function(){t.current=!0}}),[]),[r,function(e,n){n&&t.current||i(e)}]}function tU(e){return void 0!==e}function nU(e,t){var n=t||{},r=n.defaultValue,i=n.value,a=n.onChange,o=n.postState,s=R(eU((function(){return tU(i)?i:tU(r)?"function"===typeof r?r():r:"function"===typeof e?e():e})),2),l=s[0],u=s[1],c=void 0!==i?i:l,h=o?o(c):c,f=KF(a),d=R(eU([c]),2),p=d[0],v=d[1];return QF((function(){var e=p[0];l!==e&&f(l,e)}),[p]),QF((function(){tU(i)||u(i)}),[i]),[h,KF((function(e,t){u(e,t),v([c],t)}))]}function rU(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}function iU(e,t,n,r){if(!t.length)return n;var i,a=X(t),o=a[0],s=a.slice(1);return i=e||"number"!==typeof o?Array.isArray(e)?Y(e):yn({},e):[],r&&void 0===n&&1===s.length?delete i[o][s[0]]:i[o]=iU(i[o],s,n,r),i}function aU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!rU(e,t.slice(0,-1))?e:iU(e,t,n,r)}function oU(e){return Array.isArray(e)?[]:{}}var sU="undefined"===typeof Reflect?Object.keys:Reflect.ownKeys;function lU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=oU(t[0]);return t.forEach((function(e){!function t(n,i){var a,o=new Set(i),s=rU(e,n),l=Array.isArray(s);if(l||"object"===x(a=s)&&null!==a&&Object.getPrototypeOf(a)===Object.prototype){if(!o.has(s)){o.add(s);var u=rU(r,n);l?r=aU(r,n,[]):u&&"object"===x(u)||(r=aU(r,n,oU(s))),sU(s).forEach((function(e){t([].concat(Y(n),[e]),o)}))}}else r=aU(r,n,s)}([])})),r}var uU="none",cU="appear",hU="enter",fU="leave",dU="none",pU="prepare",vU="start",gU="active",mU="end",yU="prepared";function bU(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}var xU=function(e,t){var n={animationend:bU("Animation","AnimationEnd"),transitionend:bU("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(KD(),"undefined"!==typeof window?window:{}),kU={};if(KD()){var wU=document.createElement("div");kU=wU.style}var SU={};function EU(e){if(SU[e])return SU[e];var t=xU[e];if(t)for(var n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var a=n[i];if(Object.prototype.hasOwnProperty.call(t,a)&&a in kU)return SU[e]=t[a],SU[e]}return""}var _U=EU("animationend"),MU=EU("transitionend"),TU=!(!_U||!MU),CU=_U||"animationend",AU=MU||"transitionend";function PU(e,t){if(!e)return null;if("object"===x(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var OU=function(e){var t=(0,m.useRef)();function n(t){t&&(t.removeEventListener(AU,e),t.removeEventListener(CU,e))}return m.useEffect((function(){return function(){n(t.current)}}),[]),[function(r){t.current&&t.current!==r&&n(t.current),r&&r!==t.current&&(r.addEventListener(AU,e),r.addEventListener(CU,e),t.current=r)},n]},RU=KD()?m.useLayoutEffect:m.useEffect,LU=function(e){return+setTimeout(e,16)},NU=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(LU=function(e){return window.requestAnimationFrame(e)},NU=function(e){return window.cancelAnimationFrame(e)});var IU=0,DU=new Map;function FU(e){DU.delete(e)}var UU=function(e){var t=IU+=1;return function n(r){if(0===r)FU(t),e();else{var i=LU((function(){n(r-1)}));DU.set(t,i)}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1),t};UU.cancel=function(e){var t=DU.get(e);return FU(e),NU(t)};var BU=UU,zU=[pU,vU,gU,mU],HU=[pU,yU],GU=!1,jU=!0;function VU(e){return e===gU||e===mU}var WU=function(e,t,n){var r=R(eU(dU),2),i=r[0],a=r[1],o=function(){var e=m.useRef(null);function t(){BU.cancel(e.current)}return m.useEffect((function(){return function(){t()}}),[]),[function n(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;t();var a=BU((function(){i<=1?r({isCanceled:function(){return a!==e.current}}):n(r,i-1)}));e.current=a},t]}(),s=R(o,2),l=s[0],u=s[1];var c=t?HU:zU;return RU((function(){if(i!==dU&&i!==mU){var e=c.indexOf(i),t=c[e+1],r=n(i);r===GU?a(t,!0):t&&l((function(e){function n(){e.isCanceled()||a(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[e,i]),m.useEffect((function(){return function(){u()}}),[]),[function(){a(pU,!0)},i]};function XU(e,t,n,r){var i=r.motionEnter,a=void 0===i||i,o=r.motionAppear,s=void 0===o||o,l=r.motionLeave,u=void 0===l||l,c=r.motionDeadline,h=r.motionLeaveImmediately,f=r.onAppearPrepare,d=r.onEnterPrepare,p=r.onLeavePrepare,v=r.onAppearStart,g=r.onEnterStart,y=r.onLeaveStart,b=r.onAppearActive,x=r.onEnterActive,k=r.onLeaveActive,w=r.onAppearEnd,S=r.onEnterEnd,E=r.onLeaveEnd,_=r.onVisibleChanged,M=R(eU(),2),T=M[0],C=M[1],A=function(e){var t=R(m.useReducer((function(e){return e+1}),0),2)[1],n=m.useRef(e);return[KF((function(){return n.current})),KF((function(e){n.current="function"===typeof e?e(n.current):e,t()}))]}(uU),P=R(A,2),O=P[0],L=P[1],N=R(eU(null),2),I=N[0],D=N[1],F=O(),U=(0,m.useRef)(!1),B=(0,m.useRef)(null);function z(){return n()}var H=(0,m.useRef)(!1);function G(){L(uU),D(null,!0)}var V=KF((function(e){var t=O();if(t!==uU){var n=z();if(!e||e.deadline||e.target===n){var r,i=H.current;t===cU&&i?r=null===w||void 0===w?void 0:w(n,e):t===hU&&i?r=null===S||void 0===S?void 0:S(n,e):t===fU&&i&&(r=null===E||void 0===E?void 0:E(n,e)),i&&!1!==r&&G()}}})),W=R(OU(V),1)[0],X=function(e){switch(e){case cU:return j(j(j({},pU,f),vU,v),gU,b);case hU:return j(j(j({},pU,d),vU,g),gU,x);case fU:return j(j(j({},pU,p),vU,y),gU,k);default:return{}}},q=m.useMemo((function(){return X(F)}),[F]),Y=R(WU(F,!e,(function(e){if(e===pU){var t=q[pU];return t?t(z()):GU}var n;J in q&&D((null===(n=q[J])||void 0===n?void 0:n.call(q,z(),null))||null);return J===gU&&F!==uU&&(W(z()),c>0&&(clearTimeout(B.current),B.current=setTimeout((function(){V({deadline:!0})}),c))),J===yU&&G(),jU})),2),K=Y[0],J=Y[1],Z=VU(J);H.current=Z;var Q=(0,m.useRef)(null);RU((function(){if(!U.current||Q.current!==t){C(t);var n,r=U.current;U.current=!0,!r&&t&&s&&(n=cU),r&&t&&a&&(n=hU),(r&&!t&&u||!r&&h&&!t&&u)&&(n=fU);var i=X(n);n&&(e||i[pU])?(L(n),K()):L(uU),Q.current=t}}),[t]),(0,m.useEffect)((function(){(F===cU&&!s||F===hU&&!a||F===fU&&!u)&&L(uU)}),[s,a,u]),(0,m.useEffect)((function(){return function(){U.current=!1,clearTimeout(B.current)}}),[]);var $=m.useRef(!1);(0,m.useEffect)((function(){T&&($.current=!0),void 0!==T&&F===uU&&(($.current||T)&&(null===_||void 0===_||_(T)),$.current=!0)}),[T,F]);var ee=I;return q[pU]&&J===vU&&(ee=yn({transition:"none"},ee)),[F,J,ee,null!==T&&void 0!==T?T:t]}var qU=function(e){var t=e;"object"===x(e)&&(t=e.transitionSupport);var n=m.forwardRef((function(e,n){var r=e.visible,i=void 0===r||r,a=e.removeOnLeave,o=void 0===a||a,s=e.forceRender,l=e.children,u=e.motionName,c=e.leavedClassName,h=e.eventProps,f=function(e,n){return!(!e.motionName||!t||!1===n)}(e,m.useContext(WF).motion),d=(0,m.useRef)(),p=(0,m.useRef)();var v=R(XU(f,i,(function(){try{return d.current instanceof HTMLElement?d.current:RF(p.current)}catch(cQ){return null}}),e),4),g=v[0],y=v[1],b=v[2],x=v[3],k=m.useRef(x);x&&(k.current=!0);var w,S=m.useCallback((function(e){d.current=e,BF(n,e)}),[n]),E=yn(yn({},h),{},{visible:i});if(l)if(g===uU)w=x?l(yn({},E),S):!o&&k.current&&c?l(yn(yn({},E),{},{className:c}),S):s||!o&&!c?l(yn(yn({},E),{},{style:{display:"none"}}),S):null;else{var _;y===pU?_="prepare":VU(y)?_="active":y===vU&&(_="start");var M=PU(u,"".concat(g,"-").concat(_));w=l(yn(yn({},E),{},{className:nD()(PU(u,g),j(j({},M,M&&_),u,"string"===typeof u)),style:b}),S)}else w=null;m.isValidElement(w)&&GF(w)&&(VF(w)||(w=m.cloneElement(w,{ref:S})));return m.createElement(YF,{ref:p},w)}));return n.displayName="CSSMotion",n}(TU),YU="add",KU="keep",JU="remove",ZU="removed";function QU(e){var t;return yn(yn({},t=e&&"object"===x(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function $U(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(QU)}var eB=["component","children","onVisibleChanged","onAllRemoved"],tB=["status"],nB=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qU,n=function(e){G(r,e);var n=XF(r);function r(){var e;T(this,r);for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return j(U(e=n.call.apply(n,[this].concat(i))),"state",{keyEntities:[]}),j(U(e),"removeKey",(function(t){e.setState((function(e){return{keyEntities:e.keyEntities.map((function(e){return e.key!==t?e:yn(yn({},e),{},{status:ZU})}))}}),(function(){0===e.state.keyEntities.filter((function(e){return e.status!==ZU})).length&&e.props.onAllRemoved&&e.props.onAllRemoved()}))})),e}return M(r,[{key:"render",value:function(){var e=this,n=this.state.keyEntities,r=this.props,i=r.component,a=r.children,o=r.onVisibleChanged,s=(r.onAllRemoved,eD(r,eB)),l=i||m.Fragment,u={};return nB.forEach((function(e){u[e]=s[e],delete s[e]})),delete s.keys,m.createElement(l,s,n.map((function(n,r){var i=n.status,s=eD(n,tB),l=i===YU||i===KU;return m.createElement(t,QI({},u,{key:s.key,visible:l,eventProps:s,onVisibleChanged:function(t){null===o||void 0===o||o(t,{key:s.key}),t||e.removeKey(s.key)}}),(function(e,t){return a(yn(yn({},e),{},{index:r}),t)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,i=$U(n),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,i=t.length,a=$U(e),o=$U(t);a.forEach((function(e){for(var t=!1,a=r;a<i;a+=1){var s=o[a];if(s.key===e.key){r<a&&(n=n.concat(o.slice(r,a).map((function(e){return yn(yn({},e),{},{status:YU})}))),r=a),n.push(yn(yn({},s),{},{status:KU})),r+=1,t=!0;break}}t||n.push(yn(yn({},e),{},{status:JU}))})),r<i&&(n=n.concat(o.slice(r).map((function(e){return yn(yn({},e),{},{status:YU})}))));var s={};return n.forEach((function(e){var t=e.key;s[t]=(s[t]||0)+1})),Object.keys(s).filter((function(e){return s[e]>1})).forEach((function(e){(n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==JU}))).forEach((function(t){t.key===e&&(t.status=KU)}))})),n}(r,i);return{keyEntities:a.filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==ZU||e.status!==JU}))}}}]),r}(m.Component);j(n,"defaultProps",{component:"div"})}(TU);var rB=qU;function iB(e){return null!==e&&void 0!==e&&e===e.window}var aB=function(e){var t,n;if("undefined"===typeof window)return 0;var r=0;return iB(e)?r=e.pageYOffset:e instanceof Document?r=e.documentElement.scrollTop:(e instanceof HTMLElement||e)&&(r=e.scrollTop),e&&!iB(e)&&"number"!==typeof r&&(r=null===(n=(null!==(t=e.ownerDocument)&&void 0!==t?t:e).documentElement)||void 0===n?void 0:n.scrollTop),r};var oB=function(e){var t,n=function(){if(null==t){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t=BU(function(n){return function(){t=null,e.apply(void 0,Y(n))}}(r))}};return n.cancel=function(){BU.cancel(t),t=null},n},sB="anticon",lB=m.createContext({getPrefixCls:function(e,t){return t||(e?"".concat("ant","-").concat(e):"ant")},iconPrefixCls:sB}),uB=(lB.Consumer,m.createContext(void 0)),cB=uB.Provider,hB=uB;function fB(e,t){var n=Object.assign({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}var dB=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)};var pB=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=new Set;return function e(t,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=r.has(t);if(vF(!o,"Warning: There may be circular references"),o)return!1;if(t===i)return!0;if(n&&a>1)return!1;r.add(t);var s=a+1;if(Array.isArray(t)){if(!Array.isArray(i)||t.length!==i.length)return!1;for(var l=0;l<t.length;l++)if(!e(t[l],i[l],s))return!1;return!0}if(t&&i&&"object"===x(t)&&"object"===x(i)){var u=Object.keys(t);return u.length===Object.keys(i).length&&u.every((function(n){return e(t[n],i[n],s)}))}return!1}(e,t)},vB="%";function gB(e){return e.join(vB)}var mB=function(){function e(t){T(this,e),j(this,"instanceId",void 0),j(this,"cache",new Map),this.instanceId=t}return M(e,[{key:"get",value:function(e){return this.opGet(gB(e))}},{key:"opGet",value:function(e){return this.cache.get(e)||null}},{key:"update",value:function(e,t){return this.opUpdate(gB(e),t)}},{key:"opUpdate",value:function(e,t){var n=t(this.cache.get(e));null===n?this.cache.delete(e):this.cache.set(e,n)}}]),e}(),yB=mB,bB="data-token-hash",xB="data-css-hash",kB="__cssinjs_instance__";function wB(){var e=Math.random().toString(12).slice(2);if("undefined"!==typeof document&&document.head&&document.body){var t=document.body.querySelectorAll("style[".concat(xB,"]"))||[],n=document.head.firstChild;Array.from(t).forEach((function(t){t[kB]=t[kB]||e,t[kB]===e&&document.head.insertBefore(t,n)}));var r={};Array.from(document.querySelectorAll("style[".concat(xB,"]"))).forEach((function(t){var n,i=t.getAttribute(xB);r[i]?t[kB]===e&&(null===(n=t.parentNode)||void 0===n||n.removeChild(t)):r[i]=!0}))}return new yB(e)}var SB=m.createContext({hashPriority:"low",cache:wB(),defaultCache:!0}),EB=SB,_B="CALC_UNIT";new RegExp(_B,"g");var MB=function(){function e(){T(this,e),j(this,"cache",void 0),j(this,"keys",void 0),j(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return M(e,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={map:this.cache};return e.forEach((function(e){var t;i?i=null===(t=i)||void 0===t||null===(t=t.map)||void 0===t?void 0:t.get(e):i=void 0})),null!==(t=i)&&void 0!==t&&t.value&&r&&(i.value[1]=this.cacheCallTimes++),null===(n=i)||void 0===n?void 0:n.value}},{key:"get",value:function(e){var t;return null===(t=this.internalGet(e,!0))||void 0===t?void 0:t[0]}},{key:"has",value:function(e){return!!this.internalGet(e)}},{key:"set",value:function(t,n){var r=this;if(!this.has(t)){if(this.size()+1>e.MAX_CACHE_SIZE+e.MAX_CACHE_OFFSET){var i=this.keys.reduce((function(e,t){var n=R(e,2)[1];return r.internalGet(t)[1]<n?[t,r.internalGet(t)[1]]:e}),[this.keys[0],this.cacheCallTimes]),a=R(i,1)[0];this.delete(a)}this.keys.push(t)}var o=this.cache;t.forEach((function(e,i){if(i===t.length-1)o.set(e,{value:[n,r.cacheCallTimes++]});else{var a=o.get(e);a?a.map||(a.map=new Map):o.set(e,{map:new Map}),o=o.get(e).map}}))}},{key:"deleteByPath",value:function(e,t){var n,r=e.get(t[0]);if(1===t.length)return r.map?e.set(t[0],{map:r.map}):e.delete(t[0]),null===(n=r.value)||void 0===n?void 0:n[0];var i=this.deleteByPath(r.map,t.slice(1));return r.map&&0!==r.map.size||r.value||e.delete(t[0]),i}},{key:"delete",value:function(e){if(this.has(e))return this.keys=this.keys.filter((function(t){return!function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,e)})),this.deleteByPath(this.cache,e)}}]),e}();j(MB,"MAX_CACHE_SIZE",20),j(MB,"MAX_CACHE_OFFSET",5);var TB=0,CB=function(){function e(t){T(this,e),j(this,"derivatives",void 0),j(this,"id",void 0),this.derivatives=Array.isArray(t)?t:[t],this.id=TB,0===t.length&&t.length,TB+=1}return M(e,[{key:"getDerivativeToken",value:function(e){return this.derivatives.reduce((function(t,n){return n(e,t)}),void 0)}}]),e}(),AB=new MB;var PB=new WeakMap,OB={};var RB=new WeakMap;function LB(e){var t=RB.get(e)||"";return t||(Object.keys(e).forEach((function(n){var r=e[n];t+=n,r instanceof CB?t+=r.id:r&&"object"===x(r)?t+=LB(r):t+=r})),t=dB(t),RB.set(e,t)),t}function NB(e,t){return dB("".concat(t,"_").concat(LB(e)))}"random-".concat(Date.now(),"-").concat(Math.random()).replace(/\./g,"");var IB=KD();function DB(e){return"number"===typeof e?"".concat(e,"px"):e}function FB(e,t,n){var r;if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])return e;var i=yn(yn({},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}),{},(j(r={},bB,t),j(r,xB,n),r)),a=Object.keys(i).map((function(e){var t=i[e];return t?"".concat(e,'="').concat(t,'"'):null})).filter((function(e){return e})).join(" ");return"<style ".concat(a,">").concat(e,"</style>")}var UB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},BB=function(e,t,n){return Object.keys(e).length?".".concat(t).concat(null!==n&&void 0!==n&&n.scope?".".concat(n.scope):"","{").concat(Object.entries(e).map((function(e){var t=R(e,2),n=t[0],r=t[1];return"".concat(n,":").concat(r,";")})).join(""),"}"):""},zB=function(e,t,n){var r={},i={};return Object.entries(e).forEach((function(e){var t,a,o=R(e,2),s=o[0],l=o[1];if(null!==n&&void 0!==n&&null!==(t=n.preserve)&&void 0!==t&&t[s])i[s]=l;else if(("string"===typeof l||"number"===typeof l)&&(null===n||void 0===n||null===(a=n.ignore)||void 0===a||!a[s])){var u,c=UB(s,null===n||void 0===n?void 0:n.prefix);r[c]="number"!==typeof l||null!==n&&void 0!==n&&null!==(u=n.unitless)&&void 0!==u&&u[s]?String(l):"".concat(l,"px"),i[s]="var(".concat(c,")")}})),[i,BB(r,t,{scope:null===n||void 0===n?void 0:n.scope})]},HB=yn({},y).useInsertionEffect,GB=HB?function(e,t,n){return HB((function(){return e(),t()}),n)}:function(e,t,n){m.useMemo(e,n),$F((function(){return t(!0)}),n)},jB="undefined"!==typeof yn({},y).useInsertionEffect?function(e){var t=[],n=!1;return m.useEffect((function(){return n=!1,function(){n=!0,t.length&&t.forEach((function(e){return e()}))}}),e),function(e){n||t.push(e)}}:function(){return function(e){e()}};var VB=function(){return!1};function WB(e,t,n,r,i){var a=m.useContext(EB).cache,o=gB([e].concat(Y(t))),s=jB([o]),l=(VB(),function(e){a.opUpdate(o,(function(t){var r=R(t||[void 0,void 0],2),i=r[0];var a=[void 0===i?0:i,r[1]||n()];return e?e(a):a}))});m.useMemo((function(){l()}),[o]);var u=a.opGet(o)[1];return GB((function(){null===i||void 0===i||i(u)}),(function(e){return l((function(t){var n=R(t,2),r=n[0],a=n[1];return e&&0===r&&(null===i||void 0===i||i(u)),[r+1,a]})),function(){a.opUpdate(o,(function(t){var n=R(t||[],2),i=n[0],l=void 0===i?0:i,u=n[1];return 0===l-1?(s((function(){!e&&a.opGet(o)||null===r||void 0===r||r(u,!1)})),null):[l-1,u]}))}}),[o]),u}var XB={},qB="css",YB=new Map;var KB=0;function JB(e,t){YB.set(e,(YB.get(e)||0)-1);var n=Array.from(YB.keys()),r=n.filter((function(e){return(YB.get(e)||0)<=0}));n.length-r.length>KB&&r.forEach((function(e){!function(e,t){"undefined"!==typeof document&&document.querySelectorAll("style[".concat(bB,'="').concat(e,'"]')).forEach((function(e){var n;e[kB]===t&&(null===(n=e.parentNode)||void 0===n||n.removeChild(e))}))}(e,t),YB.delete(e)}))}var ZB=function(e,t,n,r){var i=yn(yn({},n.getDerivativeToken(e)),t);return r&&(i=r(i)),i},QB="token";function $B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,m.useContext)(EB),i=r.cache.instanceId,a=r.container,o=n.salt,s=void 0===o?"":o,l=n.override,u=void 0===l?XB:l,c=n.formatToken,h=n.getComputedToken,f=n.cssVar,d=function(e,t){for(var n=PB,r=0;r<t.length;r+=1){var i=t[r];n.has(i)||n.set(i,new WeakMap),n=n.get(i)}return n.has(OB)||n.set(OB,e()),n.get(OB)}((function(){return Object.assign.apply(Object,[{}].concat(Y(t)))}),t),p=LB(d),v=LB(u),g=f?LB(f):"",y=WB(QB,[s,e.id,p,v,g],(function(){var t,n=h?h(d,u,e):ZB(d,u,e,c),r=yn({},n),i="";if(f){var a=R(zB(n,f.key,{prefix:f.prefix,ignore:f.ignore,unitless:f.unitless,preserve:f.preserve}),2);n=a[0],i=a[1]}var o=NB(n,s);n._tokenKey=o,r._tokenKey=NB(r,s);var l=null!==(t=null===f||void 0===f?void 0:f.key)&&void 0!==t?t:o;n._themeKey=l,function(e){YB.set(e,(YB.get(e)||0)+1)}(l);var p="".concat(qB,"-").concat(dB(o));return n._hashId=p,[n,p,r,i,(null===f||void 0===f?void 0:f.key)||""]}),(function(e){JB(e[0]._themeKey,i)}),(function(e){var t=R(e,4),n=t[0],r=t[3];if(f&&r){var o=oF(r,dB("css-variables-".concat(n._themeKey)),{mark:xB,prepend:"queue",attachTo:a,priority:-999});o[kB]=i,o.setAttribute(bB,n._themeKey)}}));return y}var ez={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},tz="comm",nz="rule",rz="decl",iz="@import",az="@keyframes",oz="@layer",sz=Math.abs,lz=String.fromCharCode;Object.assign;function uz(e){return e.trim()}function cz(e,t,n){return e.replace(t,n)}function hz(e,t,n){return e.indexOf(t,n)}function fz(e,t){return 0|e.charCodeAt(t)}function dz(e,t,n){return e.slice(t,n)}function pz(e){return e.length}function vz(e,t){return t.push(e),e}function gz(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function mz(e,t,n,r){switch(e.type){case oz:if(e.children.length)break;case iz:case rz:return e.return=e.return||e.value;case tz:return"";case az:return e.return=e.value+"{"+gz(e.children,r)+"}";case nz:if(!pz(e.value=e.props.join(",")))return""}return pz(n=gz(e.children,r))?e.return=e.value+"{"+n+"}":""}var yz=1,bz=1,xz=0,kz=0,wz=0,Sz="";function Ez(e,t,n,r,i,a,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:yz,column:bz,length:o,return:"",siblings:s}}function _z(){return wz=kz>0?fz(Sz,--kz):0,bz--,10===wz&&(bz=1,yz--),wz}function Mz(){return wz=kz<xz?fz(Sz,kz++):0,bz++,10===wz&&(bz=1,yz++),wz}function Tz(){return fz(Sz,kz)}function Cz(){return kz}function Az(e,t){return dz(Sz,e,t)}function Pz(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Oz(e){return yz=bz=1,xz=pz(Sz=e),kz=0,[]}function Rz(e){return Sz="",e}function Lz(e){return uz(Az(kz-1,Dz(91===e?e+2:40===e?e+1:e)))}function Nz(e){for(;(wz=Tz())&&wz<33;)Mz();return Pz(e)>2||Pz(wz)>3?"":" "}function Iz(e,t){for(;--t&&Mz()&&!(wz<48||wz>102||wz>57&&wz<65||wz>70&&wz<97););return Az(e,Cz()+(t<6&&32==Tz()&&32==Mz()))}function Dz(e){for(;Mz();)switch(wz){case e:return kz;case 34:case 39:34!==e&&39!==e&&Dz(wz);break;case 40:41===e&&Dz(e);break;case 92:Mz()}return kz}function Fz(e,t){for(;Mz()&&e+wz!==57&&(e+wz!==84||47!==Tz()););return"/*"+Az(t,kz-1)+"*"+lz(47===e?e:Mz())}function Uz(e){for(;!Pz(Tz());)Mz();return Az(e,kz)}function Bz(e){return Rz(zz("",null,null,null,[""],e=Oz(e),0,[0],e))}function zz(e,t,n,r,i,a,o,s,l){for(var u=0,c=0,h=o,f=0,d=0,p=0,v=1,g=1,m=1,y=0,b="",x=i,k=a,w=r,S=b;g;)switch(p=y,y=Mz()){case 40:if(108!=p&&58==fz(S,h-1)){-1!=hz(S+=cz(Lz(y),"&","&\f"),"&\f",sz(u?s[u-1]:0))&&(m=-1);break}case 34:case 39:case 91:S+=Lz(y);break;case 9:case 10:case 13:case 32:S+=Nz(p);break;case 92:S+=Iz(Cz()-1,7);continue;case 47:switch(Tz()){case 42:case 47:vz(Gz(Fz(Mz(),Cz()),t,n,l),l),5!=Pz(p||1)&&5!=Pz(Tz()||1)||!pz(S)||" "===dz(S,-1,void 0)||(S+=" ");break;default:S+="/"}break;case 123*v:s[u++]=pz(S)*m;case 125*v:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+c:-1==m&&(S=cz(S,/\f/g,"")),d>0&&(pz(S)-h||0===v&&47===p)&&vz(d>32?jz(S+";",r,n,h-1,l):jz(cz(S," ","")+";",r,n,h-2,l),l);break;case 59:S+=";";default:if(vz(w=Hz(S,t,n,u,c,i,s,b,x=[],k=[],h,a),a),123===y)if(0===c)zz(S,t,w,w,x,a,h,s,k);else{switch(f){case 99:if(110===fz(S,3))break;case 108:if(97===fz(S,2))break;default:c=0;case 100:case 109:case 115:}c?zz(e,w,w,r&&vz(Hz(e,w,w,0,0,i,s,b,i,x=[],h,k),k),i,k,h,s,r?x:k):zz(S,w,w,w,[""],k,0,s,k)}}u=c=d=0,v=m=1,b=S="",h=o;break;case 58:h=1+pz(S),d=p;default:if(v<1)if(123==y)--v;else if(125==y&&0==v++&&125==_z())continue;switch(S+=lz(y),y*v){case 38:m=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(pz(S)-1)*m,m=1;break;case 64:45===Tz()&&(S+=Lz(Mz())),f=Tz(),c=h=pz(b=S+=Uz(Cz())),y++;break;case 45:45===p&&2==pz(S)&&(v=0)}}return a}function Hz(e,t,n,r,i,a,o,s,l,u,c,h){for(var f=i-1,d=0===i?a:[""],p=function(e){return e.length}(d),v=0,g=0,m=0;v<r;++v)for(var y=0,b=dz(e,f+1,f=sz(g=o[v])),x=e;y<p;++y)(x=uz(g>0?d[y]+" "+b:cz(b,/&\f/g,d[y])))&&(l[m++]=x);return Ez(e,t,n,0===i?nz:s,l,u,c,h)}function Gz(e,t,n,r){return Ez(e,t,n,tz,lz(wz),dz(e,2,-2),0,r)}function jz(e,t,n,r,i){return Ez(e,t,n,rz,dz(e,0,r),dz(e,r+1,-1),r,i)}var Vz,Wz="data-ant-cssinjs-cache-path",Xz="_FILE_STYLE__";var qz=!0;function Yz(e){return function(){if(!Vz&&(Vz={},KD())){var e=document.createElement("div");e.className=Wz,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);var t=getComputedStyle(e).content||"";(t=t.replace(/^"/,"").replace(/"$/,"")).split(";").forEach((function(e){var t=R(e.split(":"),2),n=t[0],r=t[1];Vz[n]=r}));var n,r=document.querySelector("style[".concat(Wz,"]"));r&&(qz=!1,null===(n=r.parentNode)||void 0===n||n.removeChild(r)),document.body.removeChild(e)}}(),!!Vz[e]}var Kz="_multi_value_";function Jz(e){return gz(Bz(e),mz).replace(/\{%%%\:[^;];}/g,";")}function Zz(e,t,n){if(!t)return e;var r=".".concat(t),i="low"===n?":where(".concat(r,")"):r;return e.split(",").map((function(e){var t,n=e.trim().split(/\s+/),r=n[0]||"",a=(null===(t=r.match(/^\w+/))||void 0===t?void 0:t[0])||"";return[r="".concat(a).concat(i).concat(r.slice(a.length))].concat(Y(n.slice(1))).join(" ")})).join(",")}var Qz=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,a=r.injectHash,o=r.parentSelectors,s=n.hashId,l=n.layer,u=(n.path,n.hashPriority),c=n.transformers,h=void 0===c?[]:c,f=(n.linters,""),d={};function p(t){var r=t.getName(s);if(!d[r]){var i=R(e(t.style,n,{root:!1,parentSelectors:o}),1)[0];d[r]="@keyframes ".concat(t.getName(s)).concat(i)}}var v=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach((function(t){Array.isArray(t)?e(t,n):t&&n.push(t)})),n}(Array.isArray(t)?t:[t]);return v.forEach((function(t){var r="string"!==typeof t||i?t:{};if("string"===typeof r)f+="".concat(r,"\n");else if(r._keyframe)p(r);else{var l=h.reduce((function(e,t){var n;return(null===t||void 0===t||null===(n=t.visit)||void 0===n?void 0:n.call(t,e))||e}),r);Object.keys(l).forEach((function(t){var r=l[t];if("object"!==x(r)||!r||"animationName"===t&&r._keyframe||function(e){return"object"===x(e)&&e&&("_skip_check_"in e||Kz in e)}(r)){var c,h=function(e,t){var n=e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())})),r=t;ez[e]||"number"!==typeof r||0===r||(r="".concat(r,"px")),"animationName"===e&&null!==t&&void 0!==t&&t._keyframe&&(p(t),r=t.getName(s)),f+="".concat(n,":").concat(r,";")},v=null!==(c=null===r||void 0===r?void 0:r.value)&&void 0!==c?c:r;"object"===x(r)&&null!==r&&void 0!==r&&r[Kz]&&Array.isArray(v)?v.forEach((function(e){h(t,e)})):h(t,v)}else{var g=!1,m=t.trim(),y=!1;(i||a)&&s?m.startsWith("@")?g=!0:m=Zz("&"===m?"":t,s,u):!i||s||"&"!==m&&""!==m||(m="",y=!0);var b=R(e(r,n,{root:y,injectHash:g,parentSelectors:[].concat(Y(o),[m])}),2),k=b[0],w=b[1];d=yn(yn({},d),w),f+="".concat(m).concat(k)}}))}})),i?l&&(f&&(f="@layer ".concat(l.name," {").concat(f,"}")),l.dependencies&&(d["@layer ".concat(l.name)]=l.dependencies.map((function(e){return"@layer ".concat(e,", ").concat(l.name,";")})).join("\n"))):f="{".concat(f,"}"),[f,d]};function $z(e,t){return dB("".concat(e.join("%")).concat(t))}function eH(){return null}var tH="style";function nH(e,t){var n=e.token,r=e.path,i=e.hashId,a=e.layer,o=e.nonce,s=e.clientOnly,l=e.order,u=void 0===l?0:l,c=m.useContext(EB),h=c.autoClear,f=(c.mock,c.defaultCache),d=c.hashPriority,p=c.container,v=c.ssrInline,g=c.transformers,y=c.linters,b=c.cache,x=c.layer,k=n._tokenKey,w=[k];x&&w.push("layer"),w.push.apply(w,Y(r));var S=IB;var E=WB(tH,w,(function(){var e=w.join("|");if(Yz(e)){var n=function(e){var t=Vz[e],n=null;if(t&&KD())if(qz)n=Xz;else{var r=document.querySelector("style[".concat(xB,'="').concat(Vz[e],'"]'));r?n=r.innerHTML:delete Vz[e]}return[n,t]}(e),o=R(n,2),l=o[0],c=o[1];if(l)return[l,k,c,{},s,u]}var h=t(),f=R(Qz(h,{hashId:i,hashPriority:d,layer:x?a:void 0,path:r.join("-"),transformers:g,linters:y}),2),p=f[0],v=f[1],m=Jz(p),b=$z(w,m);return[m,k,b,v,s,u]}),(function(e,t){var n=R(e,3)[2];(t||h)&&IB&&aF(n,{mark:xB})}),(function(e){var t=R(e,4),n=t[0],r=(t[1],t[2]),i=t[3];if(S&&n!==Xz){var a={mark:xB,prepend:!x&&"queue",attachTo:p,priority:u},s="function"===typeof o?o():o;s&&(a.csp={nonce:s});var l=[],c=[];Object.keys(i).forEach((function(e){e.startsWith("@layer")?l.push(e):c.push(e)})),l.forEach((function(e){oF(Jz(i[e]),"_layer-".concat(e),yn(yn({},a),{},{prepend:!0}))}));var h=oF(n,r,a);h[kB]=b.instanceId,h.setAttribute(bB,k),c.forEach((function(e){oF(Jz(i[e]),"_effect-".concat(e),a)}))}})),_=R(E,3),M=_[0],T=_[1],C=_[2];return function(e){var t,n;v&&!S&&f?t=m.createElement("style",QI({},(j(n={},bB,T),j(n,xB,C),n),{dangerouslySetInnerHTML:{__html:M}})):t=m.createElement(eH,null);return m.createElement(m.Fragment,null,t,e)}}var rH,iH="cssVar",aH=function(e,t){var n=e.key,r=e.prefix,i=e.unitless,a=e.ignore,o=e.token,s=e.scope,l=void 0===s?"":s,u=(0,m.useContext)(EB),c=u.cache.instanceId,h=u.container,f=o._tokenKey,d=[].concat(Y(e.path),[n,l,f]),p=WB(iH,d,(function(){var e=t(),o=R(zB(e,n,{prefix:r,unitless:i,ignore:a,scope:l}),2),s=o[0],u=o[1];return[s,u,$z(d,u),n]}),(function(e){var t=R(e,3)[2];IB&&aF(t,{mark:xB})}),(function(e){var t=R(e,3),r=t[1],i=t[2];if(r){var a=oF(r,i,{mark:xB,prepend:"queue",attachTo:h,priority:-999});a[kB]=c,a.setAttribute(bB,n)}}));return p};j(rH={},tH,(function(e,t,n){var r=R(e,6),i=r[0],a=r[1],o=r[2],s=r[3],l=r[4],u=r[5],c=(n||{}).plain;if(l)return null;var h=i,f={"data-rc-order":"prependQueue","data-rc-priority":"".concat(u)};return h=FB(i,a,o,f,c),s&&Object.keys(s).forEach((function(e){if(!t[e]){t[e]=!0;var n=FB(Jz(s[e]),a,"_effect-".concat(e),f,c);e.startsWith("@layer")?h=n+h:h+=n}})),[u,o,h]})),j(rH,QB,(function(e,t,n){var r=R(e,5),i=r[2],a=r[3],o=r[4],s=(n||{}).plain;if(!a)return null;var l=i._tokenKey;return[-999,l,FB(a,o,l,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]})),j(rH,iH,(function(e,t,n){var r=R(e,4),i=r[1],a=r[2],o=r[3],s=(n||{}).plain;if(!i)return null;return[-999,a,FB(i,o,a,{"data-rc-order":"prependQueue","data-rc-priority":"".concat(-999)},s)]}));var oH=function(){function e(t,n){T(this,e),j(this,"name",void 0),j(this,"style",void 0),j(this,"_keyframe",!0),this.name=t,this.style=n}return M(e,[{key:"getName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e?"".concat(e,"-").concat(this.name):this.name}}]),e}(),sH=oH;function lH(e){return e.notSplit=!0,e}lH(["borderTop","borderBottom"]),lH(["borderTop"]),lH(["borderBottom"]),lH(["borderLeft","borderRight"]),lH(["borderLeft"]),lH(["borderRight"]);var uH={blue:"#1677FF",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#EB2F96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},cH=Object.assign(Object.assign({},uH),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,\n'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',\n'Noto Color Emoji'",fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0}),hH={token:cH,override:{override:cH},hashed:!0},fH=m.createContext(hH);var dH=function(e){var t=e,n=e,r=e,i=e;return e<6&&e>=5?t=e+1:e<16&&e>=6?t=e+2:e>=16&&(t=16),e<7&&e>=5?n=4:e<8&&e>=7?n=5:e<14&&e>=8?n=6:e<16&&e>=14?n=7:e>=16&&(n=8),e<6&&e>=2?r=1:e>=6&&(r=2),e>4&&e<8?i=4:e>=8&&(i=6),{borderRadius:e,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:t,borderRadiusOuter:i}};var pH=function(e){var t=e.controlHeight;return{controlHeightSM:.75*t,controlHeightXS:.5*t,controlHeightLG:1.25*t}};var vH=function(e){var t=function(e){var t=new Array(10).fill(null).map((function(t,n){var r=n-1,i=e*Math.pow(Math.E,r/5),a=n>1?Math.floor(i):Math.ceil(i);return 2*Math.floor(a/2)}));return t[1]=e,t.map((function(e){return{size:e,lineHeight:(t=e,(t+8)/t)};var t}))}(e),n=t.map((function(e){return e.size})),r=t.map((function(e){return e.lineHeight})),i=n[1],a=n[0],o=n[2],s=r[1],l=r[0],u=r[2];return{fontSizeSM:a,fontSize:i,fontSizeLG:o,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:s,lineHeightLG:u,lineHeightSM:l,fontHeight:Math.round(s*i),fontHeightLG:Math.round(u*o),fontHeightSM:Math.round(l*a),lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}};var gH=function(e,t){return new sD(e).setA(t).toRgbString()},mH=function(e,t){return new sD(e).darken(t).toHexString()},yH=function(e){var t=bD(e);return{1:t[0],2:t[1],3:t[2],4:t[3],5:t[4],6:t[5],7:t[6],8:t[4],9:t[5],10:t[6]}},bH=function(e,t){var n=e||"#fff",r=t||"#000";return{colorBgBase:n,colorTextBase:r,colorText:gH(r,.88),colorTextSecondary:gH(r,.65),colorTextTertiary:gH(r,.45),colorTextQuaternary:gH(r,.25),colorFill:gH(r,.15),colorFillSecondary:gH(r,.06),colorFillTertiary:gH(r,.04),colorFillQuaternary:gH(r,.02),colorBgSolid:gH(r,1),colorBgSolidHover:gH(r,.75),colorBgSolidActive:gH(r,.95),colorBgLayout:mH(n,4),colorBgContainer:mH(n,0),colorBgElevated:mH(n,0),colorBgSpotlight:gH(r,.85),colorBgBlur:"transparent",colorBorder:mH(n,15),colorBorderSecondary:mH(n,6)}};var xH=function(e){var t=Array.isArray(e)?e:[e];return AB.has(t)||AB.set(t,new CB(t)),AB.get(t)}((function(e){xD.pink=xD.magenta,ND.pink=ND.magenta;var t=Object.keys(uH).map((function(t){var n=e[t]===xD[t]?ND[t]:bD(e[t]);return new Array(10).fill(1).reduce((function(e,r,i){return e["".concat(t,"-").concat(i+1)]=n[i],e["".concat(t).concat(i+1)]=n[i],e}),{})})).reduce((function(e,t){return e=Object.assign(Object.assign({},e),t)}),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e),t),function(e,t){var n=t.generateColorPalettes,r=t.generateNeutralColorPalettes,i=e.colorSuccess,a=e.colorWarning,o=e.colorError,s=e.colorInfo,l=e.colorPrimary,u=e.colorBgBase,c=e.colorTextBase,h=n(l),f=n(i),d=n(a),p=n(o),v=n(s),g=r(u,c),m=n(e.colorLink||e.colorInfo),y=new sD(p[1]).mix(new sD(p[3]),50).toHexString();return Object.assign(Object.assign({},g),{colorPrimaryBg:h[1],colorPrimaryBgHover:h[2],colorPrimaryBorder:h[3],colorPrimaryBorderHover:h[4],colorPrimaryHover:h[5],colorPrimary:h[6],colorPrimaryActive:h[7],colorPrimaryTextHover:h[8],colorPrimaryText:h[9],colorPrimaryTextActive:h[10],colorSuccessBg:f[1],colorSuccessBgHover:f[2],colorSuccessBorder:f[3],colorSuccessBorderHover:f[4],colorSuccessHover:f[4],colorSuccess:f[6],colorSuccessActive:f[7],colorSuccessTextHover:f[8],colorSuccessText:f[9],colorSuccessTextActive:f[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBgFilledHover:y,colorErrorBgActive:p[3],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:d[1],colorWarningBgHover:d[2],colorWarningBorder:d[3],colorWarningBorderHover:d[4],colorWarningHover:d[4],colorWarning:d[6],colorWarningActive:d[7],colorWarningTextHover:d[8],colorWarningText:d[9],colorWarningTextActive:d[10],colorInfoBg:v[1],colorInfoBgHover:v[2],colorInfoBorder:v[3],colorInfoBorderHover:v[4],colorInfoHover:v[4],colorInfo:v[6],colorInfoActive:v[7],colorInfoTextHover:v[8],colorInfoText:v[9],colorInfoTextActive:v[10],colorLinkHover:m[4],colorLink:m[6],colorLinkActive:m[7],colorBgMask:new sD("#000").setA(.45).toRgbString(),colorWhite:"#fff"})}(e,{generateColorPalettes:yH,generateNeutralColorPalettes:bH})),vH(e.fontSize)),function(e){var t=e.sizeUnit,n=e.sizeStep;return{sizeXXL:t*(n+8),sizeXL:t*(n+4),sizeLG:t*(n+2),sizeMD:t*(n+1),sizeMS:t*n,size:t*n,sizeSM:t*(n-1),sizeXS:t*(n-2),sizeXXS:t*(n-3)}}(e)),pH(e)),function(e){var t=e.motionUnit,n=e.motionBase,r=e.borderRadius,i=e.lineWidth;return Object.assign({motionDurationFast:"".concat((n+t).toFixed(1),"s"),motionDurationMid:"".concat((n+2*t).toFixed(1),"s"),motionDurationSlow:"".concat((n+3*t).toFixed(1),"s"),lineWidthBold:i+1},dH(r))}(e))})),kH=xH;function wH(e){return e>=0&&e<=255}var SH=function(e,t){var n=new sD(e).toRgb(),r=n.r,i=n.g,a=n.b;if(n.a<1)return e;for(var o=new sD(t).toRgb(),s=o.r,l=o.g,u=o.b,c=.01;c<=1;c+=.01){var h=Math.round((r-s*(1-c))/c),f=Math.round((i-l*(1-c))/c),d=Math.round((a-u*(1-c))/c);if(wH(h)&&wH(f)&&wH(d))return new sD({r:h,g:f,b:d,a:Math.round(100*c)/100}).toRgbString()}return new sD({r:r,g:i,b:a,a:1}).toRgbString()},EH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function _H(e){var t=e.override,n=EH(e,["override"]),r=Object.assign({},t);Object.keys(cH).forEach((function(e){delete r[e]}));var i=Object.assign(Object.assign({},n),r),a=1200,o=1600;if(!1===i.motion){var s="0s";i.motionDurationFast=s,i.motionDurationMid=s,i.motionDurationSlow=s}return Object.assign(Object.assign(Object.assign({},i),{colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:SH(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:SH(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:SH(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidthFocus:3*i.lineWidth,lineWidth:i.lineWidth,controlOutlineWidth:2*i.lineWidth,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:SH(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowSecondary:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTertiary:"\n      0 1px 2px 0 rgba(0, 0, 0, 0.03),\n      0 1px 6px -1px rgba(0, 0, 0, 0.02),\n      0 2px 4px 0 rgba(0, 0, 0, 0.02)\n    ",screenXS:480,screenXSMin:480,screenXSMax:575,screenSM:576,screenSMMin:576,screenSMMax:767,screenMD:768,screenMDMin:768,screenMDMax:991,screenLG:992,screenLGMin:992,screenLGMax:1199,screenXL:a,screenXLMin:a,screenXLMax:1599,screenXXL:o,screenXXLMin:o,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:"\n      0 1px 2px -2px ".concat(new sD("rgba(0, 0, 0, 0.16)").toRgbString(),",\n      0 3px 6px 0 ").concat(new sD("rgba(0, 0, 0, 0.12)").toRgbString(),",\n      0 5px 12px 4px ").concat(new sD("rgba(0, 0, 0, 0.09)").toRgbString(),"\n    "),boxShadowDrawerRight:"\n      -6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      -3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      -9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerLeft:"\n      6px 0 16px 0 rgba(0, 0, 0, 0.08),\n      3px 0 6px -4px rgba(0, 0, 0, 0.12),\n      9px 0 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerUp:"\n      0 6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowDrawerDown:"\n      0 -6px 16px 0 rgba(0, 0, 0, 0.08),\n      0 -3px 6px -4px rgba(0, 0, 0, 0.12),\n      0 -9px 28px 8px rgba(0, 0, 0, 0.05)\n    ",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}var MH=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},TH={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0,opacityImage:!0},CH={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},AH={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},PH=function(e,t,n){var r=n.getDerivativeToken(e),i=t.override,a=MH(t,["override"]),o=Object.assign(Object.assign({},r),{override:i});return o=_H(o),a&&Object.entries(a).forEach((function(e){var t=R(e,2),n=t[0],r=t[1],i=r.theme,a=MH(r,["theme"]),s=a;i&&(s=PH(Object.assign(Object.assign({},o),a),{override:a},i)),o[n]=s})),o};function OH(){var e=m.useContext(fH),t=e.token,n=e.hashed,r=e.theme,i=e.override,a=e.cssVar,o="".concat("5.23.3","-").concat(n||""),s=r||kH,l=R($B(s,[cH,t],{salt:o,override:i,getComputedToken:PH,formatToken:_H,cssVar:a&&{prefix:a.prefix,key:a.key,unitless:TH,ignore:CH,preserve:AH}}),3),u=l[0],c=l[1];return[s,l[2],n?c:"",u,a]}var RH=m.createContext(void 0),LH=100,NH={Modal:LH,Drawer:LH,Popover:LH,Popconfirm:LH,Tooltip:LH,Tour:LH,FloatButton:LH},IH={SelectLike:50,Dropdown:50,DatePicker:50,Menu:50,ImagePreview:1};var DH=function(e,t){var n,r=R(OH(),2)[1],i=m.useContext(RH),a=function(e){return e in NH}(e);if(void 0!==t)n=[t,t];else{var o=null!==i&&void 0!==i?i:0;o+=a?(i?0:r.zIndexPopupBase)+NH[e]:IH[e],n=[void 0===i?t:o,o]}return n},FH=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"],UH=FH.map((function(e){return"".concat(e,"-inverse")}));function BH(e){return!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?[].concat(Y(UH),Y(FH)).includes(e):FH.includes(e)}function zH(e,t){return function(e,t,n){return m.isValidElement(e)?m.cloneElement(e,"function"===typeof n?n(e.props||{}):n):t}(e,e,t)}var HH={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},GH=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none",fontFamily:t?"inherit":e.fontFamily}},jH=function(e){return{a:{color:e.colorLink,textDecoration:e.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"-webkit-text-decoration-skip":"objects","&:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive},"&:active, &:hover":{textDecoration:e.linkHoverDecoration,outline:0},"&:focus":{textDecoration:e.linkFocusDecoration,outline:0},"&[disabled]":{color:e.colorTextDisabled,cursor:"not-allowed"}}}},VH=function(e,t){return{outline:"".concat(DB(e.lineWidthFocus)," solid ").concat(e.colorPrimaryBorder),outlineOffset:null!==t&&void 0!==t?t:1,transition:"outline-offset 0s, outline 0s"}},WH=function(e,t){return{"&:focus-visible":Object.assign({},VH(e,t))}};function XH(e,t){return FH.reduce((function(n,r){var i=e["".concat(r,"1")],a=e["".concat(r,"3")],o=e["".concat(r,"6")],s=e["".concat(r,"7")];return Object.assign(Object.assign({},n),t(r,{lightColor:i,lightBorderColor:a,darkColor:o,textColor:s}))}),{})}var qH=M((function e(){T(this,e)})),YH="CALC_UNIT",KH=new RegExp(YH,"g");function JH(e){return"number"===typeof e?"".concat(e).concat(YH):e}var ZH=function(e){G(n,e);var t=XF(n);function n(e,r){var i;T(this,n),j(U(i=t.call(this)),"result",""),j(U(i),"unitlessCssVar",void 0),j(U(i),"lowPriority",void 0);var a=x(e);return i.unitlessCssVar=r,e instanceof n?i.result="(".concat(e.result,")"):"number"===a?i.result=JH(e):"string"===a&&(i.result=e),i}return M(n,[{key:"add",value:function(e){return e instanceof n?this.result="".concat(this.result," + ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," + ").concat(JH(e))),this.lowPriority=!0,this}},{key:"sub",value:function(e){return e instanceof n?this.result="".concat(this.result," - ").concat(e.getResult()):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," - ").concat(JH(e))),this.lowPriority=!0,this}},{key:"mul",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," * ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," * ").concat(e)),this.lowPriority=!1,this}},{key:"div",value:function(e){return this.lowPriority&&(this.result="(".concat(this.result,")")),e instanceof n?this.result="".concat(this.result," / ").concat(e.getResult(!0)):"number"!==typeof e&&"string"!==typeof e||(this.result="".concat(this.result," / ").concat(e)),this.lowPriority=!1,this}},{key:"getResult",value:function(e){return this.lowPriority||e?"(".concat(this.result,")"):this.result}},{key:"equal",value:function(e){var t=this,n=(e||{}).unit,r=!0;return"boolean"===typeof n?r=n:Array.from(this.unitlessCssVar).some((function(e){return t.result.includes(e)}))&&(r=!1),this.result=this.result.replace(KH,r?"px":""),"undefined"!==typeof this.lowPriority?"calc(".concat(this.result,")"):this.result}}]),n}(qH),QH=function(e){G(n,e);var t=XF(n);function n(e){var r;return T(this,n),j(U(r=t.call(this)),"result",0),e instanceof n?r.result=e.result:"number"===typeof e&&(r.result=e),r}return M(n,[{key:"add",value:function(e){return e instanceof n?this.result+=e.result:"number"===typeof e&&(this.result+=e),this}},{key:"sub",value:function(e){return e instanceof n?this.result-=e.result:"number"===typeof e&&(this.result-=e),this}},{key:"mul",value:function(e){return e instanceof n?this.result*=e.result:"number"===typeof e&&(this.result*=e),this}},{key:"div",value:function(e){return e instanceof n?this.result/=e.result:"number"===typeof e&&(this.result/=e),this}},{key:"equal",value:function(){return this.result}}]),n}(qH),$H=function(e,t){var n="css"===e?ZH:QH;return function(e){return new n(e,t)}},eG=function(e,t){return"".concat([t,e.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-"))};var tG=function(e,t,n,r){var i=yn({},t[e]);null!==r&&void 0!==r&&r.deprecatedTokens&&r.deprecatedTokens.forEach((function(e){var t,n=R(e,2),r=n[0],a=n[1];(null!==i&&void 0!==i&&i[r]||null!==i&&void 0!==i&&i[a])&&(null!==(t=i[a])&&void 0!==t||(i[a]=null===i||void 0===i?void 0:i[r]))}));var a=yn(yn({},n),i);return Object.keys(a).forEach((function(e){a[e]===t[e]&&delete a[e]})),a},nG="undefined"!==typeof CSSINJS_STATISTIC,rG=!0;function iG(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!nG)return Object.assign.apply(Object,[{}].concat(t));rG=!1;var r={};return t.forEach((function(e){"object"===x(e)&&Object.keys(e).forEach((function(t){Object.defineProperty(r,t,{configurable:!0,enumerable:!0,get:function(){return e[t]}})}))})),rG=!0,r}var aG={};function oG(){}var sG=function(e){var t,n=e,r=oG;return nG&&"undefined"!==typeof Proxy&&(t=new Set,n=new Proxy(e,{get:function(e,n){var r;rG&&(null===(r=t)||void 0===r||r.add(n));return e[n]}}),r=function(e,n){var r;aG[e]={global:Array.from(t),component:yn(yn({},null===(r=aG[e])||void 0===r?void 0:r.component),n)}}),{token:n,keys:t,flush:r}};var lG=function(e,t,n){var r;return"function"===typeof n?n(iG(t,null!==(r=t[e])&&void 0!==r?r:{})):null!==n&&void 0!==n?n:{}};var uG=function(e){return"js"===e?{max:Math.max,min:Math.min}:{max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"max(".concat(t.map((function(e){return DB(e)})).join(","),")")},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"min(".concat(t.map((function(e){return DB(e)})).join(","),")")}}},cG=function(){function e(){T(this,e),j(this,"map",new Map),j(this,"objectIDMap",new WeakMap),j(this,"nextID",0),j(this,"lastAccessBeat",new Map),j(this,"accessBeat",0)}return M(e,[{key:"set",value:function(e,t){this.clear();var n=this.getCompositeKey(e);this.map.set(n,t),this.lastAccessBeat.set(n,Date.now())}},{key:"get",value:function(e){var t=this.getCompositeKey(e),n=this.map.get(t);return this.lastAccessBeat.set(t,Date.now()),this.accessBeat+=1,n}},{key:"getCompositeKey",value:function(e){var t=this;return e.map((function(e){return e&&"object"===x(e)?"obj_".concat(t.getObjectID(e)):"".concat(x(e),"_").concat(e)})).join("|")}},{key:"getObjectID",value:function(e){if(this.objectIDMap.has(e))return this.objectIDMap.get(e);var t=this.nextID;return this.objectIDMap.set(e,t),this.nextID+=1,t}},{key:"clear",value:function(){var e=this;if(this.accessBeat>1e4){var t=Date.now();this.lastAccessBeat.forEach((function(n,r){t-n>6e5&&(e.map.delete(r),e.lastAccessBeat.delete(r))})),this.accessBeat=0}}}]),e}(),hG=new cG;var fG=function(e,t){return m.useMemo((function(){var n=hG.get(t);if(n)return n;var r=e();return hG.set(t,r),r}),t)},dG=function(){return{}};var pG=function(e){var t=e.useCSP,n=void 0===t?dG:t,r=e.useToken,i=e.usePrefix,a=e.getResetStyles,o=e.getCommonStyle,s=e.getCompUnitless;function l(t,s,l){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=Array.isArray(t)?t:[t,t],h=R(c,1)[0],f=c.join("-"),d=e.layer||{name:"antd"};return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,c=r(),p=c.theme,v=c.realToken,g=c.hashId,m=c.token,y=c.cssVar,b=i(),k=b.rootPrefixCls,w=b.iconPrefixCls,S=n(),E=y?"css":"js",_=fG((function(){var e=new Set;return y&&Object.keys(u.unitless||{}).forEach((function(t){e.add(UB(t,y.prefix)),e.add(UB(t,eG(h,y.prefix)))})),$H(E,e)}),[E,h,null===y||void 0===y?void 0:y.prefix]),M=uG(E),T=M.max,C=M.min,A={theme:p,token:m,hashId:g,nonce:function(){return S.nonce},clientOnly:u.clientOnly,layer:d,order:u.order||-999};return"function"===typeof a&&nH(yn(yn({},A),{},{clientOnly:!1,path:["Shared",k]}),(function(){return a(m,{prefix:{rootPrefixCls:k,iconPrefixCls:w},csp:S})})),[nH(yn(yn({},A),{},{path:[f,e,w]}),(function(){if(!1===u.injectStyle)return[];var n=sG(m),r=n.token,i=n.flush,a=lG(h,v,l),c=".".concat(e),f=tG(h,v,a,{deprecatedTokens:u.deprecatedTokens});y&&a&&"object"===x(a)&&Object.keys(a).forEach((function(e){a[e]="var(".concat(UB(e,eG(h,y.prefix)),")")}));var d=iG(r,{componentCls:c,prefixCls:e,iconCls:".".concat(w),antCls:".".concat(k),calc:_,max:T,min:C},y?a:f),p=s(d,{hashId:g,prefixCls:e,rootPrefixCls:k,iconPrefixCls:w});i(h,f);var b="function"===typeof o?o(d,e,t,u.resetFont):null;return[!1===u.resetStyle?null:b,p]})),g]}}return{genStyleHooks:function(e,t,n,i){var a=Array.isArray(e)?e[0]:e;function o(e){return"".concat(String(a)).concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}var u=(null===i||void 0===i?void 0:i.unitless)||{},c=yn(yn({},"function"===typeof s?s(e):{}),{},j({},o("zIndexPopup"),!0));Object.keys(u).forEach((function(e){c[o(e)]=u[e]}));var h=yn(yn({},i),{},{unitless:c,prefixToken:o}),f=l(e,t,n,h),d=function(e,t,n){var i=n.unitless,a=n.injectStyle,o=void 0===a||a,s=n.prefixToken,l=n.ignore,u=function(a){var o=a.rootCls,u=a.cssVar,c=void 0===u?{}:u,h=r().realToken;return aH({path:[e],prefix:c.prefix,key:c.key,unitless:i,ignore:l,token:h,scope:o},(function(){var r=lG(e,h,t),i=tG(e,h,r,{deprecatedTokens:null===n||void 0===n?void 0:n.deprecatedTokens});return Object.keys(r).forEach((function(e){i[s(e)]=i[e],delete i[e]})),i})),null},c=function(t){var n=r().cssVar;return[function(r){return o&&n?m.createElement(m.Fragment,null,m.createElement(u,{rootCls:t,cssVar:n,component:e}),r):r},null===n||void 0===n?void 0:n.key]};return c}(a,n,h);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=R(f(e,t),2)[1],r=R(d(t),2);return[r[0],n,r[1]]}},genSubStyleComponent:function(e,t,n){var r=l(e,t,n,yn({resetStyle:!1,order:-998},arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}));return function(e){var t=e.prefixCls,n=e.rootCls;return r(t,void 0===n?t:n),null}},genComponentStyleHook:l}},vG=pG({usePrefix:function(){var e=(0,m.useContext)(lB),t=e.getPrefixCls,n=e.iconPrefixCls;return{rootPrefixCls:t(),iconPrefixCls:n}},useToken:function(){var e=R(OH(),5);return{theme:e[0],realToken:e[1],hashId:e[2],token:e[3],cssVar:e[4]}},useCSP:function(){var e=(0,m.useContext)(lB).csp;return null!==e&&void 0!==e?e:{}},getResetStyles:function(e,t){var n,r;return[{"&":jH(e)},(r=null!==(n=null===t||void 0===t?void 0:t.prefix.iconPrefixCls)&&void 0!==n?n:sB,j({},".".concat(r),Object.assign(Object.assign({},{display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),j({},".".concat(r," .").concat(r,"-icon"),{display:"block"}))))]},getCommonStyle:function(e,t,n,r){var i='[class^="'.concat(t,'"], [class*=" ').concat(t,'"]'),a=n?".".concat(n):i,o={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}},s={};return!1!==r&&(s={fontFamily:e.fontFamily,fontSize:e.fontSize}),j({},a,Object.assign(Object.assign(Object.assign({},s),o),j({},i,o)))},getCompUnitless:function(){return TH}}),gG=vG.genStyleHooks,mG=(vG.genComponentStyleHook,vG.genSubStyleComponent,new sH("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}})),yG=new sH("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),bG=new sH("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),xG=new sH("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),kG=new sH("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),wG=new sH("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),SG=function(e){var t=e.fontHeight,n=e.lineWidth,r=e.marginXS,i=e.colorBorderBg;return iG(e,{badgeFontHeight:t,badgeShadowSize:n,badgeTextColor:e.colorTextLightSolid,badgeColor:e.colorError,badgeColorHover:e.colorErrorHover,badgeShadowColor:i,badgeProcessingDuration:"1.2s",badgeRibbonOffset:r,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},EG=function(e){var t=e.fontSize,n=e.lineHeight,r=e.fontSizeSM,i=e.lineWidth;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*n)-2*i,indicatorHeightSM:t,dotSize:r/2,textFontSize:r,textFontSizeSM:r,textFontWeight:"normal",statusSize:r/2}},_G=gG("Badge",(function(e){return function(e){var t=e.componentCls,n=e.iconCls,r=e.antCls,i=e.badgeShadowSize,a=e.textFontSize,o=e.textFontSizeSM,s=e.statusSize,l=e.dotSize,u=e.textFontWeight,c=e.indicatorHeight,h=e.indicatorHeightSM,f=e.marginXS,d=e.calc,p="".concat(r,"-scroll-number"),v=XH(e,(function(e,n){var r=n.darkColor;return j({},"&".concat(t," ").concat(t,"-color-").concat(e),j(j({background:r},"&:not(".concat(t,"-count)"),{color:r}),"a:hover &",{background:r}))}));return j({},t,Object.assign(Object.assign(Object.assign(Object.assign({},GH(e)),j(j(j(j(j(j({position:"relative",display:"inline-block",width:"fit-content",lineHeight:1},"".concat(t,"-count"),{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:c,height:c,color:e.badgeTextColor,fontWeight:u,fontSize:a,lineHeight:DB(c),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:d(c).div(2).equal(),boxShadow:"0 0 0 ".concat(DB(i)," ").concat(e.badgeShadowColor),transition:"background ".concat(e.motionDurationMid),a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}}),"".concat(t,"-count-sm"),{minWidth:h,height:h,fontSize:o,lineHeight:DB(h),borderRadius:d(h).div(2).equal()}),"".concat(t,"-multiple-words"),{padding:"0 ".concat(DB(e.paddingXS)),bdi:{unicodeBidi:"plaintext"}}),"".concat(t,"-dot"),{zIndex:e.indicatorZIndex,width:l,minWidth:l,height:l,background:e.badgeColor,borderRadius:"100%",boxShadow:"0 0 0 ".concat(DB(i)," ").concat(e.badgeShadowColor)}),"".concat(t,"-count, ").concat(t,"-dot, ").concat(p,"-custom-component"),j({position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%"},"&".concat(n,"-spin"),{animationName:wG,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"})),"&".concat(t,"-status"),j(j(j(j(j(j(j({lineHeight:"inherit",verticalAlign:"baseline"},"".concat(t,"-status-dot"),{position:"relative",top:-1,display:"inline-block",width:s,height:s,verticalAlign:"middle",borderRadius:"50%"}),"".concat(t,"-status-success"),{backgroundColor:e.colorSuccess}),"".concat(t,"-status-processing"),{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:i,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:mG,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}}),"".concat(t,"-status-default"),{backgroundColor:e.colorTextPlaceholder}),"".concat(t,"-status-error"),{backgroundColor:e.colorError}),"".concat(t,"-status-warning"),{backgroundColor:e.colorWarning}),"".concat(t,"-status-text"),{marginInlineStart:f,color:e.colorText,fontSize:e.fontSize}))),v),j(j(j(j(j({},"".concat(t,"-zoom-appear, ").concat(t,"-zoom-enter"),{animationName:yG,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"}),"".concat(t,"-zoom-leave"),{animationName:bG,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"}),"&".concat(t,"-not-a-wrapper"),j(j(j(j(j({},"".concat(t,"-zoom-appear, ").concat(t,"-zoom-enter"),{animationName:xG,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack}),"".concat(t,"-zoom-leave"),{animationName:kG,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack}),"&:not(".concat(t,"-status)"),{verticalAlign:"middle"}),"".concat(p,"-custom-component, ").concat(t,"-count"),{transform:"none"}),"".concat(p,"-custom-component, ").concat(p),{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"})),p,j(j({overflow:"hidden",transition:"all ".concat(e.motionDurationMid," ").concat(e.motionEaseOutBack)},"".concat(p,"-only"),j({position:"relative",display:"inline-block",height:c,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseOutBack),WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"},"> p".concat(p,"-only-unit"),{height:c,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"})),"".concat(p,"-symbol"),{verticalAlign:"top"})),"&-rtl",j({direction:"rtl"},"".concat(t,"-count, ").concat(t,"-dot, ").concat(p,"-custom-component"),{transform:"translate(-50%, -50%)"}))))}(SG(e))}),EG),MG=gG(["Badge","Ribbon"],(function(e){return function(e){var t=e.antCls,n=e.badgeFontHeight,r=e.marginXS,i=e.badgeRibbonOffset,a=e.calc,o="".concat(t,"-ribbon"),s="".concat(t,"-ribbon-wrapper"),l=XH(e,(function(e,t){var n=t.darkColor;return j({},"&".concat(o,"-color-").concat(e),{background:n,color:n})}));return j(j({},s,{position:"relative"}),o,Object.assign(Object.assign(Object.assign(Object.assign({},GH(e)),j(j({position:"absolute",top:r,padding:"0 ".concat(DB(e.paddingXS)),color:e.colorPrimary,lineHeight:DB(n),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM},"".concat(o,"-text"),{color:e.badgeTextColor}),"".concat(o,"-corner"),{position:"absolute",top:"100%",width:i,height:i,color:"currentcolor",border:"".concat(DB(a(i).div(2).equal())," solid"),transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter})),l),j(j(j({},"&".concat(o,"-placement-end"),j({insetInlineEnd:a(i).mul(-1).equal(),borderEndEndRadius:0},"".concat(o,"-corner"),{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"})),"&".concat(o,"-placement-start"),j({insetInlineStart:a(i).mul(-1).equal(),borderEndStartRadius:0},"".concat(o,"-corner"),{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"})),"&-rtl",{direction:"rtl"})))}(SG(e))}),EG);var TG=function(e){var t=e.className,n=e.prefixCls,r=e.style,i=e.color,a=e.children,o=e.text,s=e.placement,l=void 0===s?"end":s,u=e.rootClassName,c=m.useContext(lB),h=c.getPrefixCls,f=c.direction,d=h("ribbon",n),p="".concat(d,"-wrapper"),v=R(MG(d,p),3),g=v[0],y=v[1],b=v[2],x=BH(i,!1),k=nD()(d,"".concat(d,"-placement-").concat(l),j(j({},"".concat(d,"-rtl"),"rtl"===f),"".concat(d,"-color-").concat(i),x),t),w={},S={};return i&&!x&&(w.background=i,S.color=i),g(m.createElement("div",{className:nD()(p,u,y,b)},a,m.createElement("div",{className:nD()(k,y),style:Object.assign(Object.assign({},w),r)},m.createElement("span",{className:"".concat(d,"-text")},o),m.createElement("div",{className:"".concat(d,"-corner"),style:S}))))},CG=function(e){var t,n=e.prefixCls,r=e.value,i=e.current,a=e.offset,o=void 0===a?0:a;return o&&(t={position:"absolute",top:"".concat(o,"00%"),left:0}),m.createElement("span",{style:t,className:nD()("".concat(n,"-only-unit"),{current:i})},r)};function AG(e,t,n){for(var r=e,i=0;(r+10)%10!==t;)r+=n,i+=n;return i}var PG=function(e){var t,n,r=e.prefixCls,i=e.count,a=e.value,o=Number(a),s=Math.abs(i),l=R(m.useState(o),2),u=l[0],c=l[1],h=R(m.useState(s),2),f=h[0],d=h[1],p=function(){c(o),d(s)};if(m.useEffect((function(){var e=setTimeout(p,1e3);return function(){return clearTimeout(e)}}),[o]),u===o||Number.isNaN(o)||Number.isNaN(u))t=[m.createElement(CG,Object.assign({},e,{key:o,current:!0}))],n={transition:"none"};else{t=[];for(var v=o+10,g=[],y=o;y<=v;y+=1)g.push(y);var b=f<s?1:-1,x=g.findIndex((function(e){return e%10===u}));t=(b<0?g.slice(0,x+1):g.slice(x)).map((function(t,n){var r=t%10;return m.createElement(CG,Object.assign({},e,{key:t,value:r,offset:b<0?n-x:n,current:n===x}))})),n={transform:"translateY(".concat(-AG(u,o,b),"00%)")}}return m.createElement("span",{className:"".concat(r,"-only"),style:n,onTransitionEnd:p},t)},OG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},RG=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.count,i=e.className,a=e.motionClassName,o=e.style,s=e.title,l=e.show,u=e.component,c=void 0===u?"sup":u,h=e.children,f=OG(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),d=(0,m.useContext(lB).getPrefixCls)("scroll-number",n),p=Object.assign(Object.assign({},f),{"data-show":l,style:o,className:nD()(d,i,a),title:s}),v=r;if(r&&Number(r)%1===0){var g=String(r).split("");v=m.createElement("bdi",null,g.map((function(e,t){return m.createElement(PG,{prefixCls:d,count:Number(r),value:e,key:g.length-t})})))}return(null===o||void 0===o?void 0:o.borderColor)&&(p.style=Object.assign(Object.assign({},o),{boxShadow:"0 0 0 1px ".concat(o.borderColor," inset")})),h?zH(h,(function(e){return{className:nD()("".concat(d,"-custom-component"),null===e||void 0===e?void 0:e.className,a)}})):m.createElement(c,Object.assign({},p,{ref:t}),v)})),LG=RG,NG=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},IG=m.forwardRef((function(e,t){var n,r,i,a,o,s=e.prefixCls,l=e.scrollNumberPrefixCls,u=e.children,c=e.status,h=e.text,f=e.color,d=e.count,p=void 0===d?null:d,v=e.overflowCount,g=void 0===v?99:v,y=e.dot,b=void 0!==y&&y,x=e.size,k=void 0===x?"default":x,w=e.title,S=e.offset,E=e.style,_=e.className,M=e.rootClassName,T=e.classNames,C=e.styles,A=e.showZero,P=void 0!==A&&A,O=NG(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),L=m.useContext(lB),N=L.getPrefixCls,I=L.direction,D=L.badge,F=N("badge",s),U=R(_G(F),3),B=U[0],z=U[1],H=U[2],G=p>g?"".concat(g,"+"):p,V="0"===G||0===G,W=(null!==c&&void 0!==c||null!==f&&void 0!==f)&&(null===p||V&&!P),X=b&&!V,q=X?"":G,Y=(0,m.useMemo)((function(){return(null===q||void 0===q||""===q||V&&!P)&&!X}),[q,V,P,X]),K=(0,m.useRef)(p);Y||(K.current=p);var J=K.current,Z=(0,m.useRef)(q);Y||(Z.current=q);var Q=Z.current,$=(0,m.useRef)(X);Y||($.current=X);var ee=(0,m.useMemo)((function(){if(!S)return Object.assign(Object.assign({},null===D||void 0===D?void 0:D.style),E);var e={marginTop:S[1]};return"rtl"===I?e.left=parseInt(S[0],10):e.right=-parseInt(S[0],10),Object.assign(Object.assign(Object.assign({},e),null===D||void 0===D?void 0:D.style),E)}),[I,S,E,null===D||void 0===D?void 0:D.style]),te=null!==w&&void 0!==w?w:"string"===typeof J||"number"===typeof J?J:void 0,ne=Y||!h?null:m.createElement("span",{className:"".concat(F,"-status-text")},h),re=J&&"object"===typeof J?zH(J,(function(e){return{style:Object.assign(Object.assign({},ee),e.style)}})):void 0,ie=BH(f,!1),ae=nD()(null===T||void 0===T?void 0:T.indicator,null===(n=null===D||void 0===D?void 0:D.classNames)||void 0===n?void 0:n.indicator,j(j(j({},"".concat(F,"-status-dot"),W),"".concat(F,"-status-").concat(c),!!c),"".concat(F,"-color-").concat(f),ie)),oe={};f&&!ie&&(oe.color=f,oe.background=f);var se=nD()(F,j(j(j({},"".concat(F,"-status"),W),"".concat(F,"-not-a-wrapper"),!u),"".concat(F,"-rtl"),"rtl"===I),_,M,null===D||void 0===D?void 0:D.className,null===(r=null===D||void 0===D?void 0:D.classNames)||void 0===r?void 0:r.root,null===T||void 0===T?void 0:T.root,z,H);if(!u&&W){var le=ee.color;return B(m.createElement("span",Object.assign({},O,{className:se,style:Object.assign(Object.assign(Object.assign({},null===C||void 0===C?void 0:C.root),null===(i=null===D||void 0===D?void 0:D.styles)||void 0===i?void 0:i.root),ee)}),m.createElement("span",{className:ae,style:Object.assign(Object.assign(Object.assign({},null===C||void 0===C?void 0:C.indicator),null===(a=null===D||void 0===D?void 0:D.styles)||void 0===a?void 0:a.indicator),oe)}),h&&m.createElement("span",{style:{color:le},className:"".concat(F,"-status-text")},h)))}return B(m.createElement("span",Object.assign({ref:t},O,{className:se,style:Object.assign(Object.assign({},null===(o=null===D||void 0===D?void 0:D.styles)||void 0===o?void 0:o.root),null===C||void 0===C?void 0:C.root)}),u,m.createElement(rB,{visible:!Y,motionName:"".concat(F,"-zoom"),motionAppear:!1,motionDeadline:1e3},(function(e){var t,n,r=e.className,i=N("scroll-number",l),a=$.current,o=nD()(null===T||void 0===T?void 0:T.indicator,null===(t=null===D||void 0===D?void 0:D.classNames)||void 0===t?void 0:t.indicator,j(j(j(j(j(j({},"".concat(F,"-dot"),a),"".concat(F,"-count"),!a),"".concat(F,"-count-sm"),"small"===k),"".concat(F,"-multiple-words"),!a&&Q&&Q.toString().length>1),"".concat(F,"-status-").concat(c),!!c),"".concat(F,"-color-").concat(f),ie)),s=Object.assign(Object.assign(Object.assign({},null===C||void 0===C?void 0:C.indicator),null===(n=null===D||void 0===D?void 0:D.styles)||void 0===n?void 0:n.indicator),ee);return f&&!ie&&((s=s||{}).background=f),m.createElement(LG,{prefixCls:i,show:!Y,motionClassName:r,className:o,count:Q,title:te,style:s,key:"scrollNumber"},re)})),ne))})),DG=IG;DG.Ribbon=TG;var FG=DG,UG=function(e){return R(OH(),5)[4]?"".concat(e,"-css-var"):""};function BG(e){var t=e.children,n=e.prefixCls,r=e.id,i=e.overlayInnerStyle,a=e.bodyClassName,o=e.className,s=e.style;return m.createElement("div",{className:nD()("".concat(n,"-content"),o),style:s},m.createElement("div",{className:nD()("".concat(n,"-inner"),a),id:r,role:"tooltip",style:i},"function"===typeof t?t():t))}var zG=m.createContext(null),HG=[];function GG(e){var t="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=t;var r,i,a=n.style;if(a.position="absolute",a.left="0",a.top="0",a.width="100px",a.height="100px",a.overflow="scroll",e){var o=getComputedStyle(e);a.scrollbarColor=o.scrollbarColor,a.scrollbarWidth=o.scrollbarWidth;var s=getComputedStyle(e,"::-webkit-scrollbar"),l=parseInt(s.width,10),u=parseInt(s.height,10);try{var c=l?"width: ".concat(s.width,";"):"",h=u?"height: ".concat(s.height,";"):"";oF("\n#".concat(t,"::-webkit-scrollbar {\n").concat(c,"\n").concat(h,"\n}"),t)}catch(cQ){console.error(cQ),r=l,i=u}}document.body.appendChild(n);var f=e&&r&&!isNaN(r)?r:n.offsetWidth-n.clientWidth,d=e&&i&&!isNaN(i)?i:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),aF(t),{width:f,height:d}}var jG="rc-util-locker-".concat(Date.now()),VG=0;function WG(e){var t=!!e,n=R(m.useState((function(){return VG+=1,"".concat(jG,"_").concat(VG)})),1)[0];$F((function(){if(t){var e=(i=document.body,"undefined"!==typeof document&&i&&i instanceof Element?GG(i):{width:0,height:0}).width,r=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;oF("\nhtml body {\n  overflow-y: hidden;\n  ".concat(r?"width: calc(100% - ".concat(e,"px);"):"","\n}"),n)}else aF(n);var i;return function(){aF(n)}}),[t,n])}var XG=!1;var qG=function(e){return!1!==e&&(KD()&&e?"string"===typeof e?document.querySelector(e):"function"===typeof e?e():e:null)},YG=m.forwardRef((function(e,t){var n=e.open,r=e.autoLock,i=e.getContainer,a=(e.debug,e.autoDestroy),o=void 0===a||a,s=e.children,l=R(m.useState(n),2),u=l[0],c=l[1],h=u||n;m.useEffect((function(){(o||n)&&c(n)}),[n,o]);var f=R(m.useState((function(){return qG(i)})),2),d=f[0],p=f[1];m.useEffect((function(){var e=qG(i);p(null!==e&&void 0!==e?e:null)}));var v=function(e,t){var n=R(m.useState((function(){return KD()?document.createElement("div"):null})),1)[0],r=m.useRef(!1),i=m.useContext(zG),a=R(m.useState(HG),2),o=a[0],s=a[1],l=i||(r.current?void 0:function(e){s((function(t){return[e].concat(Y(t))}))});function u(){n.parentElement||document.body.appendChild(n),r.current=!0}function c(){var e;null===(e=n.parentElement)||void 0===e||e.removeChild(n),r.current=!1}return $F((function(){return e?i?i(u):u():c(),c}),[e]),$F((function(){o.length&&(o.forEach((function(e){return e()})),s(HG))}),[o]),[n,l]}(h&&!d),g=R(v,2),y=g[0],b=g[1],x=null!==d&&void 0!==d?d:y;WG(r&&n&&KD()&&(x===y||x===document.body));var k=null;s&&GF(s)&&t&&(k=s.ref);var w=HF(k,t);if(!h||!KD()||void 0===d)return null;var S,E=!1===x||("boolean"===typeof S&&(XG=S),XG),_=s;return t&&(_=m.cloneElement(s,{ref:w})),m.createElement(zG.Provider,{value:b},E?_:(0,N.createPortal)(_,x))}));var KG=YG;function JG(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];return m.Children.forEach(e,(function(e){(void 0!==e&&null!==e||t.keepEmpty)&&(Array.isArray(e)?n=n.concat(JG(e)):UF(e)&&e.props?n=n.concat(JG(e.props.children,t)):n.push(e))})),n}var ZG=m.createContext(null);var QG=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),$G="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,ej="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),tj="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(ej):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var nj=["top","right","bottom","left","width","height","size","weight"],rj="undefined"!==typeof MutationObserver,ij=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,e()),r&&s()}function o(){tj(a)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){$G&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),rj?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){$G&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;nj.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),aj=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},oj=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ej},sj=dj(0,0,0,0);function lj(e){return parseFloat(e)||0}function uj(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+lj(e["border-"+n+"-width"])}),0)}function cj(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return sj;var r=oj(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],a=e["padding-"+i];t[i]=lj(a)}return t}(r),a=i.left+i.right,o=i.top+i.bottom,s=lj(r.width),l=lj(r.height);if("border-box"===r.boxSizing&&(Math.round(s+a)!==t&&(s-=uj(r,"left","right")+a),Math.round(l+o)!==n&&(l-=uj(r,"top","bottom")+o)),!function(e){return e===oj(e).document.documentElement}(e)){var u=Math.round(s+a)-t,c=Math.round(l+o)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(c)&&(l-=c)}return dj(i.left,i.top,s,l)}var hj="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof oj(e).SVGGraphicsElement}:function(e){return e instanceof oj(e).SVGElement&&"function"===typeof e.getBBox};function fj(e){return $G?hj(e)?function(e){var t=e.getBBox();return dj(0,0,t.width,t.height)}(e):cj(e):sj}function dj(e,t,n,r){return{x:e,y:t,width:n,height:r}}var pj=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=dj(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=fj(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),vj=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,o=Object.create(a.prototype);return aj(o,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),o}(t);aj(this,{target:e,contentRect:n})},gj=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new QG,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof oj(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new pj(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof oj(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new vj(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),mj="undefined"!==typeof WeakMap?new WeakMap:new QG,yj=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ij.getInstance(),r=new gj(t,n,this);mj.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){yj.prototype[e]=function(){var t;return(t=mj.get(this))[e].apply(t,arguments)}}));var bj="undefined"!==typeof ej.ResizeObserver?ej.ResizeObserver:yj,xj=new Map;var kj=new bj((function(e){e.forEach((function(e){var t,n=e.target;null===(t=xj.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var wj=function(e){G(n,e);var t=XF(n);function n(){return T(this,n),t.apply(this,arguments)}return M(n,[{key:"render",value:function(){return this.props.children}}]),n}(m.Component);function Sj(e,t){var n=e.children,r=e.disabled,i=m.useRef(null),a=m.useRef(null),o=m.useContext(ZG),s="function"===typeof n,l=s?n(i):n,u=m.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),c=!s&&m.isValidElement(l)&&GF(l),h=c?VF(l):null,f=HF(h,i),d=function(){var e;return RF(i.current)||(i.current&&"object"===x(i.current)?RF(null===(e=i.current)||void 0===e?void 0:e.nativeElement):null)||RF(a.current)};m.useImperativeHandle(t,(function(){return d()}));var p=m.useRef(e);p.current=e;var v=m.useCallback((function(e){var t=p.current,n=t.onResize,r=t.data,i=e.getBoundingClientRect(),a=i.width,s=i.height,l=e.offsetWidth,c=e.offsetHeight,h=Math.floor(a),f=Math.floor(s);if(u.current.width!==h||u.current.height!==f||u.current.offsetWidth!==l||u.current.offsetHeight!==c){var d={width:h,height:f,offsetWidth:l,offsetHeight:c};u.current=d;var v=l===Math.round(a)?a:l,g=c===Math.round(s)?s:c,m=yn(yn({},d),{},{offsetWidth:v,offsetHeight:g});null===o||void 0===o||o(m,e,r),n&&Promise.resolve().then((function(){n(m,e)}))}}),[]);return m.useEffect((function(){var e,t,n=d();return n&&!r&&(e=n,t=v,xj.has(e)||(xj.set(e,new Set),kj.observe(e)),xj.get(e).add(t)),function(){return function(e,t){xj.has(e)&&(xj.get(e).delete(t),xj.get(e).size||(kj.unobserve(e),xj.delete(e)))}(n,v)}}),[i.current,r]),m.createElement(wj,{ref:a},c?m.cloneElement(l,{ref:f}):l)}var Ej=m.forwardRef(Sj);function _j(e,t){var n=e.children;return("function"===typeof n?[n]:JG(n)).map((function(n,r){var i=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return m.createElement(Ej,QI({},e,{key:i,ref:0===r?t:void 0}),n)}))}var Mj=m.forwardRef(_j);Mj.Collection=function(e){var t=e.children,n=e.onBatchResize,r=m.useRef(0),i=m.useRef([]),a=m.useContext(ZG),o=m.useCallback((function(e,t,o){r.current+=1;var s=r.current;i.current.push({size:e,element:t,data:o}),Promise.resolve().then((function(){s===r.current&&(null===n||void 0===n||n(i.current),i.current=[])})),null===a||void 0===a||a(e,t,o)}),[n,a]);return m.createElement(ZG.Provider,{value:o},t)};var Tj=Mj;var Cj=0;var Aj=yn({},y).useId,Pj=Aj?function(e){var t=Aj();return e||t}:function(e){var t=R(m.useState("ssr-id"),2),n=t[0],r=t[1];return m.useEffect((function(){var e=Cj;Cj+=1,r("rc_unique_".concat(e))}),[]),e||n},Oj=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4))};function Rj(e){var t=e.prefixCls,n=e.align,r=e.arrow,i=e.arrowPos,a=r||{},o=a.className,s=a.content,l=i.x,u=void 0===l?0:l,c=i.y,h=void 0===c?0:c,f=m.useRef();if(!n||!n.points)return null;var d={position:"absolute"};if(!1!==n.autoArrow){var p=n.points[0],v=n.points[1],g=p[0],y=p[1],b=v[0],x=v[1];g!==b&&["t","b"].includes(g)?"t"===g?d.top=0:d.bottom=0:d.top=h,y!==x&&["l","r"].includes(y)?"l"===y?d.left=0:d.right=0:d.left=u}return m.createElement("div",{ref:f,className:nD()("".concat(t,"-arrow"),o),style:d},s)}function Lj(e){var t=e.prefixCls,n=e.open,r=e.zIndex,i=e.mask,a=e.motion;return i?m.createElement(rB,QI({},a,{motionAppear:!0,visible:n,removeOnLeave:!0}),(function(e){var n=e.className;return m.createElement("div",{style:{zIndex:r},className:nD()("".concat(t,"-mask"),n)})})):null}var Nj=m.memo((function(e){return e.children}),(function(e,t){return t.cache}));var Ij=Nj,Dj=m.forwardRef((function(e,t){var n=e.popup,r=e.className,i=e.prefixCls,a=e.style,o=e.target,s=e.onVisibleChanged,l=e.open,u=e.keepDom,c=e.fresh,h=e.onClick,f=e.mask,d=e.arrow,p=e.arrowPos,v=e.align,g=e.motion,y=e.maskMotion,b=e.forceRender,x=e.getPopupContainer,k=e.autoDestroy,w=e.portal,S=e.zIndex,E=e.onMouseEnter,_=e.onMouseLeave,M=e.onPointerEnter,T=e.onPointerDownCapture,C=e.ready,A=e.offsetX,P=e.offsetY,O=e.offsetR,L=e.offsetB,N=e.onAlign,I=e.onPrepare,D=e.stretch,F=e.targetWidth,U=e.targetHeight,B="function"===typeof n?n():n,z=l||u,H=(null===x||void 0===x?void 0:x.length)>0,G=R(m.useState(!x||!H),2),j=G[0],V=G[1];if($F((function(){!j&&H&&o&&V(!0)}),[j,H,o]),!j)return null;var W="auto",X={left:"-1000vw",top:"-1000vh",right:W,bottom:W};if(C||!l){var q,Y=v.points,K=v.dynamicInset||(null===(q=v._experimental)||void 0===q?void 0:q.dynamicInset),J=K&&"r"===Y[0][1],Z=K&&"b"===Y[0][0];J?(X.right=O,X.left=W):(X.left=A,X.right=W),Z?(X.bottom=L,X.top=W):(X.top=P,X.bottom=W)}var Q={};return D&&(D.includes("height")&&U?Q.height=U:D.includes("minHeight")&&U&&(Q.minHeight=U),D.includes("width")&&F?Q.width=F:D.includes("minWidth")&&F&&(Q.minWidth=F)),l||(Q.pointerEvents="none"),m.createElement(w,{open:b||z,getContainer:x&&function(){return x(o)},autoDestroy:k},m.createElement(Lj,{prefixCls:i,open:l,zIndex:S,mask:f,motion:y}),m.createElement(Tj,{onResize:N,disabled:!l},(function(e){return m.createElement(rB,QI({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:b,leavedClassName:"".concat(i,"-hidden")},g,{onAppearPrepare:I,onEnterPrepare:I,visible:l,onVisibleChanged:function(e){var t;null===g||void 0===g||null===(t=g.onVisibleChanged)||void 0===t||t.call(g,e),s(e)}}),(function(n,o){var s=n.className,u=n.style,f=nD()(i,s,r);return m.createElement("div",{ref:zF(e,t,o),className:f,style:yn(yn(yn(yn({"--arrow-x":"".concat(p.x||0,"px"),"--arrow-y":"".concat(p.y||0,"px")},X),Q),u),{},{boxSizing:"border-box",zIndex:S},a),onMouseEnter:E,onMouseLeave:_,onPointerEnter:M,onClick:h,onPointerDownCapture:T},d&&m.createElement(Rj,{prefixCls:i,arrow:d,arrowPos:p,align:v}),m.createElement(Ij,{cache:!l&&!c},B))}))})))}));var Fj=Dj,Uj=m.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,i=GF(n),a=m.useCallback((function(e){BF(t,r?r(e):e)}),[r]),o=HF(a,VF(n));return i?m.cloneElement(n,{ref:o}):n}));var Bj=Uj,zj=m.createContext(null);function Hj(e){return e?Array.isArray(e)?e:[e]:[]}var Gj=function(e){if(!e)return!1;if(e instanceof Element){if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox(),n=t.width,r=t.height;if(n||r)return!0}if(e.getBoundingClientRect){var i=e.getBoundingClientRect(),a=i.width,o=i.height;if(a||o)return!0}}return!1};function jj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Vj(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function Wj(e){return e.ownerDocument.defaultView}function Xj(e){for(var t=[],n=null===e||void 0===e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var i=Wj(n).getComputedStyle(n);[i.overflowX,i.overflowY,i.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function qj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function Yj(e){return qj(parseFloat(e),0)}function Kj(e,t){var n=yn({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=Wj(e).getComputedStyle(e),r=t.overflow,i=t.overflowClipMargin,a=t.borderTopWidth,o=t.borderBottomWidth,s=t.borderLeftWidth,l=t.borderRightWidth,u=e.getBoundingClientRect(),c=e.offsetHeight,h=e.clientHeight,f=e.offsetWidth,d=e.clientWidth,p=Yj(a),v=Yj(o),g=Yj(s),m=Yj(l),y=qj(Math.round(u.width/f*1e3)/1e3),b=qj(Math.round(u.height/c*1e3)/1e3),x=(f-d-g-m)*y,k=(c-h-p-v)*b,w=p*b,S=v*b,E=g*y,_=m*y,M=0,T=0;if("clip"===r){var C=Yj(i);M=C*y,T=C*b}var A=u.x+E-M,P=u.y+w-T,O=A+u.width+2*M-E-_-x,R=P+u.height+2*T-w-S-k;n.left=Math.max(n.left,A),n.top=Math.max(n.top,P),n.right=Math.min(n.right,O),n.bottom=Math.min(n.bottom,R)}})),n}function Jj(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function Zj(e,t){var n=R(t||[],2),r=n[0],i=n[1];return[Jj(e.width,r),Jj(e.height,i)]}function Qj(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function $j(e,t){var n,r=t[0],i=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===i?e.x:"r"===i?e.x+e.width:e.x+e.width/2,y:n}}function eV(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var tV=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];var nV=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:KG,t=m.forwardRef((function(t,n){var r=t.prefixCls,i=void 0===r?"rc-trigger-popup":r,a=t.children,o=t.action,s=void 0===o?"hover":o,l=t.showAction,u=t.hideAction,c=t.popupVisible,h=t.defaultPopupVisible,f=t.onPopupVisibleChange,d=t.afterPopupVisibleChange,p=t.mouseEnterDelay,v=t.mouseLeaveDelay,g=void 0===v?.1:v,y=t.focusDelay,b=t.blurDelay,x=t.mask,k=t.maskClosable,w=void 0===k||k,S=t.getPopupContainer,E=t.forceRender,_=t.autoDestroy,M=t.destroyPopupOnHide,T=t.popup,C=t.popupClassName,A=t.popupStyle,P=t.popupPlacement,O=t.builtinPlacements,L=void 0===O?{}:O,N=t.popupAlign,I=t.zIndex,D=t.stretch,F=t.getPopupClassNameFromAlign,U=t.fresh,B=t.alignPoint,z=t.onPopupClick,H=t.onPopupAlign,G=t.arrow,j=t.popupMotion,V=t.maskMotion,W=t.popupTransitionName,X=t.popupAnimation,q=t.maskTransitionName,K=t.maskAnimation,J=t.className,Z=t.getTriggerDOMNode,Q=eD(t,tV),$=_||M||!1,ee=R(m.useState(!1),2),te=ee[0],ne=ee[1];$F((function(){ne(Oj())}),[]);var re=m.useRef({}),ie=m.useContext(zj),ae=m.useMemo((function(){return{registerSubPopup:function(e,t){re.current[e]=t,null===ie||void 0===ie||ie.registerSubPopup(e,t)}}}),[ie]),oe=Pj(),se=R(m.useState(null),2),le=se[0],ue=se[1],ce=m.useRef(null),he=KF((function(e){ce.current=e,OF(e)&&le!==e&&ue(e),null===ie||void 0===ie||ie.registerSubPopup(oe,e)})),fe=R(m.useState(null),2),de=fe[0],pe=fe[1],ve=m.useRef(null),ge=KF((function(e){OF(e)&&de!==e&&(pe(e),ve.current=e)})),me=m.Children.only(a),ye=(null===me||void 0===me?void 0:me.props)||{},be={},xe=KF((function(e){var t,n,r=de;return(null===r||void 0===r?void 0:r.contains(e))||(null===(t=lF(r))||void 0===t?void 0:t.host)===e||e===r||(null===le||void 0===le?void 0:le.contains(e))||(null===(n=lF(le))||void 0===n?void 0:n.host)===e||e===le||Object.values(re.current).some((function(t){return(null===t||void 0===t?void 0:t.contains(e))||e===t}))})),ke=Vj(i,j,X,W),we=Vj(i,V,K,q),Se=R(m.useState(h||!1),2),Ee=Se[0],_e=Se[1],Me=null!==c&&void 0!==c?c:Ee,Te=KF((function(e){void 0===c&&_e(e)}));$F((function(){_e(c||!1)}),[c]);var Ce=m.useRef(Me);Ce.current=Me;var Ae=m.useRef([]);Ae.current=[];var Pe=KF((function(e){var t;Te(e),(null!==(t=Ae.current[Ae.current.length-1])&&void 0!==t?t:Me)!==e&&(Ae.current.push(e),null===f||void 0===f||f(e))})),Oe=m.useRef(),Re=function(){clearTimeout(Oe.current)},Le=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Re(),0===t?Pe(e):Oe.current=setTimeout((function(){Pe(e)}),1e3*t)};m.useEffect((function(){return Re}),[]);var Ne=R(m.useState(!1),2),Ie=Ne[0],De=Ne[1];$F((function(e){e&&!Me||De(!0)}),[Me]);var Fe=R(m.useState(null),2),Ue=Fe[0],Be=Fe[1],ze=R(m.useState(null),2),He=ze[0],Ge=ze[1],je=function(e){Ge([e.clientX,e.clientY])},Ve=function(e,t,n,r,i,a,o){var s=R(m.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[r]||{}}),2),l=s[0],u=s[1],c=m.useRef(0),h=m.useMemo((function(){return t?Xj(t):[]}),[t]),f=m.useRef({});e||(f.current={});var d=KF((function(){if(t&&n&&e){var s,l,c,d,p,v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ee,r=N.x+e,i=N.y+t,a=r+j,o=i+G,s=Math.max(r,n.left),l=Math.max(i,n.top),u=Math.min(a,n.right),c=Math.min(o,n.bottom);return Math.max(0,(u-s)*(c-l))},g=function(){de=N.y+_e,pe=de+G,ve=N.x+Ee,ge=ve+j},m=t,y=m.ownerDocument,b=Wj(m).getComputedStyle(m),x=b.width,k=b.height,w=b.position,S=m.style.left,E=m.style.top,_=m.style.right,M=m.style.bottom,T=m.style.overflow,C=yn(yn({},i[r]),a),A=y.createElement("div");if(null===(s=m.parentElement)||void 0===s||s.appendChild(A),A.style.left="".concat(m.offsetLeft,"px"),A.style.top="".concat(m.offsetTop,"px"),A.style.position=w,A.style.height="".concat(m.offsetHeight,"px"),A.style.width="".concat(m.offsetWidth,"px"),m.style.left="0",m.style.top="0",m.style.right="auto",m.style.bottom="auto",m.style.overflow="hidden",Array.isArray(n))p={x:n[0],y:n[1],width:0,height:0};else{var P,O,L=n.getBoundingClientRect();L.x=null!==(P=L.x)&&void 0!==P?P:L.left,L.y=null!==(O=L.y)&&void 0!==O?O:L.top,p={x:L.x,y:L.y,width:L.width,height:L.height}}var N=m.getBoundingClientRect();N.x=null!==(l=N.x)&&void 0!==l?l:N.left,N.y=null!==(c=N.y)&&void 0!==c?c:N.top;var I=y.documentElement,D=I.clientWidth,F=I.clientHeight,U=I.scrollWidth,B=I.scrollHeight,z=I.scrollTop,H=I.scrollLeft,G=N.height,j=N.width,V=p.height,W=p.width,X={left:0,top:0,right:D,bottom:F},q={left:-H,top:-z,right:U-H,bottom:B-z},Y=C.htmlRegion,K="visible",J="visibleFirst";"scroll"!==Y&&Y!==J&&(Y=K);var Z=Y===J,Q=Kj(q,h),$=Kj(X,h),ee=Y===K?$:Q,te=Z?$:ee;m.style.left="auto",m.style.top="auto",m.style.right="0",m.style.bottom="0";var ne=m.getBoundingClientRect();m.style.left=S,m.style.top=E,m.style.right=_,m.style.bottom=M,m.style.overflow=T,null===(d=m.parentElement)||void 0===d||d.removeChild(A);var re=qj(Math.round(j/parseFloat(x)*1e3)/1e3),ie=qj(Math.round(G/parseFloat(k)*1e3)/1e3);if(0===re||0===ie||OF(n)&&!Gj(n))return;var ae=C.offset,oe=C.targetOffset,se=R(Zj(N,ae),2),le=se[0],ue=se[1],ce=R(Zj(p,oe),2),he=ce[0],fe=ce[1];p.x-=he,p.y-=fe;var de,pe,ve,ge,me=R(C.points||[],2),ye=me[0],be=Qj(me[1]),xe=Qj(ye),ke=$j(p,be),we=$j(N,xe),Se=yn({},C),Ee=ke.x-we.x+le,_e=ke.y-we.y+ue,Me=v(Ee,_e),Te=v(Ee,_e,$),Ce=$j(p,["t","l"]),Ae=$j(N,["t","l"]),Pe=$j(p,["b","r"]),Oe=$j(N,["b","r"]),Re=C.overflow||{},Le=Re.adjustX,Ne=Re.adjustY,Ie=Re.shiftX,De=Re.shiftY,Fe=function(e){return"boolean"===typeof e?e:e>=0};g();var Ue=Fe(Ne),Be=xe[0]===be[0];if(Ue&&"t"===xe[0]&&(pe>te.bottom||f.current.bt)){var ze=_e;Be?ze-=G-V:ze=Ce.y-Oe.y-ue;var He=v(Ee,ze),Ge=v(Ee,ze,$);He>Me||He===Me&&(!Z||Ge>=Te)?(f.current.bt=!0,_e=ze,ue=-ue,Se.points=[eV(xe,0),eV(be,0)]):f.current.bt=!1}if(Ue&&"b"===xe[0]&&(de<te.top||f.current.tb)){var je=_e;Be?je+=G-V:je=Pe.y-Ae.y-ue;var Ve=v(Ee,je),We=v(Ee,je,$);Ve>Me||Ve===Me&&(!Z||We>=Te)?(f.current.tb=!0,_e=je,ue=-ue,Se.points=[eV(xe,0),eV(be,0)]):f.current.tb=!1}var Xe=Fe(Le),qe=xe[1]===be[1];if(Xe&&"l"===xe[1]&&(ge>te.right||f.current.rl)){var Ye=Ee;qe?Ye-=j-W:Ye=Ce.x-Oe.x-le;var Ke=v(Ye,_e),Je=v(Ye,_e,$);Ke>Me||Ke===Me&&(!Z||Je>=Te)?(f.current.rl=!0,Ee=Ye,le=-le,Se.points=[eV(xe,1),eV(be,1)]):f.current.rl=!1}if(Xe&&"r"===xe[1]&&(ve<te.left||f.current.lr)){var Ze=Ee;qe?Ze+=j-W:Ze=Pe.x-Ae.x-le;var Qe=v(Ze,_e),$e=v(Ze,_e,$);Qe>Me||Qe===Me&&(!Z||$e>=Te)?(f.current.lr=!0,Ee=Ze,le=-le,Se.points=[eV(xe,1),eV(be,1)]):f.current.lr=!1}g();var et=!0===Ie?0:Ie;"number"===typeof et&&(ve<$.left&&(Ee-=ve-$.left-le,p.x+W<$.left+et&&(Ee+=p.x-$.left+W-et)),ge>$.right&&(Ee-=ge-$.right-le,p.x>$.right-et&&(Ee+=p.x-$.right+et)));var tt=!0===De?0:De;"number"===typeof tt&&(de<$.top&&(_e-=de-$.top-ue,p.y+V<$.top+tt&&(_e+=p.y-$.top+V-tt)),pe>$.bottom&&(_e-=pe-$.bottom-ue,p.y>$.bottom-tt&&(_e+=p.y-$.bottom+tt)));var nt=N.x+Ee,rt=nt+j,it=N.y+_e,at=it+G,ot=p.x,st=ot+W,lt=p.y,ut=lt+V,ct=(Math.max(nt,ot)+Math.min(rt,st))/2-nt,ht=(Math.max(it,lt)+Math.min(at,ut))/2-it;null===o||void 0===o||o(t,Se);var ft=ne.right-N.x-(Ee+N.width),dt=ne.bottom-N.y-(_e+N.height);1===re&&(Ee=Math.round(Ee),ft=Math.round(ft)),1===ie&&(_e=Math.round(_e),dt=Math.round(dt)),u({ready:!0,offsetX:Ee/re,offsetY:_e/ie,offsetR:ft/re,offsetB:dt/ie,arrowX:ct/re,arrowY:ht/ie,scaleX:re,scaleY:ie,align:Se})}})),p=function(){u((function(e){return yn(yn({},e),{},{ready:!1})}))};return $F(p,[r]),$F((function(){e||p()}),[e]),[l.ready,l.offsetX,l.offsetY,l.offsetR,l.offsetB,l.arrowX,l.arrowY,l.scaleX,l.scaleY,l.align,function(){c.current+=1;var e=c.current;Promise.resolve().then((function(){c.current===e&&d()}))}]}(Me,le,B&&null!==He?He:de,P,L,N,H),We=R(Ve,11),Xe=We[0],qe=We[1],Ye=We[2],Ke=We[3],Je=We[4],Ze=We[5],Qe=We[6],$e=We[7],et=We[8],tt=We[9],nt=We[10],rt=function(e,t,n,r){return m.useMemo((function(){var i=Hj(null!==n&&void 0!==n?n:t),a=Hj(null!==r&&void 0!==r?r:t),o=new Set(i),s=new Set(a);return e&&(o.has("hover")&&(o.delete("hover"),o.add("click")),s.has("hover")&&(s.delete("hover"),s.add("click"))),[o,s]}),[e,t,n,r])}(te,s,l,u),it=R(rt,2),at=it[0],ot=it[1],st=at.has("click"),lt=ot.has("click")||ot.has("contextMenu"),ut=KF((function(){Ie||nt()}));!function(e,t,n,r,i){$F((function(){if(e&&t&&n){var a=function(){r(),i()},o=n,s=Xj(t),l=Xj(o),u=Wj(o),c=new Set([u].concat(Y(s),Y(l)));return c.forEach((function(e){e.addEventListener("scroll",a,{passive:!0})})),u.addEventListener("resize",a,{passive:!0}),r(),function(){c.forEach((function(e){e.removeEventListener("scroll",a),u.removeEventListener("resize",a)}))}}}),[e,t,n])}(Me,de,le,ut,(function(){Ce.current&&B&&lt&&Le(!1)})),$F((function(){ut()}),[He,P]),$F((function(){!Me||null!==L&&void 0!==L&&L[P]||ut()}),[JSON.stringify(N)]);var ct=m.useMemo((function(){var e=function(e,t,n,r){for(var i=n.points,a=Object.keys(e),o=0;o<a.length;o+=1){var s,l=a[o];if(jj(null===(s=e[l])||void 0===s?void 0:s.points,i,r))return"".concat(t,"-placement-").concat(l)}return""}(L,i,tt,B);return nD()(e,null===F||void 0===F?void 0:F(tt))}),[tt,F,L,i,B]);m.useImperativeHandle(n,(function(){return{nativeElement:ve.current,popupElement:ce.current,forceAlign:ut}}));var ht=R(m.useState(0),2),ft=ht[0],dt=ht[1],pt=R(m.useState(0),2),vt=pt[0],gt=pt[1],mt=function(){if(D&&de){var e=de.getBoundingClientRect();dt(e.width),gt(e.height)}};function yt(e,t,n,r){be[e]=function(i){var a;null===r||void 0===r||r(i),Le(t,n);for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];null===(a=ye[e])||void 0===a||a.call.apply(a,[ye,i].concat(s))}}$F((function(){Ue&&(nt(),Ue(),Be(null))}),[Ue]),(st||lt)&&(be.onClick=function(e){var t;Ce.current&&lt?Le(!1):!Ce.current&&st&&(je(e),Le(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=ye.onClick)||void 0===t||t.call.apply(t,[ye,e].concat(r))});var bt,xt,kt=function(e,t,n,r,i,a,o,s){var l=m.useRef(e);l.current=e;var u=m.useRef(!1);return m.useEffect((function(){if(t&&r&&(!i||a)){var e=function(){u.current=!1},c=function(e){var t;!l.current||o((null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target)||u.current||s(!1)},h=Wj(r);h.addEventListener("pointerdown",e,!0),h.addEventListener("mousedown",c,!0),h.addEventListener("contextmenu",c,!0);var f=lF(n);return f&&(f.addEventListener("mousedown",c,!0),f.addEventListener("contextmenu",c,!0)),function(){h.removeEventListener("pointerdown",e,!0),h.removeEventListener("mousedown",c,!0),h.removeEventListener("contextmenu",c,!0),f&&(f.removeEventListener("mousedown",c,!0),f.removeEventListener("contextmenu",c,!0))}}}),[t,n,r,i,a]),function(){u.current=!0}}(Me,lt,de,le,x,w,xe,Le),wt=at.has("hover"),St=ot.has("hover");wt&&(yt("onMouseEnter",!0,p,(function(e){je(e)})),yt("onPointerEnter",!0,p,(function(e){je(e)})),bt=function(e){(Me||Ie)&&null!==le&&void 0!==le&&le.contains(e.target)&&Le(!0,p)},B&&(be.onMouseMove=function(e){var t;null===(t=ye.onMouseMove)||void 0===t||t.call(ye,e)})),St&&(yt("onMouseLeave",!1,g),yt("onPointerLeave",!1,g),xt=function(){Le(!1,g)}),at.has("focus")&&yt("onFocus",!0,y),ot.has("focus")&&yt("onBlur",!1,b),at.has("contextMenu")&&(be.onContextMenu=function(e){var t;Ce.current&&ot.has("contextMenu")?Le(!1):(je(e),Le(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=ye.onContextMenu)||void 0===t||t.call.apply(t,[ye,e].concat(r))}),J&&(be.className=nD()(ye.className,J));var Et=yn(yn({},ye),be),_t={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){Q[e]&&(_t[e]=function(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];null===(t=Et[e])||void 0===t||t.call.apply(t,[Et].concat(r)),Q[e].apply(Q,r)})}));var Mt=m.cloneElement(me,yn(yn({},Et),_t)),Tt={x:Ze,y:Qe},Ct=G?yn({},!0!==G?G:{}):null;return m.createElement(m.Fragment,null,m.createElement(Tj,{disabled:!Me,ref:ge,onResize:function(){mt(),ut()}},m.createElement(Bj,{getTriggerDOMNode:Z},Mt)),m.createElement(zj.Provider,{value:ae},m.createElement(Fj,{portal:e,ref:he,prefixCls:i,popup:T,className:nD()(C,ct),style:A,target:de,onMouseEnter:bt,onMouseLeave:xt,onPointerEnter:bt,zIndex:I,open:Me,keepDom:Ie,fresh:U,onClick:z,onPointerDownCapture:kt,mask:x,motion:ke,maskMotion:we,onVisibleChanged:function(e){De(!1),nt(),null===d||void 0===d||d(e)},onPrepare:function(){return new Promise((function(e){mt(),Be((function(){return e}))}))},forceRender:E,autoDestroy:$,getPopupContainer:S,align:tt,arrow:Ct,arrowPos:Tt,ready:Xe,offsetX:qe,offsetY:Ye,offsetR:Ke,offsetB:Je,onAlign:ut,stretch:D,targetWidth:ft/$e,targetHeight:vt/et})))}));return t}(KG),rV={shiftX:64,adjustY:1},iV={adjustX:1,shiftY:!0},aV=[0,0],oV={left:{points:["cr","cl"],overflow:iV,offset:[-4,0],targetOffset:aV},right:{points:["cl","cr"],overflow:iV,offset:[4,0],targetOffset:aV},top:{points:["bc","tc"],overflow:rV,offset:[0,-4],targetOffset:aV},bottom:{points:["tc","bc"],overflow:rV,offset:[0,4],targetOffset:aV},topLeft:{points:["bl","tl"],overflow:rV,offset:[0,-4],targetOffset:aV},leftTop:{points:["tr","tl"],overflow:iV,offset:[-4,0],targetOffset:aV},topRight:{points:["br","tr"],overflow:rV,offset:[0,-4],targetOffset:aV},rightTop:{points:["tl","tr"],overflow:iV,offset:[4,0],targetOffset:aV},bottomRight:{points:["tr","br"],overflow:rV,offset:[0,4],targetOffset:aV},rightBottom:{points:["bl","br"],overflow:iV,offset:[4,0],targetOffset:aV},bottomLeft:{points:["tl","bl"],overflow:rV,offset:[0,4],targetOffset:aV},leftBottom:{points:["br","bl"],overflow:iV,offset:[-4,0],targetOffset:aV}},sV=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow","classNames","styles"],lV=function(e,t){var n=e.overlayClassName,r=e.trigger,i=void 0===r?["hover"]:r,a=e.mouseEnterDelay,o=void 0===a?0:a,s=e.mouseLeaveDelay,l=void 0===s?.1:s,u=e.overlayStyle,c=e.prefixCls,h=void 0===c?"rc-tooltip":c,f=e.children,d=e.onVisibleChange,p=e.afterVisibleChange,v=e.transitionName,g=e.animation,y=e.motion,b=e.placement,x=void 0===b?"right":b,k=e.align,w=void 0===k?{}:k,S=e.destroyTooltipOnHide,E=void 0!==S&&S,_=e.defaultVisible,M=e.getTooltipContainer,T=e.overlayInnerStyle,C=(e.arrowContent,e.overlay),A=e.id,P=e.showArrow,O=void 0===P||P,R=e.classNames,L=e.styles,N=eD(e,sV),I=(0,m.useRef)(null);(0,m.useImperativeHandle)(t,(function(){return I.current}));var D=yn({},N);"visible"in e&&(D.popupVisible=e.visible);return m.createElement(nV,QI({popupClassName:nD()(n,null===R||void 0===R?void 0:R.root),prefixCls:h,popup:function(){return m.createElement(BG,{key:"content",prefixCls:h,id:A,bodyClassName:null===R||void 0===R?void 0:R.body,overlayInnerStyle:yn(yn({},T),null===L||void 0===L?void 0:L.body)},C)},action:i,builtinPlacements:oV,popupPlacement:x,ref:I,popupAlign:w,getPopupContainer:M,onPopupVisibleChange:d,afterPopupVisibleChange:p,popupTransitionName:v,popupAnimation:g,popupMotion:y,defaultPopupVisible:_,autoDestroy:E,mouseLeaveDelay:l,popupStyle:yn(yn({},u),null===L||void 0===L?void 0:L.root),mouseEnterDelay:o,arrow:O},D),f)},uV=(0,m.forwardRef)(lV),cV="RC_FORM_INTERNAL_HOOKS",hV=function(){vF(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},fV=m.createContext({getFieldValue:hV,getFieldsValue:hV,getFieldError:hV,getFieldWarning:hV,getFieldsError:hV,isFieldsTouched:hV,isFieldTouched:hV,isFieldValidating:hV,isFieldsValidating:hV,resetFields:hV,setFields:hV,setFieldValue:hV,setFieldsValue:hV,validateFields:hV,submit:hV,getInternalHooks:function(){return hV(),{dispatch:hV,initEntityValue:hV,registerField:hV,useSubscribe:hV,setInitialValues:hV,destroyForm:hV,setCallbacks:hV,registerWatch:hV,getFields:hV,setValidateMessages:hV,setPreserve:hV,getInitialValue:hV}}}),dV=m.createContext(null);function pV(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function vV(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var gV=vV(),mV=/%[sdj%]/g;function yV(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function bV(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,a=n.length;return"function"===typeof e?e.apply(null,n):"string"===typeof e?e.replace(mV,(function(e){if("%%"===e)return"%";if(i>=a)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}break;default:return e}})):e}function xV(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function kV(e,t,n){var r=0,i=e.length;!function a(o){if(o&&o.length)n(o);else{var s=r;r+=1,s<i?t(e[s],a):n([])}}([])}var wV=function(e){G(n,e);var t=XF(n);function n(e,r){var i;return T(this,n),j(U(i=t.call(this,"Async Validation Error")),"errors",void 0),j(U(i),"fields",void 0),i.errors=e,i.fields=r,i}return M(n)}(V(Error));function SV(e,t,n,r,i){if(t.first){var a=new Promise((function(t,a){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,Y(e[n]||[]))})),t}(e);kV(o,n,(function(e){return r(e),e.length?a(new wV(e,yV(e))):t(i)}))}));return a.catch((function(e){return e})),a}var o=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),l=s.length,u=0,c=[],h=new Promise((function(t,a){var h=function(e){if(c.push.apply(c,e),++u===l)return r(c),c.length?a(new wV(c,yV(c))):t(i)};s.length||(r(c),t(i)),s.forEach((function(t){var r=e[t];-1!==o.indexOf(t)?kV(r,n,h):function(e,t,n){var r=[],i=0,a=e.length;function o(e){r.push.apply(r,Y(e||[])),++i===a&&n(r)}e.forEach((function(e){t(e,o)}))}(r,n,h)}))}));return h.catch((function(e){return e})),h}function EV(e,t){return function(n){var r,i;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(i=n)&&void 0!==i.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function _V(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===x(r)&&"object"===x(e[n])?e[n]=yn(yn({},e[n]),r):e[n]=r}return e}var MV,TV="enum",CV=function(e,t,n,r,i){e[TV]=Array.isArray(e[TV])?e[TV]:[],-1===e[TV].indexOf(t)&&r.push(bV(i.messages[TV],e.fullField,e[TV].join(", ")))},AV=function(e,t,n,r,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(bV(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(bV(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}},PV=function(e,t,n,r,i){var a="number"===typeof e.len,o="number"===typeof e.min,s="number"===typeof e.max,l=t,u=null,c="number"===typeof t,h="string"===typeof t,f=Array.isArray(t);if(c?u="number":h?u="string":f&&(u="array"),!u)return!1;f&&(l=t.length),h&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),a?l!==e.len&&r.push(bV(i.messages[u].len,e.fullField,e.len)):o&&!s&&l<e.min?r.push(bV(i.messages[u].min,e.fullField,e.min)):s&&!o&&l>e.max?r.push(bV(i.messages[u].max,e.fullField,e.max)):o&&s&&(l<e.min||l>e.max)&&r.push(bV(i.messages[u].range,e.fullField,e.min,e.max))},OV=function(e,t,n,r,i,a){!e.required||n.hasOwnProperty(e.field)&&!xV(t,a||e.type)||r.push(bV(i.messages.required,e.fullField))},RV=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,LV=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,NV={integer:function(e){return NV.number(e)&&parseInt(e,10)===e},float:function(e){return NV.number(e)&&!NV.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(cQ){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===x(e)&&!NV.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(RV)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(function(){if(MV)return MV;var e="[a-fA-F\\d:]",t=function(t){return t&&t.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(e,")|(?<=").concat(e,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(n,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(n,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(n,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(n,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(n,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(n,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(n,"|(?::").concat(r,"){1,7}|:))")],a="(?:".concat(i.join("|"),")").concat("(?:%[0-9a-zA-Z]{1,})?"),o=new RegExp("(?:^".concat(n,"$)|(?:^").concat(a,"$)")),s=new RegExp("^".concat(n,"$")),l=new RegExp("^".concat(a,"$")),u=function(e){return e&&e.exact?o:new RegExp("(?:".concat(t(e)).concat(n).concat(t(e),")|(?:").concat(t(e)).concat(a).concat(t(e),")"),"g")};u.v4=function(e){return e&&e.exact?s:new RegExp("".concat(t(e)).concat(n).concat(t(e)),"g")},u.v6=function(e){return e&&e.exact?l:new RegExp("".concat(t(e)).concat(a).concat(t(e)),"g")};var c=u.v4().source,h=u.v6().source,f="(?:".concat("(?:(?:[a-z]+:)?//)","|www\\.)").concat("(?:\\S+(?::\\S*)?@)?","(?:localhost|").concat(c,"|").concat(h,"|").concat("(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)").concat("(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*").concat("(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",")").concat("(?::\\d{2,5})?").concat('(?:[/?#][^\\s"]*)?');return MV=new RegExp("(?:^".concat(f,"$)"),"i")}())},hex:function(e){return"string"===typeof e&&!!e.match(LV)}},IV=function(e,t,n,r,i){if(e.required&&void 0===t)OV(e,t,n,r,i);else{var a=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(a)>-1?NV[a](t)||r.push(bV(i.messages.types[a],e.fullField,e.type)):a&&x(t)!==e.type&&r.push(bV(i.messages.types[a],e.fullField,e.type))}},DV=function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(bV(i.messages.whitespace,e.fullField))},FV={required:OV,whitespace:DV,type:IV,range:PV,enum:CV,pattern:AV},UV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t)&&!e.required)return n();FV.required(e,t,r,a,i)}n(a)},BV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();FV.required(e,t,r,a,i,"array"),void 0!==t&&null!==t&&(FV.type(e,t,r,a,i),FV.range(e,t,r,a,i))}n(a)},zV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t)&&!e.required)return n();FV.required(e,t,r,a,i),void 0!==t&&FV.type(e,t,r,a,i)}n(a)},HV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t,"date")&&!e.required)return n();var o;if(FV.required(e,t,r,a,i),!xV(t,"date"))o=t instanceof Date?t:new Date(t),FV.type(e,o,r,a,i),o&&FV.range(e,o.getTime(),r,a,i)}n(a)},GV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t)&&!e.required)return n();FV.required(e,t,r,a,i),void 0!==t&&FV.enum(e,t,r,a,i)}n(a)},jV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t)&&!e.required)return n();FV.required(e,t,r,a,i),void 0!==t&&(FV.type(e,t,r,a,i),FV.range(e,t,r,a,i))}n(a)},VV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t)&&!e.required)return n();FV.required(e,t,r,a,i),void 0!==t&&(FV.type(e,t,r,a,i),FV.range(e,t,r,a,i))}n(a)},WV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t)&&!e.required)return n();FV.required(e,t,r,a,i),void 0!==t&&FV.type(e,t,r,a,i)}n(a)},XV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),xV(t)&&!e.required)return n();FV.required(e,t,r,a,i),void 0!==t&&(FV.type(e,t,r,a,i),FV.range(e,t,r,a,i))}n(a)},qV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t)&&!e.required)return n();FV.required(e,t,r,a,i),void 0!==t&&FV.type(e,t,r,a,i)}n(a)},YV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t,"string")&&!e.required)return n();FV.required(e,t,r,a,i),xV(t,"string")||FV.pattern(e,t,r,a,i)}n(a)},KV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t)&&!e.required)return n();FV.required(e,t,r,a,i),xV(t)||FV.type(e,t,r,a,i)}n(a)},JV=function(e,t,n,r,i){var a=[],o=Array.isArray(t)?"array":x(t);FV.required(e,t,r,a,i,o),n(a)},ZV=function(e,t,n,r,i){var a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t,"string")&&!e.required)return n();FV.required(e,t,r,a,i,"string"),xV(t,"string")||(FV.type(e,t,r,a,i),FV.range(e,t,r,a,i),FV.pattern(e,t,r,a,i),!0===e.whitespace&&FV.whitespace(e,t,r,a,i))}n(a)},QV=function(e,t,n,r,i){var a=e.type,o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(xV(t,a)&&!e.required)return n();FV.required(e,t,r,o,i,a),xV(t,a)||FV.type(e,t,r,o,i)}n(o)},$V={string:ZV,method:WV,number:XV,boolean:zV,regexp:KV,integer:VV,float:jV,array:BV,object:qV,enum:GV,pattern:YV,date:HV,url:QV,hex:QV,email:QV,required:JV,any:UV},eW=function(){function e(t){T(this,e),j(this,"rules",null),j(this,"_messages",gV),this.define(t)}return M(e,[{key:"define",value:function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==x(e)||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))}},{key:"messages",value:function(e){return e&&(this._messages=_V(vV(),e)),this._messages}},{key:"validate",value:function(t){var n=this,r=t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if("function"===typeof i&&(a=i,i={}),!this.rules||0===Object.keys(this.rules).length)return a&&a(null,r),Promise.resolve(r);if(i.messages){var o=this.messages();o===gV&&(o=vV()),_V(o,i.messages),i.messages=o}else i.messages=this.messages();var s={};(i.keys||Object.keys(this.rules)).forEach((function(e){var i=n.rules[e],a=r[e];i.forEach((function(i){var o=i;"function"===typeof o.transform&&(r===t&&(r=yn({},r)),void 0!==(a=r[e]=o.transform(a))&&null!==a&&(o.type=o.type||(Array.isArray(a)?"array":x(a)))),(o="function"===typeof o?{validator:o}:yn({},o)).validator=n.getValidationMethod(o),o.validator&&(o.field=e,o.fullField=o.fullField||e,o.type=n.getType(o),s[e]=s[e]||[],s[e].push({rule:o,value:a,source:r,field:e}))}))}));var l={};return SV(s,i,(function(t,n){var a,o=t.rule,s=("object"===o.type||"array"===o.type)&&("object"===x(o.fields)||"object"===x(o.defaultField));function u(e,t){return yn(yn({},t),{},{fullField:"".concat(o.fullField,".").concat(e),fullFields:o.fullFields?[].concat(Y(o.fullFields),[e]):[e]})}function c(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=Array.isArray(a)?a:[a];!i.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==o.message&&(c=[].concat(o.message));var h=c.map(EV(o,r));if(i.first&&h.length)return l[o.field]=1,n(h);if(s){if(o.required&&!t.value)return void 0!==o.message?h=[].concat(o.message).map(EV(o,r)):i.error&&(h=[i.error(o,bV(i.messages.required,o.field))]),n(h);var f={};o.defaultField&&Object.keys(t.value).map((function(e){f[e]=o.defaultField})),f=yn(yn({},f),t.rule.fields);var d={};Object.keys(f).forEach((function(e){var t=f[e],n=Array.isArray(t)?t:[t];d[e]=n.map(u.bind(null,e))}));var p=new e(d);p.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),p.validate(t.value,t.rule.options||i,(function(e){var t=[];h&&h.length&&t.push.apply(t,Y(h)),e&&e.length&&t.push.apply(t,Y(e)),n(t.length?t:null)}))}else n(h)}if(s=s&&(o.required||!o.required&&t.value),o.field=t.field,o.asyncValidator)a=o.asyncValidator(o,t.value,c,t.source,i);else if(o.validator){try{a=o.validator(o,t.value,c,t.source,i)}catch(d){var h,f;null===(h=(f=console).error)||void 0===h||h.call(f,d),i.suppressValidatorError||setTimeout((function(){throw d}),0),c(d.message)}!0===a?c():!1===a?c("function"===typeof o.message?o.message(o.fullField||o.field):o.message||"".concat(o.fullField||o.field," fails")):a instanceof Array?c(a):a instanceof Error&&c(a.message)}a&&a.then&&a.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function i(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,Y(e)):t.push(e)}for(var o=0;o<e.length;o++)i(e[o]);t.length?(n=yV(t),a(t,n)):a(null,r)}(e)}),r)}},{key:"getType",value:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!$V.hasOwnProperty(e.type))throw new Error(bV("Unknown rule type %s",e.type));return e.type||"string"}},{key:"getValidationMethod",value:function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?$V.required:$V[this.getType(e)]||void 0}}]),e}();j(eW,"register",(function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");$V[e]=t})),j(eW,"warning",(function(){})),j(eW,"messages",gV),j(eW,"validators",$V);var tW="'${name}' is not a valid ${type}",nW={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:tW,method:tW,array:tW,object:tW,number:tW,date:tW,boolean:tW,integer:tW,float:tW,regexp:tW,email:tW,url:tW,hex:tW},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},rW=eW;function iW(e,t){return e.replace(/\\?\$\{\w+\}/g,(function(e){if(e.startsWith("\\"))return e.slice(1);var n=e.slice(2,-1);return t[n]}))}var aW="CODE_LOGIC_ERROR";function oW(e,t,n,r,i){return sW.apply(this,arguments)}function sW(){return sW=S(k().mark((function e(t,n,r,i,a){var o,s,l,u,c,h,f,d,p;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(o=yn({},r)).ruleIndex,rW.warning=function(){},o.validator&&(s=o.validator,o.validator=function(){try{return s.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject(aW)}}),l=null,o&&"array"===o.type&&o.defaultField&&(l=o.defaultField,delete o.defaultField),u=new rW(j({},t,[o])),c=lU(nW,i.validateMessages),u.messages(c),h=[],e.prev=10,e.next=13,Promise.resolve(u.validate(j({},t,n),yn({},i)));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(10),e.t0.errors&&(h=e.t0.errors.map((function(e,t){var n=e.message,r=n===aW?c.default:n;return m.isValidElement(r)?m.cloneElement(r,{key:"error_".concat(t)}):r})));case 18:if(h.length||!l){e.next=23;break}return e.next=21,Promise.all(n.map((function(e,n){return oW("".concat(t,".").concat(n),e,l,i,a)})));case 21:return f=e.sent,e.abrupt("return",f.reduce((function(e,t){return[].concat(Y(e),Y(t))}),[]));case 23:return d=yn(yn({},r),{},{name:t,enum:(r.enum||[]).join(", ")},a),p=h.map((function(e){return"string"===typeof e?iW(e,d):e})),e.abrupt("return",p);case 26:case"end":return e.stop()}}),e,null,[[10,15]])}))),sW.apply(this,arguments)}function lW(e,t,n,r,i,a){var o,s=e.join("."),l=n.map((function(e,t){var n=e.validator,r=yn(yn({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var i=!1,a=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){vF(!i,"Your validator function has already return a promise. `callback` will be ignored."),i||r.apply(void 0,t)}))}));i=a&&"function"===typeof a.then&&"function"===typeof a.catch,vF(i,"`callback` is deprecated. Please return a promise instead."),i&&a.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,i=t.warningOnly,a=t.ruleIndex;return!!n===!!i?r-a:n?1:-1}));if(!0===i)o=new Promise(function(){var e=S(k().mark((function e(n,i){var o,u,c;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0;case 1:if(!(o<l.length)){e.next=12;break}return u=l[o],e.next=5,oW(s,t,u,r,a);case 5:if(!(c=e.sent).length){e.next=9;break}return i([{errors:c,rule:u}]),e.abrupt("return");case 9:o+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var u=l.map((function(e){return oW(s,t,e,r,a).then((function(t){return{errors:t,rule:e}}))}));o=(i?function(e){return cW.apply(this,arguments)}(u):function(e){return uW.apply(this,arguments)}(u)).then((function(e){return Promise.reject(e)}))}return o.catch((function(e){return e})),o}function uW(){return(uW=S(k().mark((function e(t){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,Y(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cW(){return cW=S(k().mark((function e(t){var n;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)}))),cW.apply(this,arguments)}function hW(e){return pV(e)}function fW(e,t){var n={};return t.forEach((function(t){var r=rU(e,t);n=aU(n,t,r)})),n}function dW(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&e.some((function(e){return pW(t,e,n)}))}function pW(e,t){return!(!e||!t)&&(!(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])&&e.length!==t.length)&&t.every((function(t,n){return e[n]===t})))}function vW(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===x(t.target)&&e in t.target?t.target[e]:t}function gW(e,t,n){var r=e.length;if(t<0||t>=r||n<0||n>=r)return e;var i=e[t],a=t-n;return a>0?[].concat(Y(e.slice(0,n)),[i],Y(e.slice(n,t)),Y(e.slice(t+1,r))):a<0?[].concat(Y(e.slice(0,t)),Y(e.slice(t+1,n+1)),[i],Y(e.slice(n+1,r))):e}var mW=["name"],yW=[];function bW(e,t,n,r,i,a){return"function"===typeof e?e(t,n,"source"in a?{source:a.source}:{}):r!==i}var xW=function(e){G(n,e);var t=XF(n);function n(e){var r;(T(this,n),j(U(r=t.call(this,e)),"state",{resetCount:0}),j(U(r),"cancelRegisterFunc",null),j(U(r),"mounted",!1),j(U(r),"touched",!1),j(U(r),"dirty",!1),j(U(r),"validatePromise",void 0),j(U(r),"prevValidating",void 0),j(U(r),"errors",yW),j(U(r),"warnings",yW),j(U(r),"cancelRegister",(function(){var e=r.props,t=e.preserve,n=e.isListField,i=e.name;r.cancelRegisterFunc&&r.cancelRegisterFunc(n,t,hW(i)),r.cancelRegisterFunc=null})),j(U(r),"getNamePath",(function(){var e=r.props,t=e.name,n=e.fieldContext.prefixName;return void 0!==t?[].concat(Y(void 0===n?[]:n),Y(t)):[]})),j(U(r),"getRules",(function(){var e=r.props,t=e.rules,n=void 0===t?[]:t,i=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(i):e}))})),j(U(r),"refresh",(function(){r.mounted&&r.setState((function(e){return{resetCount:e.resetCount+1}}))})),j(U(r),"metaCache",null),j(U(r),"triggerMetaEvent",(function(e){var t=r.props.onMetaChange;if(t){var n=yn(yn({},r.getMeta()),{},{destroy:e});pB(r.metaCache,n)||t(n),r.metaCache=n}else r.metaCache=null})),j(U(r),"onStoreChange",(function(e,t,n){var i=r.props,a=i.shouldUpdate,o=i.dependencies,s=void 0===o?[]:o,l=i.onReset,u=n.store,c=r.getNamePath(),h=r.getValue(e),f=r.getValue(u),d=t&&dW(t,c);switch("valueUpdate"!==n.type||"external"!==n.source||pB(h,f)||(r.touched=!0,r.dirty=!0,r.validatePromise=null,r.errors=yW,r.warnings=yW,r.triggerMetaEvent()),n.type){case"reset":if(!t||d)return r.touched=!1,r.dirty=!1,r.validatePromise=void 0,r.errors=yW,r.warnings=yW,r.triggerMetaEvent(),null===l||void 0===l||l(),void r.refresh();break;case"remove":if(a&&bW(a,e,u,h,f,n))return void r.reRender();break;case"setField":var p=n.data;if(d)return"touched"in p&&(r.touched=p.touched),"validating"in p&&!("originRCField"in p)&&(r.validatePromise=p.validating?Promise.resolve([]):null),"errors"in p&&(r.errors=p.errors||yW),"warnings"in p&&(r.warnings=p.warnings||yW),r.dirty=!0,r.triggerMetaEvent(),void r.reRender();if("value"in p&&dW(t,c,!0))return void r.reRender();if(a&&!c.length&&bW(a,e,u,h,f,n))return void r.reRender();break;case"dependenciesUpdate":if(s.map(hW).some((function(e){return dW(n.relatedFields,e)})))return void r.reRender();break;default:if(d||(!s.length||c.length||a)&&bW(a,e,u,h,f,n))return void r.reRender()}!0===a&&r.reRender()})),j(U(r),"validateRules",(function(e){var t=r.getNamePath(),n=r.getValue(),i=e||{},a=i.triggerName,o=i.validateOnly,s=void 0!==o&&o,l=Promise.resolve().then(S(k().mark((function i(){var o,s,u,c,h,f,d;return k().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r.mounted){i.next=2;break}return i.abrupt("return",[]);case 2:if(o=r.props,s=o.validateFirst,u=void 0!==s&&s,c=o.messageVariables,h=o.validateDebounce,f=r.getRules(),a&&(f=f.filter((function(e){return e})).filter((function(e){var t=e.validateTrigger;return!t||pV(t).includes(a)}))),!h||!a){i.next=10;break}return i.next=8,new Promise((function(e){setTimeout(e,h)}));case 8:if(r.validatePromise===l){i.next=10;break}return i.abrupt("return",[]);case 10:return(d=lW(t,n,f,e,u,c)).catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yW;if(r.validatePromise===l){var t;r.validatePromise=null;var n=[],i=[];null===(t=e.forEach)||void 0===t||t.call(e,(function(e){var t=e.rule.warningOnly,r=e.errors,a=void 0===r?yW:r;t?i.push.apply(i,Y(a)):n.push.apply(n,Y(a))})),r.errors=n,r.warnings=i,r.triggerMetaEvent(),r.reRender()}})),i.abrupt("return",d);case 13:case"end":return i.stop()}}),i)}))));return s||(r.validatePromise=l,r.dirty=!0,r.errors=yW,r.warnings=yW,r.triggerMetaEvent(),r.reRender()),l})),j(U(r),"isFieldValidating",(function(){return!!r.validatePromise})),j(U(r),"isFieldTouched",(function(){return r.touched})),j(U(r),"isFieldDirty",(function(){return!(!r.dirty&&void 0===r.props.initialValue)||void 0!==(0,r.props.fieldContext.getInternalHooks(cV).getInitialValue)(r.getNamePath())})),j(U(r),"getErrors",(function(){return r.errors})),j(U(r),"getWarnings",(function(){return r.warnings})),j(U(r),"isListField",(function(){return r.props.isListField})),j(U(r),"isList",(function(){return r.props.isList})),j(U(r),"isPreserve",(function(){return r.props.preserve})),j(U(r),"getMeta",(function(){return r.prevValidating=r.isFieldValidating(),{touched:r.isFieldTouched(),validating:r.prevValidating,errors:r.errors,warnings:r.warnings,name:r.getNamePath(),validated:null===r.validatePromise}})),j(U(r),"getOnlyChild",(function(e){if("function"===typeof e){var t=r.getMeta();return yn(yn({},r.getOnlyChild(e(r.getControlled(),t,r.props.fieldContext))),{},{isFunction:!0})}var n=JG(e);return 1===n.length&&m.isValidElement(n[0])?{child:n[0],isFunction:!1}:{child:n,isFunction:!1}})),j(U(r),"getValue",(function(e){var t=r.props.fieldContext.getFieldsValue,n=r.getNamePath();return rU(e||t(!0),n)})),j(U(r),"getControlled",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.name,i=t.trigger,a=t.validateTrigger,o=t.getValueFromEvent,s=t.normalize,l=t.valuePropName,u=t.getValueProps,c=t.fieldContext,h=void 0!==a?a:c.validateTrigger,f=r.getNamePath(),d=c.getInternalHooks,p=c.getFieldsValue,v=d(cV).dispatch,g=r.getValue(),m=u||function(e){return j({},l,e)},y=e[i],b=void 0!==n?m(g):{};var x=yn(yn({},e),b);return x[i]=function(){var e;r.touched=!0,r.dirty=!0,r.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e=o?o.apply(void 0,n):vW.apply(void 0,[l].concat(n)),s&&(e=s(e,g,p(!0))),e!==g&&v({type:"updateValue",namePath:f,value:e}),y&&y.apply(void 0,n)},pV(h||[]).forEach((function(e){var t=x[e];x[e]=function(){t&&t.apply(void 0,arguments);var n=r.props.rules;n&&n.length&&v({type:"validateField",namePath:f,triggerName:e})}})),x})),e.fieldContext)&&(0,(0,e.fieldContext.getInternalHooks)(cV).initEntityValue)(U(r));return r}return M(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(cV).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var e,t=this.state.resetCount,n=this.props.children,r=this.getOnlyChild(n),i=r.child;return r.isFunction?e=i:m.isValidElement(i)?e=m.cloneElement(i,this.getControlled(i.props)):(vF(!i,"`children` of Field is not validate ReactElement."),e=i),m.createElement(m.Fragment,{key:t},e)}}]),n}(m.Component);j(xW,"contextType",fV),j(xW,"defaultProps",{trigger:"onChange",valuePropName:"value"});var kW=function(e){var t,n=e.name,r=eD(e,mW),i=m.useContext(fV),a=m.useContext(dV),o=void 0!==n?hW(n):void 0,s=null!==(t=r.isListField)&&void 0!==t?t:!!a,l="keep";return s||(l="_".concat((o||[]).join("_"))),m.createElement(xW,QI({key:l,name:o,isListField:s},r,{fieldContext:i}))};var wW=function(e){var t=e.name,n=e.initialValue,r=e.children,i=e.rules,a=e.validateTrigger,o=e.isListField,s=m.useContext(fV),l=m.useContext(dV),u=m.useRef({keys:[],id:0}).current,c=m.useMemo((function(){var e=hW(s.prefixName)||[];return[].concat(Y(e),Y(hW(t)))}),[s.prefixName,t]),h=m.useMemo((function(){return yn(yn({},s),{},{prefixName:c})}),[s,c]),f=m.useMemo((function(){return{getKey:function(e){var t=c.length,n=e[t];return[u.keys[n],e.slice(t+1)]}}}),[c]);return"function"!==typeof r?(vF(!1,"Form.List only accepts function as children."),null):m.createElement(dV.Provider,{value:f},m.createElement(fV.Provider,{value:h},m.createElement(kW,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:a,initialValue:n,isList:!0,isListField:null!==o&&void 0!==o?o:!!l},(function(e,t){var n=e.value,i=void 0===n?[]:n,a=e.onChange,o=s.getFieldValue,l=function(){return o(c||[])||[]},h={add:function(e,t){var n=l();t>=0&&t<=n.length?(u.keys=[].concat(Y(u.keys.slice(0,t)),[u.id],Y(u.keys.slice(t))),a([].concat(Y(n.slice(0,t)),[e],Y(n.slice(t))))):(u.keys=[].concat(Y(u.keys),[u.id]),a([].concat(Y(n),[e]))),u.id+=1},remove:function(e){var t=l(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(u.keys=u.keys.filter((function(e,t){return!n.has(t)})),a(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=l();e<0||e>=n.length||t<0||t>=n.length||(u.keys=gW(u.keys,e,t),a(gW(n,e,t)))}}},f=i||[];return Array.isArray(f)||(f=[]),r(f.map((function(e,t){var n=u.keys[t];return void 0===n&&(u.keys[t]=u.id,n=u.keys[t],u.id+=1),{name:t,key:n,isListField:!0}})),h,t)}))))};var SW="__@field_split__";function EW(e){return e.map((function(e){return"".concat(x(e),":").concat(e)})).join(SW)}var _W=function(){function e(){T(this,e),j(this,"kvs",new Map)}return M(e,[{key:"set",value:function(e,t){this.kvs.set(EW(e),t)}},{key:"get",value:function(e){return this.kvs.get(EW(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(EW(e))}},{key:"map",value:function(e){return Y(this.kvs.entries()).map((function(t){var n=R(t,2),r=n[0],i=n[1],a=r.split(SW);return e({key:a.map((function(e){var t=R(e.match(/^([^:]*):(.*)$/),3),n=t[1],r=t[2];return"number"===n?Number(r):r})),value:i})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),MW=_W,TW=["name"],CW=M((function e(t){var n=this;T(this,e),j(this,"formHooked",!1),j(this,"forceRootUpdate",void 0),j(this,"subscribable",!0),j(this,"store",{}),j(this,"fieldEntities",[]),j(this,"initialValues",{}),j(this,"callbacks",{}),j(this,"validateMessages",null),j(this,"preserve",null),j(this,"lastValidatePromise",null),j(this,"getForm",(function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}})),j(this,"getInternalHooks",(function(e){return e===cV?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(vF(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)})),j(this,"useSubscribe",(function(e){n.subscribable=e})),j(this,"prevWithoutPreserves",null),j(this,"setInitialValues",(function(e,t){if(n.initialValues=e||{},t){var r,i=lU(e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;i=aU(i,n,rU(e,n))})),n.prevWithoutPreserves=null,n.updateStore(i)}})),j(this,"destroyForm",(function(e){if(e)n.updateStore({});else{var t=new MW;n.getFieldEntities(!0).forEach((function(e){n.isMergedPreserve(e.isPreserve())||t.set(e.getNamePath(),!0)})),n.prevWithoutPreserves=t}})),j(this,"getInitialValue",(function(e){var t=rU(n.initialValues,e);return e.length?lU(t):t})),j(this,"setCallbacks",(function(e){n.callbacks=e})),j(this,"setValidateMessages",(function(e){n.validateMessages=e})),j(this,"setPreserve",(function(e){n.preserve=e})),j(this,"watchList",[]),j(this,"registerWatch",(function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}})),j(this,"notifyWatch",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue(),r=n.getFieldsValue(!0);n.watchList.forEach((function(n){n(t,r,e)}))}})),j(this,"timeoutId",null),j(this,"warningUnhooked",(function(){0})),j(this,"updateStore",(function(e){n.store=e})),j(this,"getFieldEntities",(function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities})),j(this,"getFieldsMap",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new MW;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t})),j(this,"getFieldEntitiesForNamePathList",(function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=hW(e);return t.get(n)||{INVALIDATE_NAME_PATH:hW(e)}}))})),j(this,"getFieldsValue",(function(e,t){var r,i,a;if(n.warningUnhooked(),!0===e||Array.isArray(e)?(r=e,i=t):e&&"object"===x(e)&&(a=e.strict,i=e.filter),!0===r&&!i)return n.store;var o=n.getFieldEntitiesForNamePathList(Array.isArray(r)?r:null),s=[];return o.forEach((function(e){var t,n,o,l,u="INVALIDATE_NAME_PATH"in e?e.INVALIDATE_NAME_PATH:e.getNamePath();if(a){if(null!==(o=(l=e).isList)&&void 0!==o&&o.call(l))return}else if(!r&&null!==(t=(n=e).isListField)&&void 0!==t&&t.call(n))return;if(i){var c="getMeta"in e?e.getMeta():null;i(c)&&s.push(u)}else s.push(u)})),fW(n.store,s.map(hW))})),j(this,"getFieldValue",(function(e){n.warningUnhooked();var t=hW(e);return rU(n.store,t)})),j(this,"getFieldsError",(function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:hW(e[n]),errors:[],warnings:[]}}))})),j(this,"getFieldError",(function(e){n.warningUnhooked();var t=hW(e);return n.getFieldsError([t])[0].errors})),j(this,"getFieldWarning",(function(e){n.warningUnhooked();var t=hW(e);return n.getFieldsError([t])[0].warnings})),j(this,"isFieldsTouched",(function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,a=t[0],o=t[1],s=!1;0===t.length?i=null:1===t.length?Array.isArray(a)?(i=a.map(hW),s=!1):(i=null,s=a):(i=a.map(hW),s=o);var l=n.getFieldEntities(!0),u=function(e){return e.isFieldTouched()};if(!i)return s?l.every((function(e){return u(e)||e.isList()})):l.some(u);var c=new MW;i.forEach((function(e){c.set(e,[])})),l.forEach((function(e){var t=e.getNamePath();i.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&c.update(n,(function(t){return[].concat(Y(t),[e])}))}))}));var h=function(e){return e.some(u)},f=c.map((function(e){return e.value}));return s?f.every(h):f.some(h)})),j(this,"isFieldTouched",(function(e){return n.warningUnhooked(),n.isFieldsTouched([e])})),j(this,"isFieldsValidating",(function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(hW);return t.some((function(e){var t=e.getNamePath();return dW(r,t)&&e.isFieldValidating()}))})),j(this,"isFieldValidating",(function(e){return n.warningUnhooked(),n.isFieldsValidating([e])})),j(this,"resetWithFieldInitialValue",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new MW,r=n.getFieldEntities(!0);r.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var i=t.get(r)||new Set;i.add({entity:e,value:n}),t.set(r,i)}}));var i;e.entities?i=e.entities:e.namePathList?(i=[],e.namePathList.forEach((function(e){var n,r=t.get(e);r&&(n=i).push.apply(n,Y(Y(r).map((function(e){return e.entity}))))}))):i=r,i.forEach((function(r){if(void 0!==r.props.initialValue){var i=r.getNamePath();if(void 0!==n.getInitialValue(i))vF(!1,"Form already set 'initialValues' with path '".concat(i.join("."),"'. Field can not overwrite it."));else{var a=t.get(i);if(a&&a.size>1)vF(!1,"Multiple Field with path '".concat(i.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(a){var o=n.getFieldValue(i);r.isListField()||e.skipExist&&void 0!==o||n.updateStore(aU(n.store,i,Y(a)[0].value))}}}}))})),j(this,"resetFields",(function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(lU(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(hW);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(aU(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)})),j(this,"setFields",(function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var i=e.name,a=eD(e,TW),o=hW(i);r.push(o),"value"in a&&n.updateStore(aU(n.store,o,a.value)),n.notifyObservers(t,[o],{type:"setField",data:e})})),n.notifyWatch(r)})),j(this,"getFields",(function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=yn(yn({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))})),j(this,"initEntityValue",(function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===rU(n.store,r)&&n.updateStore(aU(n.store,r,t))}})),j(this,"isMergedPreserve",(function(e){var t=void 0!==e?e:n.preserve;return null===t||void 0===t||t})),j(this,"registerField",(function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,i){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e})),!n.isMergedPreserve(i)&&(!r||a.length>1)){var o=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==o&&n.fieldEntities.every((function(e){return!pW(e.getNamePath(),t)}))){var s=n.store;n.updateStore(aU(s,t,o,!0)),n.notifyObservers(s,[t],{type:"remove"}),n.triggerDependenciesUpdate(s,t)}}n.notifyWatch([t])}})),j(this,"dispatch",(function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var i=e.namePath,a=e.triggerName;n.validateFields([i],{triggerName:a})}})),j(this,"notifyObservers",(function(e,t,r){if(n.subscribable){var i=yn(yn({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,i)}))}else n.forceRootUpdate()})),j(this,"triggerDependenciesUpdate",(function(e,t){var r=n.getDependencyChildrenFields(t);return r.length&&n.validateFields(r),n.notifyObservers(e,r,{type:"dependenciesUpdate",relatedFields:[t].concat(Y(r))}),r})),j(this,"updateValue",(function(e,t){var r=hW(e),i=n.store;n.updateStore(aU(n.store,r,t)),n.notifyObservers(i,[r],{type:"valueUpdate",source:"internal"}),n.notifyWatch([r]);var a=n.triggerDependenciesUpdate(i,r),o=n.callbacks.onValuesChange;o&&o(fW(n.store,[r]),n.getFieldsValue());n.triggerOnFieldsChange([r].concat(Y(a)))})),j(this,"setFieldsValue",(function(e){n.warningUnhooked();var t=n.store;if(e){var r=lU(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()})),j(this,"setFieldValue",(function(e,t){n.setFields([{name:e,value:t,errors:[],warnings:[]}])})),j(this,"getDependencyChildrenFields",(function(e){var t=new Set,r=[],i=new MW;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=hW(t);i.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(i.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var i=n.getNamePath();n.isFieldDirty()&&i.length&&(r.push(i),e(i))}}))}(e),r})),j(this,"triggerOnFieldsChange",(function(e,t){var r=n.callbacks.onFieldsChange;if(r){var i=n.getFields();if(t){var a=new MW;t.forEach((function(e){var t=e.name,n=e.errors;a.set(t,n)})),i.forEach((function(e){e.errors=a.get(e.name)||e.errors}))}var o=i.filter((function(t){var n=t.name;return dW(e,n)}));o.length&&r(o,i)}})),j(this,"validateFields",(function(e,t){var r,i;n.warningUnhooked(),Array.isArray(e)||"string"===typeof e||"string"===typeof t?(r=e,i=t):i=e;var a=!!r,o=a?r.map(hW):[],s=[],l=String(Date.now()),u=new Set,c=i||{},h=c.recursive,f=c.dirty;n.getFieldEntities(!0).forEach((function(e){if(a||o.push(e.getNamePath()),e.props.rules&&e.props.rules.length&&(!f||e.isFieldDirty())){var t=e.getNamePath();if(u.add(t.join(l)),!a||dW(o,t,h)){var r=e.validateRules(yn({validateMessages:yn(yn({},nW),n.validateMessages)},i));s.push(r.then((function(){return{name:t,errors:[],warnings:[]}})).catch((function(e){var n,r=[],i=[];return null===(n=e.forEach)||void 0===n||n.call(e,(function(e){var t=e.rule.warningOnly,n=e.errors;t?i.push.apply(i,Y(n)):r.push.apply(r,Y(n))})),r.length?Promise.reject({name:t,errors:r,warnings:i}):{name:t,errors:r,warnings:i}})))}}}));var d=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(i,a){e.forEach((function(e,o){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[o]=e,n>0||(t&&a(r),i(r))}))}))})):Promise.resolve([])}(s);n.lastValidatePromise=d,d.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var p=d.then((function(){return n.lastValidatePromise===d?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(o),errorFields:t,outOfDate:n.lastValidatePromise!==d})}));p.catch((function(e){return e}));var v=o.filter((function(e){return u.has(e.join(l))}));return n.triggerOnFieldsChange(v),p})),j(this,"submit",(function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(hQ){console.error(hQ)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))})),this.forceRootUpdate=t}));var AW=function(e){var t=m.useRef(),n=R(m.useState({}),2)[1];if(!t.current)if(e)t.current=e;else{var r=new CW((function(){n({})}));t.current=r.getForm()}return[t.current]},PW=m.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),OW=PW,RW=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],LW=function(e,t){var n=e.name,r=e.initialValues,i=e.fields,a=e.form,o=e.preserve,s=e.children,l=e.component,u=void 0===l?"form":l,c=e.validateMessages,h=e.validateTrigger,f=void 0===h?"onChange":h,d=e.onValuesChange,p=e.onFieldsChange,v=e.onFinish,g=e.onFinishFailed,y=e.clearOnDestroy,b=eD(e,RW),k=m.useRef(null),w=m.useContext(OW),S=R(AW(a),1)[0],E=S.getInternalHooks(cV),_=E.useSubscribe,M=E.setInitialValues,T=E.setCallbacks,C=E.setValidateMessages,A=E.setPreserve,P=E.destroyForm;m.useImperativeHandle(t,(function(){return yn(yn({},S),{},{nativeElement:k.current})})),m.useEffect((function(){return w.registerForm(n,S),function(){w.unregisterForm(n)}}),[w,S,n]),C(yn(yn({},w.validateMessages),c)),T({onValuesChange:d,onFieldsChange:function(e){if(w.triggerFormChange(n,e),p){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];p.apply(void 0,[e].concat(r))}},onFinish:function(e){w.triggerFormFinish(n,e),v&&v(e)},onFinishFailed:g}),A(o);var O,L=m.useRef(null);M(r,!L.current),L.current||(L.current=!0),m.useEffect((function(){return function(){return P(y)}}),[]);var N="function"===typeof s;N?O=s(S.getFieldsValue(!0),S):O=s;_(!N);var I=m.useRef();m.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==x(e)||"object"!==x(t))return!1;var n=Object.keys(e),r=Object.keys(t);return Y(new Set([].concat(n,r))).every((function(n){var r=e[n],i=t[n];return"function"===typeof r&&"function"===typeof i||r===i}))})(I.current||[],i||[])||S.setFields(i||[]),I.current=i}),[i,S]);var D=m.useMemo((function(){return yn(yn({},S),{},{validateTrigger:f})}),[S,f]),F=m.createElement(dV.Provider,{value:null},m.createElement(fV.Provider,{value:D},O));return!1===u?F:m.createElement(u,QI({},b,{ref:k,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),S.submit()},onReset:function(e){var t;e.preventDefault(),S.resetFields(),null===(t=b.onReset)||void 0===t||t.call(b,e)}}),F)};function NW(e){try{return JSON.stringify(e)}catch(hQ){return Math.random()}}var IW=function(){};var DW=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=void 0===i?{}:i,o=function(e){return e&&!!e._init}(a)?{form:a}:a,s=o.form,l=R((0,m.useState)(),2),u=l[0],c=l[1],h=(0,m.useMemo)((function(){return NW(u)}),[u]),f=(0,m.useRef)(h);f.current=h;var d=(0,m.useContext)(fV),p=s||d,v=p&&p._init,g=hW(r),y=(0,m.useRef)(g);return y.current=g,IW(g),(0,m.useEffect)((function(){if(v){var e=p.getFieldsValue,t=(0,p.getInternalHooks)(cV).registerWatch,n=function(e,t){var n=o.preserve?t:e;return"function"===typeof r?r(n):rU(n,y.current)},i=t((function(e,t){var r=n(e,t),i=NW(r);f.current!==i&&(f.current=i,c(r))})),a=n(e(),e(!0));return u!==a&&c(a),i}}),[v]),u},FW=m.forwardRef(LW);FW.FormProvider=function(e){var t=e.validateMessages,n=e.onFormChange,r=e.onFormFinish,i=e.children,a=m.useContext(PW),o=m.useRef({});return m.createElement(PW.Provider,{value:yn(yn({},a),{},{validateMessages:yn(yn({},a.validateMessages),t),triggerFormChange:function(e,t){n&&n(e,{changedFields:t,forms:o.current}),a.triggerFormChange(e,t)},triggerFormFinish:function(e,t){r&&r(e,{values:t,forms:o.current}),a.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(o.current=yn(yn({},o.current),{},j({},e,t))),a.registerForm(e,t)},unregisterForm:function(e){var t=yn({},o.current);delete t[e],o.current=t,a.unregisterForm(e)}})},i)},FW.Field=kW,FW.List=wW,FW.useForm=AW,FW.useWatch=DW;var UW=m.createContext({});var BW=function(e){var t=e.children,n=e.status,r=e.override,i=m.useContext(UW),a=m.useMemo((function(){var e=Object.assign({},i);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,i]);return m.createElement(UW.Provider,{value:a},t)},zW=m.createContext(void 0),HW=zW,GW=function(e){var t=m.useContext(HW);return m.useMemo((function(){return e?"string"===typeof e?null!==e&&void 0!==e?e:t:e instanceof Function?e(t):t:t}),[e,t])},jW=function(e){return j({},e.componentCls,{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}})},VW=function(e){var t=e.componentCls,n=e.antCls;return j({},t,j(j({display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}}},"".concat(t,"-item:empty"),{display:"none"}),"".concat(t,"-item > ").concat(n,"-badge-not-a-wrapper:only-child"),{display:"block"}))},WW=function(e){return j({},e.componentCls,{"&-gap-row-small":{rowGap:e.spaceGapSmallSize},"&-gap-row-middle":{rowGap:e.spaceGapMiddleSize},"&-gap-row-large":{rowGap:e.spaceGapLargeSize},"&-gap-col-small":{columnGap:e.spaceGapSmallSize},"&-gap-col-middle":{columnGap:e.spaceGapMiddleSize},"&-gap-col-large":{columnGap:e.spaceGapLargeSize}})},XW=gG("Space",(function(e){var t=iG(e,{spaceGapSmallSize:e.paddingXS,spaceGapMiddleSize:e.padding,spaceGapLargeSize:e.paddingLG});return[VW(t),WW(t),jW(t)]}),(function(){return{}}),{resetStyle:!1}),qW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},YW=m.createContext(null),KW=function(e){var t=e.children;return m.createElement(YW.Provider,{value:null},t)},JW=function(e){var t=e.children,n=qW(e,["children"]);return m.createElement(YW.Provider,{value:m.useMemo((function(){return n}),[n])},t)},ZW=function(e){var t=m.useContext(lB),n=t.getPrefixCls,r=t.direction,i=e.size,a=e.direction,o=e.block,s=e.prefixCls,l=e.className,u=e.rootClassName,c=e.children,h=qW(e,["size","direction","block","prefixCls","className","rootClassName","children"]),f=GW((function(e){return null!==i&&void 0!==i?i:e})),d=n("space-compact",s),p=R(XW(d),2),v=p[0],g=p[1],y=nD()(d,g,j(j(j({},"".concat(d,"-rtl"),"rtl"===r),"".concat(d,"-block"),o),"".concat(d,"-vertical"),"vertical"===a),l,u),b=m.useContext(YW),x=JG(c),k=m.useMemo((function(){return x.map((function(e,t){var n=(null===e||void 0===e?void 0:e.key)||"".concat(d,"-item-").concat(t);return m.createElement(JW,{key:n,compactSize:f,compactDirection:a,isFirstItem:0===t&&(!b||(null===b||void 0===b?void 0:b.isFirstItem)),isLastItem:t===x.length-1&&(!b||(null===b||void 0===b?void 0:b.isLastItem))},e)}))}),[i,x,b]);return 0===x.length?null:v(m.createElement("div",Object.assign({className:y},h),k))},QW=function(e){var t=e.space,n=e.form,r=e.children;if(void 0===r||null===r)return null;var i=r;return n&&(i=m.createElement(BW,{override:!0,status:!0},i)),t&&(i=m.createElement(KW,null,i)),i},$W=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)};var eX=function(e,t,n){var r=e.sizePopupArrow,i=e.arrowPolygon,a=e.arrowPath,o=e.arrowShadowWidth,s=e.borderRadiusXS;return{pointerEvents:"none",width:r,height:r,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:r,height:(0,e.calc)(r).div(2).equal(),background:t,clipPath:{_multi_value_:!0,value:[i,a]},content:'""'},"&::after":{content:'""',position:"absolute",width:o,height:o,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:"0 0 ".concat(DB(s)," 0")},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},tX=8;function nX(e){var t=e.contentRadius,n=t>12?t+2:12;return{arrowOffsetHorizontal:n,arrowOffsetVertical:e.limitVerticalRadius?tX:n}}function rX(e,t){return e?t:{}}function iX(e,t,n){var r=e.componentCls,i=e.boxShadowPopoverArrow,a=e.arrowOffsetVertical,o=e.arrowOffsetHorizontal,s=n||{},l=s.arrowDistance,u=void 0===l?0:l,c=s.arrowPlacement,h=void 0===c?{left:!0,right:!0,top:!0,bottom:!0}:c;return j({},r,Object.assign(Object.assign(Object.assign(Object.assign(j({},"".concat(r,"-arrow"),[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},eX(e,t,i)),{"&:before":{background:t}})]),rX(!!h.top,j(j(j(j({},["&-placement-top > ".concat(r,"-arrow"),"&-placement-topLeft > ".concat(r,"-arrow"),"&-placement-topRight > ".concat(r,"-arrow")].join(","),{bottom:u,transform:"translateY(100%) rotate(180deg)"}),"&-placement-top > ".concat(r,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"}),"&-placement-topLeft",j({"--arrow-offset-horizontal":o},"> ".concat(r,"-arrow"),{left:{_skip_check_:!0,value:o}})),"&-placement-topRight",j({"--arrow-offset-horizontal":"calc(100% - ".concat(DB(o),")")},"> ".concat(r,"-arrow"),{right:{_skip_check_:!0,value:o}})))),rX(!!h.bottom,j(j(j(j({},["&-placement-bottom > ".concat(r,"-arrow"),"&-placement-bottomLeft > ".concat(r,"-arrow"),"&-placement-bottomRight > ".concat(r,"-arrow")].join(","),{top:u,transform:"translateY(-100%)"}),"&-placement-bottom > ".concat(r,"-arrow"),{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"}),"&-placement-bottomLeft",j({"--arrow-offset-horizontal":o},"> ".concat(r,"-arrow"),{left:{_skip_check_:!0,value:o}})),"&-placement-bottomRight",j({"--arrow-offset-horizontal":"calc(100% - ".concat(DB(o),")")},"> ".concat(r,"-arrow"),{right:{_skip_check_:!0,value:o}})))),rX(!!h.left,j(j(j(j({},["&-placement-left > ".concat(r,"-arrow"),"&-placement-leftTop > ".concat(r,"-arrow"),"&-placement-leftBottom > ".concat(r,"-arrow")].join(","),{right:{_skip_check_:!0,value:u},transform:"translateX(100%) rotate(90deg)"}),"&-placement-left > ".concat(r,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"}),"&-placement-leftTop > ".concat(r,"-arrow"),{top:a}),"&-placement-leftBottom > ".concat(r,"-arrow"),{bottom:a}))),rX(!!h.right,j(j(j(j({},["&-placement-right > ".concat(r,"-arrow"),"&-placement-rightTop > ".concat(r,"-arrow"),"&-placement-rightBottom > ".concat(r,"-arrow")].join(","),{left:{_skip_check_:!0,value:u},transform:"translateX(-100%) rotate(-90deg)"}),"&-placement-right > ".concat(r,"-arrow"),{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"}),"&-placement-rightTop > ".concat(r,"-arrow"),{top:a}),"&-placement-rightBottom > ".concat(r,"-arrow"),{bottom:a}))))}var aX={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},oX={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},sX=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function lX(e){var t=e.arrowWidth,n=e.autoAdjustOverflow,r=e.arrowPointAtCenter,i=e.offset,a=e.borderRadius,o=e.visibleFirst,s=t/2,l={};return Object.keys(aX).forEach((function(e){var u=r&&oX[e]||aX[e],c=Object.assign(Object.assign({},u),{offset:[0,0],dynamicInset:!0});switch(l[e]=c,sX.has(e)&&(c.autoArrow=!1),e){case"top":case"topLeft":case"topRight":c.offset[1]=-s-i;break;case"bottom":case"bottomLeft":case"bottomRight":c.offset[1]=s+i;break;case"left":case"leftTop":case"leftBottom":c.offset[0]=-s-i;break;case"right":case"rightTop":case"rightBottom":c.offset[0]=s+i}var h=nX({contentRadius:a,limitVerticalRadius:!0});if(r)switch(e){case"topLeft":case"bottomLeft":c.offset[0]=-h.arrowOffsetHorizontal-s;break;case"topRight":case"bottomRight":c.offset[0]=h.arrowOffsetHorizontal+s;break;case"leftTop":case"rightTop":c.offset[1]=2*-h.arrowOffsetHorizontal+s;break;case"leftBottom":case"rightBottom":c.offset[1]=2*h.arrowOffsetHorizontal-s}c.overflow=function(e,t,n,r){if(!1===r)return{adjustX:!1,adjustY:!1};var i=r&&"object"===typeof r?r:{},a={};switch(e){case"top":case"bottom":a.shiftX=2*t.arrowOffsetHorizontal+n,a.shiftY=!0,a.adjustY=!0;break;case"left":case"right":a.shiftY=2*t.arrowOffsetVertical+n,a.shiftX=!0,a.adjustX=!0}var o=Object.assign(Object.assign({},a),i);return o.shiftX||(o.adjustX=!0),o.shiftY||(o.adjustY=!0),o}(e,h,t,n),o&&(c.htmlRegion="visibleFirst")})),l}function uX(){}var cX=function(){var e=function(){};return e.deprecated=uX,e},hX=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]?"&":"";return j(j(j(j({},"\n      ".concat(i).concat(e,"-enter,\n      ").concat(i).concat(e,"-appear\n    "),Object.assign(Object.assign({},function(e){return{animationDuration:e,animationFillMode:"both"}}(r)),{animationPlayState:"paused"})),"".concat(i).concat(e,"-leave"),Object.assign(Object.assign({},function(e){return{animationDuration:e,animationFillMode:"both"}}(r)),{animationPlayState:"paused"})),"\n      ".concat(i).concat(e,"-enter").concat(e,"-enter-active,\n      ").concat(i).concat(e,"-appear").concat(e,"-appear-active\n    "),{animationName:t,animationPlayState:"running"}),"".concat(i).concat(e,"-leave").concat(e,"-leave-active"),{animationName:n,animationPlayState:"running",pointerEvents:"none"})},fX=new sH("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),dX=new sH("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),pX=new sH("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),vX=new sH("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),gX=new sH("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),mX=new sH("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),yX={zoom:{inKeyframes:fX,outKeyframes:dX},"zoom-big":{inKeyframes:pX,outKeyframes:vX},"zoom-big-fast":{inKeyframes:pX,outKeyframes:vX},"zoom-left":{inKeyframes:new sH("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),outKeyframes:new sH("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}})},"zoom-right":{inKeyframes:new sH("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),outKeyframes:new sH("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}})},"zoom-up":{inKeyframes:gX,outKeyframes:mX},"zoom-down":{inKeyframes:new sH("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),outKeyframes:new sH("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}})}},bX=function(e,t){var n=e.antCls,r="".concat(n,"-").concat(t),i=yX[t],a=i.inKeyframes,o=i.outKeyframes;return[hX(r,a,o,"zoom-big-fast"===t?e.motionDurationFast:e.motionDurationMid),j(j({},"\n        ".concat(r,"-enter,\n        ").concat(r,"-appear\n      "),{transform:"scale(0)",opacity:0,animationTimingFunction:e.motionEaseOutCirc,"&-prepare":{transform:"none"}}),"".concat(r,"-leave"),{animationTimingFunction:e.motionEaseInOutCirc})]},xX=function(e){var t=e.calc,n=e.componentCls,r=e.tooltipMaxWidth,i=e.tooltipColor,a=e.tooltipBg,o=e.tooltipBorderRadius,s=e.zIndexPopup,l=e.controlHeight,u=e.boxShadowSecondary,c=e.paddingSM,h=e.paddingXS,f=e.arrowOffsetHorizontal,d=e.sizePopupArrow,p=t(o).add(d).add(f).equal(),v=t(o).mul(2).add(d).equal();return[j({},n,Object.assign(Object.assign(Object.assign(Object.assign({},GH(e)),j(j(j(j({position:"absolute",zIndex:s,display:"block",width:"max-content",maxWidth:r,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":a},"".concat(n,"-inner"),{minWidth:v,minHeight:l,padding:"".concat(DB(e.calc(c).div(2).equal())," ").concat(DB(h)),color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:a,borderRadius:o,boxShadow:u,boxSizing:"border-box"}),["&-placement-topLeft","&-placement-topRight","&-placement-bottomLeft","&-placement-bottomRight"].join(","),{minWidth:p}),["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(","),j({},"".concat(n,"-inner"),{borderRadius:e.min(o,tX)})),"".concat(n,"-content"),{position:"relative"})),XH(e,(function(e,t){var r=t.darkColor;return j({},"&".concat(n,"-").concat(e),j(j({},"".concat(n,"-inner"),{backgroundColor:r}),"".concat(n,"-arrow"),{"--antd-arrow-background-color":r}))}))),{"&-rtl":{direction:"rtl"}})),iX(e,"var(--antd-arrow-background-color)"),j({},"".concat(n,"-pure"),{position:"relative",maxWidth:"none",margin:e.sizePopupArrow})]},kX=function(e){return Object.assign(Object.assign({zIndexPopup:e.zIndexPopupBase+70},nX({contentRadius:e.borderRadius,limitVerticalRadius:!0})),function(e){var t=e.sizePopupArrow,n=e.borderRadiusXS,r=e.borderRadiusOuter,i=t/2,a=i,o=1*r/Math.sqrt(2),s=i-r*(1-1/Math.sqrt(2)),l=i-n*(1/Math.sqrt(2)),u=r*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),c=2*i-l,h=u,f=2*i-o,d=s,p=2*i-0,v=a,g=i*Math.sqrt(2)+r*(Math.sqrt(2)-2),m=r*(Math.sqrt(2)-1),y="polygon(".concat(m,"px 100%, 50% ").concat(m,"px, ").concat(2*i-m,"px 100%, ").concat(m,"px 100%)");return{arrowShadowWidth:g,arrowPath:"path('M ".concat(0," ").concat(a," A ").concat(r," ").concat(r," 0 0 0 ").concat(o," ").concat(s," L ").concat(l," ").concat(u," A ").concat(n," ").concat(n," 0 0 1 ").concat(c," ").concat(h," L ").concat(f," ").concat(d," A ").concat(r," ").concat(r," 0 0 0 ").concat(p," ").concat(v," Z')"),arrowPolygon:y}}(iG(e,{borderRadiusOuter:Math.min(e.borderRadiusOuter,4)})))},wX=function(e){var t=gG("Tooltip",(function(e){var t=e.borderRadius,n=iG(e,{tooltipMaxWidth:250,tooltipColor:e.colorTextLightSolid,tooltipBorderRadius:t,tooltipBg:e.colorBgSpotlight});return[xX(n),bX(e,"zoom-big-fast")]}),kX,{resetStyle:!1,injectStyle:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]});return t(e)};function SX(e,t){var n=BH(t),r=nD()(j({},"".concat(e,"-").concat(t),t&&n)),i={},a={};return t&&!n&&(i.background=t,a["--antd-arrow-background-color"]=t),{className:r,overlayStyle:i,arrowStyle:a}}var EX=function(e){var t=e.prefixCls,n=e.className,r=e.placement,i=void 0===r?"top":r,a=e.title,o=e.color,s=e.overlayInnerStyle,l=(0,m.useContext(lB).getPrefixCls)("tooltip",t),u=R(wX(l),3),c=u[0],h=u[1],f=u[2],d=SX(l,o),p=d.arrowStyle,v=Object.assign(Object.assign({},s),d.overlayStyle),g=nD()(h,f,l,"".concat(l,"-pure"),"".concat(l,"-placement-").concat(i),n,d.className);return c(m.createElement("div",{className:g,style:p},m.createElement("div",{className:"".concat(l,"-arrow")}),m.createElement(BG,Object.assign({},e,{className:h,prefixCls:l,overlayInnerStyle:v}),a)))},_X=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},MX=m.forwardRef((function(e,t){var n,r,i,a,o,s,l=e.prefixCls,u=e.openClassName,c=e.getTooltipContainer,h=e.color,f=e.overlayInnerStyle,d=e.children,p=e.afterOpenChange,v=e.afterVisibleChange,g=e.destroyTooltipOnHide,y=e.arrow,b=void 0===y||y,x=e.title,k=e.overlay,w=e.builtinPlacements,S=e.arrowPointAtCenter,E=void 0!==S&&S,_=e.autoAdjustOverflow,M=void 0===_||_,T=(e.motion,e.getPopupContainer),C=e.placement,A=void 0===C?"top":C,P=e.mouseEnterDelay,O=void 0===P?.1:P,L=e.mouseLeaveDelay,N=void 0===L?.1:L,I=e.overlayStyle,D=e.rootClassName,F=e.overlayClassName,U=e.styles,B=e.classNames,z=_X(e,["prefixCls","openClassName","getTooltipContainer","color","overlayInnerStyle","children","afterOpenChange","afterVisibleChange","destroyTooltipOnHide","arrow","title","overlay","builtinPlacements","arrowPointAtCenter","autoAdjustOverflow","motion","getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName","overlayClassName","styles","classNames"]),H=!!b,G=R(OH(),2)[1],V=m.useContext(lB),W=V.getPopupContainer,X=V.getPrefixCls,q=V.direction,Y=V.tooltip,K=cX("Tooltip"),J=m.useRef(null),Z=function(){var e;null===(e=J.current)||void 0===e||e.forceAlign()};m.useImperativeHandle(t,(function(){var e;return{forceAlign:Z,forcePopupAlign:function(){K.deprecated(!1,"forcePopupAlign","forceAlign"),Z()},nativeElement:null===(e=J.current)||void 0===e?void 0:e.nativeElement}}));var Q=R(nU(!1,{value:null!==(n=e.open)&&void 0!==n?n:e.visible,defaultValue:null!==(r=e.defaultOpen)&&void 0!==r?r:e.defaultVisible}),2),$=Q[0],ee=Q[1],te=!x&&!k&&0!==x,ne=m.useMemo((function(){var e,t,n=E;return"object"===typeof b&&(n=null!==(t=null!==(e=b.pointAtCenter)&&void 0!==e?e:b.arrowPointAtCenter)&&void 0!==t?t:E),w||lX({arrowPointAtCenter:n,autoAdjustOverflow:M,arrowWidth:H?G.sizePopupArrow:0,borderRadius:G.borderRadius,offset:G.marginXXS,visibleFirst:!0})}),[E,b,w,G]),re=m.useMemo((function(){return 0===x?x:k||x||""}),[k,x]),ie=m.createElement(QW,{space:!0},"function"===typeof re?re():re),ae=X("tooltip",l),oe=X(),se=e["data-popover-inject"],le=$;"open"in e||"visible"in e||!te||(le=!1);var ue=m.isValidElement(d)&&!function(e){return e&&m.isValidElement(e)&&e.type===m.Fragment}(d)?d:m.createElement("span",null,d),ce=ue.props,he=ce.className&&"string"!==typeof ce.className?ce.className:nD()(ce.className,u||"".concat(ae,"-open")),fe=R(wX(ae,!se),3),de=fe[0],pe=fe[1],ve=fe[2],ge=SX(ae,h),me=ge.arrowStyle,ye=nD()(F,j({},"".concat(ae,"-rtl"),"rtl"===q),ge.className,D,pe,ve,null===Y||void 0===Y?void 0:Y.className,null===(i=null===Y||void 0===Y?void 0:Y.classNames)||void 0===i?void 0:i.root,null===B||void 0===B?void 0:B.root),be=nD()(null===(a=null===Y||void 0===Y?void 0:Y.classNames)||void 0===a?void 0:a.body,null===B||void 0===B?void 0:B.body),xe=R(DH("Tooltip",z.zIndex),2),ke=xe[0],we=xe[1],Se=m.createElement(uV,Object.assign({},z,{zIndex:ke,showArrow:H,placement:A,mouseEnterDelay:O,mouseLeaveDelay:N,prefixCls:ae,classNames:{root:ye,body:be},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},me),null===(o=null===Y||void 0===Y?void 0:Y.styles)||void 0===o?void 0:o.root),null===Y||void 0===Y?void 0:Y.style),I),null===U||void 0===U?void 0:U.root),body:Object.assign(Object.assign(Object.assign(Object.assign({},null===(s=null===Y||void 0===Y?void 0:Y.styles)||void 0===s?void 0:s.body),f),null===U||void 0===U?void 0:U.body),ge.overlayStyle)},getTooltipContainer:T||c||W,ref:J,builtinPlacements:ne,overlay:ie,visible:le,onVisibleChange:function(t){var n,r;ee(!te&&t),te||(null===(n=e.onOpenChange)||void 0===n||n.call(e,t),null===(r=e.onVisibleChange)||void 0===r||r.call(e,t))},afterVisibleChange:null!==p&&void 0!==p?p:v,arrowContent:m.createElement("span",{className:"".concat(ae,"-arrow-content")}),motion:{motionName:$W(oe,"zoom-big-fast",e.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!g}),le?zH(ue,{className:he}):ue);return de(m.createElement(RH.Provider,{value:we},Se))})),TX=MX;TX._InternalPanelDoNotUseOrYouWillBeFired=EX;var CX=TX,AX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},PX=function(e,t){return m.createElement(CF,QI({},e,{ref:t,icon:AX}))};var OX=m.forwardRef(PX),RX=function(e){var t=e.icon,n=e.description,r=e.prefixCls,i=e.className,a=m.createElement("div",{className:"".concat(r,"-icon")},m.createElement(OX,null));return m.createElement("div",{onClick:e.onClick,onFocus:e.onFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,className:nD()(i,"".concat(r,"-content"))},t||n?m.createElement(m.Fragment,null,t&&m.createElement("div",{className:"".concat(r,"-icon")},t),n&&m.createElement("div",{className:"".concat(r,"-description")},n)):a)},LX=(0,m.memo)(RX),NX=new sH("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),IX=new sH("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),DX=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.antCls,r="".concat(n,"-fade"),i=t?"&":"";return[hX(r,NX,IX,e.motionDurationMid,t),j(j({},"\n        ".concat(i).concat(r,"-enter,\n        ").concat(i).concat(r,"-appear\n      "),{opacity:0,animationTimingFunction:"linear"}),"".concat(i).concat(r,"-leave"),{animationTimingFunction:"linear"})]},FX=function(e){return 0===e?0:e-Math.sqrt(Math.pow(e,2)/2)},UX=function(e){var t=e.componentCls,n=e.floatButtonSize,r=e.motionDurationSlow,i=e.motionEaseInOutCirc,a=e.calc,o=new sH("antFloatButtonMoveTopIn",{"0%":{transform:"translate3d(0, ".concat(DB(n),", 0)"),transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),s=new sH("antFloatButtonMoveTopOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, ".concat(DB(n),", 0)"),transformOrigin:"0 0",opacity:0}}),l=new sH("antFloatButtonMoveRightIn",{"0%":{transform:"translate3d(".concat(a(n).mul(-1).equal(),", 0, 0)"),transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),u=new sH("antFloatButtonMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(".concat(a(n).mul(-1).equal(),", 0, 0)"),transformOrigin:"0 0",opacity:0}}),c=new sH("antFloatButtonMoveBottomIn",{"0%":{transform:"translate3d(0, ".concat(a(n).mul(-1).equal(),", 0)"),transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),h=new sH("antFloatButtonMoveBottomOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, ".concat(a(n).mul(-1).equal(),", 0)"),transformOrigin:"0 0",opacity:0}}),f=new sH("antFloatButtonMoveLeftIn",{"0%":{transform:"translate3d(".concat(DB(n),", 0, 0)"),transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),d=new sH("antFloatButtonMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(".concat(DB(n),", 0, 0)"),transformOrigin:"0 0",opacity:0}}),p="".concat(t,"-group");return[j({},p,j(j(j(j({},"&".concat(p,"-top ").concat(p,"-wrap"),hX("".concat(p,"-wrap"),o,s,r,!0)),"&".concat(p,"-bottom ").concat(p,"-wrap"),hX("".concat(p,"-wrap"),c,h,r,!0)),"&".concat(p,"-left ").concat(p,"-wrap"),hX("".concat(p,"-wrap"),f,d,r,!0)),"&".concat(p,"-right ").concat(p,"-wrap"),hX("".concat(p,"-wrap"),l,u,r,!0))),j({},"".concat(p,"-wrap"),j(j({},"&".concat(p,"-wrap-enter, &").concat(p,"-wrap-appear"),{opacity:0,animationTimingFunction:i}),"&".concat(p,"-wrap-leave"),{opacity:1,animationTimingFunction:i}))]},BX=function(e){var t,n=e.antCls,r=e.componentCls,i=e.floatButtonSize,a=e.margin,o=e.borderRadiusLG,s=e.borderRadiusSM,l=e.badgeOffset,u=e.floatButtonBodyPadding,c=e.zIndexPopupBase,h=e.calc,f="".concat(r,"-group");return j(j(j(j(j(j(j(j(j(j(t={},f,Object.assign(Object.assign({},GH(e)),j(j(j({zIndex:c,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"none",position:"fixed",height:"auto",boxShadow:"none",minWidth:i,minHeight:i,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,borderRadius:o},"".concat(f,"-wrap"),{zIndex:-1,display:"flex",justifyContent:"center",alignItems:"center",position:"absolute"}),"&".concat(f,"-rtl"),{direction:"rtl"}),r,{position:"static"}))),"".concat(f,"-top > ").concat(f,"-wrap"),{flexDirection:"column",top:"auto",bottom:h(i).add(a).equal(),"&::after":{content:'""',position:"absolute",width:"100%",height:a,bottom:h(a).mul(-1).equal()}}),"".concat(f,"-bottom > ").concat(f,"-wrap"),{flexDirection:"column",top:h(i).add(a).equal(),bottom:"auto","&::after":{content:'""',position:"absolute",width:"100%",height:a,top:h(a).mul(-1).equal()}}),"".concat(f,"-right > ").concat(f,"-wrap"),{flexDirection:"row",left:{_skip_check_:!0,value:h(i).add(a).equal()},right:{_skip_check_:!0,value:"auto"},"&::after":{content:'""',position:"absolute",width:a,height:"100%",left:{_skip_check_:!0,value:h(a).mul(-1).equal()}}}),"".concat(f,"-left > ").concat(f,"-wrap"),{flexDirection:"row",left:{_skip_check_:!0,value:"auto"},right:{_skip_check_:!0,value:h(i).add(a).equal()},"&::after":{content:'""',position:"absolute",width:a,height:"100%",right:{_skip_check_:!0,value:h(a).mul(-1).equal()}}}),"".concat(f,"-circle"),j({gap:a},"".concat(f,"-wrap"),{gap:a})),"".concat(f,"-square"),j(j({},"".concat(r,"-square"),j(j(j(j(j({padding:0,borderRadius:0},"&".concat(f,"-trigger"),{borderRadius:o}),"&:first-child",{borderStartStartRadius:o,borderStartEndRadius:o}),"&:last-child",{borderEndStartRadius:o,borderEndEndRadius:o}),"&:not(:last-child)",{borderBottom:"".concat(DB(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}),"".concat(n,"-badge"),j({},"".concat(n,"-badge-count"),{top:h(h(u).add(l)).mul(-1).equal(),insetInlineEnd:h(h(u).add(l)).mul(-1).equal()}))),"".concat(f,"-wrap"),j({borderRadius:o,boxShadow:e.boxShadowSecondary},"".concat(r,"-square"),j({boxShadow:"none",borderRadius:0,padding:u},"".concat(r,"-body"),{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:s})))),"".concat(f,"-top > ").concat(f,"-wrap, ").concat(f,"-bottom > ").concat(f,"-wrap"),j({},"> ".concat(r,"-square"),{"&:first-child":{borderStartStartRadius:o,borderStartEndRadius:o},"&:last-child":{borderEndStartRadius:o,borderEndEndRadius:o},"&:not(:last-child)":{borderBottom:"".concat(DB(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}})),"".concat(f,"-left > ").concat(f,"-wrap, ").concat(f,"-right > ").concat(f,"-wrap"),j({},"> ".concat(r,"-square"),{"&:first-child":{borderStartStartRadius:o,borderEndStartRadius:o},"&:last-child":{borderStartEndRadius:o,borderEndEndRadius:o},"&:not(:last-child)":{borderInlineEnd:"".concat(DB(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorSplit)}})),"".concat(f,"-circle-shadow"),{boxShadow:"none"}),j(t,"".concat(f,"-square-shadow"),j({boxShadow:e.boxShadowSecondary},"".concat(r,"-square"),j({boxShadow:"none",padding:u},"".concat(r,"-body"),{width:e.floatButtonBodySize,height:e.floatButtonBodySize,borderRadius:s})))},zX=function(e){var t=e.antCls,n=e.componentCls,r=e.floatButtonBodyPadding,i=e.floatButtonIconSize,a=e.floatButtonSize,o=e.borderRadiusLG,s=e.badgeOffset,l=e.dotOffsetInSquare,u=e.dotOffsetInCircle,c=e.zIndexPopupBase,h=e.calc;return j(j(j(j(j(j({},n,Object.assign(Object.assign({},GH(e)),j(j({border:"none",position:"fixed",cursor:"pointer",zIndex:c,display:"block",width:a,height:a,insetInlineEnd:e.floatButtonInsetInlineEnd,bottom:e.floatButtonInsetBlockEnd,boxShadow:e.boxShadowSecondary,"&-pure":{position:"relative",inset:"auto"},"&:empty":{display:"none"}},"".concat(t,"-badge"),j({width:"100%",height:"100%"},"".concat(t,"-badge-count"),{transform:"translate(0, 0)",transformOrigin:"center",top:h(s).mul(-1).equal(),insetInlineEnd:h(s).mul(-1).equal()})),"".concat(n,"-body"),j({width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",transition:"all ".concat(e.motionDurationMid)},"".concat(n,"-content"),j({overflow:"hidden",textAlign:"center",minHeight:a,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"".concat(DB(h(r).div(2).equal())," ").concat(DB(r))},"".concat(n,"-icon"),{textAlign:"center",margin:"auto",width:i,fontSize:i,lineHeight:1}))))),"".concat(n,"-rtl"),{direction:"rtl"}),"".concat(n,"-circle"),j(j({height:a,borderRadius:"50%"},"".concat(t,"-badge"),j({},"".concat(t,"-badge-dot"),{top:u,insetInlineEnd:u})),"".concat(n,"-body"),{borderRadius:"50%"})),"".concat(n,"-square"),j(j({height:"auto",minHeight:a,borderRadius:o},"".concat(t,"-badge"),j({},"".concat(t,"-badge-dot"),{top:l,insetInlineEnd:l})),"".concat(n,"-body"),{height:"auto",borderRadius:o})),"".concat(n,"-default"),j({backgroundColor:e.floatButtonBackgroundColor,transition:"background-color ".concat(e.motionDurationMid)},"".concat(n,"-body"),j({backgroundColor:e.floatButtonBackgroundColor,transition:"background-color ".concat(e.motionDurationMid),"&:hover":{backgroundColor:e.colorFillContent}},"".concat(n,"-content"),j(j({},"".concat(n,"-icon"),{color:e.colorText}),"".concat(n,"-description"),{display:"flex",alignItems:"center",lineHeight:DB(e.fontSizeLG),color:e.colorText,fontSize:e.fontSizeSM})))),"".concat(n,"-primary"),j({backgroundColor:e.colorPrimary},"".concat(n,"-body"),j({backgroundColor:e.colorPrimary,transition:"background-color ".concat(e.motionDurationMid),"&:hover":{backgroundColor:e.colorPrimaryHover}},"".concat(n,"-content"),j(j({},"".concat(n,"-icon"),{color:e.colorTextLightSolid}),"".concat(n,"-description"),{display:"flex",alignItems:"center",lineHeight:DB(e.fontSizeLG),color:e.colorTextLightSolid,fontSize:e.fontSizeSM}))))},HX=gG("FloatButton",(function(e){var t=e.colorTextLightSolid,n=e.colorBgElevated,r=e.controlHeightLG,i=e.marginXXL,a=e.marginLG,o=e.fontSize,s=e.fontSizeIcon,l=e.controlItemBgHover,u=e.paddingXXS,c=e.calc,h=iG(e,{floatButtonBackgroundColor:n,floatButtonColor:t,floatButtonHoverBackgroundColor:l,floatButtonFontSize:o,floatButtonIconSize:c(s).mul(1.5).equal(),floatButtonSize:r,floatButtonInsetBlockEnd:i,floatButtonInsetInlineEnd:a,floatButtonBodySize:c(r).sub(c(u).mul(2)).equal(),floatButtonBodyPadding:u,badgeOffset:c(u).mul(1.5).equal()});return[BX(h),zX(h),DX(e),UX(h)]}),(function(e){return{dotOffsetInCircle:FX(e.controlHeightLG/2),dotOffsetInSquare:FX(e.borderRadiusLG)}})),GX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},jX="float-btn",VX=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.rootClassName,a=e.style,o=e.type,s=void 0===o?"default":o,l=e.shape,u=void 0===l?"circle":l,c=e.icon,h=e.description,f=e.tooltip,d=e.htmlType,p=void 0===d?"button":d,v=e.badge,g=void 0===v?{}:v,y=GX(e,["prefixCls","className","rootClassName","style","type","shape","icon","description","tooltip","htmlType","badge"]),b=(0,m.useContext)(lB),x=b.getPrefixCls,k=b.direction,w=(0,m.useContext)(hB),S=x(jX,n),E=UG(S),_=R(HX(S,E),3),M=_[0],T=_[1],C=_[2],A=w||u,P=nD()(T,C,E,S,r,i,"".concat(S,"-").concat(s),"".concat(S,"-").concat(A),j({},"".concat(S,"-rtl"),"rtl"===k)),O=R(DH("FloatButton",null===a||void 0===a?void 0:a.zIndex),1)[0],L=Object.assign(Object.assign({},a),{zIndex:O}),N=fB(g,["title","children","status","text"]),I=(0,m.useMemo)((function(){return{prefixCls:S,description:h,icon:c,type:s}}),[S,h,c,s]),D=m.createElement("div",{className:"".concat(S,"-body")},m.createElement(LX,Object.assign({},I)));return"badge"in e&&(D=m.createElement(FG,Object.assign({},N),D)),"tooltip"in e&&(D=m.createElement(CX,{title:f,placement:"rtl"===k?"right":"left"},D)),M(e.href?m.createElement("a",Object.assign({ref:t},y,{className:P,style:L}),D):m.createElement("button",Object.assign({ref:t},y,{className:P,style:L,type:p}),D))}));var WX=VX,XX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},qX=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.type,a=void 0===i?"default":i,o=e.shape,s=void 0===o?"circle":o,l=e.visibilityHeight,u=void 0===l?400:l,c=e.icon,h=void 0===c?m.createElement(PF,null):c,f=e.target,d=e.onClick,p=e.duration,v=void 0===p?450:p,g=XX(e,["prefixCls","className","type","shape","visibilityHeight","icon","target","onClick","duration"]),y=R((0,m.useState)(0===u),2),b=y[0],x=y[1],k=m.useRef(null);m.useImperativeHandle(t,(function(){return{nativeElement:k.current}}));var w=function(){var e;return(null===(e=k.current)||void 0===e?void 0:e.ownerDocument)||window},S=oB((function(e){var t=aB(e.target);x(t>=u)}));(0,m.useEffect)((function(){var e=(f||w)();return S({target:e}),null===e||void 0===e||e.addEventListener("scroll",S),function(){S.cancel(),null===e||void 0===e||e.removeEventListener("scroll",S)}}),[f]);var E=function(e){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getContainer,r=void 0===n?function(){return window}:n,i=t.callback,a=t.duration,o=void 0===a?450:a,s=r(),l=aB(s),u=Date.now(),c=function(){var t=Date.now()-u,n=function(e,t,n,r){var i=n-t;return(e/=r/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}(t>o?o:t,l,e,o);iB(s)?s.scrollTo(window.pageXOffset,n):s instanceof Document||"HTMLDocument"===s.constructor.name?s.documentElement.scrollTop=n:s.scrollTop=n,t<o?BU(c):"function"===typeof i&&i()};BU(c)}(0,{getContainer:f||w,duration:v}),null===d||void 0===d||d(e)},_=(0,m.useContext)(lB).getPrefixCls,M=_(jX,n),T=_(),C=(0,m.useContext)(hB)||s,A=Object.assign({prefixCls:M,icon:h,type:a,shape:C},g);return m.createElement(rB,{visible:b,motionName:"".concat(T,"-fade")},(function(e,t){var n=e.className;return m.createElement(WX,Object.assign({ref:zF(k,t)},A,{onClick:E,className:nD()(r,n)}))}))}));var YX=qX,KX={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},JX=function(e,t){return m.createElement(CF,QI({},e,{ref:t,icon:KX}))};var ZX=m.forwardRef(JX),QX=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},$X=function(e){var t,n=e.prefixCls,r=e.className,i=e.style,a=e.shape,o=void 0===a?"circle":a,s=e.type,l=void 0===s?"default":s,u=e.placement,c=void 0===u?"top":u,h=e.icon,f=void 0===h?m.createElement(OX,null):h,d=e.closeIcon,p=e.description,v=e.trigger,g=e.children,y=e.onOpenChange,b=e.open,x=e.onClick,k=QX(e,["prefixCls","className","style","shape","type","placement","icon","closeIcon","description","trigger","children","onOpenChange","open","onClick"]),w=m.useContext(lB),S=w.direction,E=w.getPrefixCls,_=w.floatButtonGroup,M=null!==(t=null!==d&&void 0!==d?d:null===_||void 0===_?void 0:_.closeIcon)&&void 0!==t?t:m.createElement(ZX,null),T=E(jX,n),C=UG(T),A=R(HX(T,C),3),P=A[0],O=A[1],L=A[2],N="".concat(T,"-group"),I=v&&["click","hover"].includes(v),D=c&&["top","left","right","bottom"].includes(c),F=nD()(N,O,L,C,r,j(j(j(j({},"".concat(N,"-rtl"),"rtl"===S),"".concat(N,"-").concat(o),o),"".concat(N,"-").concat(o,"-shadow"),!I),"".concat(N,"-").concat(c),I&&D)),U=R(DH("FloatButton",null===i||void 0===i?void 0:i.zIndex),1)[0],B=Object.assign(Object.assign({},i),{zIndex:U}),z=nD()(O,"".concat(N,"-wrap")),H=R(nU(!1,{value:b}),2),G=H[0],V=H[1],W=m.useRef(null),X="hover"===v,q="click"===v,Y=KF((function(e){G!==e&&(V(e),null===y||void 0===y||y(e))}));return m.useEffect((function(){if(q){var e=function(e){var t;(null===(t=W.current)||void 0===t?void 0:t.contains(e.target))||Y(!1)};return document.addEventListener("click",e,{capture:!0}),function(){return document.removeEventListener("click",e,{capture:!0})}}}),[q]),P(m.createElement(cB,{value:o},m.createElement("div",{ref:W,className:F,style:B,onMouseEnter:function(){X&&Y(!0)},onMouseLeave:function(){X&&Y(!1)}},I?m.createElement(m.Fragment,null,m.createElement(rB,{visible:G,motionName:"".concat(N,"-wrap")},(function(e){var t=e.className;return m.createElement("div",{className:nD()(t,z)},g)})),m.createElement(WX,Object.assign({type:l,icon:G?M:f,description:p,"aria-label":e["aria-label"],className:"".concat(N,"-trigger"),onClick:function(e){q&&Y(!G),null===x||void 0===x||x(e)}},k))):g)))},eq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},tq=function(e){var t=e.backTop,n=eq(e,["backTop"]);return t?m.createElement(YX,Object.assign({},n,{visibilityHeight:0})):m.createElement(WX,Object.assign({},n))},nq=function(e){var t=e.className,n=e.items,r=eq(e,["className","items"]),i=r.prefixCls,a=(0,m.useContext(lB).getPrefixCls)(jX,i),o="".concat(a,"-pure");return n?m.createElement($X,Object.assign({className:nD()(t,o)},r),n.map((function(e,t){return m.createElement(tq,Object.assign({key:t},e))}))):m.createElement(tq,Object.assign({className:nD()(t,o)},r))};WX.BackTop=YX,WX.Group=$X,WX._InternalPanelDoNotUseOrYouWillBeFired=nq;var rq=WX,iq=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},aq=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},oq=function(e){function t(e){var n;T(this,t),n=z(this,t);var r=e.graph,i=aq(e,["graph"]);return n.graph=r,n.options=Object.assign({},i),n.offset={x:0,y:0},n.render(),n.disabled||n.startListening(),n}return G(t,e),M(t,[{key:"model",get:function(){return this.graph.model}},{key:"containerClassName",get:function(){return this.prefixClassName("widget-snapline")}},{key:"verticalClassName",get:function(){return"".concat(this.containerClassName,"-vertical")}},{key:"horizontalClassName",get:function(){return"".concat(this.containerClassName,"-horizontal")}},{key:"disabled",get:function(){return!0!==this.options.enabled}},{key:"enable",value:function(){this.disabled&&(this.options.enabled=!0,this.startListening())}},{key:"disable",value:function(){this.disabled||(this.options.enabled=!1,this.stopListening())}},{key:"setFilter",value:function(e){this.options.filter=e}},{key:"render",value:function(){var e=this.containerWrapper=new bC("svg"),t=this.horizontal=new bC("line"),n=this.vertical=new bC("line");e.addClass(this.containerClassName),t.addClass(this.horizontalClassName),n.addClass(this.verticalClassName),e.setAttribute("width","100%"),e.setAttribute("height","100%"),t.setAttribute("display","none"),n.setAttribute("display","none"),e.append([t,n]),this.options.className&&e.addClass(this.options.className),this.container=this.containerWrapper.node}},{key:"startListening",value:function(){this.stopListening(),this.graph.on("node:mousedown",this.captureCursorOffset,this),this.graph.on("node:mousemove",this.snapOnMoving,this),this.model.on("batch:stop",this.onBatchStop,this),this.delegateDocumentEvents({mouseup:"hide",touchend:"hide"})}},{key:"stopListening",value:function(){this.graph.off("node:mousedown",this.captureCursorOffset,this),this.graph.off("node:mousemove",this.snapOnMoving,this),this.model.off("batch:stop",this.onBatchStop,this),this.undelegateDocumentEvents()}},{key:"onBatchStop",value:function(e){var t=e.name,n=e.data;"resize"===t&&this.snapOnResizing(n.cell,n)}},{key:"captureCursorOffset",value:function(e){var t=e.view,n=e.x,r=e.y,i=t.getDelegatedView();if(i&&this.isNodeMovable(i)){var a=t.cell.getPosition();this.offset={x:n-a.x,y:r-a.y}}}},{key:"isNodeMovable",value:function(e){return e&&e.cell.isNode()&&e.can("nodeMovable")}},{key:"getRestrictArea",value:function(e){var t=this.graph.options.translating.restrict,n="function"===typeof t?Ib(t,this.graph,e):t;return"number"===typeof n?this.graph.transform.getGraphArea().inflate(n):!0===n?this.graph.transform.getGraphArea():n||null}},{key:"snapOnResizing",value:function(e,t){var n=this;if(this.options.resizing&&!t.snapped&&t.ui&&t.direction&&t.trueDirection){var r=this.graph.renderer.findViewByCell(e);if(r&&r.cell.isNode()){var i,a,o,s,l,u,c=e.getBBox(),h=c.bbox(e.getAngle()),f=h.getTopLeft(),d=h.getBottomRight(),p=pA.normalize(e.getAngle()),v=this.options.tolerance||0,g={vertical:0,horizontal:0},m=t.direction,y=t.trueDirection,b=t.relativeDirection;-1!==y.indexOf("right")?g.vertical=d.x:g.vertical=f.x,-1!==y.indexOf("bottom")?g.horizontal=d.y:g.horizontal=f.y,this.model.getNodes().some((function(t){if(n.isIgnored(e,t))return!1;var r=t.getBBox().bbox(t.getAngle()),c=r.getTopLeft(),f=r.getBottomRight(),p={vertical:[c.x,f.x],horizontal:[c.y,f.y]},m={};return Object.keys(p).forEach((function(e){var t=e,n=p[t].map((function(e){return{position:e,distance:Math.abs(e-g[t])}})).filter((function(e){return e.distance<=v}));m[t]=y_(n,(function(e){return e.distance}))})),null==i&&m.vertical.length>0&&(i=m.vertical[0].position,a=Math.min(h.y,r.y),o=Math.max(d.y,f.y)-a),null==s&&m.horizontal.length>0&&(s=m.horizontal[0].position,l=Math.min(h.x,r.x),u=Math.max(d.x,f.x)-l),null!=i&&null!=s})),this.hide();var x=0,k=0;null==s&&null==i||(null!=i&&(x=-1!==y.indexOf("right")?i-d.x:f.x-i),null!=s&&(k=-1!==y.indexOf("bottom")?s-d.y:f.y-s));var w=0,S=0;if(p%90===0)90===p||270===p?(w=k,S=x):(w=x,S=k);else{var E=p>=0&&p<90?1:p>=90&&p<180?4:p>=180&&p<270?3:2;null!=s&&null!=i&&(x<k?(k=0,s=void 0):(x=0,i=void 0));var _=pA.toRad(p%90);x&&(w=3===E?x/Math.cos(_):x/Math.sin(_)),k&&(S=3===E?k/Math.cos(_):k/Math.sin(_));var M=1===E||3===E;switch(b){case"top":case"bottom":S=k?k/(M?Math.cos(_):Math.sin(_)):x/(M?Math.sin(_):Math.cos(_));break;case"left":case"right":w=x?x/(M?Math.cos(_):Math.sin(_)):k/(M?Math.sin(_):Math.cos(_))}}switch(b){case"top":case"bottom":w=0;break;case"left":case"right":S=0}var T=this.graph.getGridSize(),C=Math.max(c.width+w,T),A=Math.max(c.height+S,T);t.minWidth&&t.minWidth>T&&(C=Math.max(C,t.minWidth)),t.minHeight&&t.minHeight>T&&(A=Math.max(A,t.minHeight)),t.maxWidth&&(C=Math.min(C,t.maxWidth)),t.maxHeight&&(A=Math.min(A,t.maxHeight)),t.preserveAspectRatio&&(S<w?A=C*(c.height/c.width):C=A*(c.width/c.height)),C===c.width&&A===c.height||(e.resize(C,A,{direction:m,relativeDirection:b,trueDirection:y,snapped:!0,snaplines:this.cid,restrict:this.getRestrictArea(r)}),o&&(o+=A-c.height),u&&(u+=C-c.width));var P=e.getBBox().bbox(p);i&&Math.abs(P.x-i)>1&&Math.abs(P.width+P.x-i)>1&&(i=void 0),s&&Math.abs(P.y-s)>1&&Math.abs(P.height+P.y-s)>1&&(s=void 0),this.update({verticalLeft:i,verticalTop:a,verticalHeight:o,horizontalTop:s,horizontalLeft:l,horizontalWidth:u})}}}},{key:"snapOnMoving",value:function(e){var t=this,n=e.view,r=e.e,i=e.x,a=e.y,o=n.getEventData(r).delegatedView||n;if(this.isNodeMovable(o)){var s,l,u,c,h,f,d=o.cell,p=d.getSize(),v=d.getPosition(),g=new kA(i-this.offset.x,a-this.offset.y,p.width,p.height),m=d.getAngle(),y=g.getCenter(),b=g.bbox(m),x=b.getTopLeft(),k=b.getBottomRight(),w=this.options.tolerance||0,S=0,E=0;if(this.model.getNodes().some((function(e){if(t.isIgnored(d,e))return!1;var n=e.getBBox().bbox(e.getAngle()),r=n.getCenter(),i=n.getTopLeft(),a=n.getBottomRight();return null==s&&(Math.abs(r.x-y.x)<w?(s=r.x,S=.5):Math.abs(i.x-x.x)<w?(s=i.x,S=0):Math.abs(i.x-k.x)<w?(s=i.x,S=1):Math.abs(a.x-k.x)<w?(s=a.x,S=1):Math.abs(a.x-x.x)<w&&(s=a.x),null!=s&&(l=Math.min(b.y,n.y),u=Math.max(k.y,a.y)-l)),null==c&&(Math.abs(r.y-y.y)<w?(c=r.y,E=.5):Math.abs(i.y-x.y)<w?c=i.y:Math.abs(i.y-k.y)<w?(c=i.y,E=1):Math.abs(a.y-k.y)<w?(c=a.y,E=1):Math.abs(a.y-x.y)<w&&(c=a.y),null!=c&&(h=Math.min(b.x,n.x),f=Math.max(k.x,a.x)-h)),null!=s&&null!=c})),this.hide(),null!=c||null!=s){null!=c&&(b.y=c-E*b.height),null!=s&&(b.x=s-S*b.width);var _=b.getCenter(),M=_.x-g.width/2,T=_.y-g.height/2,C=M-v.x,A=T-v.y;0===C&&0===A||(d.translate(C,A,{snapped:!0,restrict:this.getRestrictArea(o)}),f&&(f+=C),u&&(u+=A)),this.update({verticalLeft:s,verticalTop:l,verticalHeight:u,horizontalTop:c,horizontalLeft:h,horizontalWidth:f})}}}},{key:"isIgnored",value:function(e,t){return t.id===e.id||t.isDescendantOf(e)||!this.filter(t)}},{key:"filter",value:function(e){var t=this.options.filter;return Array.isArray(t)?t.some((function(t){return"string"===typeof t?e.shape===t:e.id===t.id})):"function"!==typeof t||Ib(t,this.graph,e)}},{key:"update",value:function(e){if(e.horizontalTop){var t=this.graph.localToGraph(new xA(e.horizontalLeft,e.horizontalTop)),n=this.graph.localToGraph(new xA(e.horizontalLeft+e.horizontalWidth,e.horizontalTop));this.horizontal.setAttributes({x1:this.options.sharp?"".concat(t.x):"0",y1:"".concat(t.y),x2:this.options.sharp?"".concat(n.x):"100%",y2:"".concat(n.y),display:"inherit"})}else this.horizontal.setAttribute("display","none");if(e.verticalLeft){var r=this.graph.localToGraph(new xA(e.verticalLeft,e.verticalTop)),i=this.graph.localToGraph(new xA(e.verticalLeft,e.verticalTop+e.verticalHeight));this.vertical.setAttributes({x1:"".concat(r.x),y1:this.options.sharp?"".concat(r.y):"0",x2:"".concat(i.x),y2:this.options.sharp?"".concat(i.y):"100%",display:"inherit"})}else this.vertical.setAttribute("display","none");this.show()}},{key:"resetTimer",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"show",value:function(){return this.resetTimer(),null==this.container.parentNode&&this.graph.container.appendChild(this.container),this}},{key:"hide",value:function(){var e=this;this.resetTimer(),this.vertical.setAttribute("display","none"),this.horizontal.setAttribute("display","none");var t=this.options.clean,n="number"===typeof t?t:!1!==t?3e3:0;return n>0&&(this.timer=window.setTimeout((function(){null!==e.container.parentNode&&e.unmount()}),n)),this}},{key:"onRemove",value:function(){this.stopListening(),this.hide()}},{key:"dispose",value:function(){this.remove()}}])}(DR);iq([DR.dispose()],oq.prototype,"dispose",null);WI.prototype.isSnaplineEnabled=function(){var e=this.getPlugin("snapline");return!!e&&e.isEnabled()},WI.prototype.enableSnapline=function(){var e=this.getPlugin("snapline");return e&&e.enable(),this},WI.prototype.disableSnapline=function(){var e=this.getPlugin("snapline");return e&&e.disable(),this},WI.prototype.toggleSnapline=function(){var e=this.getPlugin("snapline");return e&&e.toggleEnabled(),this},WI.prototype.hideSnapline=function(){var e=this.getPlugin("snapline");return e&&e.hide(),this},WI.prototype.setSnaplineFilter=function(e){var t=this.getPlugin("snapline");return t&&t.setFilter(e),this},WI.prototype.isSnaplineOnResizingEnabled=function(){var e=this.getPlugin("snapline");return!!e&&e.isOnResizingEnabled()},WI.prototype.enableSnaplineOnResizing=function(){var e=this.getPlugin("snapline");return e&&e.enableOnResizing(),this},WI.prototype.disableSnaplineOnResizing=function(){var e=this.getPlugin("snapline");return e&&e.disableOnResizing(),this},WI.prototype.toggleSnaplineOnResizing=function(e){var t=this.getPlugin("snapline");return t&&t.toggleOnResizing(e),this},WI.prototype.isSharpSnapline=function(){var e=this.getPlugin("snapline");return!!e&&e.isSharp()},WI.prototype.enableSharpSnapline=function(){var e=this.getPlugin("snapline");return e&&e.enableSharp(),this},WI.prototype.disableSharpSnapline=function(){var e=this.getPlugin("snapline");return e&&e.disableSharp(),this},WI.prototype.toggleSharpSnapline=function(e){var t=this.getPlugin("snapline");return t&&t.toggleSharp(e),this},WI.prototype.getSnaplineTolerance=function(){var e=this.getPlugin("snapline");if(e)return e.getTolerance()},WI.prototype.setSnaplineTolerance=function(e){var t=this.getPlugin("snapline");return t&&t.setTolerance(e),this};var sq=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},lq=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return T(this,t),(e=z(this,t)).name="snapline",e.options=Object.assign({enabled:!0,tolerance:10},n),mA(e.name,".x6-widget-snapline {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  pointer-events: none;\n}\n.x6-widget-snapline-vertical,\n.x6-widget-snapline-horizontal {\n  stroke: #2ecc71;\n  stroke-width: 1px;\n}\n"),e}return G(t,e),M(t,[{key:"init",value:function(e){this.snaplineImpl=new oq(Object.assign(Object.assign({},this.options),{graph:e}))}},{key:"isEnabled",value:function(){return!this.snaplineImpl.disabled}},{key:"enable",value:function(){this.snaplineImpl.enable()}},{key:"disable",value:function(){this.snaplineImpl.disable()}},{key:"toggleEnabled",value:function(e){if(null==e)return this.isEnabled()?this.disable():this.enable(),this;e!==this.isEnabled()&&(e?this.enable():this.disable())}},{key:"hide",value:function(){return this.snaplineImpl.hide(),this}},{key:"setFilter",value:function(e){return this.snaplineImpl.setFilter(e),this}},{key:"isOnResizingEnabled",value:function(){return!0===this.snaplineImpl.options.resizing}},{key:"enableOnResizing",value:function(){return this.snaplineImpl.options.resizing=!0,this}},{key:"disableOnResizing",value:function(){return this.snaplineImpl.options.resizing=!1,this}},{key:"toggleOnResizing",value:function(e){return null!=e?e!==this.isOnResizingEnabled()&&(e?this.enableOnResizing():this.disableOnResizing()):this.isOnResizingEnabled()?this.disableOnResizing():this.enableOnResizing(),this}},{key:"isSharp",value:function(){return!0===this.snaplineImpl.options.sharp}},{key:"enableSharp",value:function(){return this.snaplineImpl.options.sharp=!0,this}},{key:"disableSharp",value:function(){return this.snaplineImpl.options.sharp=!1,this}},{key:"toggleSharp",value:function(e){return null!=e?e!==this.isSharp()&&(e?this.enableSharp():this.disableSharp()):this.isSharp()?this.disableSharp():this.enableSharp(),this}},{key:"getTolerance",value:function(){return this.snaplineImpl.options.tolerance}},{key:"setTolerance",value:function(e){return this.snaplineImpl.options.tolerance=e,this}},{key:"captureCursorOffset",value:function(e){this.snaplineImpl.captureCursorOffset(e)}},{key:"snapOnMoving",value:function(e){this.snaplineImpl.snapOnMoving(e)}},{key:"dispose",value:function(){this.snaplineImpl.dispose(),yA(this.name)}}])}(nb);sq([nb.dispose()],lq.prototype,"dispose",null);var uq={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9z"}}]},name:"edit",theme:"filled"},cq=function(e,t){return m.createElement(CF,QI({},e,{ref:t,icon:uq}))};var hq=m.forwardRef(cq),fq={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},dq=function(e,t){return m.createElement(CF,QI({},e,{ref:t,icon:fq}))};var pq=m.forwardRef(dq),vq="rect",gq=100,mq=100,yq=100,bq=100,xq={position:"absolute",attrs:{circle:{r:7,fill:"#FFFFFF",stroke:"#FF0000",strokeWidth:3,magnet:!0}}},kq={position:"absolute",attrs:{circle:{r:7,fill:"#FFFFFF",stroke:"#0000FF",strokeWidth:3,magnet:!0}}};function wq(){return(0,$y.jsx)("div",{children:"\u706f\u6ce1"})}function Sq(){return(0,$y.jsx)("div",{children:"\u706b\u7ebf\u7aef\u5b50"})}function Eq(){return(0,$y.jsx)("div",{children:"\u96f6\u7ebf\u7aef\u5b50"})}wq.createNode=function(e,t){if(!e)return!1;var n={shape:t&&t.shape||vq,x:t&&t.x||gq,y:t&&t.y||mq,width:t&&t.width||yq,height:t&&t.height||bq,label:"\u706f\u6ce1",data:{nodeMovable:!1,id:123456},ports:{groups:{LPort:xq,NPort:kq},items:[{id:"lampLPort1",group:"LPort",args:{x:20,y:100}},{id:"lampNPort1",group:"NPort",args:{x:80,y:100}}]}};e.addNode(n)},Sq.createNode=function(e,t){if(!e)return!1;var n={shape:t&&t.shape||"circle",x:t&&t.x||gq,y:t&&t.y||mq,width:t&&t.width||14,height:t&&t.height||14,attrs:{circle:{fill:"#FFFFFF",stroke:"#FF0000",strokeWidth:3}},data:{nodeMovable:!1,id:123456}};return e.addNode(n)},Eq.createNode=function(e,t){if(!e)return!1;var n={shape:t&&t.shape||"circle",x:t&&t.x||gq,y:t&&t.y||mq,width:t&&t.width||14,height:t&&t.height||14,attrs:{circle:{fill:"#FFFFFF",stroke:"#0000FF",strokeWidth:3}},data:{nodeMovable:!1,id:123456}};return e.addNode(n)};var _q=function(e){return e.SWITCH_BUTTON="switchButton",e.PROTECTION_CIRCUIT="protectionCircuit",e.LOAD_DEVICES="loadDevices",e.ELECTRICAL_INSTRUMENTS="electricalInstruments",e.GENERAL="general",e}({}),Mq=[{name:"\u5355\u5f00",imgSrc:"logo192.png",onCreateNode:wq.createNode,tabKey:_q.SWITCH_BUTTON}],Tq=[{name:"\u7a7a\u6c14\u5f00\u5173",imgSrc:"logo192.png",tabKey:_q.PROTECTION_CIRCUIT}],Cq=[{name:"\u7535\u52a8\u673a",imgSrc:"logo192.png",tabKey:_q.LOAD_DEVICES}],Aq=[{name:"\u7535\u538b\u8868",imgSrc:"logo192.png",tabKey:_q.ELECTRICAL_INSTRUMENTS}],Pq=[{name:"\u706b\u7ebf\u7aef\u5b50",imgSrc:"logo192.png",onCreateNode:Sq.createNode,tabKey:_q.GENERAL},{name:"\u96f6\u7ebf\u7aef\u5b50",imgSrc:"logo192.png",onCreateNode:Eq.createNode,tabKey:_q.GENERAL}],Oq=[].concat(Mq,Tq,Cq,Aq,Pq),Rq=m.createContext(null),Lq=m.createContext({}),Nq=Rq,Iq={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=Iq.F1&&t<=Iq.F12)return!1;switch(t){case Iq.ALT:case Iq.CAPS_LOCK:case Iq.CONTEXT_MENU:case Iq.CTRL:case Iq.DOWN:case Iq.END:case Iq.ESC:case Iq.HOME:case Iq.INSERT:case Iq.LEFT:case Iq.MAC_FF_META:case Iq.META:case Iq.NUMLOCK:case Iq.NUM_CENTER:case Iq.PAGE_DOWN:case Iq.PAGE_UP:case Iq.PAUSE:case Iq.PRINT_SCREEN:case Iq.RIGHT:case Iq.SHIFT:case Iq.UP:case Iq.WIN_KEY:case Iq.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=Iq.ZERO&&e<=Iq.NINE)return!0;if(e>=Iq.NUM_ZERO&&e<=Iq.NUM_MULTIPLY)return!0;if(e>=Iq.A&&e<=Iq.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case Iq.SPACE:case Iq.QUESTION_MARK:case Iq.NUM_PLUS:case Iq.NUM_MINUS:case Iq.NUM_PERIOD:case Iq.NUM_DIVISION:case Iq.SEMICOLON:case Iq.DASH:case Iq.EQUALS:case Iq.COMMA:case Iq.PERIOD:case Iq.SLASH:case Iq.APOSTROPHE:case Iq.SINGLE_QUOTE:case Iq.OPEN_SQUARE_BRACKET:case Iq.BACKSLASH:case Iq.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Dq=Iq,Fq="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),Uq="aria-",Bq="data-";function zq(e,t){return 0===e.indexOf(t)}function Hq(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:yn({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||zq(n,Uq))||t.data&&zq(n,Bq)||t.attr&&Fq.includes(n))&&(r[n]=e[n])})),r}var Gq=["prefixCls","className","containerRef"];var jq=function(e){var t=e.prefixCls,n=e.className,r=e.containerRef,i=eD(e,Gq),a=m.useContext(Lq).panel,o=HF(a,r);return m.createElement("div",QI({className:nD()("".concat(t,"-content"),n),role:"dialog",ref:o},Hq(e,{aria:!0}),{"aria-modal":"true"},i))};function Vq(e){return"string"===typeof e&&String(Number(e))===e?(vF(!1,"Invalid value type of `width` or `height` which should be number type instead."),Number(e)):e}var Wq={width:0,height:0,overflow:"hidden",outline:"none",position:"absolute"};function Xq(e,t){var n,r,i,a=e.prefixCls,o=e.open,s=e.placement,l=e.inline,u=e.push,c=e.forceRender,h=e.autoFocus,f=e.keyboard,d=e.classNames,p=e.rootClassName,v=e.rootStyle,g=e.zIndex,y=e.className,b=e.id,x=e.style,k=e.motion,w=e.width,S=e.height,E=e.children,_=e.mask,M=e.maskClosable,T=e.maskMotion,C=e.maskClassName,A=e.maskStyle,P=e.afterOpenChange,O=e.onClose,L=e.onMouseEnter,N=e.onMouseOver,I=e.onMouseLeave,D=e.onClick,F=e.onKeyDown,U=e.onKeyUp,B=e.styles,z=e.drawerRender,H=m.useRef(),G=m.useRef(),V=m.useRef();m.useImperativeHandle(t,(function(){return H.current}));m.useEffect((function(){var e;o&&h&&(null===(e=H.current)||void 0===e||e.focus({preventScroll:!0}))}),[o]);var W=R(m.useState(!1),2),X=W[0],q=W[1],Y=m.useContext(Nq),K=null!==(n=null!==(r=null===(i="boolean"===typeof u?u?{}:{distance:0}:u||{})||void 0===i?void 0:i.distance)&&void 0!==r?r:null===Y||void 0===Y?void 0:Y.pushDistance)&&void 0!==n?n:180,J=m.useMemo((function(){return{pushDistance:K,push:function(){q(!0)},pull:function(){q(!1)}}}),[K]);m.useEffect((function(){var e,t;o?null===Y||void 0===Y||null===(e=Y.push)||void 0===e||e.call(Y):null===Y||void 0===Y||null===(t=Y.pull)||void 0===t||t.call(Y)}),[o]),m.useEffect((function(){return function(){var e;null===Y||void 0===Y||null===(e=Y.pull)||void 0===e||e.call(Y)}}),[]);var Z=_&&m.createElement(rB,QI({key:"mask"},T,{visible:o}),(function(e,t){var n=e.className,r=e.style;return m.createElement("div",{className:nD()("".concat(a,"-mask"),n,null===d||void 0===d?void 0:d.mask,C),style:yn(yn(yn({},r),A),null===B||void 0===B?void 0:B.mask),onClick:M&&o?O:void 0,ref:t})})),Q="function"===typeof k?k(s):k,$={};if(X&&K)switch(s){case"top":$.transform="translateY(".concat(K,"px)");break;case"bottom":$.transform="translateY(".concat(-K,"px)");break;case"left":$.transform="translateX(".concat(K,"px)");break;default:$.transform="translateX(".concat(-K,"px)")}"left"===s||"right"===s?$.width=Vq(w):$.height=Vq(S);var ee={onMouseEnter:L,onMouseOver:N,onMouseLeave:I,onClick:D,onKeyDown:F,onKeyUp:U},te=m.createElement(rB,QI({key:"panel"},Q,{visible:o,forceRender:c,onVisibleChanged:function(e){null===P||void 0===P||P(e)},removeOnLeave:!1,leavedClassName:"".concat(a,"-content-wrapper-hidden")}),(function(t,n){var r=t.className,i=t.style,o=m.createElement(jq,QI({id:b,containerRef:n,prefixCls:a,className:nD()(y,null===d||void 0===d?void 0:d.content),style:yn(yn({},x),null===B||void 0===B?void 0:B.content)},Hq(e,{aria:!0}),ee),E);return m.createElement("div",QI({className:nD()("".concat(a,"-content-wrapper"),null===d||void 0===d?void 0:d.wrapper,r),style:yn(yn(yn({},$),i),null===B||void 0===B?void 0:B.wrapper)},Hq(e,{data:!0})),z?z(o):o)})),ne=yn({},v);return g&&(ne.zIndex=g),m.createElement(Nq.Provider,{value:J},m.createElement("div",{className:nD()(a,"".concat(a,"-").concat(s),p,j(j({},"".concat(a,"-open"),o),"".concat(a,"-inline"),l)),style:ne,tabIndex:-1,ref:H,onKeyDown:function(e){var t=e.keyCode,n=e.shiftKey;switch(t){case Dq.TAB:var r;if(t===Dq.TAB)if(n||document.activeElement!==V.current){if(n&&document.activeElement===G.current){var i;null===(i=V.current)||void 0===i||i.focus({preventScroll:!0})}}else null===(r=G.current)||void 0===r||r.focus({preventScroll:!0});break;case Dq.ESC:O&&f&&(e.stopPropagation(),O(e))}}},Z,m.createElement("div",{tabIndex:0,ref:G,style:Wq,"aria-hidden":"true","data-sentinel":"start"}),te,m.createElement("div",{tabIndex:0,ref:V,style:Wq,"aria-hidden":"true","data-sentinel":"end"})))}var qq=m.forwardRef(Xq);var Yq=function(e){var t=e.open,n=void 0!==t&&t,r=e.prefixCls,i=void 0===r?"rc-drawer":r,a=e.placement,o=void 0===a?"right":a,s=e.autoFocus,l=void 0===s||s,u=e.keyboard,c=void 0===u||u,h=e.width,f=void 0===h?378:h,d=e.mask,p=void 0===d||d,v=e.maskClosable,g=void 0===v||v,y=e.getContainer,b=e.forceRender,x=e.afterOpenChange,k=e.destroyOnClose,w=e.onMouseEnter,S=e.onMouseOver,E=e.onMouseLeave,_=e.onClick,M=e.onKeyDown,T=e.onKeyUp,C=e.panelRef,A=R(m.useState(!1),2),P=A[0],O=A[1];var L=R(m.useState(!1),2),N=L[0],I=L[1];$F((function(){I(!0)}),[]);var D=!!N&&n,F=m.useRef(),U=m.useRef();$F((function(){D&&(U.current=document.activeElement)}),[D]);var B=m.useMemo((function(){return{panel:C}}),[C]);if(!b&&!P&&!D&&k)return null;var z={onMouseEnter:w,onMouseOver:S,onMouseLeave:E,onClick:_,onKeyDown:M,onKeyUp:T},H=yn(yn({},e),{},{open:D,prefixCls:i,placement:o,autoFocus:l,keyboard:c,width:f,mask:p,maskClosable:g,inline:!1===y,afterOpenChange:function(e){var t,n;(O(e),null===x||void 0===x||x(e),e||!U.current||null!==(t=F.current)&&void 0!==t&&t.contains(U.current))||(null===(n=U.current)||void 0===n||n.focus({preventScroll:!0}))},ref:F},z);return m.createElement(Lq.Provider,{value:B},m.createElement(KG,{open:D||b||P,autoDestroy:!1,getContainer:y,autoLock:p&&(D||P)},m.createElement(qq,H)))},Kq=Yq;function Jq(){}var Zq=m.createContext({add:Jq,remove:Jq});function Qq(e){if(e)return{closable:e.closable,closeIcon:e.closeIcon}}function $q(e){var t=e||{},n=t.closable,r=t.closeIcon;return m.useMemo((function(){if(!n&&(!1===n||!1===r||null===r))return!1;if(void 0===n&&void 0===r)return null;var e={closeIcon:"boolean"!==typeof r&&null!==r?r:void 0};return n&&"object"===typeof n&&(e=Object.assign(Object.assign({},e),n)),e}),[n,r])}function eY(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){t&&Object.keys(t).forEach((function(n){void 0!==t[n]&&(e[n]=t[n])}))})),e}var tY={};var nY=function(e){var t=e.prefixCls,n=e.className,r=e.style,i=e.size,a=e.shape,o=nD()(j(j({},"".concat(t,"-lg"),"large"===i),"".concat(t,"-sm"),"small"===i)),s=nD()(j(j(j({},"".concat(t,"-circle"),"circle"===a),"".concat(t,"-square"),"square"===a),"".concat(t,"-round"),"round"===a)),l=m.useMemo((function(){return"number"===typeof i?{width:i,height:i,lineHeight:"".concat(i,"px")}:{}}),[i]);return m.createElement("span",{className:nD()(t,o,s,n),style:Object.assign(Object.assign({},l),r)})},rY=new sH("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),iY=function(e){return{height:e,lineHeight:DB(e)}},aY=function(e){return Object.assign({width:e},iY(e))},oY=function(e,t){return Object.assign({width:t(e).mul(5).equal(),minWidth:t(e).mul(5).equal()},iY(e))},sY=function(e){return Object.assign({width:e},iY(e))},lY=function(e,t,n){var r=e.skeletonButtonCls;return j(j({},"".concat(n).concat(r,"-circle"),{width:t,minWidth:t,borderRadius:"50%"}),"".concat(n).concat(r,"-round"),{borderRadius:t})},uY=function(e,t){return Object.assign({width:t(e).mul(2).equal(),minWidth:t(e).mul(2).equal()},iY(e))},cY=function(e){var t=e.componentCls,n=e.skeletonAvatarCls,r=e.skeletonTitleCls,i=e.skeletonParagraphCls,a=e.skeletonButtonCls,o=e.skeletonInputCls,s=e.skeletonImageCls,l=e.controlHeight,u=e.controlHeightLG,c=e.controlHeightSM,h=e.gradientFromColor,f=e.padding,d=e.marginSM,p=e.borderRadius,v=e.titleHeight,g=e.blockRadius,m=e.paragraphLiHeight,y=e.controlHeightXS,b=e.paragraphMarginTop;return j(j(j(j(j({},t,j(j(j({display:"table",width:"100%"},"".concat(t,"-header"),j(j(j(j({display:"table-cell",paddingInlineEnd:f,verticalAlign:"top"},n,Object.assign({display:"inline-block",verticalAlign:"top",background:h},aY(l))),"".concat(n,"-circle"),{borderRadius:"50%"}),"".concat(n,"-lg"),Object.assign({},aY(u))),"".concat(n,"-sm"),Object.assign({},aY(c)))),"".concat(t,"-content"),j(j(j({display:"table-cell",width:"100%",verticalAlign:"top"},r,j({width:"100%",height:v,background:h,borderRadius:g},"+ ".concat(i),{marginBlockStart:c})),i,{padding:0,"> li":{width:"100%",height:m,listStyle:"none",background:h,borderRadius:g,"+ li":{marginBlockStart:y}}}),"".concat(i,"> li:last-child:not(:first-child):not(:nth-child(2))"),{width:"61%"})),"&-round ".concat(t,"-content"),j({},"".concat(r,", ").concat(i," > li"),{borderRadius:p}))),"".concat(t,"-with-avatar ").concat(t,"-content"),j({},r,j({marginBlockStart:d},"+ ".concat(i),{marginBlockStart:b}))),"".concat(t).concat(t,"-element"),Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},function(e){var t=e.borderRadiusSM,n=e.skeletonButtonCls,r=e.controlHeight,i=e.controlHeightLG,a=e.controlHeightSM,o=e.gradientFromColor,s=e.calc;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(j({},n,Object.assign({display:"inline-block",verticalAlign:"top",background:o,borderRadius:t,width:s(r).mul(2).equal(),minWidth:s(r).mul(2).equal()},uY(r,s))),lY(e,r,n)),j({},"".concat(n,"-lg"),Object.assign({},uY(i,s)))),lY(e,i,"".concat(n,"-lg"))),j({},"".concat(n,"-sm"),Object.assign({},uY(a,s)))),lY(e,a,"".concat(n,"-sm")))}(e)),function(e){var t=e.skeletonAvatarCls,n=e.gradientFromColor,r=e.controlHeight,i=e.controlHeightLG,a=e.controlHeightSM;return j(j(j(j({},t,Object.assign({display:"inline-block",verticalAlign:"top",background:n},aY(r))),"".concat(t).concat(t,"-circle"),{borderRadius:"50%"}),"".concat(t).concat(t,"-lg"),Object.assign({},aY(i))),"".concat(t).concat(t,"-sm"),Object.assign({},aY(a)))}(e)),function(e){var t=e.controlHeight,n=e.borderRadiusSM,r=e.skeletonInputCls,i=e.controlHeightLG,a=e.controlHeightSM,o=e.gradientFromColor,s=e.calc;return j(j(j({},r,Object.assign({display:"inline-block",verticalAlign:"top",background:o,borderRadius:n},oY(t,s))),"".concat(r,"-lg"),Object.assign({},oY(i,s))),"".concat(r,"-sm"),Object.assign({},oY(a,s)))}(e)),function(e){var t=e.skeletonImageCls,n=e.imageSizeBase,r=e.gradientFromColor,i=e.borderRadiusSM,a=e.calc;return j(j({},t,Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:r,borderRadius:i},sY(a(n).mul(2).equal())),j(j(j({},"".concat(t,"-path"),{fill:"#bfbfbf"}),"".concat(t,"-svg"),Object.assign(Object.assign({},sY(n)),{maxWidth:a(n).mul(4).equal(),maxHeight:a(n).mul(4).equal()})),"".concat(t,"-svg").concat(t,"-svg-circle"),{borderRadius:"50%"}))),"".concat(t).concat(t,"-circle"),{borderRadius:"50%"})}(e))),"".concat(t).concat(t,"-block"),j(j({width:"100%"},a,{width:"100%"}),o,{width:"100%"})),"".concat(t).concat(t,"-active"),j({},"\n        ".concat(r,",\n        ").concat(i," > li,\n        ").concat(n,",\n        ").concat(a,",\n        ").concat(o,",\n        ").concat(s,"\n      "),Object.assign({},function(e){return{background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:rY,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}}(e))))},hY=gG("Skeleton",(function(e){var t=e.componentCls,n=e.calc,r=iG(e,{skeletonAvatarCls:"".concat(t,"-avatar"),skeletonTitleCls:"".concat(t,"-title"),skeletonParagraphCls:"".concat(t,"-paragraph"),skeletonButtonCls:"".concat(t,"-button"),skeletonInputCls:"".concat(t,"-input"),skeletonImageCls:"".concat(t,"-image"),imageSizeBase:n(e.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:"linear-gradient(90deg, ".concat(e.gradientFromColor," 25%, ").concat(e.gradientToColor," 37%, ").concat(e.gradientFromColor," 63%)"),skeletonLoadingMotionDuration:"1.4s"});return[cY(r)]}),(function(e){var t=e.colorFillContent,n=e.colorFill;return{color:t,colorGradientEnd:n,gradientFromColor:t,gradientToColor:n,titleHeight:e.controlHeight/2,blockRadius:e.borderRadiusSM,paragraphMarginTop:e.marginLG+e.marginXXS,paragraphLiHeight:e.controlHeight/2}}),{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),fY=function(e){var t=e.prefixCls,n=e.className,r=e.rootClassName,i=e.active,a=e.shape,o=void 0===a?"circle":a,s=e.size,l=void 0===s?"default":s,u=(0,m.useContext(lB).getPrefixCls)("skeleton",t),c=R(hY(u),3),h=c[0],f=c[1],d=c[2],p=fB(e,["prefixCls","className"]),v=nD()(u,"".concat(u,"-element"),j({},"".concat(u,"-active"),i),n,r,f,d);return h(m.createElement("div",{className:v},m.createElement(nY,Object.assign({prefixCls:"".concat(u,"-avatar"),shape:o,size:l},p))))},dY=function(e){var t=e.prefixCls,n=e.className,r=e.rootClassName,i=e.active,a=e.block,o=void 0!==a&&a,s=e.size,l=void 0===s?"default":s,u=(0,m.useContext(lB).getPrefixCls)("skeleton",t),c=R(hY(u),3),h=c[0],f=c[1],d=c[2],p=fB(e,["prefixCls"]),v=nD()(u,"".concat(u,"-element"),j(j({},"".concat(u,"-active"),i),"".concat(u,"-block"),o),n,r,f,d);return h(m.createElement("div",{className:v},m.createElement(nY,Object.assign({prefixCls:"".concat(u,"-button"),size:l},p))))},pY=function(e){var t=e.prefixCls,n=e.className,r=e.rootClassName,i=e.style,a=e.active,o=(0,m.useContext(lB).getPrefixCls)("skeleton",t),s=R(hY(o),3),l=s[0],u=s[1],c=s[2],h=nD()(o,"".concat(o,"-element"),j({},"".concat(o,"-active"),a),n,r,u,c);return l(m.createElement("div",{className:h},m.createElement("div",{className:nD()("".concat(o,"-image"),n),style:i},m.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(o,"-image-svg")},m.createElement("title",null,"Image placeholder"),m.createElement("path",{d:"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",className:"".concat(o,"-image-path")})))))},vY=function(e){var t=e.prefixCls,n=e.className,r=e.rootClassName,i=e.active,a=e.block,o=e.size,s=void 0===o?"default":o,l=(0,m.useContext(lB).getPrefixCls)("skeleton",t),u=R(hY(l),3),c=u[0],h=u[1],f=u[2],d=fB(e,["prefixCls"]),p=nD()(l,"".concat(l,"-element"),j(j({},"".concat(l,"-active"),i),"".concat(l,"-block"),a),n,r,h,f);return c(m.createElement("div",{className:p},m.createElement(nY,Object.assign({prefixCls:"".concat(l,"-input"),size:s},d))))},gY=function(e){var t=e.prefixCls,n=e.className,r=e.rootClassName,i=e.style,a=e.active,o=e.children,s=(0,m.useContext(lB).getPrefixCls)("skeleton",t),l=R(hY(s),3),u=l[0],c=l[1],h=l[2],f=nD()(s,"".concat(s,"-element"),j({},"".concat(s,"-active"),a),c,n,r,h);return u(m.createElement("div",{className:f},m.createElement("div",{className:nD()("".concat(s,"-image"),n),style:i},o)))},mY=function(e,t){var n=t.width,r=t.rows,i=void 0===r?2:r;return Array.isArray(n)?n[e]:i-1===e?n:void 0},yY=function(e){var t=e.prefixCls,n=e.className,r=e.style,i=e.rows,a=Y(new Array(i)).map((function(t,n){return m.createElement("li",{key:n,style:{width:mY(n,e)}})}));return m.createElement("ul",{className:nD()(t,n),style:r},a)},bY=function(e){var t=e.prefixCls,n=e.className,r=e.width,i=e.style;return m.createElement("h3",{className:nD()(t,n),style:Object.assign({width:r},i)})};function xY(e){return e&&"object"===typeof e?e:{}}var kY=function(e){var t=e.prefixCls,n=e.loading,r=e.className,i=e.rootClassName,a=e.style,o=e.children,s=e.avatar,l=void 0!==s&&s,u=e.title,c=void 0===u||u,h=e.paragraph,f=void 0===h||h,d=e.active,p=e.round,v=m.useContext(lB),g=v.getPrefixCls,y=v.direction,b=v.skeleton,x=g("skeleton",t),k=R(hY(x),3),w=k[0],S=k[1],E=k[2];if(n||!("loading"in e)){var _,M,T=!!l,C=!!c,A=!!f;if(T){var P=Object.assign(Object.assign({prefixCls:"".concat(x,"-avatar")},function(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}(C,A)),xY(l));_=m.createElement("div",{className:"".concat(x,"-header")},m.createElement(nY,Object.assign({},P)))}if(C||A){var O,L;if(C){var N=Object.assign(Object.assign({prefixCls:"".concat(x,"-title")},function(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}(T,A)),xY(c));O=m.createElement(bY,Object.assign({},N))}if(A){var I=Object.assign(Object.assign({prefixCls:"".concat(x,"-paragraph")},function(e,t){var n={};return e&&t||(n.width="61%"),n.rows=!e&&t?3:2,n}(T,C)),xY(f));L=m.createElement(yY,Object.assign({},I))}M=m.createElement("div",{className:"".concat(x,"-content")},O,L)}var D=nD()(x,j(j(j(j({},"".concat(x,"-with-avatar"),T),"".concat(x,"-active"),d),"".concat(x,"-rtl"),"rtl"===y),"".concat(x,"-round"),p),null===b||void 0===b?void 0:b.className,r,i,S,E);return w(m.createElement("div",{className:D,style:Object.assign(Object.assign({},null===b||void 0===b?void 0:b.style),a)},_,M))}return null!==o&&void 0!==o?o:null};kY.Button=dY,kY.Avatar=fY,kY.Input=vY,kY.Image=pY,kY.Node=gY;var wY=kY,SY=function(e){var t,n,r=e.prefixCls,i=e.title,a=e.footer,o=e.extra,s=e.loading,l=e.onClose,u=e.headerStyle,c=e.bodyStyle,h=e.footerStyle,f=e.children,d=e.classNames,p=e.styles,v=m.useContext(lB).drawer,g=m.useCallback((function(e){return m.createElement("button",{type:"button",onClick:l,"aria-label":"Close",className:"".concat(r,"-close")},e)}),[l]),y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tY,r=$q(e),i=$q(t),a="boolean"!==typeof r&&!!(null===r||void 0===r?void 0:r.disabled),o=m.useMemo((function(){return Object.assign({closeIcon:m.createElement(ZX,null)},n)}),[n]),s=m.useMemo((function(){return!1!==r&&(r?eY(o,i,r):!1!==i&&(i?eY(o,i):!!o.closable&&o))}),[r,i,o]);return m.useMemo((function(){if(!1===s)return[!1,null,a];var e=o.closeIconRender,t=s.closeIcon,n=t;if(null!==n&&void 0!==n){e&&(n=e(t));var r=Hq(s,!0);Object.keys(r).length&&(n=m.isValidElement(n)?m.cloneElement(n,r):m.createElement("span",Object.assign({},r),n))}return[!0,n,a]}),[s,o])}(Qq(e),Qq(v),{closable:!0,closeIconRender:g}),b=R(y,2),x=b[0],k=b[1],w=m.useMemo((function(){var e,t;return i||x?m.createElement("div",{style:Object.assign(Object.assign(Object.assign({},null===(e=null===v||void 0===v?void 0:v.styles)||void 0===e?void 0:e.header),u),null===p||void 0===p?void 0:p.header),className:nD()("".concat(r,"-header"),j({},"".concat(r,"-header-close-only"),x&&!i&&!o),null===(t=null===v||void 0===v?void 0:v.classNames)||void 0===t?void 0:t.header,null===d||void 0===d?void 0:d.header)},m.createElement("div",{className:"".concat(r,"-header-title")},k,i&&m.createElement("div",{className:"".concat(r,"-title")},i)),o&&m.createElement("div",{className:"".concat(r,"-extra")},o)):null}),[x,k,o,u,r,i]),S=m.useMemo((function(){var e,t;if(!a)return null;var n="".concat(r,"-footer");return m.createElement("div",{className:nD()(n,null===(e=null===v||void 0===v?void 0:v.classNames)||void 0===e?void 0:e.footer,null===d||void 0===d?void 0:d.footer),style:Object.assign(Object.assign(Object.assign({},null===(t=null===v||void 0===v?void 0:v.styles)||void 0===t?void 0:t.footer),h),null===p||void 0===p?void 0:p.footer)},a)}),[a,h,r]);return m.createElement(m.Fragment,null,w,m.createElement("div",{className:nD()("".concat(r,"-body"),null===d||void 0===d?void 0:d.body,null===(t=null===v||void 0===v?void 0:v.classNames)||void 0===t?void 0:t.body),style:Object.assign(Object.assign(Object.assign({},null===(n=null===v||void 0===v?void 0:v.styles)||void 0===n?void 0:n.body),c),null===p||void 0===p?void 0:p.body)},s?m.createElement(wY,{active:!0,title:!1,paragraph:{rows:5},className:"".concat(r,"-body-skeleton")}):f),S)},EY=function(e){var t="100%";return{left:"translateX(-".concat(t,")"),right:"translateX(".concat(t,")"),top:"translateY(-".concat(t,")"),bottom:"translateY(".concat(t,")")}[e]},_Y=function(e,t){return{"&-enter, &-appear":Object.assign(Object.assign({},e),{"&-active":t}),"&-leave":Object.assign(Object.assign({},t),{"&-active":e})}},MY=function(e,t){return Object.assign({"&-enter, &-appear, &-leave":{"&-start":{transition:"none"},"&-active":{transition:"all ".concat(t)}}},_Y({opacity:e},{opacity:1}))},TY=function(e){var t=e.componentCls,n=e.motionDurationSlow;return j({},t,j(j({},"".concat(t,"-mask-motion"),MY(0,n)),"".concat(t,"-panel-motion"),["left","right","top","bottom"].reduce((function(e,t){return Object.assign(Object.assign({},e),j({},"&-".concat(t),function(e,t){return[MY(.7,t),_Y({transform:EY(e)},{transform:"none"})]}(t,n)))}),{})))},CY=function(e){var t,n=e.borderRadiusSM,r=e.componentCls,i=e.zIndexPopup,a=e.colorBgMask,o=e.colorBgElevated,s=e.motionDurationSlow,l=e.motionDurationMid,u=e.paddingXS,c=e.padding,h=e.paddingLG,f=e.fontSizeLG,d=e.lineHeightLG,p=e.lineWidth,v=e.lineType,g=e.colorSplit,m=e.marginXS,y=e.colorIcon,b=e.colorIconHover,x=e.colorBgTextHover,k=e.colorBgTextActive,w=e.colorText,S=e.fontWeightStrong,E=e.footerPaddingBlock,_=e.footerPaddingInline,M=e.calc,T="".concat(r,"-content-wrapper");return j({},r,(t={position:"fixed",inset:0,zIndex:i,pointerEvents:"none",color:w,"&-pure":j(j(j(j({position:"relative",background:o,display:"flex",flexDirection:"column"},"&".concat(r,"-left"),{boxShadow:e.boxShadowDrawerLeft}),"&".concat(r,"-right"),{boxShadow:e.boxShadowDrawerRight}),"&".concat(r,"-top"),{boxShadow:e.boxShadowDrawerUp}),"&".concat(r,"-bottom"),{boxShadow:e.boxShadowDrawerDown}),"&-inline":{position:"absolute"}},j(j(j(j(j(j(j(j(j(j(t,"".concat(r,"-mask"),{position:"absolute",inset:0,zIndex:i,background:a,pointerEvents:"auto"}),T,{position:"absolute",zIndex:i,maxWidth:"100vw",transition:"all ".concat(s),"&-hidden":{display:"none"}}),"&-left > ".concat(T),{top:0,bottom:0,left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowDrawerLeft}),"&-right > ".concat(T),{top:0,right:{_skip_check_:!0,value:0},bottom:0,boxShadow:e.boxShadowDrawerRight}),"&-top > ".concat(T),{top:0,insetInline:0,boxShadow:e.boxShadowDrawerUp}),"&-bottom > ".concat(T),{bottom:0,insetInline:0,boxShadow:e.boxShadowDrawerDown}),"".concat(r,"-content"),{display:"flex",flexDirection:"column",width:"100%",height:"100%",overflow:"auto",background:o,pointerEvents:"auto"}),"".concat(r,"-header"),{display:"flex",flex:0,alignItems:"center",padding:"".concat(DB(c)," ").concat(DB(h)),fontSize:f,lineHeight:d,borderBottom:"".concat(DB(p)," ").concat(v," ").concat(g),"&-title":{display:"flex",flex:1,alignItems:"center",minWidth:0,minHeight:0}}),"".concat(r,"-extra"),{flex:"none"}),"".concat(r,"-close"),Object.assign({display:"inline-flex",width:M(f).add(u).equal(),height:M(f).add(u).equal(),borderRadius:n,justifyContent:"center",alignItems:"center",marginInlineEnd:m,color:y,fontWeight:S,fontSize:f,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",textDecoration:"none",background:"transparent",border:0,cursor:"pointer",transition:"all ".concat(l),textRendering:"auto","&:hover":{color:b,backgroundColor:x,textDecoration:"none"},"&:active":{backgroundColor:k}},WH(e))),j(j(j(j(t,"".concat(r,"-title"),{flex:1,margin:0,fontWeight:e.fontWeightStrong,fontSize:f,lineHeight:d}),"".concat(r,"-body"),j({flex:1,minWidth:0,minHeight:0,padding:h,overflow:"auto"},"".concat(r,"-body-skeleton"),{width:"100%",height:"100%",display:"flex",justifyContent:"center"})),"".concat(r,"-footer"),{flexShrink:0,padding:"".concat(DB(E)," ").concat(DB(_)),borderTop:"".concat(DB(p)," ").concat(v," ").concat(g)}),"&-rtl",{direction:"rtl"})))},AY=gG("Drawer",(function(e){var t=iG(e,{});return[CY(t),TY(t)]}),(function(e){return{zIndexPopup:e.zIndexPopupBase,footerPaddingBlock:e.paddingXS,footerPaddingInline:e.padding}})),PY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},OY={distance:180},RY=function(e){var t=e.rootClassName,n=e.width,r=e.height,i=e.size,a=void 0===i?"default":i,o=e.mask,s=void 0===o||o,l=e.push,u=void 0===l?OY:l,c=e.open,h=e.afterOpenChange,f=e.onClose,d=e.prefixCls,p=e.getContainer,v=e.style,g=e.className,y=e.visible,b=e.afterVisibleChange,x=e.maskStyle,k=e.drawerStyle,w=e.contentWrapperStyle,S=PY(e,["rootClassName","width","height","size","mask","push","open","afterOpenChange","onClose","prefixCls","getContainer","style","className","visible","afterVisibleChange","maskStyle","drawerStyle","contentWrapperStyle"]),E=m.useContext(lB),_=E.getPopupContainer,M=E.getPrefixCls,T=E.direction,C=E.drawer,A=M("drawer",d),P=R(AY(A),3),O=P[0],L=P[1],N=P[2],I=void 0===p&&_?function(){return _(document.body)}:p,D=nD()(j({"no-mask":!s},"".concat(A,"-rtl"),"rtl"===T),t,L,N),F=m.useMemo((function(){return null!==n&&void 0!==n?n:"large"===a?736:378}),[n,a]),U=m.useMemo((function(){return null!==r&&void 0!==r?r:"large"===a?736:378}),[r,a]),B={motionName:$W(A,"mask-motion"),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500},z=function(e){var t=m.useContext(Zq),n=m.useRef(null);return KF((function(r){if(r){var i=e?r.querySelector(e):r;t.add(i),n.current=i}else t.remove(n.current)}))}(),H=R(DH("Drawer",S.zIndex),2),G=H[0],V=H[1],W=S.classNames,X=void 0===W?{}:W,q=S.styles,Y=void 0===q?{}:q,K=C||{},J=K.classNames,Z=void 0===J?{}:J,Q=K.styles,$=void 0===Q?{}:Q;return O(m.createElement(QW,{form:!0,space:!0},m.createElement(RH.Provider,{value:V},m.createElement(Kq,Object.assign({prefixCls:A,onClose:f,maskMotion:B,motion:function(e){return{motionName:$W(A,"panel-motion-".concat(e)),motionAppear:!0,motionEnter:!0,motionLeave:!0,motionDeadline:500}}},S,{classNames:{mask:nD()(X.mask,Z.mask),content:nD()(X.content,Z.content),wrapper:nD()(X.wrapper,Z.wrapper)},styles:{mask:Object.assign(Object.assign(Object.assign({},Y.mask),x),$.mask),content:Object.assign(Object.assign(Object.assign({},Y.content),k),$.content),wrapper:Object.assign(Object.assign(Object.assign({},Y.wrapper),w),$.wrapper)},open:null!==c&&void 0!==c?c:y,mask:s,push:u,width:F,height:U,style:Object.assign(Object.assign({},null===C||void 0===C?void 0:C.style),v),className:nD()(null===C||void 0===C?void 0:C.className,g),rootClassName:D,getContainer:I,afterOpenChange:null!==h&&void 0!==h?h:b,panelRef:z,zIndex:G}),m.createElement(SY,Object.assign({prefixCls:A},S,{onClose:f}))))))};RY._InternalPanelDoNotUseOrYouWillBeFired=function(e){var t=e.prefixCls,n=e.style,r=e.className,i=e.placement,a=void 0===i?"right":i,o=PY(e,["prefixCls","style","className","placement"]),s=(0,m.useContext(lB).getPrefixCls)("drawer",t),l=R(AY(s),3),u=l[0],c=l[1],h=l[2],f=nD()(s,"".concat(s,"-pure"),"".concat(s,"-").concat(a),c,h,r);return u(m.createElement("div",{className:f,style:n},m.createElement(SY,Object.assign({prefixCls:s},o))))};var LY=RY;function NY(e){return["small","middle","large"].includes(e)}function IY(e){return!!e&&("number"===typeof e&&!Number.isNaN(e))}var DY=m.createContext({latestIndex:0}),FY=DY.Provider,UY=function(e){var t=e.className,n=e.index,r=e.children,i=e.split,a=e.style,o=m.useContext(DY).latestIndex;return null===r||void 0===r?null:m.createElement(m.Fragment,null,m.createElement("div",{className:t,style:a},r),n<o&&i&&m.createElement("span",{className:"".concat(t,"-split")},i))},BY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zY=m.forwardRef((function(e,t){var n,r,i,a=m.useContext(lB),o=a.getPrefixCls,s=a.space,l=a.direction,u=e.size,c=void 0===u?null!==(n=null===s||void 0===s?void 0:s.size)&&void 0!==n?n:"small":u,h=e.align,f=e.className,d=e.rootClassName,p=e.children,v=e.direction,g=void 0===v?"horizontal":v,y=e.prefixCls,b=e.split,x=e.style,k=e.wrap,w=void 0!==k&&k,S=e.classNames,E=e.styles,_=BY(e,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),M=R(Array.isArray(c)?c:[c,c],2),T=M[0],C=M[1],A=NY(C),P=NY(T),O=IY(C),L=IY(T),N=JG(p,{keepEmpty:!0}),I=void 0===h&&"horizontal"===g?"center":h,D=o("space",y),F=R(XW(D),3),U=F[0],B=F[1],z=F[2],H=nD()(D,null===s||void 0===s?void 0:s.className,B,"".concat(D,"-").concat(g),j(j(j(j({},"".concat(D,"-rtl"),"rtl"===l),"".concat(D,"-align-").concat(I),I),"".concat(D,"-gap-row-").concat(C),A),"".concat(D,"-gap-col-").concat(T),P),f,d,z),G=nD()("".concat(D,"-item"),null!==(r=null===S||void 0===S?void 0:S.item)&&void 0!==r?r:null===(i=null===s||void 0===s?void 0:s.classNames)||void 0===i?void 0:i.item),V=0,W=N.map((function(e,t){var n,r;null!==e&&void 0!==e&&(V=t);var i=(null===e||void 0===e?void 0:e.key)||"".concat(G,"-").concat(t);return m.createElement(UY,{className:G,key:i,index:t,split:b,style:null!==(n=null===E||void 0===E?void 0:E.item)&&void 0!==n?n:null===(r=null===s||void 0===s?void 0:s.styles)||void 0===r?void 0:r.item},e)})),X=m.useMemo((function(){return{latestIndex:V}}),[V]);if(0===N.length)return null;var q={};return w&&(q.flexWrap="wrap"),!P&&L&&(q.columnGap=T),!A&&O&&(q.rowGap=C),U(m.createElement("div",Object.assign({ref:t,className:H,style:Object.assign(Object.assign(Object.assign({},q),null===s||void 0===s?void 0:s.style),x)},_),m.createElement(FY,{value:X},W)))})),HY=zY;HY.Compact=ZW;var GY=HY,jY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},VY=function(e,t){return m.createElement(CF,QI({},e,{ref:t,icon:jY}))};var WY=m.forwardRef(VY),XY={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},qY=function(e,t){return m.createElement(CF,QI({},e,{ref:t,icon:XY}))};var YY=m.forwardRef(qY),KY=(0,m.createContext)(null),JY=function(e){var t=e.activeTabOffset,n=e.horizontal,r=e.rtl,i=e.indicator,a=void 0===i?{}:i,o=a.size,s=a.align,l=void 0===s?"center":s,u=R((0,m.useState)(),2),c=u[0],h=u[1],f=(0,m.useRef)(),d=m.useCallback((function(e){return"function"===typeof o?o(e):"number"===typeof o?o:e}),[o]);function p(){BU.cancel(f.current)}return(0,m.useEffect)((function(){var e={};if(t)if(n){e.width=d(t.width);var i=r?"right":"left";"start"===l&&(e[i]=t[i]),"center"===l&&(e[i]=t[i]+t.width/2,e.transform=r?"translateX(50%)":"translateX(-50%)"),"end"===l&&(e[i]=t[i]+t.width,e.transform="translateX(-100%)")}else e.height=d(t.height),"start"===l&&(e.top=t.top),"center"===l&&(e.top=t.top+t.height/2,e.transform="translateY(-50%)"),"end"===l&&(e.top=t.top+t.height,e.transform="translateY(-100%)");return p(),f.current=BU((function(){h(e)})),p}),[t,n,r,l,d]),{style:c}},ZY={width:0,height:0,left:0,top:0};function QY(e,t){var n=m.useRef(e),r=R(m.useState({}),2)[1];return[n.current,function(e){var i="function"===typeof e?e(n.current):e;i!==n.current&&t(i,n.current),n.current=i,r({})}]}var $Y=Math.pow(.995,20);function eK(e){var t=R((0,m.useState)(0),2),n=t[0],r=t[1],i=(0,m.useRef)(0),a=(0,m.useRef)();return a.current=e,QF((function(){var e;null===(e=a.current)||void 0===e||e.call(a)}),[n]),function(){i.current===n&&(i.current+=1,r(i.current))}}var tK={width:0,height:0,left:0,top:0,right:0};function nK(e){var t;return e instanceof Map?(t={},e.forEach((function(e,n){t[n]=e}))):t=e,JSON.stringify(t)}function rK(e){return String(e).replace(/"/g,"TABS_DQ")}function iK(e,t,n,r){return!(!n||r||!1===e||void 0===e&&(!1===t||null===t))}var aK=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.editable,i=e.locale,a=e.style;return r&&!1!==r.showAdd?m.createElement("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:a,"aria-label":(null===i||void 0===i?void 0:i.addAriaLabel)||"Add tab",onClick:function(e){r.onEdit("add",{event:e})}},r.addIcon||"+"):null})),oK=aK,sK=m.forwardRef((function(e,t){var n,r=e.position,i=e.prefixCls,a=e.extra;if(!a)return null;var o={};return"object"!==x(a)||m.isValidElement(a)?o.right=a:o=a,"right"===r&&(n=o.right),"left"===r&&(n=o.left),n?m.createElement("div",{className:"".concat(i,"-extra-content"),ref:t},n):null}));var lK=sK,uK=Dq.ESC,cK=Dq.TAB;var hK=(0,m.forwardRef)((function(e,t){var n=e.overlay,r=e.arrow,i=e.prefixCls,a=(0,m.useMemo)((function(){return"function"===typeof n?n():n}),[n]),o=zF(t,VF(a));return m.createElement(m.Fragment,null,r&&m.createElement("div",{className:"".concat(i,"-arrow")}),m.cloneElement(a,{ref:GF(a)?o:void 0}))})),fK=hK,dK={adjustX:1,adjustY:1},pK=[0,0],vK={topLeft:{points:["bl","tl"],overflow:dK,offset:[0,-4],targetOffset:pK},top:{points:["bc","tc"],overflow:dK,offset:[0,-4],targetOffset:pK},topRight:{points:["br","tr"],overflow:dK,offset:[0,-4],targetOffset:pK},bottomLeft:{points:["tl","bl"],overflow:dK,offset:[0,4],targetOffset:pK},bottom:{points:["tc","bc"],overflow:dK,offset:[0,4],targetOffset:pK},bottomRight:{points:["tr","br"],overflow:dK,offset:[0,4],targetOffset:pK}},gK=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function mK(e,t){var n,r=e.arrow,i=void 0!==r&&r,a=e.prefixCls,o=void 0===a?"rc-dropdown":a,s=e.transitionName,l=e.animation,u=e.align,c=e.placement,h=void 0===c?"bottomLeft":c,f=e.placements,d=void 0===f?vK:f,p=e.getPopupContainer,v=e.showAction,g=e.hideAction,y=e.overlayClassName,b=e.overlayStyle,x=e.visible,k=e.trigger,w=void 0===k?["hover"]:k,S=e.autoFocus,E=e.overlay,_=e.children,M=e.onVisibleChange,T=eD(e,gK),C=R(m.useState(),2),A=C[0],P=C[1],O="visible"in e?x:A,L=m.useRef(null),N=m.useRef(null),I=m.useRef(null);m.useImperativeHandle(t,(function(){return L.current}));var D=function(e){P(e),null===M||void 0===M||M(e)};!function(e){var t=e.visible,n=e.triggerRef,r=e.onVisibleChange,i=e.autoFocus,a=e.overlayRef,o=m.useRef(!1),s=function(){var e,i;t&&(null===(e=n.current)||void 0===e||null===(i=e.focus)||void 0===i||i.call(e),null===r||void 0===r||r(!1))},l=function(){var e;return!(null===(e=a.current)||void 0===e||!e.focus)&&(a.current.focus(),o.current=!0,!0)},u=function(e){switch(e.keyCode){case uK:s();break;case cK:var t=!1;o.current||(t=l()),t?e.preventDefault():s()}};m.useEffect((function(){return t?(window.addEventListener("keydown",u),i&&BU(l,3),function(){window.removeEventListener("keydown",u),o.current=!1}):function(){o.current=!1}}),[t])}({visible:O,triggerRef:I,onVisibleChange:D,autoFocus:S,overlayRef:N});var F=function(){return m.createElement(fK,{ref:N,overlay:E,prefixCls:o,arrow:i})},U=m.cloneElement(_,{className:nD()(null===(n=_.props)||void 0===n?void 0:n.className,O&&function(){var t=e.openClassName;return void 0!==t?t:"".concat(o,"-open")}()),ref:GF(_)?zF(I,VF(_)):void 0}),B=g;return B||-1===w.indexOf("contextMenu")||(B=["click"]),m.createElement(nV,QI({builtinPlacements:d},T,{prefixCls:o,ref:L,popupClassName:nD()(y,j({},"".concat(o,"-show-arrow"),i)),popupStyle:b,action:w,showAction:v,hideAction:B,popupPlacement:h,popupAlign:u,popupTransitionName:s,popupAnimation:l,popupVisible:O,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof E?F:F(),onPopupVisibleChange:D,onPopupClick:function(t){var n=e.onOverlayClick;P(!1),n&&n(t)},getPopupContainer:p}),U)}var yK=m.forwardRef(mK),bK=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],xK=void 0;function kK(e,t){var n=e.prefixCls,r=e.invalidate,i=e.item,a=e.renderItem,o=e.responsive,s=e.responsiveDisabled,l=e.registerSize,u=e.itemKey,c=e.className,h=e.style,f=e.children,d=e.display,p=e.order,v=e.component,g=void 0===v?"div":v,y=eD(e,bK),b=o&&!d;function x(e){l(u,e)}m.useEffect((function(){return function(){x(null)}}),[]);var k,w=a&&i!==xK?a(i,{index:p}):f;r||(k={opacity:b?0:1,height:b?0:xK,overflowY:b?"hidden":xK,order:o?p:xK,pointerEvents:b?"none":xK,position:b?"absolute":xK});var S={};b&&(S["aria-hidden"]=!0);var E=m.createElement(g,QI({className:nD()(!r&&n,c),style:yn(yn({},k),h)},S,y,{ref:t}),w);return o&&(E=m.createElement(Tj,{onResize:function(e){x(e.offsetWidth)},disabled:s},E)),E}var wK=m.forwardRef(kK);wK.displayName="Item";var SK=wK;function EK(){var e=m.useRef(null);return function(t){e.current||(e.current=[],function(e){if("undefined"===typeof MessageChannel)BU(e);else{var t=new MessageChannel;t.port1.onmessage=function(){return e()},t.port2.postMessage(void 0)}}((function(){(0,N.unstable_batchedUpdates)((function(){e.current.forEach((function(e){e()})),e.current=null}))}))),e.current.push(t)}}function _K(e,t){var n=R(m.useState(t),2),r=n[0],i=n[1];return[r,KF((function(t){e((function(){i(t)}))}))]}var MK=m.createContext(null),TK=["component"],CK=["className"],AK=["className"],PK=function(e,t){var n=m.useContext(MK);if(!n){var r=e.component,i=void 0===r?"div":r,a=eD(e,TK);return m.createElement(i,QI({},a,{ref:t}))}var o=n.className,s=eD(n,CK),l=e.className,u=eD(e,AK);return m.createElement(MK.Provider,{value:null},m.createElement(SK,QI({ref:t,className:nD()(o,l)},s,u)))},OK=m.forwardRef(PK);OK.displayName="RawItem";var RK=OK,LK=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],NK="responsive",IK="invalidate";function DK(e){return"+ ".concat(e.length," ...")}function FK(e,t){var n=e.prefixCls,r=void 0===n?"rc-overflow":n,i=e.data,a=void 0===i?[]:i,o=e.renderItem,s=e.renderRawItem,l=e.itemKey,u=e.itemWidth,c=void 0===u?10:u,h=e.ssr,f=e.style,d=e.className,p=e.maxCount,v=e.renderRest,g=e.renderRawRest,y=e.suffix,b=e.component,x=void 0===b?"div":b,k=e.itemComponent,w=e.onVisibleChange,S=eD(e,LK),E="full"===h,_=EK(),M=R(_K(_,null),2),T=M[0],C=M[1],A=T||0,P=R(_K(_,new Map),2),O=P[0],L=P[1],N=R(_K(_,0),2),I=N[0],D=N[1],F=R(_K(_,0),2),U=F[0],B=F[1],z=R(_K(_,0),2),H=z[0],G=z[1],j=R((0,m.useState)(null),2),V=j[0],W=j[1],X=R((0,m.useState)(null),2),q=X[0],Y=X[1],K=m.useMemo((function(){return null===q&&E?Number.MAX_SAFE_INTEGER:q||0}),[q,T]),J=R((0,m.useState)(!1),2),Z=J[0],Q=J[1],$="".concat(r,"-item"),ee=Math.max(I,U),te=p===NK,ne=a.length&&te,re=p===IK,ie=ne||"number"===typeof p&&a.length>p,ae=(0,m.useMemo)((function(){var e=a;return ne?e=null===T&&E?a:a.slice(0,Math.min(a.length,A/c)):"number"===typeof p&&(e=a.slice(0,p)),e}),[a,c,T,p,ne]),oe=(0,m.useMemo)((function(){return ne?a.slice(K+1):a.slice(ae.length)}),[a,ae,ne,K]),se=(0,m.useCallback)((function(e,t){var n;return"function"===typeof l?l(e):null!==(n=l&&(null===e||void 0===e?void 0:e[l]))&&void 0!==n?n:t}),[l]),le=(0,m.useCallback)(o||function(e){return e},[o]);function ue(e,t,n){(q!==e||void 0!==t&&t!==V)&&(Y(e),n||(Q(e<a.length-1),null===w||void 0===w||w(e)),void 0!==t&&W(t))}function ce(e,t){L((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function he(e){return O.get(se(ae[e],e))}$F((function(){if(A&&"number"===typeof ee&&ae){var e=H,t=ae.length,n=t-1;if(!t)return void ue(0,null);for(var r=0;r<t;r+=1){var i=he(r);if(E&&(i=i||0),void 0===i){ue(r-1,void 0,!0);break}if(e+=i,0===n&&e<=A||r===n-1&&e+he(n)<=A){ue(n,null);break}if(e+ee>A){ue(r-1,e-i-H+U);break}}y&&he(0)+H>A&&W(null)}}),[A,O,U,H,se,ae]);var fe=Z&&!!oe.length,de={};null!==V&&ne&&(de={position:"absolute",left:V,top:0});var pe={prefixCls:$,responsive:ne,component:k,invalidate:re},ve=s?function(e,t){var n=se(e,t);return m.createElement(MK.Provider,{key:n,value:yn(yn({},pe),{},{order:t,item:e,itemKey:n,registerSize:ce,display:t<=K})},s(e,t))}:function(e,t){var n=se(e,t);return m.createElement(SK,QI({},pe,{order:t,key:n,item:e,renderItem:le,itemKey:n,registerSize:ce,display:t<=K}))},ge={order:fe?K:Number.MAX_SAFE_INTEGER,className:"".concat($,"-rest"),registerSize:function(e,t){B(t),D(U)},display:fe},me=v||DK,ye=g?m.createElement(MK.Provider,{value:yn(yn({},pe),ge)},g(oe)):m.createElement(SK,QI({},pe,ge),"function"===typeof me?me(oe):me),be=m.createElement(x,QI({className:nD()(!re&&r,d),style:f,ref:t},S),ae.map(ve),ie?ye:null,y&&m.createElement(SK,QI({},pe,{responsive:te,responsiveDisabled:!ne,order:K,className:"".concat($,"-suffix"),registerSize:function(e,t){G(t)},display:!0,style:de}),y));return te?m.createElement(Tj,{onResize:function(e,t){C(t.clientWidth)},disabled:!ne},be):be}var UK=m.forwardRef(FK);UK.displayName="Overflow",UK.Item=RK,UK.RESPONSIVE=NK,UK.INVALIDATE=IK;var BK=UK,zK=m.createContext(null);function HK(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function GK(e){return HK(m.useContext(zK),e)}var jK=["children","locked"],VK=m.createContext(null);function WK(e){var t=e.children,n=e.locked,r=eD(e,jK),i=m.useContext(VK),a=NF((function(){return function(e,t){var n=yn({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(i,r)}),[i,r],(function(e,t){return!n&&(e[0]!==t[0]||!pB(e[1],t[1],!0))}));return m.createElement(VK.Provider,{value:a},t)}var XK=[],qK=m.createContext(null);function YK(){return m.useContext(qK)}var KK=m.createContext(XK);function JK(e){var t=m.useContext(KK);return m.useMemo((function(){return void 0!==e?[].concat(Y(t),[e]):t}),[t,e])}var ZK=m.createContext(null),QK=m.createContext({});function $K(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Gj(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),i=e.getAttribute("tabindex"),a=Number(i),o=null;return i&&!Number.isNaN(a)?o=a:r&&null===o&&(o=0),r&&e.disabled&&(o=null),null!==o&&(o>=0||t&&o<0)}return!1}function eJ(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Y(e.querySelectorAll("*")).filter((function(e){return $K(e,t)}));return $K(e,t)&&n.unshift(e),n}var tJ=Dq.LEFT,nJ=Dq.RIGHT,rJ=Dq.UP,iJ=Dq.DOWN,aJ=Dq.ENTER,oJ=Dq.ESC,sJ=Dq.HOME,lJ=Dq.END,uJ=[rJ,iJ,tJ,nJ];function cJ(e,t){return eJ(e,!0).filter((function(e){return t.has(e)}))}function hJ(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var i=cJ(e,t),a=i.length,o=i.findIndex((function(e){return n===e}));return r<0?-1===o?o=a-1:o-=1:r>0&&(o+=1),i[o=(o+a)%a]}var fJ=function(e,t){var n=new Set,r=new Map,i=new Map;return e.forEach((function(e){var a=document.querySelector("[data-menu-id='".concat(HK(t,e),"']"));a&&(n.add(a),i.set(a,e),r.set(e,a))})),{elements:n,key2element:r,element2key:i}};function dJ(e,t,n,r,i,a,o,s,l,u){var c=m.useRef(),h=m.useRef();h.current=t;var f=function(){BU.cancel(c.current)};return m.useEffect((function(){return function(){f()}}),[]),function(d){var p=d.which;if([].concat(uJ,[aJ,oJ,sJ,lJ]).includes(p)){var v=a(),g=fJ(v,r),m=g,y=m.elements,b=m.key2element,x=m.element2key,k=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(b.get(t),y),w=x.get(k),S=function(e,t,n,r){var i,a="prev",o="next",s="children",l="parent";if("inline"===e&&r===aJ)return{inlineTrigger:!0};var u=j(j({},rJ,a),iJ,o),c=j(j(j(j({},tJ,n?o:a),nJ,n?a:o),iJ,s),aJ,s),h=j(j(j(j(j(j({},rJ,a),iJ,o),aJ,s),oJ,l),tJ,n?s:l),nJ,n?l:s);switch(null===(i={inline:u,horizontal:c,vertical:h,inlineSub:u,horizontalSub:h,verticalSub:h}["".concat(e).concat(t?"":"Sub")])||void 0===i?void 0:i[r]){case a:return{offset:-1,sibling:!0};case o:return{offset:1,sibling:!0};case l:return{offset:-1,sibling:!1};case s:return{offset:1,sibling:!1};default:return null}}(e,1===o(w,!0).length,n,p);if(!S&&p!==sJ&&p!==lJ)return;(uJ.includes(p)||[sJ,lJ].includes(p))&&d.preventDefault();var E=function(e){if(e){var t=e,n=e.querySelector("a");null!==n&&void 0!==n&&n.getAttribute("href")&&(t=n);var r=x.get(e);s(r),f(),c.current=BU((function(){h.current===r&&t.focus()}))}};if([sJ,lJ].includes(p)||S.sibling||!k){var _,M,T=cJ(_=k&&"inline"!==e?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(k):i.current,y);M=p===sJ?T[0]:p===lJ?T[T.length-1]:hJ(_,y,k,S.offset),E(M)}else if(S.inlineTrigger)l(w);else if(S.offset>0)l(w,!0),f(),c.current=BU((function(){g=fJ(v,r);var e=k.getAttribute("aria-controls"),t=hJ(document.getElementById(e),g.elements);E(t)}),5);else if(S.offset<0){var C=o(w,!0),A=C[C.length-2],P=b.get(A);l(A,!1),E(P)}}null===u||void 0===u||u(d)}}var pJ="__RC_UTIL_PATH_SPLIT__",vJ=function(e){return e.join(pJ)},gJ="rc-menu-more";function mJ(){var e=R(m.useState({}),2)[1],t=(0,m.useRef)(new Map),n=(0,m.useRef)(new Map),r=R(m.useState([]),2),i=r[0],a=r[1],o=(0,m.useRef)(0),s=(0,m.useRef)(!1),l=(0,m.useCallback)((function(r,i){var a=vJ(i);n.current.set(a,r),t.current.set(r,a),o.current+=1;var l,u=o.current;l=function(){u===o.current&&(s.current||e({}))},Promise.resolve().then(l)}),[]),u=(0,m.useCallback)((function(e,r){var i=vJ(r);n.current.delete(i),t.current.delete(e)}),[]),c=(0,m.useCallback)((function(e){a(e)}),[]),h=(0,m.useCallback)((function(e,n){var r=t.current.get(e)||"",a=r.split(pJ);return n&&i.includes(a[0])&&a.unshift(gJ),a}),[i]),f=(0,m.useCallback)((function(e,t){return e.filter((function(e){return void 0!==e})).some((function(e){return h(e,!0).includes(t)}))}),[h]),d=(0,m.useCallback)((function(e){var r="".concat(t.current.get(e)).concat(pJ),i=new Set;return Y(n.current.keys()).forEach((function(e){e.startsWith(r)&&i.add(n.current.get(e))})),i}),[]);return m.useEffect((function(){return function(){s.current=!0}}),[]),{registerPath:l,unregisterPath:u,refreshOverflowKeys:c,isSubPathKey:f,getKeyPath:h,getKeys:function(){var e=Y(t.current.keys());return i.length&&e.push(gJ),e},getSubPathKeys:d}}function yJ(e){var t=m.useRef(e);t.current=e;var n=m.useCallback((function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return null===(e=t.current)||void 0===e?void 0:e.call.apply(e,[t].concat(r))}),[]);return e?n:void 0}var bJ=Math.random().toFixed(5).toString().slice(2),xJ=0;function kJ(e,t,n,r){var i=m.useContext(VK),a=i.activeKey,o=i.onActive,s=i.onInactive,l={active:a===e};return t||(l.onMouseEnter=function(t){null===n||void 0===n||n({key:e,domEvent:t}),o(e)},l.onMouseLeave=function(t){null===r||void 0===r||r({key:e,domEvent:t}),s(e)}),l}function wJ(e){var t=m.useContext(VK),n=t.mode,r=t.rtl,i=t.inlineIndent;if("inline"!==n)return null;return r?{paddingRight:e*i}:{paddingLeft:e*i}}function SJ(e){var t,n=e.icon,r=e.props,i=e.children;return null===n||!1===n?null:("function"===typeof n?t=m.createElement(n,yn({},r)):"boolean"!==typeof n&&(t=n),t||i||null)}var EJ=["item"];function _J(e){var t=e.item,n=eD(e,EJ);return Object.defineProperty(n,"item",{get:function(){return vF(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}var MJ=["title","attribute","elementRef"],TJ=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],CJ=["active"],AJ=function(e){G(n,e);var t=XF(n);function n(){return T(this,n),t.apply(this,arguments)}return M(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.attribute,r=e.elementRef,i=fB(eD(e,MJ),["eventKey","popupClassName","popupOffset","onTitleClick"]);return vF(!n,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),m.createElement(BK.Item,QI({},n,{title:"string"===typeof t?t:void 0},i,{ref:r}))}}]),n}(m.Component),PJ=m.forwardRef((function(e,t){var n=e.style,r=e.className,i=e.eventKey,a=(e.warnKey,e.disabled),o=e.itemIcon,s=e.children,l=e.role,u=e.onMouseEnter,c=e.onMouseLeave,h=e.onClick,f=e.onKeyDown,d=e.onFocus,p=eD(e,TJ),v=GK(i),g=m.useContext(VK),y=g.prefixCls,b=g.onItemClick,x=g.disabled,k=g.overflowDisabled,w=g.itemIcon,S=g.selectedKeys,E=g.onActive,_=m.useContext(QK)._internalRenderMenuItem,M="".concat(y,"-item"),T=m.useRef(),C=m.useRef(),A=x||a,P=HF(t,C),O=JK(i);var R=function(e){return{key:i,keyPath:Y(O).reverse(),item:T.current,domEvent:e}},L=o||w,N=kJ(i,A,u,c),I=N.active,D=eD(N,CJ),F=S.includes(i),U=wJ(O.length),B={};"option"===e.role&&(B["aria-selected"]=F);var z=m.createElement(AJ,QI({ref:T,elementRef:P,role:null===l?"none":l||"menuitem",tabIndex:a?null:-1,"data-menu-id":k&&v?null:v},fB(p,["extra"]),D,B,{component:"li","aria-disabled":a,style:yn(yn({},U),n),className:nD()(M,j(j(j({},"".concat(M,"-active"),I),"".concat(M,"-selected"),F),"".concat(M,"-disabled"),A),r),onClick:function(e){if(!A){var t=R(e);null===h||void 0===h||h(_J(t)),b(t)}},onKeyDown:function(e){if(null===f||void 0===f||f(e),e.which===Dq.ENTER){var t=R(e);null===h||void 0===h||h(_J(t)),b(t)}},onFocus:function(e){E(i),null===d||void 0===d||d(e)}}),s,m.createElement(SJ,{props:yn(yn({},e),{},{isSelected:F}),icon:L}));return _&&(z=_(z,e,{selected:F})),z}));function OJ(e,t){var n=e.eventKey,r=YK(),i=JK(n);return m.useEffect((function(){if(r)return r.registerPath(n,i),function(){r.unregisterPath(n,i)}}),[i]),r?null:m.createElement(PJ,QI({},e,{ref:t}))}var RJ=m.forwardRef(OJ),LJ=["className","children"],NJ=function(e,t){var n=e.className,r=e.children,i=eD(e,LJ),a=m.useContext(VK),o=a.prefixCls,s=a.mode,l=a.rtl;return m.createElement("ul",QI({className:nD()(o,l&&"".concat(o,"-rtl"),"".concat(o,"-sub"),"".concat(o,"-").concat("inline"===s?"inline":"vertical"),n),role:"menu"},i,{"data-menu-list":!0,ref:t}),r)},IJ=m.forwardRef(NJ);IJ.displayName="SubMenuList";var DJ=IJ;function FJ(e,t){return JG(e).map((function(e,n){if(m.isValidElement(e)){var r,i,a=e.key,o=null!==(r=null===(i=e.props)||void 0===i?void 0:i.eventKey)&&void 0!==r?r:a;(null===o||void 0===o)&&(o="tmp_key-".concat([].concat(Y(t),[n]).join("-")));var s={key:o,eventKey:o};return m.cloneElement(e,s)}return e}))}var UJ={adjustX:1,adjustY:1},BJ={topLeft:{points:["bl","tl"],overflow:UJ},topRight:{points:["br","tr"],overflow:UJ},bottomLeft:{points:["tl","bl"],overflow:UJ},bottomRight:{points:["tr","br"],overflow:UJ},leftTop:{points:["tr","tl"],overflow:UJ},leftBottom:{points:["br","bl"],overflow:UJ},rightTop:{points:["tl","tr"],overflow:UJ},rightBottom:{points:["bl","br"],overflow:UJ}},zJ={topLeft:{points:["bl","tl"],overflow:UJ},topRight:{points:["br","tr"],overflow:UJ},bottomLeft:{points:["tl","bl"],overflow:UJ},bottomRight:{points:["tr","br"],overflow:UJ},rightTop:{points:["tr","tl"],overflow:UJ},rightBottom:{points:["br","bl"],overflow:UJ},leftTop:{points:["tl","tr"],overflow:UJ},leftBottom:{points:["bl","br"],overflow:UJ}};function HJ(e,t,n){return t||(n?n[e]||n.other:void 0)}var GJ={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function jJ(e){var t=e.prefixCls,n=e.visible,r=e.children,i=e.popup,a=e.popupStyle,o=e.popupClassName,s=e.popupOffset,l=e.disabled,u=e.mode,c=e.onVisibleChange,h=m.useContext(VK),f=h.getPopupContainer,d=h.rtl,p=h.subMenuOpenDelay,v=h.subMenuCloseDelay,g=h.builtinPlacements,y=h.triggerSubMenuAction,b=h.forceSubMenuRender,x=h.rootClassName,k=h.motion,w=h.defaultMotions,S=R(m.useState(!1),2),E=S[0],_=S[1],M=yn(yn({},d?zJ:BJ),g),T=GJ[u],C=HJ(u,k,w),A=m.useRef(C);"inline"!==u&&(A.current=C);var P=yn(yn({},A.current),{},{leavedClassName:"".concat(t,"-hidden"),removeOnLeave:!1,motionAppear:!0}),O=m.useRef();return m.useEffect((function(){return O.current=BU((function(){_(n)})),function(){BU.cancel(O.current)}}),[n]),m.createElement(nV,{prefixCls:t,popupClassName:nD()("".concat(t,"-popup"),j({},"".concat(t,"-rtl"),d),o,x),stretch:"horizontal"===u?"minWidth":null,getPopupContainer:f,builtinPlacements:M,popupPlacement:T,popupVisible:E,popup:i,popupStyle:a,popupAlign:s&&{offset:s},action:l?[]:[y],mouseEnterDelay:p,mouseLeaveDelay:v,onPopupVisibleChange:c,forceRender:b,popupMotion:P,fresh:!0},r)}function VJ(e){var t=e.id,n=e.open,r=e.keyPath,i=e.children,a="inline",o=m.useContext(VK),s=o.prefixCls,l=o.forceSubMenuRender,u=o.motion,c=o.defaultMotions,h=o.mode,f=m.useRef(!1);f.current=h===a;var d=R(m.useState(!f.current),2),p=d[0],v=d[1],g=!!f.current&&n;m.useEffect((function(){f.current&&v(!1)}),[h]);var y=yn({},HJ(a,u,c));r.length>1&&(y.motionAppear=!1);var b=y.onVisibleChanged;return y.onVisibleChanged=function(e){return f.current||e||v(!0),null===b||void 0===b?void 0:b(e)},p?null:m.createElement(WK,{mode:a,locked:!f.current},m.createElement(rB,QI({visible:g},y,{forceRender:l,removeOnLeave:!1,leavedClassName:"".concat(s,"-hidden")}),(function(e){var n=e.className,r=e.style;return m.createElement(DJ,{id:t,className:n,style:r},i)})))}var WJ=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","popupStyle","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],XJ=["active"],qJ=m.forwardRef((function(e,t){var n=e.style,r=e.className,i=e.title,a=e.eventKey,o=(e.warnKey,e.disabled),s=e.internalPopupClose,l=e.children,u=e.itemIcon,c=e.expandIcon,h=e.popupClassName,f=e.popupOffset,d=e.popupStyle,p=e.onClick,v=e.onMouseEnter,g=e.onMouseLeave,y=e.onTitleClick,b=e.onTitleMouseEnter,x=e.onTitleMouseLeave,k=eD(e,WJ),w=GK(a),S=m.useContext(VK),E=S.prefixCls,_=S.mode,M=S.openKeys,T=S.disabled,C=S.overflowDisabled,A=S.activeKey,P=S.selectedKeys,O=S.itemIcon,L=S.expandIcon,N=S.onItemClick,I=S.onOpenChange,D=S.onActive,F=m.useContext(QK)._internalRenderSubMenuItem,U=m.useContext(ZK).isSubPathKey,B=JK(),z="".concat(E,"-submenu"),H=T||o,G=m.useRef(),V=m.useRef();var W=null!==u&&void 0!==u?u:O,X=null!==c&&void 0!==c?c:L,q=M.includes(a),Y=!C&&q,K=U(P,a),J=kJ(a,H,b,x),Z=J.active,Q=eD(J,XJ),$=R(m.useState(!1),2),ee=$[0],te=$[1],ne=function(e){H||te(e)},re=m.useMemo((function(){return Z||"inline"!==_&&(ee||U([A],a))}),[_,Z,A,ee,a,U]),ie=wJ(B.length),ae=yJ((function(e){null===p||void 0===p||p(_J(e)),N(e)})),oe=w&&"".concat(w,"-popup"),se=m.createElement("div",QI({role:"menuitem",style:ie,className:"".concat(z,"-title"),tabIndex:H?null:-1,ref:G,title:"string"===typeof i?i:null,"data-menu-id":C&&w?null:w,"aria-expanded":Y,"aria-haspopup":!0,"aria-controls":oe,"aria-disabled":H,onClick:function(e){H||(null===y||void 0===y||y({key:a,domEvent:e}),"inline"===_&&I(a,!q))},onFocus:function(){D(a)}},Q),i,m.createElement(SJ,{icon:"horizontal"!==_?X:void 0,props:yn(yn({},e),{},{isOpen:Y,isSubMenu:!0})},m.createElement("i",{className:"".concat(z,"-arrow")}))),le=m.useRef(_);if("inline"!==_&&B.length>1?le.current="vertical":le.current=_,!C){var ue=le.current;se=m.createElement(jJ,{mode:ue,prefixCls:z,visible:!s&&Y&&"inline"!==_,popupClassName:h,popupOffset:f,popupStyle:d,popup:m.createElement(WK,{mode:"horizontal"===ue?"vertical":ue},m.createElement(DJ,{id:oe,ref:V},l)),disabled:H,onVisibleChange:function(e){"inline"!==_&&I(a,e)}},se)}var ce=m.createElement(BK.Item,QI({ref:t,role:"none"},k,{component:"li",style:n,className:nD()(z,"".concat(z,"-").concat(_),r,j(j(j(j({},"".concat(z,"-open"),Y),"".concat(z,"-active"),re),"".concat(z,"-selected"),K),"".concat(z,"-disabled"),H)),onMouseEnter:function(e){ne(!0),null===v||void 0===v||v({key:a,domEvent:e})},onMouseLeave:function(e){ne(!1),null===g||void 0===g||g({key:a,domEvent:e})}}),se,!C&&m.createElement(VJ,{id:oe,open:Y,keyPath:B},l));return F&&(ce=F(ce,e,{selected:K,active:re,open:Y,disabled:H})),m.createElement(WK,{onItemClick:ae,mode:"horizontal"===_?"vertical":_,itemIcon:W,expandIcon:X},ce)})),YJ=m.forwardRef((function(e,t){var n,r=e.eventKey,i=e.children,a=JK(r),o=FJ(i,a),s=YK();return m.useEffect((function(){if(s)return s.registerPath(r,a),function(){s.unregisterPath(r,a)}}),[a]),n=s?o:m.createElement(qJ,QI({ref:t},e),o),m.createElement(KK.Provider,{value:a},n)}));var KJ=YJ;function JJ(e){var t=e.className,n=e.style,r=m.useContext(VK).prefixCls;return YK()?null:m.createElement("li",{role:"separator",className:nD()("".concat(r,"-item-divider"),t),style:n})}var ZJ=["className","title","eventKey","children"],QJ=m.forwardRef((function(e,t){var n=e.className,r=e.title,i=(e.eventKey,e.children),a=eD(e,ZJ),o=m.useContext(VK).prefixCls,s="".concat(o,"-item-group");return m.createElement("li",QI({ref:t,role:"presentation"},a,{onClick:function(e){return e.stopPropagation()},className:nD()(s,n)}),m.createElement("div",{role:"presentation",className:"".concat(s,"-title"),title:"string"===typeof r?r:void 0},r),m.createElement("ul",{role:"group",className:"".concat(s,"-list")},i))})),$J=m.forwardRef((function(e,t){var n=e.eventKey,r=FJ(e.children,JK(n));return YK()?r:m.createElement(QJ,QI({ref:t},fB(e,["warnKey"])),r)}));var eZ=$J,tZ=["label","children","key","type","extra"];function nZ(e,t,n){var r=t.item,i=t.group,a=t.submenu,o=t.divider;return(e||[]).map((function(e,s){if(e&&"object"===x(e)){var l=e,u=l.label,c=l.children,h=l.key,f=l.type,d=l.extra,p=eD(l,tZ),v=null!==h&&void 0!==h?h:"tmp-".concat(s);return c||"group"===f?"group"===f?m.createElement(i,QI({key:v},p,{title:u}),nZ(c,t,n)):m.createElement(a,QI({key:v},p,{title:u}),nZ(c,t,n)):"divider"===f?m.createElement(o,QI({key:v},p)):m.createElement(r,QI({key:v},p,{extra:d}),u,(!!d||0===d)&&m.createElement("span",{className:"".concat(n,"-item-extra")},d))}return null})).filter((function(e){return e}))}function rZ(e,t,n,r,i){var a=e,o=yn({divider:JJ,item:RJ,group:eZ,submenu:KJ},r);return t&&(a=nZ(t,o,i)),FJ(a,n)}var iZ=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem","_internalComponents"],aZ=[],oZ=m.forwardRef((function(e,t){var n,r=e,i=r.prefixCls,a=void 0===i?"rc-menu":i,o=r.rootClassName,s=r.style,l=r.className,u=r.tabIndex,c=void 0===u?0:u,h=r.items,f=r.children,d=r.direction,p=r.id,v=r.mode,g=void 0===v?"vertical":v,y=r.inlineCollapsed,b=r.disabled,x=r.disabledOverflow,k=r.subMenuOpenDelay,w=void 0===k?.1:k,S=r.subMenuCloseDelay,E=void 0===S?.1:S,_=r.forceSubMenuRender,M=r.defaultOpenKeys,T=r.openKeys,C=r.activeKey,A=r.defaultActiveFirst,P=r.selectable,O=void 0===P||P,L=r.multiple,I=void 0!==L&&L,D=r.defaultSelectedKeys,F=r.selectedKeys,U=r.onSelect,B=r.onDeselect,z=r.inlineIndent,H=void 0===z?24:z,G=r.motion,V=r.defaultMotions,W=r.triggerSubMenuAction,X=void 0===W?"hover":W,q=r.builtinPlacements,K=r.itemIcon,J=r.expandIcon,Z=r.overflowedIndicator,Q=void 0===Z?"...":Z,$=r.overflowedIndicatorPopupClassName,ee=r.getPopupContainer,te=r.onClick,ne=r.onOpenChange,re=r.onKeyDown,ie=(r.openAnimation,r.openTransitionName,r._internalRenderMenuItem),ae=r._internalRenderSubMenuItem,oe=r._internalComponents,se=eD(r,iZ),le=R(m.useMemo((function(){return[rZ(f,h,aZ,oe,a),rZ(f,h,aZ,{},a)]}),[f,h,oe]),2),ue=le[0],ce=le[1],he=R(m.useState(!1),2),fe=he[0],de=he[1],pe=m.useRef(),ve=function(e){var t=R(nU(e,{value:e}),2),n=t[0],r=t[1];return m.useEffect((function(){xJ+=1;var e="".concat(bJ,"-").concat(xJ);r("rc-menu-uuid-".concat(e))}),[]),n}(p),ge="rtl"===d;var me=nU(M,{value:T,postState:function(e){return e||aZ}}),ye=R(me,2),be=ye[0],xe=ye[1],ke=function(e){function t(){xe(e),null===ne||void 0===ne||ne(e)}arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(0,N.flushSync)(t):t()},we=R(m.useState(be),2),Se=we[0],Ee=we[1],_e=m.useRef(!1),Me=R(m.useMemo((function(){return"inline"!==g&&"vertical"!==g||!y?[g,!1]:["vertical",y]}),[g,y]),2),Te=Me[0],Ce=Me[1],Ae="inline"===Te,Pe=R(m.useState(Te),2),Oe=Pe[0],Re=Pe[1],Le=R(m.useState(Ce),2),Ne=Le[0],Ie=Le[1];m.useEffect((function(){Re(Te),Ie(Ce),_e.current&&(Ae?xe(Se):ke(aZ))}),[Te,Ce]);var De=R(m.useState(0),2),Fe=De[0],Ue=De[1],Be=Fe>=ue.length-1||"horizontal"!==Oe||x;m.useEffect((function(){Ae&&Ee(be)}),[be]),m.useEffect((function(){return _e.current=!0,function(){_e.current=!1}}),[]);var ze=mJ(),He=ze.registerPath,Ge=ze.unregisterPath,je=ze.refreshOverflowKeys,Ve=ze.isSubPathKey,We=ze.getKeyPath,Xe=ze.getKeys,qe=ze.getSubPathKeys,Ye=m.useMemo((function(){return{registerPath:He,unregisterPath:Ge}}),[He,Ge]),Ke=m.useMemo((function(){return{isSubPathKey:Ve}}),[Ve]);m.useEffect((function(){je(Be?aZ:ue.slice(Fe+1).map((function(e){return e.key})))}),[Fe,Be]);var Je=R(nU(C||A&&(null===(n=ue[0])||void 0===n?void 0:n.key),{value:C}),2),Ze=Je[0],Qe=Je[1],$e=yJ((function(e){Qe(e)})),et=yJ((function(){Qe(void 0)}));(0,m.useImperativeHandle)(t,(function(){return{list:pe.current,focus:function(e){var t,n,r=Xe(),i=fJ(r,ve),a=i.elements,o=i.key2element,s=i.element2key,l=cJ(pe.current,a),u=null!==Ze&&void 0!==Ze?Ze:l[0]?s.get(l[0]):null===(t=ue.find((function(e){return!e.props.disabled})))||void 0===t?void 0:t.key,c=o.get(u);u&&c&&(null===c||void 0===c||null===(n=c.focus)||void 0===n||n.call(c,e))}}}));var tt=nU(D||[],{value:F,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?aZ:[e]}}),nt=R(tt,2),rt=nt[0],it=nt[1],at=yJ((function(e){null===te||void 0===te||te(_J(e)),function(e){if(O){var t,n=e.key,r=rt.includes(n);t=I?r?rt.filter((function(e){return e!==n})):[].concat(Y(rt),[n]):[n],it(t);var i=yn(yn({},e),{},{selectedKeys:t});r?null===B||void 0===B||B(i):null===U||void 0===U||U(i)}!I&&be.length&&"inline"!==Oe&&ke(aZ)}(e)})),ot=yJ((function(e,t){var n=be.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==Oe){var r=qe(e);n=n.filter((function(e){return!r.has(e)}))}pB(be,n,!0)||ke(n,!0)})),st=dJ(Oe,Ze,ge,ve,pe,Xe,We,Qe,(function(e,t){var n=null!==t&&void 0!==t?t:!be.includes(e);ot(e,n)}),re);m.useEffect((function(){de(!0)}),[]);var lt=m.useMemo((function(){return{_internalRenderMenuItem:ie,_internalRenderSubMenuItem:ae}}),[ie,ae]),ut="horizontal"!==Oe||x?ue:ue.map((function(e,t){return m.createElement(WK,{key:e.key,overflowDisabled:t>Fe},e)})),ct=m.createElement(BK,QI({id:p,ref:pe,prefixCls:"".concat(a,"-overflow"),component:"ul",itemComponent:RJ,className:nD()(a,"".concat(a,"-root"),"".concat(a,"-").concat(Oe),l,j(j({},"".concat(a,"-inline-collapsed"),Ne),"".concat(a,"-rtl"),ge),o),dir:d,style:s,role:"menu",tabIndex:c,data:ut,renderRawItem:function(e){return e},renderRawRest:function(e){var t=e.length,n=t?ue.slice(-t):null;return m.createElement(KJ,{eventKey:gJ,title:Q,disabled:Be,internalPopupClose:0===t,popupClassName:$},n)},maxCount:"horizontal"!==Oe||x?BK.INVALIDATE:BK.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Ue(e)},onKeyDown:st},se));return m.createElement(QK.Provider,{value:lt},m.createElement(zK.Provider,{value:ve},m.createElement(WK,{prefixCls:a,rootClassName:o,mode:Oe,openKeys:be,rtl:ge,disabled:b,motion:fe?G:null,defaultMotions:fe?V:null,activeKey:Ze,onActive:$e,onInactive:et,selectedKeys:rt,inlineIndent:H,subMenuOpenDelay:w,subMenuCloseDelay:E,forceSubMenuRender:_,builtinPlacements:q,triggerSubMenuAction:X,getPopupContainer:ee,itemIcon:K,expandIcon:J,onItemClick:at,onOpenChange:ot},m.createElement(ZK.Provider,{value:Ke},ct),m.createElement("div",{style:{display:"none"},"aria-hidden":!0},m.createElement(qK.Provider,{value:Ye},ce)))))})),sZ=oZ;sZ.Item=RJ,sZ.SubMenu=KJ,sZ.ItemGroup=eZ,sZ.Divider=JJ;var lZ=sZ,uZ=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.id,i=e.tabs,a=e.locale,o=e.mobile,s=e.more,l=void 0===s?{}:s,u=e.style,c=e.className,h=e.editable,f=e.tabBarGutter,d=e.rtl,p=e.removeAriaLabel,v=e.onTabClick,g=e.getPopupContainer,y=e.popupClassName,b=R((0,m.useState)(!1),2),x=b[0],k=b[1],w=R((0,m.useState)(null),2),S=w[0],E=w[1],_=l.icon,M=void 0===_?"More":_,T="".concat(r,"-more-popup"),C="".concat(n,"-dropdown"),A=null!==S?"".concat(T,"-").concat(S):null,P=null===a||void 0===a?void 0:a.dropdownAriaLabel;var O=m.createElement(lZ,{onClick:function(e){var t=e.key,n=e.domEvent;v(t,n),k(!1)},prefixCls:"".concat(C,"-menu"),id:T,tabIndex:-1,role:"listbox","aria-activedescendant":A,selectedKeys:[S],"aria-label":void 0!==P?P:"expanded dropdown"},i.map((function(e){var t=e.closable,n=e.disabled,i=e.closeIcon,a=e.key,o=e.label,s=iK(t,i,h,n);return m.createElement(RJ,{key:a,id:"".concat(T,"-").concat(a),role:"option","aria-controls":r&&"".concat(r,"-panel-").concat(a),disabled:n},m.createElement("span",null,o),s&&m.createElement("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(C,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),h.onEdit("remove",{key:t,event:e})}(e,a)}},i||h.removeIcon||"\xd7"))})));function L(e){for(var t=i.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===S}))||0,r=t.length,a=0;a<r;a+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void E(o.key)}}(0,m.useEffect)((function(){var e=document.getElementById(A);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[S]),(0,m.useEffect)((function(){x||E(null)}),[x]);var N=j({},d?"marginRight":"marginLeft",f);i.length||(N.visibility="hidden",N.order=1);var I=nD()(j({},"".concat(C,"-rtl"),d)),D=o?null:m.createElement(yK,QI({prefixCls:C,overlay:O,visible:!!i.length&&x,onVisibleChange:k,overlayClassName:nD()(I,y),mouseEnterDelay:.1,mouseLeaveDelay:.1,getPopupContainer:g},l),m.createElement("button",{type:"button",className:"".concat(n,"-nav-more"),style:N,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":T,id:"".concat(r,"-more"),"aria-expanded":x,onKeyDown:function(e){var t=e.which;if(x)switch(t){case Dq.UP:L(-1),e.preventDefault();break;case Dq.DOWN:L(1),e.preventDefault();break;case Dq.ESC:k(!1);break;case Dq.SPACE:case Dq.ENTER:null!==S&&v(S,e)}else[Dq.DOWN,Dq.SPACE,Dq.ENTER].includes(t)&&(k(!0),e.preventDefault())}},M));return m.createElement("div",{className:nD()("".concat(n,"-nav-operations"),c),style:u,ref:t},D,m.createElement(oK,{prefixCls:n,locale:a,editable:h}))})),cZ=m.memo(uZ,(function(e,t){return t.tabMoving})),hZ=function(e){var t=e.prefixCls,n=e.id,r=e.active,i=e.focus,a=e.tab,o=a.key,s=a.label,l=a.disabled,u=a.closeIcon,c=a.icon,h=e.closable,f=e.renderWrapper,d=e.removeAriaLabel,p=e.editable,v=e.onClick,g=e.onFocus,y=e.onBlur,b=e.onKeyDown,x=e.onMouseDown,k=e.onMouseUp,w=e.style,S=e.tabCount,E=e.currentPosition,_="".concat(t,"-tab"),M=iK(h,u,p,l);function T(e){l||v(e)}var C=m.useMemo((function(){return c&&"string"===typeof s?m.createElement("span",null,s):s}),[s,c]),A=m.useRef(null);m.useEffect((function(){i&&A.current&&A.current.focus()}),[i]);var P=m.createElement("div",{key:o,"data-node-key":rK(o),className:nD()(_,j(j(j(j({},"".concat(_,"-with-remove"),M),"".concat(_,"-active"),r),"".concat(_,"-disabled"),l),"".concat(_,"-focus"),i)),style:w,onClick:T},m.createElement("div",{ref:A,role:"tab","aria-selected":r,id:n&&"".concat(n,"-tab-").concat(o),className:"".concat(_,"-btn"),"aria-controls":n&&"".concat(n,"-panel-").concat(o),"aria-disabled":l,tabIndex:l?null:r?0:-1,onClick:function(e){e.stopPropagation(),T(e)},onKeyDown:b,onMouseDown:x,onMouseUp:k,onFocus:g,onBlur:y},i&&m.createElement("div",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"Tab ".concat(E," of ").concat(S)),c&&m.createElement("span",{className:"".concat(_,"-icon")},c),s&&C),M&&m.createElement("button",{type:"button","aria-label":d||"remove",tabIndex:r?0:-1,className:"".concat(_,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),p.onEdit("remove",{key:o,event:t})}},u||p.removeIcon||"\xd7"));return f?f(P):P},fZ=function(e){var t=e.current||{},n=t.offsetWidth,r=void 0===n?0:n,i=t.offsetHeight,a=void 0===i?0:i;if(e.current){var o=e.current.getBoundingClientRect(),s=o.width,l=o.height;if(Math.abs(s-r)<1)return[s,l]}return[r,a]},dZ=function(e,t){return e[t?0:1]},pZ=m.forwardRef((function(e,t){var n=e.className,r=e.style,i=e.id,a=e.animated,o=e.activeKey,s=e.rtl,l=e.extra,u=e.editable,c=e.locale,h=e.tabPosition,f=e.tabBarGutter,d=e.children,p=e.onTabClick,v=e.onTabScroll,g=e.indicator,y=m.useContext(KY),b=y.prefixCls,x=y.tabs,k=(0,m.useRef)(null),w=(0,m.useRef)(null),S=(0,m.useRef)(null),E=(0,m.useRef)(null),_=(0,m.useRef)(null),M=(0,m.useRef)(null),T=(0,m.useRef)(null),C="top"===h||"bottom"===h,A=QY(0,(function(e,t){C&&v&&v({direction:e>t?"left":"right"})})),P=R(A,2),O=P[0],L=P[1],N=QY(0,(function(e,t){!C&&v&&v({direction:e>t?"top":"bottom"})})),I=R(N,2),D=I[0],F=I[1],U=R((0,m.useState)([0,0]),2),B=U[0],z=U[1],H=R((0,m.useState)([0,0]),2),G=H[0],V=H[1],W=R((0,m.useState)([0,0]),2),X=W[0],q=W[1],K=R((0,m.useState)([0,0]),2),J=K[0],Z=K[1],Q=function(e){var t=(0,m.useRef)([]),n=R((0,m.useState)({}),2)[1],r=(0,m.useRef)("function"===typeof e?e():e),i=eK((function(){var e=r.current;t.current.forEach((function(t){e=t(e)})),t.current=[],r.current=e,n({})}));return[r.current,function(e){t.current.push(e),i()}]}(new Map),$=R(Q,2),ee=$[0],te=$[1],ne=function(e,t,n){return(0,m.useMemo)((function(){for(var n,r=new Map,i=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||ZY,a=i.left+i.width,o=0;o<e.length;o+=1){var s,l=e[o].key,u=t.get(l);u||(u=t.get(null===(s=e[o-1])||void 0===s?void 0:s.key)||ZY);var c=r.get(l)||yn({},u);c.right=a-c.left-c.width,r.set(l,c)}return r}),[e.map((function(e){return e.key})).join("_"),t,n])}(x,ee,G[0]),re=dZ(B,C),ie=dZ(G,C),ae=dZ(X,C),oe=dZ(J,C),se=Math.floor(re)<Math.floor(ie+ae),le=se?re-oe:re-ae,ue="".concat(b,"-nav-operations-hidden"),ce=0,he=0;function fe(e){return e<ce?ce:e>he?he:e}C&&s?(ce=0,he=Math.max(0,ie-le)):(ce=Math.min(0,le-ie),he=0);var de=(0,m.useRef)(null),pe=R((0,m.useState)(),2),ve=pe[0],ge=pe[1];function me(){ge(Date.now())}function ye(){de.current&&clearTimeout(de.current)}!function(e,t){var n=R((0,m.useState)(),2),r=n[0],i=n[1],a=R((0,m.useState)(0),2),o=a[0],s=a[1],l=R((0,m.useState)(0),2),u=l[0],c=l[1],h=R((0,m.useState)(),2),f=h[0],d=h[1],p=(0,m.useRef)(),v=(0,m.useRef)(),g=(0,m.useRef)(null);g.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;i({x:n,y:r}),window.clearInterval(p.current)},onTouchMove:function(e){if(r){var n=e.touches[0],a=n.screenX,l=n.screenY;i({x:a,y:l});var u=a-r.x,h=l-r.y;t(u,h);var f=Date.now();s(f),c(f-o),d({x:u,y:h})}},onTouchEnd:function(){if(r&&(i(null),d(null),f)){var e=f.x/u,n=f.y/u,a=Math.abs(e),o=Math.abs(n);if(Math.max(a,o)<.1)return;var s=e,l=n;p.current=window.setInterval((function(){Math.abs(s)<.01&&Math.abs(l)<.01?window.clearInterval(p.current):t(20*(s*=$Y),20*(l*=$Y))}),20)}},onWheel:function(e){var n=e.deltaX,r=e.deltaY,i=0,a=Math.abs(n),o=Math.abs(r);a===o?i="x"===v.current?n:r:a>o?(i=n,v.current="x"):(i=r,v.current="y"),t(-i,-i)&&e.preventDefault()}},m.useEffect((function(){function t(e){g.current.onTouchMove(e)}function n(e){g.current.onTouchEnd(e)}return document.addEventListener("touchmove",t,{passive:!1}),document.addEventListener("touchend",n,{passive:!0}),e.current.addEventListener("touchstart",(function(e){g.current.onTouchStart(e)}),{passive:!0}),e.current.addEventListener("wheel",(function(e){g.current.onWheel(e)}),{passive:!1}),function(){document.removeEventListener("touchmove",t),document.removeEventListener("touchend",n)}}),[])}(E,(function(e,t){function n(e,t){e((function(e){return fe(e+t)}))}return!!se&&(C?n(L,e):n(F,t),ye(),me(),!0)})),(0,m.useEffect)((function(){return ye(),ve&&(de.current=setTimeout((function(){ge(0)}),100)),ye}),[ve]);var be=function(e,t,n,r,i,a,o){var s,l,u,c=o.tabs,h=o.tabPosition,f=o.rtl;return["top","bottom"].includes(h)?(s="width",l=f?"right":"left",u=Math.abs(n)):(s="height",l="top",u=-n),(0,m.useMemo)((function(){if(!c.length)return[0,0];for(var n=c.length,r=n,i=0;i<n;i+=1){var a=e.get(c[i].key)||tK;if(Math.floor(a[l]+a[s])>Math.floor(u+t)){r=i-1;break}}for(var o=0,h=n-1;h>=0;h-=1)if((e.get(c[h].key)||tK)[l]<u){o=h+1;break}return o>=r?[0,0]:[o,r]}),[e,t,r,i,a,u,h,c.map((function(e){return e.key})).join("_"),f])}(ne,le,C?O:D,ie,ae,oe,yn(yn({},e),{},{tabs:x})),xe=R(be,2),ke=xe[0],we=xe[1],Se=KF((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=ne.get(e)||{width:0,height:0,left:0,right:0,top:0};if(C){var n=O;s?t.right<O?n=t.right:t.right+t.width>O+le&&(n=t.right+t.width-le):t.left<-O?n=-t.left:t.left+t.width>-O+le&&(n=-(t.left+t.width-le)),F(0),L(fe(n))}else{var r=D;t.top<-D?r=-t.top:t.top+t.height>-D+le&&(r=-(t.top+t.height-le)),L(0),F(fe(r))}})),Ee=R((0,m.useState)(),2),_e=Ee[0],Me=Ee[1],Te=R((0,m.useState)(!1),2),Ce=Te[0],Ae=Te[1],Pe=x.filter((function(e){return!e.disabled})).map((function(e){return e.key})),Oe=function(e){var t=Pe.indexOf(_e||o),n=Pe.length,r=Pe[(t+e+n)%n];Me(r)},Re=function(e){var t=e.code,n=s&&C,r=Pe[0],i=Pe[Pe.length-1];switch(t){case"ArrowLeft":C&&Oe(n?1:-1);break;case"ArrowRight":C&&Oe(n?-1:1);break;case"ArrowUp":e.preventDefault(),C||Oe(-1);break;case"ArrowDown":e.preventDefault(),C||Oe(1);break;case"Home":e.preventDefault(),Me(r);break;case"End":e.preventDefault(),Me(i);break;case"Enter":case"Space":e.preventDefault(),p(_e,e);break;case"Backspace":case"Delete":var a=Pe.indexOf(_e),o=x.find((function(e){return e.key===_e}));iK(null===o||void 0===o?void 0:o.closable,null===o||void 0===o?void 0:o.closeIcon,u,null===o||void 0===o?void 0:o.disabled)&&(e.preventDefault(),e.stopPropagation(),u.onEdit("remove",{key:_e,event:e}),a===Pe.length-1?Oe(-1):Oe(1))}},Le={};C?Le[s?"marginRight":"marginLeft"]=f:Le.marginTop=f;var Ne=x.map((function(e,t){var n=e.key;return m.createElement(hZ,{id:i,prefixCls:b,key:n,tab:e,style:0===t?void 0:Le,closable:e.closable,editable:u,active:n===o,focus:n===_e,renderWrapper:d,removeAriaLabel:null===c||void 0===c?void 0:c.removeAriaLabel,tabCount:Pe.length,currentPosition:t+1,onClick:function(e){p(n,e)},onKeyDown:Re,onFocus:function(){Ce||Me(n),Se(n),me(),E.current&&(s||(E.current.scrollLeft=0),E.current.scrollTop=0)},onBlur:function(){Me(void 0)},onMouseDown:function(){Ae(!0)},onMouseUp:function(){Ae(!1)}})})),Ie=function(){return te((function(){var e,t=new Map,n=null===(e=_.current)||void 0===e?void 0:e.getBoundingClientRect();return x.forEach((function(e){var r,i=e.key,a=null===(r=_.current)||void 0===r?void 0:r.querySelector('[data-node-key="'.concat(rK(i),'"]'));if(a){var o=function(e,t){var n=e.offsetWidth,r=e.offsetHeight,i=e.offsetTop,a=e.offsetLeft,o=e.getBoundingClientRect(),s=o.width,l=o.height,u=o.left,c=o.top;return Math.abs(s-n)<1?[s,l,u-t.left,c-t.top]:[n,r,a,i]}(a,n),s=R(o,4),l=s[0],u=s[1],c=s[2],h=s[3];t.set(i,{width:l,height:u,left:c,top:h})}})),t}))};(0,m.useEffect)((function(){Ie()}),[x.map((function(e){return e.key})).join("_")]);var De=eK((function(){var e=fZ(k),t=fZ(w),n=fZ(S);z([e[0]-t[0]-n[0],e[1]-t[1]-n[1]]);var r=fZ(T);q(r);var i=fZ(M);Z(i);var a=fZ(_);V([a[0]-r[0],a[1]-r[1]]),Ie()})),Fe=x.slice(0,ke),Ue=x.slice(we+1),Be=[].concat(Y(Fe),Y(Ue)),ze=ne.get(o),He=JY({activeTabOffset:ze,horizontal:C,indicator:g,rtl:s}).style;(0,m.useEffect)((function(){Se()}),[o,ce,he,nK(ze),nK(ne),C]),(0,m.useEffect)((function(){De()}),[s]);var Ge,je,Ve,We,Xe=!!Be.length,qe="".concat(b,"-nav-wrap");return C?s?(je=O>0,Ge=O!==he):(Ge=O<0,je=O!==ce):(Ve=D<0,We=D!==ce),m.createElement(Tj,{onResize:De},m.createElement("div",{ref:HF(t,k),role:"tablist","aria-orientation":C?"horizontal":"vertical",className:nD()("".concat(b,"-nav"),n),style:r,onKeyDown:function(){me()}},m.createElement(lK,{ref:w,position:"left",extra:l,prefixCls:b}),m.createElement(Tj,{onResize:De},m.createElement("div",{className:nD()(qe,j(j(j(j({},"".concat(qe,"-ping-left"),Ge),"".concat(qe,"-ping-right"),je),"".concat(qe,"-ping-top"),Ve),"".concat(qe,"-ping-bottom"),We)),ref:E},m.createElement(Tj,{onResize:De},m.createElement("div",{ref:_,className:"".concat(b,"-nav-list"),style:{transform:"translate(".concat(O,"px, ").concat(D,"px)"),transition:ve?"none":void 0}},Ne,m.createElement(oK,{ref:T,prefixCls:b,locale:c,editable:u,style:yn(yn({},0===Ne.length?void 0:Le),{},{visibility:Xe?"hidden":null})}),m.createElement("div",{className:nD()("".concat(b,"-ink-bar"),j({},"".concat(b,"-ink-bar-animated"),a.inkBar)),style:He}))))),m.createElement(cZ,QI({},e,{removeAriaLabel:null===c||void 0===c?void 0:c.removeAriaLabel,ref:M,prefixCls:b,tabs:Be,className:!Xe&&ue,tabMoving:!!ve})),m.createElement(lK,{ref:S,position:"right",extra:l,prefixCls:b})))})),vZ=pZ,gZ=m.forwardRef((function(e,t){var n=e.prefixCls,r=e.className,i=e.style,a=e.id,o=e.active,s=e.tabKey,l=e.children;return m.createElement("div",{id:a&&"".concat(a,"-panel-").concat(s),role:"tabpanel",tabIndex:o?0:-1,"aria-labelledby":a&&"".concat(a,"-tab-").concat(s),"aria-hidden":!o,style:i,className:nD()(n,o&&"".concat(n,"-active"),r),ref:t},l)}));var mZ=gZ,yZ=["renderTabBar"],bZ=["label","key"];var xZ=function(e){var t=e.renderTabBar,n=eD(e,yZ),r=m.useContext(KY).tabs;return t?t(yn(yn({},n),{},{panes:r.map((function(e){var t=e.label,n=e.key,r=eD(e,bZ);return m.createElement(mZ,QI({tab:t,key:n,tabKey:n},r))}))}),vZ):m.createElement(vZ,n)},kZ=["key","forceRender","style","className","destroyInactiveTabPane"],wZ=function(e){var t=e.id,n=e.activeKey,r=e.animated,i=e.tabPosition,a=e.destroyInactiveTabPane,o=m.useContext(KY),s=o.prefixCls,l=o.tabs,u=r.tabPane,c="".concat(s,"-tabpane");return m.createElement("div",{className:nD()("".concat(s,"-content-holder"))},m.createElement("div",{className:nD()("".concat(s,"-content"),"".concat(s,"-content-").concat(i),j({},"".concat(s,"-content-animated"),u))},l.map((function(e){var i=e.key,o=e.forceRender,s=e.style,l=e.className,h=e.destroyInactiveTabPane,f=eD(e,kZ),d=i===n;return m.createElement(rB,QI({key:i,visible:d,forceRender:o,removeOnLeave:!(!a&&!h),leavedClassName:"".concat(c,"-hidden")},r.tabPaneMotion),(function(e,n){var r=e.style,a=e.className;return m.createElement(mZ,QI({},f,{prefixCls:c,id:t,tabKey:i,animated:u,active:d,style:yn(yn({},s),r),className:nD()(l,a),ref:n}))}))}))))};var SZ=["id","prefixCls","className","items","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","more","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll","getPopupContainer","popupClassName","indicator"],EZ=0,_Z=m.forwardRef((function(e,t){var n=e.id,r=e.prefixCls,i=void 0===r?"rc-tabs":r,a=e.className,o=e.items,s=e.direction,l=e.activeKey,u=e.defaultActiveKey,c=e.editable,h=e.animated,f=e.tabPosition,d=void 0===f?"top":f,p=e.tabBarGutter,v=e.tabBarStyle,g=e.tabBarExtraContent,y=e.locale,b=e.more,k=e.destroyInactiveTabPane,w=e.renderTabBar,S=e.onChange,E=e.onTabClick,_=e.onTabScroll,M=e.getPopupContainer,T=e.popupClassName,C=e.indicator,A=eD(e,SZ),P=m.useMemo((function(){return(o||[]).filter((function(e){return e&&"object"===x(e)&&"key"in e}))}),[o]),O="rtl"===s,L=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{inkBar:!0,tabPane:!1};return(e=!1===t?{inkBar:!1,tabPane:!1}:!0===t?{inkBar:!0,tabPane:!1}:yn({inkBar:!0},"object"===x(t)?t:{})).tabPaneMotion&&void 0===e.tabPane&&(e.tabPane=!0),!e.tabPaneMotion&&e.tabPane&&(e.tabPane=!1),e}(h),N=R((0,m.useState)(!1),2),I=N[0],D=N[1];(0,m.useEffect)((function(){D(Oj())}),[]);var F=R(nU((function(){var e;return null===(e=P[0])||void 0===e?void 0:e.key}),{value:l,defaultValue:u}),2),U=F[0],B=F[1],z=R((0,m.useState)((function(){return P.findIndex((function(e){return e.key===U}))})),2),H=z[0],G=z[1];(0,m.useEffect)((function(){var e,t=P.findIndex((function(e){return e.key===U}));-1===t&&(t=Math.max(0,Math.min(H,P.length-1)),B(null===(e=P[t])||void 0===e?void 0:e.key));G(t)}),[P.map((function(e){return e.key})).join("_"),U,H]);var V=R(nU(null,{value:n}),2),W=V[0],X=V[1];(0,m.useEffect)((function(){n||(X("rc-tabs-".concat(EZ)),EZ+=1)}),[]);var q={id:W,activeKey:U,animated:L,tabPosition:d,rtl:O,mobile:I},Y=yn(yn({},q),{},{editable:c,locale:y,more:b,tabBarGutter:p,onTabClick:function(e,t){null===E||void 0===E||E(e,t);var n=e!==U;B(e),n&&(null===S||void 0===S||S(e))},onTabScroll:_,extra:g,style:v,panes:null,getPopupContainer:M,popupClassName:T,indicator:C});return m.createElement(KY.Provider,{value:{tabs:P,prefixCls:i}},m.createElement("div",QI({ref:t,id:n,className:nD()(i,"".concat(i,"-").concat(d),j(j(j({},"".concat(i,"-mobile"),I),"".concat(i,"-editable"),c),"".concat(i,"-rtl"),O),a)},A),m.createElement(xZ,QI({},Y,{renderTabBar:w})),m.createElement(wZ,QI({destroyInactiveTabPane:k},q,{animated:L}))))}));var MZ=_Z,TZ={motionAppear:!1,motionEnter:!0,motionLeave:!0};var CZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var AZ={"slide-up":{inKeyframes:new sH("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),outKeyframes:new sH("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}})},"slide-down":{inKeyframes:new sH("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),outKeyframes:new sH("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}})},"slide-left":{inKeyframes:new sH("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),outKeyframes:new sH("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}})},"slide-right":{inKeyframes:new sH("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),outKeyframes:new sH("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}})}},PZ=function(e,t){var n=e.antCls,r="".concat(n,"-").concat(t),i=AZ[t],a=i.inKeyframes,o=i.outKeyframes;return[hX(r,a,o,e.motionDurationMid),j(j({},"\n      ".concat(r,"-enter,\n      ").concat(r,"-appear\n    "),{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:e.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}}),"".concat(r,"-leave"),{animationTimingFunction:e.motionEaseInQuint})]},OZ=function(e){var t=e.componentCls,n=e.motionDurationSlow;return[j({},t,j({},"".concat(t,"-switch"),{"&-appear, &-enter":{transition:"none","&-start":{opacity:0},"&-active":{opacity:1,transition:"opacity ".concat(n)}},"&-leave":{position:"absolute",transition:"none",inset:0,"&-start":{opacity:1},"&-active":{opacity:0,transition:"opacity ".concat(n)}}})),[PZ(e,"slide-up"),PZ(e,"slide-down")]]},RZ=function(e){var t=e.componentCls,n=e.tabsCardPadding,r=e.cardBg,i=e.cardGutter,a=e.colorBorderSecondary,o=e.itemSelectedColor;return j({},"".concat(t,"-card"),j(j(j(j(j(j(j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j(j(j(j(j({},"".concat(t,"-tab"),{margin:0,padding:n,background:r,border:"".concat(DB(e.lineWidth)," ").concat(e.lineType," ").concat(a),transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut)}),"".concat(t,"-tab-active"),{color:o,background:e.colorBgContainer}),"".concat(t,"-tab-focus"),Object.assign({},VH(e,-3))),"".concat(t,"-ink-bar"),{visibility:"hidden"}),"& ".concat(t,"-tab").concat(t,"-tab-focus ").concat(t,"-tab-btn"),{outline:"none"})),"&".concat(t,"-top, &").concat(t,"-bottom"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j({},"".concat(t,"-tab + ").concat(t,"-tab"),{marginLeft:{_skip_check_:!0,value:DB(i)}}))),"&".concat(t,"-top"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j(j({},"".concat(t,"-tab"),{borderRadius:"".concat(DB(e.borderRadiusLG)," ").concat(DB(e.borderRadiusLG)," 0 0")}),"".concat(t,"-tab-active"),{borderBottomColor:e.colorBgContainer}))),"&".concat(t,"-bottom"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j(j({},"".concat(t,"-tab"),{borderRadius:"0 0 ".concat(DB(e.borderRadiusLG)," ").concat(DB(e.borderRadiusLG))}),"".concat(t,"-tab-active"),{borderTopColor:e.colorBgContainer}))),"&".concat(t,"-left, &").concat(t,"-right"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j({},"".concat(t,"-tab + ").concat(t,"-tab"),{marginTop:DB(i)}))),"&".concat(t,"-left"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j(j({},"".concat(t,"-tab"),{borderRadius:{_skip_check_:!0,value:"".concat(DB(e.borderRadiusLG)," 0 0 ").concat(DB(e.borderRadiusLG))}}),"".concat(t,"-tab-active"),{borderRightColor:{_skip_check_:!0,value:e.colorBgContainer}}))),"&".concat(t,"-right"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j(j({},"".concat(t,"-tab"),{borderRadius:{_skip_check_:!0,value:"0 ".concat(DB(e.borderRadiusLG)," ").concat(DB(e.borderRadiusLG)," 0")}}),"".concat(t,"-tab-active"),{borderLeftColor:{_skip_check_:!0,value:e.colorBgContainer}}))))},LZ=function(e){var t=e.componentCls,n=e.itemHoverColor,r=e.dropdownEdgeChildVerticalPadding;return j({},"".concat(t,"-dropdown"),Object.assign(Object.assign({},GH(e)),j({position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:e.zIndexPopup,display:"block","&-hidden":{display:"none"}},"".concat(t,"-dropdown-menu"),{maxHeight:e.tabsDropdownHeight,margin:0,padding:"".concat(DB(r)," 0"),overflowX:"hidden",overflowY:"auto",textAlign:{_skip_check_:!0,value:"left"},listStyleType:"none",backgroundColor:e.colorBgContainer,backgroundClip:"padding-box",borderRadius:e.borderRadiusLG,outline:"none",boxShadow:e.boxShadowSecondary,"&-item":Object.assign(Object.assign({},HH),{display:"flex",alignItems:"center",minWidth:e.tabsDropdownWidth,margin:0,padding:"".concat(DB(e.paddingXXS)," ").concat(DB(e.paddingSM)),color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"> span":{flex:1,whiteSpace:"nowrap"},"&-remove":{flex:"none",marginLeft:{_skip_check_:!0,value:e.marginSM},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:0,cursor:"pointer","&:hover":{color:n}},"&:hover":{background:e.controlItemBgHover},"&-disabled":{"&, &:hover":{color:e.colorTextDisabled,background:"transparent",cursor:"not-allowed"}}})})))},NZ=function(e){var t=e.componentCls,n=e.margin,r=e.colorBorderSecondary,i=e.horizontalMargin,a=e.verticalItemPadding,o=e.verticalItemMargin,s=e.calc;return j(j(j(j(j(j({},"".concat(t,"-top, ").concat(t,"-bottom"),j({flexDirection:"column"},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j(j({margin:i,"&::before":{position:"absolute",right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},borderBottom:"".concat(DB(e.lineWidth)," ").concat(e.lineType," ").concat(r),content:"''"}},"".concat(t,"-ink-bar"),{height:e.lineWidthBold,"&-animated":{transition:"width ".concat(e.motionDurationSlow,", left ").concat(e.motionDurationSlow,",\n            right ").concat(e.motionDurationSlow)}}),"".concat(t,"-nav-wrap"),j(j({"&::before, &::after":{top:0,bottom:0,width:e.controlHeight},"&::before":{left:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowLeft},"&::after":{right:{_skip_check_:!0,value:0},boxShadow:e.boxShadowTabsOverflowRight}},"&".concat(t,"-nav-wrap-ping-left::before"),{opacity:1}),"&".concat(t,"-nav-wrap-ping-right::after"),{opacity:1})))),"".concat(t,"-top"),j({},"> ".concat(t,"-nav,\n        > div > ").concat(t,"-nav"),j({"&::before":{bottom:0}},"".concat(t,"-ink-bar"),{bottom:0}))),"".concat(t,"-bottom"),j(j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j({order:1,marginTop:n,marginBottom:0,"&::before":{top:0}},"".concat(t,"-ink-bar"),{top:0})),"> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder"),{order:0})),"".concat(t,"-left, ").concat(t,"-right"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j(j(j(j(j({flexDirection:"column",minWidth:s(e.controlHeight).mul(1.25).equal()},"".concat(t,"-tab"),{padding:a,textAlign:"center"}),"".concat(t,"-tab + ").concat(t,"-tab"),{margin:o}),"".concat(t,"-nav-wrap"),j(j({flexDirection:"column","&::before, &::after":{right:{_skip_check_:!0,value:0},left:{_skip_check_:!0,value:0},height:e.controlHeight},"&::before":{top:0,boxShadow:e.boxShadowTabsOverflowTop},"&::after":{bottom:0,boxShadow:e.boxShadowTabsOverflowBottom}},"&".concat(t,"-nav-wrap-ping-top::before"),{opacity:1}),"&".concat(t,"-nav-wrap-ping-bottom::after"),{opacity:1})),"".concat(t,"-ink-bar"),{width:e.lineWidthBold,"&-animated":{transition:"height ".concat(e.motionDurationSlow,", top ").concat(e.motionDurationSlow)}}),"".concat(t,"-nav-list, ").concat(t,"-nav-operations"),{flex:"1 0 auto",flexDirection:"column"}))),"".concat(t,"-left"),j(j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j({},"".concat(t,"-ink-bar"),{right:{_skip_check_:!0,value:0}})),"> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder"),j({marginLeft:{_skip_check_:!0,value:DB(s(e.lineWidth).mul(-1).equal())},borderLeft:{_skip_check_:!0,value:"".concat(DB(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)}},"> ".concat(t,"-content > ").concat(t,"-tabpane"),{paddingLeft:{_skip_check_:!0,value:e.paddingLG}}))),"".concat(t,"-right"),j(j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j({order:1},"".concat(t,"-ink-bar"),{left:{_skip_check_:!0,value:0}})),"> ".concat(t,"-content-holder, > div > ").concat(t,"-content-holder"),j({order:0,marginRight:{_skip_check_:!0,value:s(e.lineWidth).mul(-1).equal()},borderRight:{_skip_check_:!0,value:"".concat(DB(e.lineWidth)," ").concat(e.lineType," ").concat(e.colorBorder)}},"> ".concat(t,"-content > ").concat(t,"-tabpane"),{paddingRight:{_skip_check_:!0,value:e.paddingLG}})))},IZ=function(e){var t=e.componentCls,n=e.cardPaddingSM,r=e.cardPaddingLG,i=e.horizontalItemPaddingSM,a=e.horizontalItemPaddingLG;return j(j({},t,{"&-small":j({},"> ".concat(t,"-nav"),j({},"".concat(t,"-tab"),{padding:i,fontSize:e.titleFontSizeSM})),"&-large":j({},"> ".concat(t,"-nav"),j({},"".concat(t,"-tab"),{padding:a,fontSize:e.titleFontSizeLG}))}),"".concat(t,"-card"),j(j({},"&".concat(t,"-small"),j(j(j(j(j({},"> ".concat(t,"-nav"),j({},"".concat(t,"-tab"),{padding:n})),"&".concat(t,"-bottom"),j({},"> ".concat(t,"-nav ").concat(t,"-tab"),{borderRadius:"0 0 ".concat(DB(e.borderRadius)," ").concat(DB(e.borderRadius))})),"&".concat(t,"-top"),j({},"> ".concat(t,"-nav ").concat(t,"-tab"),{borderRadius:"".concat(DB(e.borderRadius)," ").concat(DB(e.borderRadius)," 0 0")})),"&".concat(t,"-right"),j({},"> ".concat(t,"-nav ").concat(t,"-tab"),{borderRadius:{_skip_check_:!0,value:"0 ".concat(DB(e.borderRadius)," ").concat(DB(e.borderRadius)," 0")}})),"&".concat(t,"-left"),j({},"> ".concat(t,"-nav ").concat(t,"-tab"),{borderRadius:{_skip_check_:!0,value:"".concat(DB(e.borderRadius)," 0 0 ").concat(DB(e.borderRadius))}}))),"&".concat(t,"-large"),j({},"> ".concat(t,"-nav"),j({},"".concat(t,"-tab"),{padding:r}))))},DZ=function(e){var t=e.componentCls,n=e.tabsHorizontalItemMarginRTL,r=e.iconCls,i=e.cardGutter,a=e.calc;return j(j(j({},"".concat(t,"-rtl"),j(j(j(j({direction:"rtl"},"".concat(t,"-nav"),j({},"".concat(t,"-tab"),j(j(j({margin:{_skip_check_:!0,value:n}},"".concat(t,"-tab:last-of-type"),{marginLeft:{_skip_check_:!0,value:0}}),r,{marginRight:{_skip_check_:!0,value:0},marginLeft:{_skip_check_:!0,value:DB(e.marginSM)}}),"".concat(t,"-tab-remove"),j({marginRight:{_skip_check_:!0,value:DB(e.marginXS)},marginLeft:{_skip_check_:!0,value:DB(a(e.marginXXS).mul(-1).equal())}},r,{margin:0})))),"&".concat(t,"-left"),j(j({},"> ".concat(t,"-nav"),{order:1}),"> ".concat(t,"-content-holder"),{order:0})),"&".concat(t,"-right"),j(j({},"> ".concat(t,"-nav"),{order:0}),"> ".concat(t,"-content-holder"),{order:1})),"&".concat(t,"-card").concat(t,"-top, &").concat(t,"-card").concat(t,"-bottom"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j({},"".concat(t,"-tab + ").concat(t,"-tab"),{marginRight:{_skip_check_:!0,value:i},marginLeft:{_skip_check_:!0,value:0}})))),"".concat(t,"-dropdown-rtl"),{direction:"rtl"}),"".concat(t,"-menu-item"),j({},"".concat(t,"-dropdown-rtl"),{textAlign:{_skip_check_:!0,value:"right"}}))},FZ=function(e){var t=e.componentCls,n=e.tabsCardPadding,r=e.cardHeight,i=e.cardGutter,a=e.itemHoverColor,o=e.itemActiveColor,s=e.colorBorderSecondary;return j(j({},t,Object.assign(Object.assign(Object.assign(Object.assign({},GH(e)),j(j(j({display:"flex"},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j(j(j(j(j(j({position:"relative",display:"flex",flex:"none",alignItems:"center"},"".concat(t,"-nav-wrap"),{position:"relative",display:"flex",flex:"auto",alignSelf:"stretch",overflow:"hidden",whiteSpace:"nowrap",transform:"translate(0)","&::before, &::after":{position:"absolute",zIndex:1,opacity:0,transition:"opacity ".concat(e.motionDurationSlow),content:"''",pointerEvents:"none"}}),"".concat(t,"-nav-list"),{position:"relative",display:"flex",transition:"opacity ".concat(e.motionDurationSlow)}),"".concat(t,"-nav-operations"),{display:"flex",alignSelf:"stretch"}),"".concat(t,"-nav-operations-hidden"),{position:"absolute",visibility:"hidden",pointerEvents:"none"}),"".concat(t,"-nav-more"),{position:"relative",padding:n,background:"transparent",border:0,color:e.colorText,"&::after":{position:"absolute",right:{_skip_check_:!0,value:0},bottom:0,left:{_skip_check_:!0,value:0},height:e.calc(e.controlHeightLG).div(8).equal(),transform:"translateY(100%)",content:"''"}}),"".concat(t,"-nav-add"),Object.assign({minWidth:r,marginLeft:{_skip_check_:!0,value:i},padding:DB(e.paddingXS),background:"transparent",border:"".concat(DB(e.lineWidth)," ").concat(e.lineType," ").concat(s),borderRadius:"".concat(DB(e.borderRadiusLG)," ").concat(DB(e.borderRadiusLG)," 0 0"),outline:"none",cursor:"pointer",color:e.colorText,transition:"all ".concat(e.motionDurationSlow," ").concat(e.motionEaseInOut),"&:hover":{color:a},"&:active, &:focus:not(:focus-visible)":{color:o}},WH(e,-3)))),"".concat(t,"-extra-content"),{flex:"none"}),"".concat(t,"-ink-bar"),{position:"absolute",background:e.inkBarColor,pointerEvents:"none"})),function(e){var t=e.componentCls,n=e.itemActiveColor,r=e.itemHoverColor,i=e.iconCls,a=e.tabsHorizontalItemMargin,o=e.horizontalItemPadding,s=e.itemSelectedColor,l=e.itemColor,u="".concat(t,"-tab");return j(j({},u,j(j(j(j(j(j({position:"relative",WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",display:"inline-flex",alignItems:"center",padding:o,fontSize:e.titleFontSize,background:"transparent",border:0,outline:"none",cursor:"pointer",color:l,"&-btn, &-remove":{"&:focus:not(:focus-visible), &:active":{color:n}},"&-btn":j({outline:"none",transition:"all ".concat(e.motionDurationSlow)},"".concat(u,"-icon:not(:last-child)"),{marginInlineEnd:e.marginSM}),"&-remove":Object.assign({flex:"none",marginRight:{_skip_check_:!0,value:e.calc(e.marginXXS).mul(-1).equal()},marginLeft:{_skip_check_:!0,value:e.marginXS},color:e.colorTextDescription,fontSize:e.fontSizeSM,background:"transparent",border:"none",outline:"none",cursor:"pointer",transition:"all ".concat(e.motionDurationSlow),"&:hover":{color:e.colorTextHeading}},WH(e)),"&:hover":{color:r}},"&".concat(u,"-active ").concat(u,"-btn"),{color:s,textShadow:e.tabsActiveTextShadow}),"&".concat(u,"-focus ").concat(u,"-btn"),Object.assign({},VH(e))),"&".concat(u,"-disabled"),{color:e.colorTextDisabled,cursor:"not-allowed"}),"&".concat(u,"-disabled ").concat(u,"-btn, &").concat(u,"-disabled ").concat(t,"-remove"),{"&:focus, &:active":{color:e.colorTextDisabled}}),"& ".concat(u,"-remove ").concat(i),{margin:0}),"".concat(i,":not(:last-child)"),{marginRight:{_skip_check_:!0,value:e.marginSM}})),"".concat(u," + ").concat(u),{margin:{_skip_check_:!0,value:a}})}(e)),j(j(j({},"".concat(t,"-content"),{position:"relative",width:"100%"}),"".concat(t,"-content-holder"),{flex:"auto",minWidth:0,minHeight:0}),"".concat(t,"-tabpane"),Object.assign(Object.assign({},WH(e)),{"&-hidden":{display:"none"}})))),"".concat(t,"-centered"),j({},"> ".concat(t,"-nav, > div > ").concat(t,"-nav"),j({},"".concat(t,"-nav-wrap"),j({},"&:not([class*='".concat(t,"-nav-wrap-ping']) > ").concat(t,"-nav-list"),{margin:"auto"}))))},UZ=gG("Tabs",(function(e){var t=iG(e,{tabsCardPadding:e.cardPadding,dropdownEdgeChildVerticalPadding:e.paddingXXS,tabsActiveTextShadow:"0 0 0.25px currentcolor",tabsDropdownHeight:200,tabsDropdownWidth:120,tabsHorizontalItemMargin:"0 0 0 ".concat(DB(e.horizontalItemGutter)),tabsHorizontalItemMarginRTL:"0 0 0 ".concat(DB(e.horizontalItemGutter))});return[IZ(t),DZ(t),NZ(t),LZ(t),RZ(t),FZ(t),OZ(t)]}),(function(e){var t=e.controlHeightLG;return{zIndexPopup:e.zIndexPopupBase+50,cardBg:e.colorFillAlter,cardHeight:t,cardPadding:"".concat((t-Math.round(e.fontSize*e.lineHeight))/2-e.lineWidth,"px ").concat(e.padding,"px"),cardPaddingSM:"".concat(1.5*e.paddingXXS,"px ").concat(e.padding,"px"),cardPaddingLG:"".concat(e.paddingXS,"px ").concat(e.padding,"px ").concat(1.5*e.paddingXXS,"px"),titleFontSize:e.fontSize,titleFontSizeLG:e.fontSizeLG,titleFontSizeSM:e.fontSize,inkBarColor:e.colorPrimary,horizontalMargin:"0 0 ".concat(e.margin,"px 0"),horizontalItemGutter:32,horizontalItemMargin:"",horizontalItemMarginRTL:"",horizontalItemPadding:"".concat(e.paddingSM,"px 0"),horizontalItemPaddingSM:"".concat(e.paddingXS,"px 0"),horizontalItemPaddingLG:"".concat(e.padding,"px 0"),verticalItemPadding:"".concat(e.paddingXS,"px ").concat(e.paddingLG,"px"),verticalItemMargin:"".concat(e.margin,"px 0 0 0"),itemColor:e.colorText,itemSelectedColor:e.colorPrimary,itemHoverColor:e.colorPrimaryHover,itemActiveColor:e.colorPrimaryActive,cardGutter:e.marginXXS/2}}));var BZ=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},zZ=function(e){var t,n,r,i,a,o,s,l,u,c,h,f,d=e.type,p=e.className,v=e.rootClassName,g=e.size,y=e.onEdit,b=e.hideAdd,x=e.centered,k=e.addIcon,w=e.removeIcon,S=e.moreIcon,E=e.more,_=e.popupClassName,M=e.children,T=e.items,C=e.animated,A=e.style,P=e.indicatorSize,O=e.indicator,L=BZ(e,["type","className","rootClassName","size","onEdit","hideAdd","centered","addIcon","removeIcon","moreIcon","more","popupClassName","children","items","animated","style","indicatorSize","indicator"]),N=L.prefixCls,I=m.useContext(lB),D=I.direction,F=I.tabs,U=I.getPrefixCls,B=I.getPopupContainer,z=U("tabs",N),H=UG(z),G=R(UZ(z,H),3),V=G[0],W=G[1],X=G[2];"editable-card"===d&&(f={onEdit:function(e,t){var n=t.key,r=t.event;null===y||void 0===y||y("add"===e?r:n,e)},removeIcon:null!==(t=null!==w&&void 0!==w?w:null===F||void 0===F?void 0:F.removeIcon)&&void 0!==t?t:m.createElement(ZX,null),addIcon:(null!==k&&void 0!==k?k:null===F||void 0===F?void 0:F.addIcon)||m.createElement(YY,null),showAdd:!0!==b});var q=U(),Y=GW(g),K=function(e,t){if(e)return e;var n=JG(t).map((function(e){if(m.isValidElement(e)){var t=e.key,n=e.props||{},r=n.tab,i=CZ(n,["tab"]);return Object.assign(Object.assign({key:String(t)},i),{label:r})}return null}));return function(e){return e.filter((function(e){return e}))}(n)}(T,M),J=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{inkBar:!0,tabPane:!1};return(t=!1===n?{inkBar:!1,tabPane:!1}:!0===n?{inkBar:!0,tabPane:!0}:Object.assign({inkBar:!0},"object"===typeof n?n:{})).tabPane&&(t.tabPaneMotion=Object.assign(Object.assign({},TZ),{motionName:$W(e,"switch")})),t}(z,C),Z=Object.assign(Object.assign({},null===F||void 0===F?void 0:F.style),A),Q={align:null!==(n=null===O||void 0===O?void 0:O.align)&&void 0!==n?n:null===(r=null===F||void 0===F?void 0:F.indicator)||void 0===r?void 0:r.align,size:null!==(s=null!==(a=null!==(i=null===O||void 0===O?void 0:O.size)&&void 0!==i?i:P)&&void 0!==a?a:null===(o=null===F||void 0===F?void 0:F.indicator)||void 0===o?void 0:o.size)&&void 0!==s?s:null===F||void 0===F?void 0:F.indicatorSize};return V(m.createElement(MZ,Object.assign({direction:D,getPopupContainer:B},L,{items:K,className:nD()(j(j(j(j({},"".concat(z,"-").concat(Y),Y),"".concat(z,"-card"),["card","editable-card"].includes(d)),"".concat(z,"-editable-card"),"editable-card"===d),"".concat(z,"-centered"),x),null===F||void 0===F?void 0:F.className,p,v,W,X,H),popupClassName:nD()(_,W,X,H),style:Z,editable:f,more:Object.assign({icon:null!==(h=null!==(c=null!==(u=null===(l=null===F||void 0===F?void 0:F.more)||void 0===l?void 0:l.icon)&&void 0!==u?u:null===F||void 0===F?void 0:F.moreIcon)&&void 0!==c?c:S)&&void 0!==h?h:m.createElement(WY,null),transitionName:"".concat(q,"-slide-up")},E),prefixCls:z,animated:J,indicator:Q})))};zZ.TabPane=function(){return null};var HZ=zZ,GZ=function(e){return!e.firstChild||e.firstChild.offsetParent===e},jZ=function(e,t){var n=e,r=0;GZ(t)||(r+=e.offsetTop-t.offsetTop,t=e.offsetParent,r+=-e.offsetTop);do{r+=n.offsetTop,n=n.offsetParent}while(n&&n!==t);return r},VZ=null;"undefined"!==typeof CSS&&CSS.supports&&(CSS.supports("position","sticky")?VZ="sticky":CSS.supports("position","-webkit-sticky")&&(VZ="-webkit-sticky"));var WZ=!1;try{var XZ=Object.defineProperty({},"passive",{get:function(){WZ={passive:!0}}}),qZ=function(){};window.addEventListener("testPassive",qZ,XZ),window.removeEventListener("testPassive",qZ,XZ)}catch(cQ){}var YZ=function(e){var t=e.el,n=e.onChange,r=e.unsubs,i=e.measure;if(t===window){var a=function(){return{top:0,left:0,height:window.innerHeight,width:window.innerWidth}},o=i(a()),s=function(){Object.assign(o,i(a())),n()};return window.addEventListener("resize",s,WZ),r.push((function(){return window.removeEventListener("resize",s)})),o}var l=i(t.getBoundingClientRect()),u=new ResizeObserver((function(){Object.assign(l,i(t.getBoundingClientRect())),n()}));return u.observe(t),r.push((function(){return u.disconnect()})),l},KZ=function(e,t,n){var r=n.bottom,i=n.offsetBottom,a=n.offsetTop,o=function(e){for(var t=e;t=t.parentElement;){var n=getComputedStyle(t,null).getPropertyValue("overflow-y");if(t===document.body)return window;if("auto"===n||"scroll"===n||"overlay"===n)return t}return window}(e),s=!1,l=function(){s||requestAnimationFrame((function(){var t=h();if(t!==b)x(t);else if(1!==t||r){if(2===t){var n=d.height,a=d.offsetTop,o=g.height,l=g.naturalTop,c=m.height,f=Math.max(0,a+u+n-(l+c+i));if(r){var p=Math.max(0,o-c-f);e.style.bottom="".concat(p,"px")}else e.style.top="".concat(f,"px")}}else{var v=d.height,y=m.height;e.style.top="".concat(v-y-i,"px")}s=!1})),s=!0},u=o===window?window.scrollY:o.scrollTop,c=function(e){return e+d.offsetTop+d.height>=g.naturalTop+m.height+y+i},h=function(){var e=d.height;return m.height+a+i<=e?3:c(u)?1:2},f=o!==window&&GZ(o),d=YZ({el:o,onChange:l,unsubs:t,measure:function(e){var t=e.height,n=e.top;return{height:t,offsetTop:f?n:0}}}),p=function(e){for(var t=e.parentElement;t&&"contents"===getComputedStyle(t,null).getPropertyValue("display");)t=t.parentElement;return t||window}(e),v=p===window?{top:0,bottom:0}:function(e){var t=getComputedStyle(e,null);return{top:parseInt(t.getPropertyValue("padding-top"),10),bottom:parseInt(t.getPropertyValue("padding-bottom"),10)}}(p),g=YZ({el:p,onChange:l,unsubs:t,measure:function(e){return{height:e.height-v.top-v.bottom,naturalTop:p===window?0:jZ(p,o)+v.top+d.offsetTop}}}),m=YZ({el:e,onChange:l,unsubs:t,measure:function(e){return{height:e.height}}}),y=0,b=h(),x=function(t){var n=b;if(b=t,2===n&&(y=-1),3===t)return e.style.position=VZ,void(r?e.style.bottom="".concat(i,"px"):e.style.top="".concat(a,"px"));var o=d.height,s=d.offsetTop,l=g.height,c=g.naturalTop,h=m.height;if(2===t)if(e.style.position="relative",y=0===n?Math.max(0,s+u-c+a):Math.max(0,s+u+o-(c+h+i)),r){var f=Math.max(0,l-h-y);e.style.bottom="".concat(f,"px")}else e.style.top="".concat(y,"px");else e.style.position=VZ,1===t?r?e.style.bottom="".concat(i,"px"):e.style.top="".concat(o-h-i,"px"):r?e.style.bottom="".concat(o-h-i,"px"):e.style.top="".concat(a,"px")};x(b);var k=function(e){if(e!==u){var t=e-u;if(u=e,3!==b){var n=d.offsetTop,r=d.height,o=g.naturalTop,s=g.height,l=m.height;if(t>0)if(0===b){if(e+n+a>o){var h=Math.max(0,n+u-o+a);x(e+n+r<=o+l+h+i?2:1)}}else 2===b&&c(e)&&x(1);else if(1===b){if(n+e+r<o+s+i){var f=Math.max(0,n+u+r-(o+l+i));x(n+e+a>=o+f?2:0)}}else 2===b&&n+e+a<o+y&&x(0)}}},w=o===window?function(){return k(window.scrollY)}:function(){return k(o.scrollTop)};o.addEventListener("scroll",w,WZ),o.addEventListener("mousewheel",w,WZ),t.push((function(){return o.removeEventListener("scroll",w)}),(function(){return o.removeEventListener("mousewheel",w)}))},JZ=function(e){var t=e.offsetTop,n=e.offsetBottom,r=e.bottom,i=e.children,a=e.className,o=e.style,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.offsetTop,n=void 0===t?0:t,r=e.offsetBottom,i=void 0===r?0:r,a=e.bottom,o=void 0!==a&&a,s=R((0,m.useState)(null),2),l=s[0],u=s[1];return(0,m.useEffect)((function(){if(l&&VZ){var e=[];return KZ(l,e,{offsetBottom:i,offsetTop:n,bottom:o}),function(){e.forEach((function(e){return e()}))}}}),[l,i,n,o]),u}({offsetTop:t,offsetBottom:n,bottom:r});return(0,$y.jsx)("div",{className:a,style:o,ref:s,children:i})},ZZ="cellFacilityBox_cellFacilityBox__dxCn9",QZ="cellFacilityBox_cellFacilityBoxItem__xyAyH",$Z="cellFacilityBox_cellFacilityBoxItemImg__0iolm",eQ="cellFacilityBox_cellFacilityBoxItemName__4rV0Z";var tQ,nQ,rQ=function(e){var t=e.facilityList,n=e.onCellFacilityBoxCreate,r=R((0,m.useState)(e.facilityList),2),i=r[0],a=r[1];return(0,m.useEffect)((function(){var n=t.filter((function(t){return t.tabKey===e.tabActiveKey}));a(Y(n))}),[e.tabActiveKey]),(0,$y.jsx)(m.Fragment,{children:(0,$y.jsx)("div",{className:ZZ,children:i&&i.map((function(e,t){return(0,$y.jsxs)("div",{onClick:function(){n&&n(e)},className:QZ,children:[(0,$y.jsx)("img",{src:e.imgSrc,className:$Z}),(0,$y.jsx)("span",{className:eQ,children:e.name})]},""+e.tabKey+e.name)}))})})},iQ=function(e){function t(e){var n;return T(this,t),(n=z(this,t,[e])).state={tabActiveKey:_q.SWITCH_BUTTON,tabList:[{key:_q.SWITCH_BUTTON,label:"\u5f00\u5173"},{key:_q.PROTECTION_CIRCUIT,label:"\u4fdd\u62a4"},{key:_q.LOAD_DEVICES,label:"\u8d1f\u8f7d"},{key:_q.ELECTRICAL_INSTRUMENTS,label:"\u4eea\u8868"},{key:_q.GENERAL,label:"\u901a\u7528"}]},n.onOpenDrawer=n.onOpenDrawer.bind(n),n.onCloseDrawer=n.onCloseDrawer.bind(n),n.onChangeTabActiveKey=n.onChangeTabActiveKey.bind(n),n.onCellFacilityBoxCreate=n.onCellFacilityBoxCreate.bind(n),n}return G(t,e),M(t,[{key:"render",value:function(){var e=this.state,t=e.tabList,n=e.tabActiveKey,r=this.props,i=r.drawerOpen,a=r.facilityList;return(0,$y.jsxs)(LY,{title:"\u6dfb\u52a0\u5143\u4ef6\u8bbe\u65bd",placement:"bottom",onClose:this.onCloseDrawer,closable:!1,open:i,mask:!0,maskClosable:!1,styles:{body:{paddingTop:0}},height:420,extra:(0,$y.jsx)(GY,{children:(0,$y.jsx)(pq,{onClick:this.onCloseDrawer,style:{fontSize:"19px"}})}),children:[(0,$y.jsx)(HZ,{activeKey:n,onChange:this.onChangeTabActiveKey,renderTabBar:function(e,t){return(0,$y.jsx)(JZ,{offsetTop:0,offsetBottom:0,style:{zIndex:1},children:(0,$y.jsx)(t,yn(yn({},e),{},{style:{backgroundColor:"#FFFFFF",marginTop:"-1px"}}))})},items:t}),(0,$y.jsx)(rQ,{tabActiveKey:n,facilityList:a,onCellFacilityBoxCreate:this.onCellFacilityBoxCreate})]})}},{key:"onOpenDrawer",value:function(){this.props.onChange({drawerOpen:!0})}},{key:"onCloseDrawer",value:function(){this.props.onChange({drawerOpen:!1})}},{key:"onChangeTabActiveKey",value:function(e){this.setState({tabActiveKey:e})}},{key:"onCellFacilityBoxCreate",value:function(e){this.props.onCellFacilityDrawerCreate(e)}}])}(m.Component),aQ=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},oQ=function(e){function t(e){var n;return T(this,t),(n=z(this,t)).name="minimap",n.options=Object.assign(Object.assign({},nQ.defaultOptions),e),mA(n.name,".x6-widget-minimap {\n  position: relative;\n  display: table-cell;\n  box-sizing: border-box;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  background-color: #fff;\n  user-select: none;\n}\n.x6-widget-minimap .x6-graph {\n  display: inline-block;\n  box-shadow: 0 0 4px 0 #eee;\n  cursor: pointer;\n}\n.x6-widget-minimap .x6-graph > svg {\n  pointer-events: none;\n  shape-rendering: optimizespeed;\n}\n.x6-widget-minimap .x6-graph .x6-node * {\n  /* stylelint-disable-next-line */\n  vector-effect: initial;\n}\n.x6-widget-minimap-viewport {\n  position: absolute;\n  box-sizing: content-box !important;\n  margin: -2px 0 0 -2px;\n  border: 2px solid #31d0c6;\n  cursor: move;\n}\n.x6-widget-minimap-viewport-zoom {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n  box-sizing: border-box;\n  width: 12px;\n  height: 12px;\n  margin: 0 -6px -6px 0;\n  background-color: #fff;\n  border: 2px solid #31d0c6;\n  border-radius: 50%;\n  cursor: nwse-resize;\n}\n"),n}return G(t,e),M(t,[{key:"scroller",get:function(){return this.graph.getPlugin("scroller")}},{key:"graphContainer",get:function(){return this.scroller?this.scroller.container:this.graph.container}},{key:"init",value:function(e){this.graph=e,this.updateViewport=Rb(this.updateViewport.bind(this),0),this.container=document.createElement("div"),MT(this.container,this.prefixClassName(tQ.root));var t=document.createElement("div");this.container.appendChild(t),this.viewport=document.createElement("div"),MT(this.viewport,this.prefixClassName(tQ.viewport)),this.options.scalable&&(this.zoomHandle=document.createElement("div"),MT(this.zoomHandle,this.prefixClassName(tQ.zoom)),VT(this.zoomHandle,this.viewport)),GT(this.container,this.viewport),vC(this.container,{width:this.options.width,height:this.options.height,padding:this.options.padding}),this.options.container&&this.options.container.appendChild(this.container),this.sourceGraph=this.graph;var n=Object.assign(Object.assign({},this.options.graphOptions),{container:t,model:this.sourceGraph.model,interacting:!1,grid:!1,background:!1,embedding:!1});this.targetGraph=this.options.createGraph?this.options.createGraph(n):new WI(n),this.updatePaper(this.sourceGraph.options.width,this.sourceGraph.options.height),this.startListening()}},{key:"startListening",value:function(){this.scroller?$C.on(this.graphContainer,"scroll".concat(this.getEventNamespace()),this.updateViewport):(this.sourceGraph.on("translate",this.onTransform,this),this.sourceGraph.on("scale",this.onTransform,this),this.sourceGraph.on("model:updated",this.onModelUpdated,this)),this.sourceGraph.on("resize",this.updatePaper,this),this.delegateEvents(j(j({mousedown:"startAction",touchstart:"startAction"},"mousedown .".concat(this.prefixClassName("graph")),"scrollTo"),"touchstart .".concat(this.prefixClassName("graph")),"scrollTo"))}},{key:"stopListening",value:function(){this.scroller?$C.off(this.graphContainer,this.getEventNamespace()):(this.sourceGraph.off("translate",this.onTransform,this),this.sourceGraph.off("scale",this.onTransform,this),this.sourceGraph.off("model:updated",this.onModelUpdated,this)),this.sourceGraph.off("resize",this.updatePaper,this),this.undelegateEvents()}},{key:"onRemove",value:function(){this.stopListening(),this.targetGraph.dispose(!1)}},{key:"onTransform",value:function(e){(e.ui||this.targetGraphTransforming||!this.scroller)&&this.updateViewport()}},{key:"onModelUpdated",value:function(){this.targetGraph.zoomToFit()}},{key:"updatePaper",value:function(e,t){var n,r;"object"===typeof e?(n=e.width,r=e.height):(n=e,r=t);var i=this.sourceGraph.options,a=this.sourceGraph.transform.getScale(),o=this.options.width-2*this.options.padding,s=this.options.height-2*this.options.padding;n/=a.sx,r/=a.sy,this.ratio=Math.min(o/n,s/r);var l=this.ratio,u=i.x*l/a.sx,c=i.y*l/a.sy;return n*=l,r*=l,this.targetGraph.resize(n,r),this.targetGraph.translate(u,c),this.scroller?this.targetGraph.scale(l,l):this.targetGraph.zoomToFit(),this.updateViewport(),this}},{key:"updateViewport",value:function(){var e=this.sourceGraph.transform.getScale(),t=this.targetGraph.transform.getScale(),n=null;n=this.scroller?this.scroller.clientToLocalPoint(0,0):this.graph.graphToLocal(0,0);var r=function(e){var t,n,r="fixed"===dC(e,"position");if(r){var i=e.getBoundingClientRect();t={left:i.left,top:i.top}}else t=rA(e);if(!r){for(var a=e.ownerDocument,o=e.offsetParent||a.documentElement;(o===a.body||o===a.documentElement)&&"static"===dC(o,"position");)o=o.parentNode;if(o!==e&&(n=o)&&1===n.nodeType){var s=rA(o);t.top-=s.top+pC(o,"borderTopWidth"),t.left-=s.left+pC(o,"borderLeftWidth")}}return{top:t.top-pC(e,"marginTop"),left:t.left-pC(e,"marginLeft")}}(this.targetGraph.container),i=this.targetGraph.translate();i.ty=i.ty||0,this.geometry={top:r.top+n.y*t.sy+i.ty,left:r.left+n.x*t.sx+i.tx,width:this.graphContainer.clientWidth*t.sx/e.sx,height:this.graphContainer.clientHeight*t.sy/e.sy},vC(this.viewport,this.geometry)}},{key:"startAction",value:function(e){var t=this.normalizeEvent(e),n=t.target===this.zoomHandle?"zooming":"panning",r=this.sourceGraph.translate(),i=r.tx,a=r.ty,o={action:n,clientX:t.clientX,clientY:t.clientY,scrollLeft:this.graphContainer.scrollLeft,scrollTop:this.graphContainer.scrollTop,zoom:this.sourceGraph.zoom(),scale:this.sourceGraph.transform.getScale(),geometry:this.geometry,translateX:i,translateY:a};this.targetGraphTransforming=!0,this.delegateDocumentEvents(nQ.documentEvents,o)}},{key:"doAction",value:function(e){var t=this,n=this.normalizeEvent(e),r=n.clientX,i=n.clientY,a=n.data;switch(a.action){case"panning":var o=this.sourceGraph.transform.getScale(),s=(r-a.clientX)*o.sx,l=(i-a.clientY)*o.sy;this.scroller?(this.graphContainer.scrollLeft=a.scrollLeft+s/this.ratio,this.graphContainer.scrollTop=a.scrollTop+l/this.ratio):this.sourceGraph.translate(a.translateX-s/this.ratio,a.translateY-l/this.ratio);break;case"zooming":var u=a.scale,c=a.geometry,h=1+(a.clientX-r)/c.width/u.sx;a.frameId&&cancelAnimationFrame(a.frameId),a.frameId=requestAnimationFrame((function(){t.sourceGraph.zoom(h*a.zoom,{absolute:!0,minScale:t.options.minScale,maxScale:t.options.maxScale})}))}}},{key:"stopAction",value:function(){this.undelegateDocumentEvents(),this.targetGraphTransforming=!1}},{key:"scrollTo",value:function(e){var t,n,r=this.normalizeEvent(e),i=this.targetGraph.translate();if(i.ty=i.ty||0,null==r.offsetX){var a=rA(this.targetGraph.container);t=r.pageX-a.left,n=r.pageY-a.top}else t=r.offsetX,n=r.offsetY;var o=(t-i.tx)/this.ratio,s=(n-i.ty)/this.ratio;this.sourceGraph.centerPoint(o,s)}},{key:"dispose",value:function(){this.remove(),yA(this.name)}}])}(DR);aQ([DR.dispose()],oQ.prototype,"dispose",null),function(e){e.root="widget-minimap",e.viewport="".concat(e.root,"-viewport"),e.zoom="".concat(e.viewport,"-zoom")}(tQ||(tQ={})),function(e){e.defaultOptions={width:300,height:200,padding:10,scalable:!0,minScale:.01,maxScale:16,graphOptions:{},createGraph:function(e){return new WI(e)}},e.documentEvents={mousemove:"doAction",touchmove:"doAction",mouseup:"stopAction",touchend:"stopAction"}}(nQ||(nQ={}));var sQ=function(e){function t(e){var n;return T(this,t),(n=z(this,t,[e])).containerRef=(0,m.createRef)(),n.miniMapcontainerRef=(0,m.createRef)(),n.state={graphRef:null,floatButtonGroupOpen:!1,drawerOpen:!1,facilityList:[],editting:!1},n.onClickFloateButtonGroup=n.onClickFloateButtonGroup.bind(n),n.onClickButtonAdd=n.onClickButtonAdd.bind(n),n.onClickButtonEdit=n.onClickButtonEdit.bind(n),n.onClickButtonBack=n.onClickButtonBack.bind(n),n.onClickButtonForward=n.onClickButtonForward.bind(n),n.onClickButtonReset=n.onClickButtonReset.bind(n),n.onClickButtonZoom=n.onClickButtonZoom.bind(n),n.onClickButtonSave=n.onClickButtonSave.bind(n),n.onChangeDrawer=n.onChangeDrawer.bind(n),n.onCellFacilityDrawerCreate=n.onCellFacilityDrawerCreate.bind(n),n.onStaringEditStatus=n.onStaringEditStatus.bind(n),n.onEndingEditStatus=n.onEndingEditStatus.bind(n),n.onCloseMiniMap=n.onOpenMiniMap.bind(n),n.onOpenMiniMap=n.onCloseMiniMap.bind(n),n.onClickButtonMiniMap=n.onClickButtonMiniMap.bind(n),n}return G(t,e),M(t,[{key:"init",value:function(){var e=this,t=this,n=new WI({container:this.containerRef.current,grid:{visible:!1,type:"dot",args:{color:"#FF9900",thickness:1}},interacting:function(e){return{nodeMovable:function(){return!!t.state.editting}}},async:!1,connecting:{router:"metro",snap:!0,allowNode:!1,allowBlank:!1,allowLoop:!1,allowEdge:!1,allowMulti:"withPort",allowPort:!0}});n.use(new lq({enabled:!0})),wq.createNode(n),wq.createNode(n),this.setState({editting:!0}),this.setState({graphRef:n},(function(){console.log(e.state.graphRef)})),this.onOpenFloateButtonGroup()}},{key:"componentDidMount",value:function(){this.init(),this.getFacilityList()}},{key:"getFacilityList",value:function(){this.setState({facilityList:Y(Oq)})}},{key:"render",value:function(){var e=this.state,t=e.floatButtonGroupOpen,n=e.drawerOpen,r=e.facilityList;return(0,$y.jsxs)("div",{className:KI,children:[(0,$y.jsxs)(rq.Group,{open:t,trigger:"click",placement:"bottom",onClick:this.onClickFloateButtonGroup,style:{position:"absolute",top:"10px",left:"10px",width:"60px",height:"60px"},shape:"square",icon:(0,$y.jsx)(hq,{}),closeIcon:(0,$y.jsx)(pq,{}),children:[(0,$y.jsx)(rq,{description:"\u65b0\u589e",onClick:this.onClickButtonAdd}),(0,$y.jsx)(rq,{description:this.state.editting?"\u786e\u5b9a":"\u7f16\u8f91",onClick:this.onClickButtonEdit}),(0,$y.jsx)(rq,{description:"\u540e\u9000",onClick:this.onClickButtonBack}),(0,$y.jsx)(rq,{description:"\u524d\u8fdb",onClick:this.onClickButtonForward}),(0,$y.jsx)(rq,{description:"\u91cd\u7f6e",onClick:this.onClickButtonReset}),(0,$y.jsx)(rq,{description:"\u7f29\u653e",onClick:this.onClickButtonZoom}),(0,$y.jsx)(rq,{description:"\u4fdd\u5b58",onClick:this.onClickButtonSave})]}),(0,$y.jsx)(iQ,{drawerOpen:n,onChange:this.onChangeDrawer,facilityList:r,onCellFacilityDrawerCreate:this.onCellFacilityDrawerCreate}),(0,$y.jsx)("div",{ref:this.containerRef,className:JI}),(0,$y.jsx)("div",{ref:this.miniMapcontainerRef,className:ZI})]})}},{key:"onClickButtonAdd",value:function(){}},{key:"onClickButtonEdit",value:function(){this.state.editting?this.onEndingEditStatus():this.onStaringEditStatus()}},{key:"onStaringEditStatus",value:function(){if(this.setState({editting:!0}),this.state.graphRef){var e=this.state.graphRef.getNodes();e&&e.length>0&&e.forEach((function(e){e.setData({nodeMovable:!0})})),this.state.graphRef.showGrid(),this.onOpenSnapline()}}},{key:"onEndingEditStatus",value:function(){if(this.setState({editting:!1}),this.state.graphRef){var e=this.state.graphRef.getNodes();e&&e.length>0&&e.forEach((function(e){e.setData({nodeMovable:!1})})),this.state.graphRef.hideGrid(),this.onCloseSnapline()}}},{key:"onClickButtonBack",value:function(){console.log("\u540e\u9000")}},{key:"onClickButtonForward",value:function(){console.log("\u524d\u8fdb")}},{key:"onClickButtonReset",value:function(){console.log("\u91cd\u7f6e")}},{key:"onClickButtonZoom",value:function(){console.log("\u7f29\u653e")}},{key:"onClickButtonSave",value:function(){console.log("\u4fdd\u5b58")}},{key:"onOpenMiniMap",value:function(){this.state.graphRef&&this.miniMapcontainerRef&&this.state.graphRef.use(new oQ({container:this.miniMapcontainerRef.current,width:200,height:160,padding:10}))}},{key:"onCloseMiniMap",value:function(){}},{key:"onOpenFloateButtonGroup",value:function(){this.setState({floatButtonGroupOpen:!0})}},{key:"onCloseFloateButtonGroup",value:function(){this.setState({floatButtonGroupOpen:!1})}},{key:"onClickFloateButtonGroup",value:function(){var e=!this.state.floatButtonGroupOpen;this.setState({floatButtonGroupOpen:e})}},{key:"onChangeDrawer",value:function(e){this.setState({drawerOpen:e.drawerOpen})}},{key:"onCellFacilityDrawerCreate",value:function(e){this.state.graphRef&&(e&&e.onCreateNode&&e.onCreateNode(this.state.graphRef),this.onStaringEditStatus(),this.setState({drawerOpen:!1}))}},{key:"onClickButtonMiniMap",value:function(){this.onOpenMiniMap()}},{key:"onOpenSnapline",value:function(){this.state.graphRef&&this.state.graphRef.enableSnapline()}},{key:"onCloseSnapline",value:function(){this.state.graphRef&&this.state.graphRef.disableSnapline()}}])}(m.Component);var lQ=function(){return(0,$y.jsx)(sQ,{})},uQ=function(e,t){return We({basename:null==t?void 0:t.basename,future:rn({},null==t?void 0:t.future,{v7_prependBasename:!0}),history:Q({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||an(),routes:e,mapRouteProperties:nn,window:null==t?void 0:t.window}).initialize()}([{path:"/",element:(0,$y.jsx)("h1",{children:"Test"})},{path:"/dxfview",element:(0,$y.jsx)(tb,{})},{path:"/simulation/circuit",element:(0,$y.jsx)(lQ,{})}]);b.createRoot(document.getElementById("root")).render((0,$y.jsx)(dn,{router:uQ}))}()}();
//# sourceMappingURL=main.2e26643b.js.map